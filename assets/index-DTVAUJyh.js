(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ZE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tp={exports:{}},iu={};var $v;function EA(){if($v)return iu;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=n,iu.jsxs=n,iu}var Jv;function bA(){return Jv||(Jv=1,Tp.exports=EA()),Tp.exports}var v=bA(),Sp={exports:{}},Re={};var Zv;function TA(){if(Zv)return Re;Zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,V={};function q(O,J,oe){this.props=O,this.context=J,this.refs=V,this.updater=oe||P}q.prototype.isReactComponent={},q.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=q.prototype;function re(O,J,oe){this.props=O,this.context=J,this.refs=V,this.updater=oe||P}var ce=re.prototype=new te;ce.constructor=re,Q(ce,q.prototype),ce.isPureReactComponent=!0;var _e=Array.isArray;function pe(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(O,J,oe){var ue=oe.ref;return{$$typeof:r,type:O,key:J,ref:ue!==void 0?ue:null,props:oe}}function U(O,J){return C(O.type,J,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function z(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return J[oe]})}var I=/\/+/g;function et(O,J){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):J.toString(36)}function Tt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(pe,pe):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,J,oe,ue,Ee){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Se){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case r:case e:Oe=!0;break;case b:return Oe=O._init,W(Oe(O._payload),J,oe,ue,Ee)}}if(Oe)return Ee=Ee(O),Oe=ue===""?"."+et(O,0):ue,_e(Ee)?(oe="",Oe!=null&&(oe=Oe.replace(I,"$&/")+"/"),W(Ee,J,oe,"",function(yi){return yi})):Ee!=null&&(M(Ee)&&(Ee=U(Ee,oe+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+Oe)),J.push(Ee)),1;Oe=0;var yt=ue===""?".":ue+":";if(_e(O))for(var at=0;at<O.length;at++)ue=O[at],Se=yt+et(ue,at),Oe+=W(ue,J,oe,Se,Ee);else if(at=k(O),typeof at=="function")for(O=at.call(O),at=0;!(ue=O.next()).done;)ue=ue.value,Se=yt+et(ue,at++),Oe+=W(ue,J,oe,Se,Ee);else if(Se==="object"){if(typeof O.then=="function")return W(Tt(O),J,oe,ue,Ee);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ae(O,J,oe){if(O==null)return O;var ue=[],Ee=0;return W(O,ue,"","",function(Se){return J.call(oe,Se,Ee++)}),ue}function me(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var Ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:ae,forEach:function(O,J,oe){ae(O,function(){J.apply(this,arguments)},oe)},count:function(O){var J=0;return ae(O,function(){J++}),J},toArray:function(O){return ae(O,function(J){return J})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=T,Re.Children=Fe,Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,J,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=Q({},O.props),Ee=O.key;if(J!=null)for(Se in J.key!==void 0&&(Ee=""+J.key),J)!R.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(ue[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)ue.children=oe;else if(1<Se){for(var Oe=Array(Se),yt=0;yt<Se;yt++)Oe[yt]=arguments[yt+2];ue.children=Oe}return C(O.type,Ee,ue)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,J,oe){var ue,Ee={},Se=null;if(J!=null)for(ue in J.key!==void 0&&(Se=""+J.key),J)R.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=J[ue]);var Oe=arguments.length-2;if(Oe===1)Ee.children=oe;else if(1<Oe){for(var yt=Array(Oe),at=0;at<Oe;at++)yt[at]=arguments[at+2];Ee.children=yt}if(O&&O.defaultProps)for(ue in Oe=O.defaultProps,Oe)Ee[ue]===void 0&&(Ee[ue]=Oe[ue]);return C(O,Se,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:p,render:O}},Re.isValidElement=M,Re.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:me}},Re.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},Re.startTransition=function(O){var J=x.T,oe={};x.T=oe;try{var ue=O(),Ee=x.S;Ee!==null&&Ee(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(pe,Ve)}catch(Se){Ve(Se)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),x.T=J}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(O){return x.H.use(O)},Re.useActionState=function(O,J,oe){return x.H.useActionState(O,J,oe)},Re.useCallback=function(O,J){return x.H.useCallback(O,J)},Re.useContext=function(O){return x.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,J){return x.H.useDeferredValue(O,J)},Re.useEffect=function(O,J){return x.H.useEffect(O,J)},Re.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(O,J,oe){return x.H.useImperativeHandle(O,J,oe)},Re.useInsertionEffect=function(O,J){return x.H.useInsertionEffect(O,J)},Re.useLayoutEffect=function(O,J){return x.H.useLayoutEffect(O,J)},Re.useMemo=function(O,J){return x.H.useMemo(O,J)},Re.useOptimistic=function(O,J){return x.H.useOptimistic(O,J)},Re.useReducer=function(O,J,oe){return x.H.useReducer(O,J,oe)},Re.useRef=function(O){return x.H.useRef(O)},Re.useState=function(O){return x.H.useState(O)},Re.useSyncExternalStore=function(O,J,oe){return x.H.useSyncExternalStore(O,J,oe)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.0",Re}var e0;function Em(){return e0||(e0=1,Sp.exports=TA()),Sp.exports}var N=Em();const SA=ZE(N);var Ap={exports:{}},ru={},wp={exports:{}},Rp={};var t0;function AA(){return t0||(t0=1,(function(r){function e(W,ae){var me=W.length;W.push(ae);e:for(;0<me;){var Ve=me-1>>>1,Fe=W[Ve];if(0<o(Fe,ae))W[Ve]=ae,W[me]=Fe,me=Ve;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],me=W.pop();if(me!==ae){W[0]=me;e:for(var Ve=0,Fe=W.length,O=Fe>>>1;Ve<O;){var J=2*(Ve+1)-1,oe=W[J],ue=J+1,Ee=W[ue];if(0>o(oe,me))ue<Fe&&0>o(Ee,oe)?(W[Ve]=Ee,W[ue]=me,Ve=ue):(W[Ve]=oe,W[J]=me,Ve=J);else if(ue<Fe&&0>o(Ee,me))W[Ve]=Ee,W[ue]=me,Ve=ue;else break e}}return ae}function o(W,ae){var me=W.sortIndex-ae.sortIndex;return me!==0?me:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],g=[],b=1,T=null,w=3,k=!1,P=!1,Q=!1,V=!1,q=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(g)}}function _e(W){if(Q=!1,ce(W),!P)if(n(m)!==null)P=!0,pe||(pe=!0,z());else{var ae=n(g);ae!==null&&Tt(_e,ae.startTime-W)}}var pe=!1,x=-1,R=5,C=-1;function U(){return V?!0:!(r.unstable_now()-C<R)}function M(){if(V=!1,pe){var W=r.unstable_now();C=W;var ae=!0;try{e:{P=!1,Q&&(Q=!1,te(x),x=-1),k=!0;var me=w;try{t:{for(ce(W),T=n(m);T!==null&&!(T.expirationTime>W&&U());){var Ve=T.callback;if(typeof Ve=="function"){T.callback=null,w=T.priorityLevel;var Fe=Ve(T.expirationTime<=W);if(W=r.unstable_now(),typeof Fe=="function"){T.callback=Fe,ce(W),ae=!0;break t}T===n(m)&&s(m),ce(W)}else s(m);T=n(m)}if(T!==null)ae=!0;else{var O=n(g);O!==null&&Tt(_e,O.startTime-W),ae=!1}}break e}finally{T=null,w=me,k=!1}ae=void 0}}finally{ae?z():pe=!1}}}var z;if(typeof re=="function")z=function(){re(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,et=I.port2;I.port1.onmessage=M,z=function(){et.postMessage(null)}}else z=function(){q(M,0)};function Tt(W,ae){x=q(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var me=w;w=ae;try{return W()}finally{w=me}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=w;w=W;try{return ae()}finally{w=me}},r.unstable_scheduleCallback=function(W,ae,me){var Ve=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ve+me:Ve):me=Ve,W){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=me+Fe,W={id:b++,callback:ae,priorityLevel:W,startTime:me,expirationTime:Fe,sortIndex:-1},me>Ve?(W.sortIndex=me,e(g,W),n(m)===null&&W===n(g)&&(Q?(te(x),x=-1):Q=!0,Tt(_e,me-Ve))):(W.sortIndex=Fe,e(m,W),P||k||(P=!0,pe||(pe=!0,z()))),W},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(W){var ae=w;return function(){var me=w;w=ae;try{return W.apply(this,arguments)}finally{w=me}}}})(Rp)),Rp}var n0;function wA(){return n0||(n0=1,wp.exports=AA()),wp.exports}var xp={exports:{}},on={};var i0;function RA(){if(i0)return on;i0=1;var r=Em();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,b)},on.flushSync=function(m){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=b,s.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,T=p(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):b==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=p(b,g.crossOrigin);s.d.L(m,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,b){return h.H.useFormState(m,g,b)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.2.0",on}var r0;function xA(){if(r0)return xp.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xp.exports=RA(),xp.exports}var s0;function CA(){if(s0)return ru;s0=1;var r=wA(),e=Em(),n=xA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case q:return"Profiler";case V:return"StrictMode";case _e:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case re:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var Tt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ve=[],Fe=-1;function O(t){return{current:t}}function J(t){0>Fe||(t.current=Ve[Fe],Ve[Fe]=null,Fe--)}function oe(t,i){Fe++,Ve[Fe]=t.current,t.current=i}var ue=O(null),Ee=O(null),Se=O(null),Oe=O(null);function yt(t,i){switch(oe(Se,i),oe(Ee,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ev(i),t=bv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function at(){J(ue),J(Ee),J(Se)}function yi(t){t.memoizedState!==null&&oe(Oe,t);var i=ue.current,a=bv(i,t.type);i!==a&&(oe(Ee,t),oe(ue,a))}function hr(t){Ee.current===t&&(J(ue),J(Ee)),Oe.current===t&&(J(Oe),Zl._currentValue=me)}var Mi,ki;function En(t){if(Mi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Mi=i&&i[1]||"",ki=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+t+ki}var Gr=!1;function _i(t,i){if(!t||Gr)return"";Gr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Y=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){Y=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){Y=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),G=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===G.length)for(l=D.length-1,f=G.length-1;1<=l&&0<=f&&D[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==G[f]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Gr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?En(a):""}function ta(t,i){switch(t.tag){case 26:case 27:case 5:return En(t.type);case 16:return En("Lazy");case 13:return t.child!==i&&i!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return En("Activity");default:return""}}function Qr(t){try{var i="",a=null;do i+=ta(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,_t=r.unstable_scheduleCallback,Qn=r.unstable_cancelCallback,na=r.unstable_shouldYield,ia=r.unstable_requestPaint,Ht=r.unstable_now,Yn=r.unstable_getCurrentPriorityLevel,Vi=r.unstable_ImmediatePriority,Yr=r.unstable_UserBlockingPriority,Kn=r.unstable_NormalPriority,ra=r.unstable_LowPriority,Kr=r.unstable_IdlePriority,sa=r.log,Xr=r.unstable_setDisableYieldValue,bn=null,Ot=null;function fn(t){if(typeof sa=="function"&&Xr(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(bn,t)}catch{}}var dt=Math.clz32?Math.clz32:$r,Wr=Math.log,fr=Math.LN2;function $r(t){return t>>>=0,t===0?32:31-(Wr(t)/fr|0)|0}var Mn=256,Xn=262144,vt=4194304;function Tn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Tn(l):(_&=S,_!==0?f=Tn(_):a||(a=S&~t,a!==0&&(f=Tn(a))))):(S=l&~d,S!==0?f=Tn(S):_!==0?f=Tn(_):a||(a=l&~t,a!==0&&(f=Tn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function pn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ya(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function kn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Wn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ka(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-dt(a),ne=1<<$;S[$]=0,D[$]=-1;var Y=G[$];if(Y!==null)for(G[$]=null,$=0;$<Y.length;$++){var X=Y[$];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&vi(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function vi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Li(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Zr(t,i){var a=i&-i;return a=(a&42)!==0?1:dr(a),(a&(t.suspendedLanes|i))!==0?0:a}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function an(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xa(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Fv(t.type))}function Vn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Ln=Math.random().toString(36).slice(2),St="__reactFiber$"+Ln,Mt="__reactProps$"+Ln,$n="__reactContainer$"+Ln,es="__reactEvents$"+Ln,ul="__reactListeners$"+Ln,Wa="__reactHandles$"+Ln,$a="__reactResources$"+Ln,Jn="__reactMarker$"+Ln;function ts(t){delete t[St],delete t[Mt],delete t[es],delete t[ul],delete t[Wa]}function Zn(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[$n]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Cv(t);t!==null;){if(a=t[St])return a;t=Cv(t)}return i}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[St]||t[$n]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ei(t){var i=t[$a];return i||(i=t[$a]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function j(t){t[Jn]=!0}var Ae=new Set,Le={};function Ge(t,i){kt(t,i),kt(t+"Capture",i)}function kt(t,i){for(Le[t]=i,t=0;t<i.length;t++)Ae.add(i[t])}var pr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ns={},cl={};function $u(t){return ft.call(cl,t)?!0:ft.call(ns,t)?!1:pr.test(t)?cl[t]=!0:(ns[t]=!0,!1)}function Ja(t,i,a){if($u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function is(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=is(t)?"checked":"value";t._valueTracker=hl(t,i,""+t[i])}}function aa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=is(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oa=/[\n"\\]/g;function An(t){return t.replace(oa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?fl(t,_,Yt(i)):a!=null?fl(t,_,Yt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Yt(S):t.removeAttribute("name")}function Ju(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function fl(t,i,a){i==="number"&&Pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function rs(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Zu(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function ss(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Tt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ec.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function pl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&dl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&dl(t,d,i[d])}function eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(t){return as.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ei(){}var ml=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,Ui=null;function la(t){var i=Sn(t);if(i&&(t=i.stateNode)){var a=t[Mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Mt]||null;if(!f)throw Error(s(90));Za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&aa(l)}break e;case"textarea":Zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&rs(t,!!a.multiple,i,!1)}}}var no=!1;function ls(t,i,a){if(no)return t(i,a);no=!0;try{var l=t(i);return l}finally{if(no=!1,(os!==null||Ui!==null)&&(Kc(),os&&(i=os,t=Ui,Ui=os=null,la(i),t)))for(i=0;i<t.length;i++)la(t[i])}}function bi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(ni)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){ua=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{ua=!1}var ji=null,gl=null,ca=null;function yl(){if(ca)return ca;var t,i=gl,a=i.length,l,f="value"in ji?ji.value:ji.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return ca=f.slice(t,1<l?1-l:void 0)}function ha(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function mr(){return!0}function Ti(){return!1}function $t(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mr:Ti,this.isPropagationStopped=Ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),i}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zi=$t(gr),us=T({},gr,{view:0,detail:0}),_l=$t(us),cs,io,Bi,ro=T({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(cs=t.screenX-Bi.screenX,io=t.screenY-Bi.screenY):io=cs=0,Bi=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:io}}),vl=$t(ro),fa=T({},ro,{dataTransfer:0}),nc=$t(fa),ic=T({},us,{relatedTarget:0}),da=$t(ic),El=T({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=$t(El),so=T({},gr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sc=$t(so),ac=T({},gr,{data:0}),qi=$t(ac),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=uc[t])?!!i[t]:!1}function hs(){return cc}var gn=T({},us,{key:function(t){if(t.key){var i=oc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(t){return t.type==="keypress"?ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hc=$t(gn),fc=T({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=$t(fc),c=T({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),y=$t(c),E=T({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$t(E),H=T({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=$t(H),se=T({},gr,{newState:0,oldState:0}),Ce=$t(se),Ct=[9,13,27,32],Ke=ni&&"CompositionEvent"in window,pt=null;ni&&"documentMode"in document&&(pt=document.documentMode);var ii=ni&&"TextEvent"in window&&!pt,Hi=ni&&(!Ke||pt&&8<pt&&11>=pt),Si=" ",Ai=!1;function pa(t,i){switch(t){case"keyup":return Ct.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function FT(t,i){switch(t){case"compositionend":return ao(i);case"keypress":return i.which!==32?null:(Ai=!0,Si);case"textInput":return t=i.data,t===Si&&Ai?null:t;default:return null}}function GT(t,i){if(oo)return t==="compositionend"||!Ke&&pa(t,i)?(t=yl(),ca=gl=ji=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Hi&&i.locale!=="ko"?null:i.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!QT[t.type]:i==="textarea"}function Og(t,i,a,l){os?Ui?Ui.push(l):Ui=[l]:os=l,i=th(i,"onChange"),0<i.length&&(a=new zi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var bl=null,Tl=null;function YT(t){pv(t,0)}function dc(t){var i=mn(t);if(aa(i))return t}function Mg(t,i){if(t==="change")return i}var kg=!1;if(ni){var If;if(ni){var Df="oninput"in document;if(!Df){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Df=typeof Vg.oninput=="function"}If=Df}else If=!1;kg=If&&(!document.documentMode||9<document.documentMode)}function Lg(){bl&&(bl.detachEvent("onpropertychange",Pg),Tl=bl=null)}function Pg(t){if(t.propertyName==="value"&&dc(Tl)){var i=[];Og(i,Tl,t,ti(t)),ls(YT,i)}}function KT(t,i,a){t==="focusin"?(Lg(),bl=i,Tl=a,bl.attachEvent("onpropertychange",Pg)):t==="focusout"&&Lg()}function XT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(Tl)}function WT(t,i){if(t==="click")return dc(i)}function $T(t,i){if(t==="input"||t==="change")return dc(i)}function JT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:JT;function Sl(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ft.call(i,f)||!Un(t[f],i[f]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,i){var a=Ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function zg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?zg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Pi(t.document)}return i}function Nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZT=ni&&"documentMode"in document&&11>=document.documentMode,lo=null,Of=null,Al=null,Mf=!1;function qg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||lo==null||lo!==Pi(l)||(l=lo,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&Sl(Al,l)||(Al=l,l=th(Of,"onSelect"),0<l.length&&(i=new zi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=lo)))}function ma(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var uo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},kf={},Hg={};ni&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ga(t){if(kf[t])return kf[t];if(!uo[t])return t;var i=uo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hg)return kf[t]=i[a];return t}var Fg=ga("animationend"),Gg=ga("animationiteration"),Qg=ga("animationstart"),eS=ga("transitionrun"),tS=ga("transitionstart"),nS=ga("transitioncancel"),Yg=ga("transitionend"),Kg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function wi(t,i){Kg.set(t,i),Ge(i,[t])}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ri=[],co=0,Lf=0;function mc(){for(var t=co,i=Lf=co=0;i<t;){var a=ri[i];ri[i++]=null;var l=ri[i];ri[i++]=null;var f=ri[i];ri[i++]=null;var d=ri[i];if(ri[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function gc(t,i,a,l){ri[co++]=t,ri[co++]=i,ri[co++]=a,ri[co++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,i,a,l){return gc(t,i,a,l),yc(t)}function ya(t,i){return gc(t,null,null,i),yc(t)}function Xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function yc(t){if(50<Ql)throw Ql=0,Qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ho={};function iS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,i,a,l){return new iS(t,i,a,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _r(t,i){var a=t.alternate;return a===null?(a=jn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function _c(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Uf(t)&&(_=1);else if(typeof t=="string")_=lA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=jn(31,a,i,f),t.elementType=C,t.lanes=d,t;case Q:return _a(a.children,f,d,i);case V:_=8,f|=24;break;case q:return t=jn(12,a,i,f|2),t.elementType=q,t.lanes=d,t;case _e:return t=jn(13,a,i,f),t.elementType=_e,t.lanes=d,t;case pe:return t=jn(19,a,i,f),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case te:_=9;break e;case ce:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=jn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function _a(t,i,a,l){return t=jn(7,t,l,i),t.lanes=a,t}function jf(t,i,a){return t=jn(6,t,null,i),t.lanes=a,t}function $g(t){var i=jn(18,null,null,0);return i.stateNode=t,i}function zf(t,i,a){return i=jn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Jg=new WeakMap;function si(t,i){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Qr(i)},Jg.set(t,i),i)}return{value:t,source:i,stack:Qr(i)}}var fo=[],po=0,vc=null,wl=0,ai=[],oi=0,fs=null,Fi=1,Gi="";function vr(t,i){fo[po++]=wl,fo[po++]=vc,vc=t,wl=i}function Zg(t,i,a){ai[oi++]=Fi,ai[oi++]=Gi,ai[oi++]=fs,fs=t;var l=Fi;t=Gi;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Fi=1<<32-dt(i)+f|a<<f|l,Gi=d+t}else Fi=1<<d|a<<f|l,Gi=t}function Bf(t){t.return!==null&&(vr(t,1),Zg(t,1,0))}function qf(t){for(;t===vc;)vc=fo[--po],fo[po]=null,wl=fo[--po],fo[po]=null;for(;t===fs;)fs=ai[--oi],ai[oi]=null,Gi=ai[--oi],ai[oi]=null,Fi=ai[--oi],ai[oi]=null}function ey(t,i){ai[oi++]=Fi,ai[oi++]=Gi,ai[oi++]=fs,Fi=i.id,Gi=i.overflow,fs=t}var Jt=null,ut=null,qe=!1,ds=null,li=!1,Hf=Error(s(519));function ps(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(si(i,t)),Hf}function ty(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Mt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Kl.length;a++)ke(Kl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),ss(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||_v(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Ei),i=!0):i=!1,i||ps(t,!0)}function ny(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Jt=Jt.return}}function mo(t){if(t!==Jt)return!1;if(!qe)return ny(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||op(t.type,t.memoizedProps)),a=!a),a&&ut&&ps(t),ny(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=xv(t)}else i===27?(i=ut,Cs(t.type)?(t=fp,fp=null,ut=t):ut=i):ut=Jt?ci(t.stateNode.nextSibling):null;return!0}function va(){ut=Jt=null,qe=!1}function Ff(){var t=ds;return t!==null&&(In===null?In=t:In.push.apply(In,t),ds=null),t}function Rl(t){ds===null?ds=[t]:ds.push(t)}var Gf=O(null),Ea=null,Er=null;function ms(t,i,a){oe(Gf,i._currentValue),i._currentValue=a}function br(t){t._currentValue=Gf.current,J(Gf)}function Qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Qf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Qf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function go(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;Un(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Oe.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}f=f.return}t!==null&&Yf(i,t,a,l),i.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){Ea=t,Er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return iy(Ea,t)}function bc(t,i){return Ea===null&&ba(t),iy(t,i)}function iy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Er===null){if(t===null)throw Error(s(308));Er=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Er=Er.next=i;return a}var rS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sS=r.unstable_scheduleCallback,aS=r.unstable_NormalPriority,Lt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new rS,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&sS(aS,function(){t.controller.abort()})}var Cl=null,Xf=0,yo=0,_o=null;function oS(t,i){if(Cl===null){var a=Cl=[];Xf=0,yo=Jd(),_o={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,i.then(ry,ry),i}function ry(){if(--Xf===0&&Cl!==null){_o!==null&&(_o.status="fulfilled");var t=Cl;Cl=null,yo=0,_o=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function lS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var sy=W.S;W.S=function(t,i){q_=Ht(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&oS(t,i),sy!==null&&sy(t,i)};var Ta=O(null);function Wf(){var t=Ta.current;return t!==null?t:ot.pooledCache}function Tc(t,i){i===null?oe(Ta,Ta.current):oe(Ta,i.pool)}function ay(){var t=Wf();return t===null?null:{parent:Lt._currentValue,pool:t}}var vo=Error(s(460)),$f=Error(s(474)),Sc=Error(s(542)),Ac={then:function(){}};function oy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ly(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ei,Ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cy(t),t;default:if(typeof i.status=="string")i.then(Ei,Ei);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,cy(t),t}throw Aa=i,vo}}function Sa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,vo):a}}var Aa=null;function uy(){if(Aa===null)throw Error(s(459));var t=Aa;return Aa=null,t}function cy(t){if(t===vo||t===Sc)throw Error(s(483))}var Eo=null,Il=0;function wc(t){var i=Il;return Il+=1,Eo===null&&(Eo=[]),ly(Eo,t,i)}function Dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Rc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hy(t){function i(B,L){if(t){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=_r(B,L),B.index=0,B.sibling=null,B}function d(B,L,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=67108866,L):F):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,F,Z){return L===null||L.tag!==6?(L=jf(F,B.mode,Z),L.return=B,L):(L=f(L,F),L.return=B,L)}function D(B,L,F,Z){var ge=F.type;return ge===Q?$(B,L,F.props.children,Z,F.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Sa(ge)===L.type)?(L=f(L,F.props),Dl(L,F),L.return=B,L):(L=_c(F.type,F.key,F.props,null,B.mode,Z),Dl(L,F),L.return=B,L)}function G(B,L,F,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=zf(F,B.mode,Z),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function $(B,L,F,Z,ge){return L===null||L.tag!==7?(L=_a(F,B.mode,Z,ge),L.return=B,L):(L=f(L,F),L.return=B,L)}function ne(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=jf(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return F=_c(L.type,L.key,L.props,null,B.mode,F),Dl(F,L),F.return=B,F;case P:return L=zf(L,B.mode,F),L.return=B,L;case R:return L=Sa(L),ne(B,L,F)}if(Tt(L)||z(L))return L=_a(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return ne(B,wc(L),F);if(L.$$typeof===re)return ne(B,bc(B,L),F);Rc(B,L)}return null}function Y(B,L,F,Z){var ge=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:S(B,L,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return F.key===ge?D(B,L,F,Z):null;case P:return F.key===ge?G(B,L,F,Z):null;case R:return F=Sa(F),Y(B,L,F,Z)}if(Tt(F)||z(F))return ge!==null?null:$(B,L,F,Z,null);if(typeof F.then=="function")return Y(B,L,wc(F),Z);if(F.$$typeof===re)return Y(B,L,bc(B,F),Z);Rc(B,F)}return null}function X(B,L,F,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(F)||null,S(L,B,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return B=B.get(Z.key===null?F:Z.key)||null,D(L,B,Z,ge);case P:return B=B.get(Z.key===null?F:Z.key)||null,G(L,B,Z,ge);case R:return Z=Sa(Z),X(B,L,F,Z,ge)}if(Tt(Z)||z(Z))return B=B.get(F)||null,$(L,B,Z,ge,null);if(typeof Z.then=="function")return X(B,L,F,wc(Z),ge);if(Z.$$typeof===re)return X(B,L,F,bc(L,Z),ge);Rc(L,Z)}return null}function fe(B,L,F,Z){for(var ge=null,Qe=null,de=L,Ne=L=0,Ue=null;de!==null&&Ne<F.length;Ne++){de.index>Ne?(Ue=de,de=null):Ue=de.sibling;var Ye=Y(B,de,F[Ne],Z);if(Ye===null){de===null&&(de=Ue);break}t&&de&&Ye.alternate===null&&i(B,de),L=d(Ye,L,Ne),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye,de=Ue}if(Ne===F.length)return a(B,de),qe&&vr(B,Ne),ge;if(de===null){for(;Ne<F.length;Ne++)de=ne(B,F[Ne],Z),de!==null&&(L=d(de,L,Ne),Qe===null?ge=de:Qe.sibling=de,Qe=de);return qe&&vr(B,Ne),ge}for(de=l(de);Ne<F.length;Ne++)Ue=X(de,B,Ne,F[Ne],Z),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?Ne:Ue.key),L=d(Ue,L,Ne),Qe===null?ge=Ue:Qe.sibling=Ue,Qe=Ue);return t&&de.forEach(function(Ms){return i(B,Ms)}),qe&&vr(B,Ne),ge}function ve(B,L,F,Z){if(F==null)throw Error(s(151));for(var ge=null,Qe=null,de=L,Ne=L=0,Ue=null,Ye=F.next();de!==null&&!Ye.done;Ne++,Ye=F.next()){de.index>Ne?(Ue=de,de=null):Ue=de.sibling;var Ms=Y(B,de,Ye.value,Z);if(Ms===null){de===null&&(de=Ue);break}t&&de&&Ms.alternate===null&&i(B,de),L=d(Ms,L,Ne),Qe===null?ge=Ms:Qe.sibling=Ms,Qe=Ms,de=Ue}if(Ye.done)return a(B,de),qe&&vr(B,Ne),ge;if(de===null){for(;!Ye.done;Ne++,Ye=F.next())Ye=ne(B,Ye.value,Z),Ye!==null&&(L=d(Ye,L,Ne),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return qe&&vr(B,Ne),ge}for(de=l(de);!Ye.done;Ne++,Ye=F.next())Ye=X(de,B,Ne,Ye.value,Z),Ye!==null&&(t&&Ye.alternate!==null&&de.delete(Ye.key===null?Ne:Ye.key),L=d(Ye,L,Ne),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return t&&de.forEach(function(vA){return i(B,vA)}),qe&&vr(B,Ne),ge}function rt(B,L,F,Z){if(typeof F=="object"&&F!==null&&F.type===Q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case k:e:{for(var ge=F.key;L!==null;){if(L.key===ge){if(ge=F.type,ge===Q){if(L.tag===7){a(B,L.sibling),Z=f(L,F.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Sa(ge)===L.type){a(B,L.sibling),Z=f(L,F.props),Dl(Z,F),Z.return=B,B=Z;break e}a(B,L);break}else i(B,L);L=L.sibling}F.type===Q?(Z=_a(F.props.children,B.mode,Z,F.key),Z.return=B,B=Z):(Z=_c(F.type,F.key,F.props,null,B.mode,Z),Dl(Z,F),Z.return=B,B=Z)}return _(B);case P:e:{for(ge=F.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),Z=f(L,F.children||[]),Z.return=B,B=Z;break e}else{a(B,L);break}else i(B,L);L=L.sibling}Z=zf(F,B.mode,Z),Z.return=B,B=Z}return _(B);case R:return F=Sa(F),rt(B,L,F,Z)}if(Tt(F))return fe(B,L,F,Z);if(z(F)){if(ge=z(F),typeof ge!="function")throw Error(s(150));return F=ge.call(F),ve(B,L,F,Z)}if(typeof F.then=="function")return rt(B,L,wc(F),Z);if(F.$$typeof===re)return rt(B,L,bc(B,F),Z);Rc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),Z=f(L,F),Z.return=B,B=Z):(a(B,L),Z=jf(F,B.mode,Z),Z.return=B,B=Z),_(B)):a(B,L)}return function(B,L,F,Z){try{Il=0;var ge=rt(B,L,F,Z);return Eo=null,ge}catch(de){if(de===vo||de===Sc)throw de;var Qe=jn(29,de,null,B.mode);return Qe.lanes=Z,Qe.return=B,Qe}finally{}}}var wa=hy(!0),fy=hy(!1),gs=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=yc(t),Xg(t,null,a),i}return gc(t,l,i,a),yc(t)}function Nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Li(t,a)}}function ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var td=!1;function Ol(){if(td){var t=_o;if(t!==null)throw t}}function Ml(t,i,a,l){td=!1;var f=t.updateQueue;gs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,G=D.next;D.next=null,_===null?d=G:_.next=G,_=D;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=G:S.next=G,$.lastBaseUpdate=D))}if(d!==null){var ne=f.baseState;_=0,$=G=D=null,S=d;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Pe&Y)===Y:(l&Y)===Y){Y!==0&&Y===yo&&(td=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,ve=S;Y=i;var rt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ne=fe.call(rt,ne,Y);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,Y=typeof fe=="function"?fe.call(rt,ne,Y):fe,Y==null)break e;ne=T({},ne,Y);break e;case 2:gs=!0}}Y=S.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(G=$=X,D=ne):$=$.next=X,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Ss|=_,t.lanes=_,t.memoizedState=ne}}function dy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dy(a[t],i)}var bo=O(null),xc=O(0);function my(t,i){t=Dr,oe(xc,t),oe(bo,i),Dr=t|i.baseLanes}function nd(){oe(xc,Dr),oe(bo,bo.current)}function id(){Dr=xc.current,J(bo),J(xc)}var zn=O(null),ui=null;function vs(t){var i=t.alternate;oe(It,It.current&1),oe(zn,t),ui===null&&(i===null||bo.current!==null||i.memoizedState!==null)&&(ui=t)}function rd(t){oe(It,It.current),oe(zn,t),ui===null&&(ui=t)}function gy(t){t.tag===22?(oe(It,It.current),oe(zn,t),ui===null&&(ui=t)):Es()}function Es(){oe(It,It.current),oe(zn,zn.current)}function Bn(t){J(zn),ui===t&&(ui=null),J(It)}var It=O(0);function Cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cp(a)||hp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Tr=0,Ie=null,nt=null,Pt=null,Ic=!1,To=!1,Ra=!1,Dc=0,kl=0,So=null,uS=0;function At(){throw Error(s(321))}function sd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Un(t[a],i[a]))return!1;return!0}function ad(t,i,a,l,f,d){return Tr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Zy:bd,Ra=!1,d=a(l,f),Ra=!1,To&&(d=_y(i,a,l,f)),yy(t),d}function yy(t){W.H=Pl;var i=nt!==null&&nt.next!==null;if(Tr=0,Pt=nt=Ie=null,Ic=!1,kl=0,So=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&Ec(t)&&(Ut=!0))}function _y(t,i,a,l){Ie=t;var f=0;do{if(To&&(So=null),kl=0,To=!1,25<=f)throw Error(s(301));if(f+=1,Pt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=e_,d=i(a,l)}while(To);return d}function cS(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?Vl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ie.flags|=1024),i}function od(){var t=Dc!==0;return Dc=0,t}function ld(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ud(t){if(Ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ic=!1}Tr=0,Pt=nt=Ie=null,To=!1,kl=Dc=0,So=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ie.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Dt(){if(nt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=Pt===null?Ie.memoizedState:Pt.next;if(i!==null)Pt=i,nt=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Pt===null?Ie.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var i=kl;return kl+=1,So===null&&(So=[]),t=ly(So,t,i),i=Ie,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Zy:bd),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===re)return Zt(t)}throw Error(s(438,String(t)))}function cd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Nc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=U;return i.index++,a}function Sr(t,i){return typeof i=="function"?i(t):i}function Mc(t){var i=Dt();return hd(i,nt,t)}function hd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,D=null,G=i,$=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Pe&ne)===ne:(Tr&ne)===ne){var Y=G.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===yo&&($=!0);else if((Tr&Y)===Y){G=G.next,Y===yo&&($=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=ne,_=d):D=D.next=ne,Ie.lanes|=Y,Ss|=Y;ne=G.action,Ra&&a(d,ne),d=G.hasEagerState?G.eagerState:a(d,ne)}else Y={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(S=D=Y,_=d):D=D.next=Y,Ie.lanes|=ne,Ss|=ne;G=G.next}while(G!==null&&G!==i);if(D===null?_=d:D.next=S,!Un(d,t.memoizedState)&&(Ut=!0,$&&(a=_o,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var i=Dt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Un(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function vy(t,i,a){var l=Ie,f=Dt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Un((nt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ut=!0),f=f.queue,md(Ty.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ao(9,{destroy:void 0},by.bind(null,l,f,a,i),null),ot===null)throw Error(s(349));d||(Tr&127)!==0||Ey(l,i,a)}return a}function Ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Nc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Sy(i)&&Ay(t)}function Ty(t,i,a){return a(function(){Sy(i)&&Ay(t)})}function Sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Un(t,a)}catch{return!0}}function Ay(t){var i=ya(t,2);i!==null&&Dn(i,t,2)}function dd(t){var i=yn();if(typeof t=="function"){var a=t;if(t=a(),Ra){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},i}function wy(t,i,a,l){return t.baseState=a,hd(t,nt,typeof l=="function"?l:Sr)}function hS(t,i,a,l,f){if(Lc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ry(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),D=W.S;D!==null&&D(_,S),xy(t,i,S)}catch(G){pd(t,i,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),xy(t,i,d)}catch(G){pd(t,i,G)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cy(t,i,l)},function(l){return pd(t,i,l)}):Cy(t,i,a)}function Cy(t,i,a){i.status="fulfilled",i.value=a,Iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ry(t,a)))}function pd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Iy(i),i=i.next;while(i!==l)}t.action=null}function Iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dy(t,i){return i}function Ny(t,i){if(qe){var a=ot.formState;if(a!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var f=ut,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=ci(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=ci(f.nextSibling),l=f.data==="F!";break e}}ps(l)}l=!1}l&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:i},a.queue=l,a=Wy.bind(null,Ie,l),l.dispatch=a,l=dd(!1),d=Ed.bind(null,Ie,!1,l.queue),l=yn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=hS.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Oy(t){var i=Dt();return My(i,nt,t)}function My(t,i,a){if(i=hd(t,i,Dy)[0],t=Mc(Sr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Vl(i)}catch(_){throw _===vo?Sc:_}else l=i;i=Dt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ao(9,{destroy:void 0},fS.bind(null,f,a),null)),[l,d,t]}function fS(t,i){t.action=i}function ky(t){var i=Dt(),a=nt;if(a!==null)return My(i,a,t);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ao(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Nc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Vy(){return Dt().memoizedState}function kc(t,i,a,l){var f=yn();Ie.flags|=t,f.memoizedState=Ao(1|i,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,i,a,l){var f=Dt();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&sd(l,nt.memoizedState.deps)?f.memoizedState=Ao(i,d,a,l):(Ie.flags|=t,f.memoizedState=Ao(1|i,d,a,l))}function Ly(t,i){kc(8390656,8,t,i)}function md(t,i){Vc(2048,8,t,i)}function dS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Nc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Py(t){var i=Dt().memoizedState;return dS({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Uy(t,i){return Vc(4,2,t,i)}function jy(t,i){return Vc(4,4,t,i)}function zy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function By(t,i,a){a=a!=null?a.concat([t]):null,Vc(4,4,zy.bind(null,i,t),a)}function gd(){}function qy(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Hy(t,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sd(i,l[1]))return l[0];if(l=t(),Ra){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function yd(t,i,a){return a===void 0||(Tr&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=F_(),Ie.lanes|=t,Ss|=t,a)}function Fy(t,i,a,l){return Un(a,i)?a:bo.current!==null?(t=yd(t,a,l),Un(t,i)||(Ut=!0),t):(Tr&42)===0||(Tr&1073741824)!==0&&(Pe&261930)===0?(Ut=!0,t.memoizedState=a):(t=F_(),Ie.lanes|=t,Ss|=t,i)}function Gy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,Ed(t,!1,i,a);try{var D=f(),G=W.S;if(G!==null&&G(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=lS(D,l);Ll(t,i,$,Fn(t))}else Ll(t,i,l,Fn(t))}catch(ne){Ll(t,i,{then:function(){},status:"rejected",reason:ne},Fn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function pS(){}function _d(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Qy(t).queue;Gy(t,f,i,me,a===null?pS:function(){return Yy(t),a(l)})}function Qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yy(t){var i=Qy(t);i.next===null&&(i=t.alternate.memoizedState),Ll(t,i.next.queue,{},Fn())}function vd(){return Zt(Zl)}function Ky(){return Dt().memoizedState}function Xy(){return Dt().memoizedState}function mS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Fn();t=ys(a);var l=_s(i,t,a);l!==null&&(Dn(l,i,a),Nl(l,i,a)),i={cache:Kf()},t.payload=i;return}i=i.return}}function gS(t,i,a){var l=Fn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(t)?$y(i,a):(a=Pf(t,i,a,l),a!==null&&(Dn(a,t,l),Jy(a,i,l)))}function Wy(t,i,a){var l=Fn();Ll(t,i,a,l)}function Ll(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))$y(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Un(S,_))return gc(t,i,f,0),ot===null&&mc(),!1}catch{}finally{}if(a=Pf(t,i,f,l),a!==null)return Dn(a,t,l),Jy(a,i,l),!0}return!1}function Ed(t,i,a,l){if(l={lane:2,revertLane:Jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(i)throw Error(s(479))}else i=Pf(t,a,l,2),i!==null&&Dn(i,t,2)}function Lc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function $y(t,i){To=Ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Li(t,a)}}var Pl={readContext:Zt,use:Oc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Pl.useEffectEvent=At;var Zy={readContext:Zt,use:Oc,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:Ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,kc(4194308,4,zy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return kc(4194308,4,t,i)},useInsertionEffect:function(t,i){kc(4,2,t,i)},useMemo:function(t,i){var a=yn();i=i===void 0?null:i;var l=t();if(Ra){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yn();if(a!==void 0){var f=a(i);if(Ra){fn(!0);try{a(i)}finally{fn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=gS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=dd(t);var i=t.queue,a=Wy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(t,i){var a=yn();return yd(a,t,i)},useTransition:function(){var t=dd(!1);return t=Gy.bind(null,Ie,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=yn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(Pe&127)!==0||Ey(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ly(Ty.bind(null,l,d,t),[t]),l.flags|=2048,Ao(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=yn(),i=ot.identifierPrefix;if(qe){var a=Gi,l=Fi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=uS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=yn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ed.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return yn().memoizedState=mS.bind(null,Ie)},useEffectEvent:function(t){var i=yn(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bd={readContext:Zt,use:Oc,useCallback:qy,useContext:Zt,useEffect:md,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:jy,useMemo:Hy,useReducer:Mc,useRef:Vy,useState:function(){return Mc(Sr)},useDebugValue:gd,useDeferredValue:function(t,i){var a=Dt();return Fy(a,nt.memoizedState,t,i)},useTransition:function(){var t=Mc(Sr)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:vd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,i){var a=Dt();return wy(a,nt,t,i)},useMemoCache:cd,useCacheRefresh:Xy};bd.useEffectEvent=Py;var e_={readContext:Zt,use:Oc,useCallback:qy,useContext:Zt,useEffect:md,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:jy,useMemo:Hy,useReducer:fd,useRef:Vy,useState:function(){return fd(Sr)},useDebugValue:gd,useDeferredValue:function(t,i){var a=Dt();return nt===null?yd(a,t,i):Fy(a,nt.memoizedState,t,i)},useTransition:function(){var t=fd(Sr)[0],i=Dt().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:vd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=Dt();return nt!==null?wy(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Xy};e_.useEffectEvent=Py;function Td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Fn(),f=ys(l);f.payload=i,a!=null&&(f.callback=a),i=_s(t,f,l),i!==null&&(Dn(i,t,l),Nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Fn(),f=ys(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=_s(t,f,l),i!==null&&(Dn(i,t,l),Nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Fn(),l=ys(a);l.tag=2,i!=null&&(l.callback=i),i=_s(t,l,a),i!==null&&(Dn(i,t,a),Nl(i,t,a))}};function t_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Sl(a,l)||!Sl(f,d):!0}function n_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Sd.enqueueReplaceState(i,i.state,null)}function xa(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function i_(t){pc(t)}function r_(t){console.error(t)}function s_(t){pc(t)}function Pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,i,a){return a=ys(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,i)},a}function o_(t){return t=ys(t),t.tag=3,t}function l_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){a_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){a_(i,a,l),typeof f!="function"&&(As===null?As=new Set([this]):As.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function yS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&go(i,a,f,!0),a=zn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?Xc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xd(t,l,f)),!1;case 22:return a.flags|=65536,l===Ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xd(t,l,f)),!1}throw Error(s(435,a.tag))}return Xd(t,l,f),Xc(),!1}if(qe)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Hf&&(t=Error(s(422),{cause:l}),Rl(si(t,a)))):(l!==Hf&&(i=Error(s(423),{cause:l}),Rl(si(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=si(l,a),f=Ad(t.stateNode,l,f),ed(t,f),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:l});if(d=si(d,a),Gl===null?Gl=[d]:Gl.push(d),wt!==4&&(wt=2),i===null)return!0;l=si(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ad(a.stateNode,l,t),ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=o_(f),l_(f,t,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var wd=Error(s(461)),Ut=!1;function en(t,i,a,l){i.child=t===null?fy(i,null,a,l):wa(i,t.child,a,l)}function u_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ba(i),l=ad(t,i,a,_,d,f),S=od(),t!==null&&!Ut?(ld(t,i,f),Ar(t,i,f)):(qe&&S&&Bf(i),i.flags|=1,en(t,i,l,f),i.child)}function c_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,h_(t,i,d,l,f)):(t=_c(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Md(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(_,l)&&t.ref===i.ref)return Ar(t,i,f)}return i.flags|=1,t=_r(d,l),t.ref=i.ref,t.return=i,i.child=t}function h_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Sl(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,Md(t,f))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Ar(t,i,f)}return Rd(t,i,a,l,f)}function f_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return d_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(i,d!==null?d.cachePool:null),d!==null?my(i,d):nd(),gy(i);else return l=i.lanes=536870912,d_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tc(i,d.cachePool),my(i,d),Es(),i.memoizedState=null):(t!==null&&Tc(i,null),nd(),Es());return en(t,i,f,a),i.child}function Ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function d_(t,i,a,l,f){var d=Wf();return d=d===null?null:{parent:Lt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tc(i,null),nd(),gy(i),t!==null&&go(t,i,l,!0),i.childLanes=f,null}function Uc(t,i){return i=zc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function p_(t,i,a){return wa(i,t.child,null,a),t=Uc(i,i.pendingProps),t.flags|=2,Bn(i),i.memoizedState=null,t}function _S(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Uc(i,l),i.lanes=536870912,Ul(null,t);if(rd(i),(t=ut)?(t=Rv(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fs!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,Jt=i,ut=null)):t=null,t===null)throw ps(i);return i.lanes=536870912,null}return Uc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),f)if(i.flags&256)i.flags&=-257,i=p_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ut||go(t,i,a,!1),f=(a&t.childLanes)!==0,Ut||f){if(l=ot,l!==null&&(_=Zr(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ya(t,_),Dn(l,t,_),wd;Xc(),i=p_(t,i,a)}else t=d.treeContext,ut=ci(_.nextSibling),Jt=i,qe=!0,ds=null,li=!1,t!==null&&ey(i,t),i=Uc(i,l),i.flags|=4096;return i}return t=_r(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function jc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rd(t,i,a,l,f){return ba(i),a=ad(t,i,a,l,void 0,f),l=od(),t!==null&&!Ut?(ld(t,i,f),Ar(t,i,f)):(qe&&l&&Bf(i),i.flags|=1,en(t,i,a,f),i.child)}function m_(t,i,a,l,f,d){return ba(i),i.updateQueue=null,a=_y(i,l,a,f),yy(t),l=od(),t!==null&&!Ut?(ld(t,i,d),Ar(t,i,d)):(qe&&l&&Bf(i),i.flags|=1,en(t,i,a,d),i.child)}function g_(t,i,a,l,f){if(ba(i),i.stateNode===null){var d=ho,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):ho,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Td(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Sd.enqueueReplaceState(d,d.state,null),Ml(i,l,d,f),Ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=xa(a,S);d.props=D;var G=d.context,$=a.contextType;_=ho,typeof $=="object"&&$!==null&&(_=Zt($));var ne=a.getDerivedStateFromProps;$=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==_)&&n_(i,d,l,_),gs=!1;var Y=i.memoizedState;d.state=Y,Ml(i,l,d,f),Ol(),G=i.memoizedState,S||Y!==G||gs?(typeof ne=="function"&&(Td(i,a,ne,l),G=i.memoizedState),(D=gs||t_(i,a,D,l,Y,G,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(t,i),_=i.memoizedProps,$=xa(a,_),d.props=$,ne=i.pendingProps,Y=d.context,G=a.contextType,D=ho,typeof G=="object"&&G!==null&&(D=Zt(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||Y!==D)&&n_(i,d,l,D),gs=!1,Y=i.memoizedState,d.state=Y,Ml(i,l,d,f),Ol();var X=i.memoizedState;_!==ne||Y!==X||gs||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof S=="function"&&(Td(i,a,S,l),X=i.memoizedState),($=gs||t_(i,a,$,l,Y,X,D)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,jc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=wa(i,t.child,null,f),i.child=wa(i,null,a,f)):en(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ar(t,i,f),t}function y_(t,i,a,l){return va(),i.flags|=256,en(t,i,a,l),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:ay()}}function Id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Hn),t}function __(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(f?vs(i):Es(),(t=ut)?(t=Rv(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:fs!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,Jt=i,ut=null)):t=null,t===null)throw ps(i);return hp(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Es(),f=i.mode,S=zc({mode:"hidden",children:S},f),l=_a(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=xd,Ul(null,l)):(vs(i),Dd(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(vs(i),i.flags&=-257,i=Nd(t,i,a)):i.memoizedState!==null?(Es(),i.child=t.child,i.flags|=128,i=null):(Es(),S=l.fallback,f=i.mode,l=zc({mode:"visible",children:l.children},f),S=_a(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,wa(i,t.child,null,a),l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=xd,i=Ul(null,l));else if(vs(i),hp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),i=Nd(t,i,a)}else if(Ut||go(t,i,a,!1),_=(a&t.childLanes)!==0,Ut||_){if(_=ot,_!==null&&(l=Zr(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ya(t,l),Dn(_,t,l),wd;cp(S)||Xc(),i=Nd(t,i,a)}else cp(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,ut=ci(S.nextSibling),Jt=i,qe=!0,ds=null,li=!1,t!==null&&ey(i,t),i=Dd(i,l.children),i.flags|=4096);return i}return f?(Es(),S=l.fallback,f=i.mode,D=t.child,G=D.sibling,l=_r(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?S=_r(G,S):(S=_a(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Ul(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Cd(a):(f=S.cachePool,f!==null?(D=Lt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ay(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Id(t,_,a),i.memoizedState=xd,Ul(t.child,l)):(vs(i),a=t.child,t=a.sibling,a=_r(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Dd(t,i){return i=zc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function zc(t,i){return t=jn(22,t,null,i),t.lanes=0,t}function Nd(t,i,a){return wa(i,t.child,null,a),t=Dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Qf(t.return,i,a)}function Od(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function E_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=It.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(It,_),en(t,i,l,a),l=qe?wl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,a,i);else if(t.tag===19)v_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Od(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Od(i,!0,a,null,d,l);break;case"together":Od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ar(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ss|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(go(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=_r(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=_r(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function vS(t,i,a){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),ms(i,Lt,t.memoizedState.cache),va();break;case 27:case 5:yi(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:ms(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?__(t,i,a):(vs(i),t=Ar(t,i,a),t!==null?t.sibling:null);vs(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(go(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return E_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(It,It.current),l)break;return null;case 22:return i.lanes=0,f_(t,i,a,i.pendingProps);case 24:ms(i,Lt,t.memoizedState.cache)}return Ar(t,i,a)}function b_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Md(t,a)&&(i.flags&128)===0)return Ut=!1,vS(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,qe&&(i.flags&1048576)!==0&&Zg(i,wl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Sa(i.elementType),i.type=t,typeof t=="function")Uf(t)?(l=xa(t,l),i.tag=1,i=g_(null,i,t,l,a)):(i.tag=0,i=Rd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ce){i.tag=11,i=u_(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=c_(null,i,t,l,a);break e}}throw i=et(t)||t,Error(s(306,i,""))}}return i;case 0:return Rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=xa(l,i.pendingProps),g_(t,i,l,f,a);case 3:e:{if(yt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Zf(t,i),Ml(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ms(i,Lt,l),l!==d.cache&&Yf(i,[Lt],a,!0),Ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=y_(t,i,l,a);break e}else if(l!==f){f=si(Error(s(424)),i),Rl(f),i=y_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=ci(t.firstChild),Jt=i,qe=!0,ds=null,li=!0,a=fy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===f){i=Ar(t,i,a);break e}en(t,i,l,a)}i=i.child}return i;case 26:return jc(t,i),t===null?(a=Ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=nh(Se.current).createElement(a),l[St]=i,l[Mt]=t,tn(l,a,t),j(l),i.stateNode=l):i.memoizedState=Ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yi(i),t===null&&qe&&(l=i.stateNode=Iv(i.type,i.pendingProps,Se.current),Jt=i,li=!0,f=ut,Cs(i.type)?(fp=f,ut=ci(l.firstChild)):ut=f),en(t,i,i.pendingProps.children,a),jc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((f=l=ut)&&(l=XS(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,Jt=i,ut=ci(l.firstChild),li=!1,f=!0):f=!1),f||ps(i)),yi(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,op(f,d)?l=null:_!==null&&op(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(t,i,cS,null,null,a),Zl._currentValue=f),jc(t,i),en(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=WS(a,i.pendingProps,li),a!==null?(i.stateNode=a,Jt=i,ut=null,t=!0):t=!1),t||ps(i)),null;case 13:return __(t,i,a);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=wa(i,null,l,a):en(t,i,l,a),i.child;case 11:return u_(t,i,i.type,i.pendingProps,a);case 7:return en(t,i,i.pendingProps,a),i.child;case 8:return en(t,i,i.pendingProps.children,a),i.child;case 12:return en(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ms(i,i.type,l.value),en(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ba(i),f=Zt(f),l=l(f),i.flags|=1,en(t,i,l,a),i.child;case 14:return c_(t,i,i.type,i.pendingProps,a);case 15:return h_(t,i,i.type,i.pendingProps,a);case 19:return E_(t,i,a);case 31:return _S(t,i,a);case 22:return f_(t,i,a,i.pendingProps);case 24:return ba(i),l=Zt(Lt),t===null?(f=Wf(),f===null&&(f=ot,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Jf(i),ms(i,Lt,f)):((t.lanes&a)!==0&&(Zf(t,i),Ml(i,null,null,a),Ol()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ms(i,Lt,l)):(l=d.cache,ms(i,Lt,l),l!==f.cache&&Yf(i,[Lt],a,!0))),en(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function wr(t){t.flags|=4}function kd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(K_())t.flags|=8192;else throw Aa=Ac,$f}else t.flags&=-16777217}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(i))if(K_())t.flags|=8192;else throw Aa=Ac,$f}function Bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jr():536870912,t.lanes|=i,Co|=i)}function jl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ES(t,i,a){var l=i.pendingProps;switch(qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),br(Lt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mo(i)?wr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),ct(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(wr(i),d!==null?(ct(i),T_(i,d)):(ct(i),kd(i,f,null,l,a))):d?d!==t.memoizedState?(wr(i),ct(i),T_(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&wr(i),ct(i),kd(i,f,t,l,a)),null;case 27:if(hr(i),a=Se.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&wr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=ue.current,mo(i)?ty(i):(t=Iv(f,l,a),i.stateNode=t,wr(i))}return ct(i),null;case 5:if(hr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&wr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(d=ue.current,mo(i))ty(i);else{var _=nh(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=i,d[Mt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(tn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wr(i)}}return ct(i),kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&wr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_v(t.nodeValue,a)),t||ps(i,!0)}else t=nh(t).createTextNode(l),t[St]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Bn(i),i):(Bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),f=!1}else f=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Bn(i),i):(Bn(i),null)}return Bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Bc(i,i.updateQueue),ct(i),null);case 4:return at(),t===null&&np(i.stateNode.containerInfo),ct(i),null;case 10:return br(i.type),ct(i),null;case 19:if(J(It),l=i.memoizedState,l===null)return ct(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)jl(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Cc(t),d!==null){for(i.flags|=128,jl(l,!1),t=d.updateQueue,i.updateQueue=t,Bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return oe(It,It.current&1|2),qe&&vr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ht()>Qc&&(i.flags|=128,f=!0,jl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Cc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Bc(i,t),jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return ct(i),null}else 2*Ht()-l.renderingStartTime>Qc&&a!==536870912&&(i.flags|=128,f=!0,jl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ht(),t.sibling=null,a=It.current,oe(It,f?a&1|2:a&1),qe&&vr(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return Bn(i),id(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&Bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),br(Lt),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bS(t,i){switch(qf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return br(Lt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hr(i),null;case 31:if(i.memoizedState!==null){if(Bn(i),i.alternate===null)throw Error(s(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(It),null;case 4:return at(),null;case 10:return br(i.type),null;case 22:case 23:return Bn(i),id(),t!==null&&J(Ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return br(Lt),null;case 25:return null;default:return null}}function S_(t,i){switch(qf(i),i.tag){case 3:br(Lt),at();break;case 26:case 27:case 5:hr(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Bn(i);break;case 13:Bn(i);break;case 19:J(It);break;case 10:br(i.type);break;case 22:case 23:Bn(i),id(),t!==null&&J(Ta);break;case 24:br(Lt)}}function zl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Ze(i,i.return,S)}}function bs(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var D=a,G=S;try{G()}catch($){Ze(f,D,$)}}}l=l.next}while(l!==d)}}catch($){Ze(i,i.return,$)}}function A_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{py(i,a)}catch(l){Ze(t,t.return,l)}}}function w_(t,i,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ze(t,i,f)}}function Qi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(t,i,f)}else a.current=null}function R_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(t,t.return,f)}}function Vd(t,i,a){try{var l=t.stateNode;HS(l,t.type,a,i),l[Mt]=i}catch(f){Ze(t,t.return,f)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cs(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ei));else if(l!==4&&(l===27&&Cs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Pd(t,i,a),t=t.sibling;t!==null;)Pd(t,i,a),t=t.sibling}function qc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Cs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qc(t,i,a),t=t.sibling;t!==null;)qc(t,i,a),t=t.sibling}function C_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);tn(i,l,a),i[St]=t,i[Mt]=a}catch(d){Ze(t,t.return,d)}}var Rr=!1,jt=!1,Ud=!1,I_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function TS(t,i){if(t=t.containerInfo,sp=uh,t=Bg(t),Nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,G=0,$=0,ne=t,Y=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(S=_+f),ne!==d||l!==0&&ne.nodeType!==3||(D=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Y=ne,ne=X;for(;;){if(ne===t)break t;if(Y===a&&++G===f&&(S=_),Y===d&&++$===l&&(D=_),(X=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=X}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ap={focusedElem:t,selectionRange:a},uh=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=xa(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)up(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":up(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function D_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(t,a),l&4&&zl(5,a);break;case 1:if(Cr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var f=xa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&A_(a),l&512&&Bl(a,a.return);break;case 3:if(Cr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{py(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&C_(a);case 26:case 5:Cr(t,a),i===null&&l&4&&R_(a),l&512&&Bl(a,a.return);break;case 12:Cr(t,a);break;case 31:Cr(t,a),l&4&&M_(t,a);break;case 13:Cr(t,a),l&4&&k_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=NS.bind(null,a),$S(t,a))));break;case 22:if(l=a.memoizedState!==null||Rr,!l){i=i!==null&&i.memoizedState!==null||jt,f=Rr;var d=jt;Rr=l,(jt=i)&&!d?Ir(t,a,(a.subtreeFlags&8772)!==0):Cr(t,a),Rr=f,jt=d}break;case 30:break;default:Cr(t,a)}}function N_(t){var i=t.alternate;i!==null&&(t.alternate=null,N_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ts(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Rn=!1;function xr(t,i,a){for(a=a.child;a!==null;)O_(t,i,a),a=a.sibling}function O_(t,i,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(bn,a)}catch{}switch(a.tag){case 26:jt||Qi(a,i),xr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Qi(a,i);var l=mt,f=Rn;Cs(a.type)&&(mt=a.stateNode,Rn=!1),xr(t,i,a),Wl(a.stateNode),mt=l,Rn=f;break;case 5:jt||Qi(a,i);case 6:if(l=mt,f=Rn,mt=null,xr(t,i,a),mt=l,Rn=f,mt!==null)if(Rn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:mt!==null&&(Rn?(t=mt,Av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Lo(t)):Av(mt,a.stateNode));break;case 4:l=mt,f=Rn,mt=a.stateNode.containerInfo,Rn=!0,xr(t,i,a),mt=l,Rn=f;break;case 0:case 11:case 14:case 15:bs(2,a,i),jt||bs(4,a,i),xr(t,i,a);break;case 1:jt||(Qi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&w_(a,i,l)),xr(t,i,a);break;case 21:xr(t,i,a);break;case 22:jt=(l=jt)||a.memoizedState!==null,xr(t,i,a),jt=l;break;default:xr(t,i,a)}}function M_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lo(t)}catch(a){Ze(i,i.return,a)}}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lo(t)}catch(a){Ze(i,i.return,a)}}function SS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new I_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new I_),i;default:throw Error(s(435,t.tag))}}function Hc(t,i){var a=SS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=OS.bind(null,t,l);l.then(f,f)}})}function xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Cs(S.type)){mt=S.stateNode,Rn=!1;break e}break;case 5:mt=S.stateNode,Rn=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(mt===null)throw Error(s(160));O_(d,_,f),mt=null,Rn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)V_(i,t),i=i.sibling}var Ri=null;function V_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Cn(t),l&4&&(bs(3,t,t.return),zl(3,t),bs(5,t,t.return));break;case 1:xn(i,t),Cn(t),l&512&&(jt||a===null||Qi(a,a.return)),l&64&&Rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ri;if(xn(i,t),Cn(t),l&512&&(jt||a===null||Qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Jn]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,l,a),d[St]=t,j(d),l=d;break e;case"link":var _=Vv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),tn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Vv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),tn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,j(d),l=d}t.stateNode=l}else Lv(f,t.type,t.stateNode);else t.stateNode=kv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Lv(f,t.type,t.stateNode):kv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(i,t),Cn(t),l&512&&(jt||a===null||Qi(a,a.return)),a!==null&&l&4&&Vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,t),Cn(t),l&512&&(jt||a===null||Qi(a,a.return)),t.flags&32){f=t.stateNode;try{wn(f,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Vd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ud=!0);break;case 6:if(xn(i,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(sh=null,f=Ri,Ri=ih(i.containerInfo),xn(i,t),Ri=f,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Lo(i.containerInfo)}catch(fe){Ze(t,t.return,fe)}Ud&&(Ud=!1,L_(t));break;case 4:l=Ri,Ri=ih(t.stateNode.containerInfo),xn(i,t),Cn(t),Ri=l;break;case 12:xn(i,t),Cn(t);break;case 31:xn(i,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 13:xn(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=Ht()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=Rr,$=jt;if(Rr=G||f,jt=$||D,xn(i,t),jt=$,Rr=G,Cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Rr||jt||Ca(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var ne=D.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Ze(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Ze(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var X=D.stateNode;f?wv(X,!0):wv(D.stateNode,!1)}catch(fe){Ze(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hc(t,a))));break;case 19:xn(i,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 30:break;case 21:break;default:xn(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ld(t);qc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(wn(_,""),a.flags&=-33);var S=Ld(t);qc(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=Ld(t);Pd(t,G,D);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function L_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;L_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Cr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)D_(t,i.alternate,i),i=i.sibling}function Ca(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:bs(4,i,i.return),Ca(i);break;case 1:Qi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&w_(i,i.return,a),Ca(i);break;case 27:Wl(i.stateNode);case 26:case 5:Qi(i,i.return),Ca(i);break;case 22:i.memoizedState===null&&Ca(i);break;case 30:Ca(i);break;default:Ca(i)}t=t.sibling}}function Ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(f,d,a),zl(4,d);break;case 1:if(Ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)dy(D[f],S)}catch(G){Ze(l,l.return,G)}}a&&_&64&&A_(d),Bl(d,d.return);break;case 27:C_(d);case 26:case 5:Ir(f,d,a),a&&l===null&&_&4&&R_(d),Bl(d,d.return);break;case 12:Ir(f,d,a);break;case 31:Ir(f,d,a),a&&_&4&&M_(f,d);break;case 13:Ir(f,d,a),a&&_&4&&k_(f,d);break;case 22:d.memoizedState===null&&Ir(f,d,a),Bl(d,d.return);break;case 30:break;default:Ir(f,d,a)}i=i.sibling}}function jd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xl(a))}function zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t))}function xi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:xi(t,i,a,l),f&2048&&zl(9,i);break;case 1:xi(t,i,a,l);break;case 3:xi(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t)));break;case 12:if(f&2048){xi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(i,i.return,D)}}else xi(t,i,a,l);break;case 31:xi(t,i,a,l);break;case 13:xi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?xi(t,i,a,l):ql(t,i):d._visibility&2?xi(t,i,a,l):(d._visibility|=2,wo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&jd(_,i);break;case 24:xi(t,i,a,l),f&2048&&zd(i.alternate,i);break;default:xi(t,i,a,l)}}function wo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:wo(d,_,S,D,f),zl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?wo(d,_,S,D,f):ql(d,_):($._visibility|=2,wo(d,_,S,D,f)),f&&G&2048&&jd(_.alternate,_);break;case 24:wo(d,_,S,D,f),f&&G&2048&&zd(_.alternate,_);break;default:wo(d,_,S,D,f)}i=i.sibling}}function ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:ql(a,l),f&2048&&jd(l.alternate,l);break;case 24:ql(a,l),f&2048&&zd(l.alternate,l);break;default:ql(a,l)}i=i.sibling}}var Hl=8192;function Ro(t,i,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)U_(t,i,a),t=t.sibling}function U_(t,i,a){switch(t.tag){case 26:Ro(t,i,a),t.flags&Hl&&t.memoizedState!==null&&uA(a,Ri,t.memoizedState,t.memoizedProps);break;case 5:Ro(t,i,a);break;case 3:case 4:var l=Ri;Ri=ih(t.stateNode.containerInfo),Ro(t,i,a),Ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,Ro(t,i,a),Hl=l):Ro(t,i,a));break;default:Ro(t,i,a)}}function j_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,B_(l,t)}j_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)z_(t),t=t.sibling}function z_(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&bs(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fc(t)):Fl(t);break;default:Fl(t)}}function Fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,B_(l,t)}j_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:bs(8,i,i.return),Fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(i));break;default:Fc(i)}t=t.sibling}}function B_(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var f=l.sibling,d=l.return;if(N_(l),l===a){Kt=null;break e}if(f!==null){f.return=d,Kt=f;break e}Kt=d}}}var AS={getCacheForType:function(t){var i=Zt(Lt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Zt(Lt).controller.signal}},wS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,Me=null,Pe=0,Je=0,qn=null,Ts=!1,xo=!1,Bd=!1,Dr=0,wt=0,Ss=0,Ia=0,qd=0,Hn=0,Co=0,Gl=null,In=null,Hd=!1,Gc=0,q_=0,Qc=1/0,Yc=null,As=null,Ft=0,ws=null,Io=null,Nr=0,Fd=0,Gd=null,H_=null,Ql=0,Qd=null;function Fn(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:W.T!==null?Jd():Xa()}function F_(){if(Hn===0)if((Pe&536870912)===0||qe){var t=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),Hn=t}else Hn=536870912;return t=zn.current,t!==null&&(t.flags|=32),Hn}function Dn(t,i,a){(t===ot&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Do(t,0),Rs(t,Pe,Hn,!1)),Wn(t,a),((Xe&2)===0||t!==ot)&&(t===ot&&((Xe&2)===0&&(Ia|=a),wt===4&&Rs(t,Pe,Hn,!1)),Yi(t))}function G_(t,i,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||pn(t,i),f=l?CS(t,i):Kd(t,i,!0),d=l;do{if(f===0){xo&&!l&&Rs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!RS(a)){f=Kd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Gl;var D=S.current.memoizedState.isDehydrated;if(D&&(Do(S,_).flags|=256),_=Kd(S,_,!1),_!==2){if(Bd&&!D){S.errorRecoveryDisabledLanes|=d,Ia|=d,f=4;break e}d=In,In=f,d!==null&&(In===null?In=d:In.push.apply(In,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Do(t,0),Rs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rs(l,i,Hn,!Ts);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Gc+300-Ht(),10<f)){if(Rs(l,i,Hn,!Ts),dn(l,0,!0)!==0)break e;Nr=i,l.timeoutHandle=Tv(Q_.bind(null,l,a,In,Yc,Hd,i,Hn,Ia,Co,Ts,d,"Throttled",-0,0),f);break e}Q_(l,a,In,Yc,Hd,i,Hn,Ia,Co,Ts,d,null,-0,0)}}break}while(!0);Yi(t)}function Q_(t,i,a,l,f,d,_,S,D,G,$,ne,Y,X){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},U_(i,d,ne);var fe=(d&62914560)===d?Gc-Ht():(d&4194048)===d?q_-Ht():0;if(fe=cA(ne,fe),fe!==null){Nr=d,t.cancelPendingCommit=fe(ev.bind(null,t,i,d,a,l,f,_,S,D,$,ne,null,Y,X)),Rs(t,d,_,!G);return}}ev(t,i,d,a,l,f,_,S,D)}function RS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Un(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rs(t,i,a,l){i&=~qd,i&=~Ia,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-dt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&vi(t,a,i)}function Kc(){return(Xe&6)===0?(Yl(0),!1):!0}function Yd(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,Er=Ea=null,ud(t),Eo=null,Il=0,t=Me;for(;t!==null;)S_(t.alternate,t),t=t.return;Me=null}}function Do(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,QS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nr=0,Yd(),ot=t,Me=a=_r(t.current,null),Pe=i,Je=0,qn=null,Ts=!1,xo=pn(t,i),Bd=!1,Co=Hn=qd=Ia=Ss=wt=0,In=Gl=null,Hd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-dt(l),d=1<<f;i|=t[f],l&=~d}return Dr=i,mc(),a}function Y_(t,i){Ie=null,W.H=Pl,i===vo||i===Sc?(i=uy(),Je=3):i===$f?(i=uy(),Je=4):Je=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Me===null&&(wt=1,Pc(t,si(i,t.current)))}function K_(){var t=zn.current;return t===null?!0:(Pe&4194048)===Pe?ui===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===ui:!1}function X_(){var t=W.H;return W.H=Pl,t===null?Pl:t}function W_(){var t=W.A;return W.A=AS,t}function Xc(){wt=4,Ts||(Pe&4194048)!==Pe&&zn.current!==null||(xo=!0),(Ss&134217727)===0&&(Ia&134217727)===0||ot===null||Rs(ot,Pe,Hn,!1)}function Kd(t,i,a){var l=Xe;Xe|=2;var f=X_(),d=W_();(ot!==t||Pe!==i)&&(Yc=null,Do(t,i)),i=!1;var _=wt;e:do try{if(Je!==0&&Me!==null){var S=Me,D=qn;switch(Je){case 8:Yd(),_=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var G=Je;if(Je=0,qn=null,No(t,S,D,G),a&&xo){_=0;break e}break;default:G=Je,Je=0,qn=null,No(t,S,D,G)}}xS(),_=wt;break}catch($){Y_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Er=Ea=null,Xe=l,W.H=f,W.A=d,Me===null&&(ot=null,Pe=0,mc()),_}function xS(){for(;Me!==null;)$_(Me)}function CS(t,i){var a=Xe;Xe|=2;var l=X_(),f=W_();ot!==t||Pe!==i?(Yc=null,Qc=Ht()+500,Do(t,i)):xo=pn(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=qn;t:switch(Je){case 1:Je=0,qn=null,No(t,i,d,1);break;case 2:case 9:if(oy(d)){Je=0,qn=null,J_(i);break}i=function(){Je!==2&&Je!==9||ot!==t||(Je=7),Yi(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:oy(d)?(Je=0,qn=null,J_(i)):(Je=0,qn=null,No(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var S=Me;if(_?Pv(_):S.stateNode.complete){Je=0,qn=null;var D=S.sibling;if(D!==null)Me=D;else{var G=S.return;G!==null?(Me=G,Wc(G)):Me=null}break t}}Je=0,qn=null,No(t,i,d,5);break;case 6:Je=0,qn=null,No(t,i,d,6);break;case 8:Yd(),wt=6;break e;default:throw Error(s(462))}}IS();break}catch($){Y_(t,$)}while(!0);return Er=Ea=null,W.H=l,W.A=f,Xe=a,Me!==null?0:(ot=null,Pe=0,mc(),wt)}function IS(){for(;Me!==null&&!na();)$_(Me)}function $_(t){var i=b_(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,i===null?Wc(t):Me=i}function J_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:ud(i);default:S_(a,i),i=Me=Wg(i,Dr),i=b_(a,i,Dr)}t.memoizedProps=t.pendingProps,i===null?Wc(t):Me=i}function No(t,i,a,l){Er=Ea=null,ud(i),Eo=null,Il=0;var f=i.return;try{if(yS(t,f,i,a,Pe)){wt=1,Pc(t,si(a,t.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;wt=1,Pc(t,si(a,t.current)),Me=null;return}i.flags&32768?(qe||l===1?t=!0:xo||(Pe&536870912)!==0?t=!1:(Ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(i,t)):Wc(i)}function Wc(t){var i=t;do{if((i.flags&32768)!==0){Z_(i,Ts);return}t=i.return;var a=ES(i.alternate,i,Dr);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);wt===0&&(wt=5)}function Z_(t,i){do{var a=bS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);wt=6,Me=null}function ev(t,i,a,l,f,d,_,S,D){t.cancelPendingCommit=null;do $c();while(Ft!==0);if((Xe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lf,Ka(t,a,d,_,S,D),t===ot&&(Me=ot=null,Pe=0),Io=i,ws=t,Nr=a,Fd=d,Gd=f,H_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,MS(Kn,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,_=Xe,Xe|=4;try{TS(t,i,a)}finally{Xe=_,ae.p=f,W.T=l}}Ft=1,tv(),nv(),iv()}}function tv(){if(Ft===1){Ft=0;var t=ws,i=Io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Xe;Xe|=4;try{V_(i,t);var d=ap,_=Bg(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&zg(S.ownerDocument.documentElement,S)){if(D!==null&&Nf(S)){var G=D.start,$=D.end;if($===void 0&&($=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min($,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),fe=S.textContent.length,ve=Math.min(D.start,fe),rt=D.end===void 0?ve:Math.min(D.end,fe);!X.extend&&ve>rt&&(_=rt,rt=ve,ve=_);var B=jg(S,ve),L=jg(S,rt);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var F=ne.createRange();F.setStart(B.node,B.offset),X.removeAllRanges(),ve>rt?(X.addRange(F),X.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),X.addRange(F))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var Z=ne[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}uh=!!sp,ap=sp=null}finally{Xe=f,ae.p=l,W.T=a}}t.current=i,Ft=2}}function nv(){if(Ft===2){Ft=0;var t=ws,i=Io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Xe;Xe|=4;try{D_(t,i.alternate,i)}finally{Xe=f,ae.p=l,W.T=a}}Ft=3}}function iv(){if(Ft===4||Ft===3){Ft=0,ia();var t=ws,i=Io,a=Nr,l=H_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Io=ws=null,rv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(As=null),an(a),i=i.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=i,ae.p=f}}(Nr&3)!==0&&$c(),Yi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Qd?Ql++:(Ql=0,Qd=t):Ql=0,Yl(0)}}function rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xl(i)))}function $c(){return tv(),nv(),iv(),sv()}function sv(){if(Ft!==5)return!1;var t=ws,i=Fd;Fd=0;var a=an(Nr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=Gd,Gd=null;var d=ws,_=Nr;if(Ft=0,Io=ws=null,Nr=0,(Xe&6)!==0)throw Error(s(331));var S=Xe;if(Xe|=4,z_(d.current),P_(d,d.current,_,a),Xe=S,Yl(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(bn,d)}catch{}return!0}finally{ae.p=f,W.T=l,rv(t,i)}}function av(t,i,a){i=si(a,i),i=Ad(t.stateNode,i,2),t=_s(t,i,2),t!==null&&(Wn(t,2),Yi(t))}function Ze(t,i,a){if(t.tag===3)av(t,t,a);else for(;i!==null;){if(i.tag===3){av(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=si(a,t),a=o_(2),l=_s(i,a,2),l!==null&&(l_(a,l,i,t),Wn(l,2),Yi(l));break}}i=i.return}}function Xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Bd=!0,f.add(a),t=DS.bind(null,t,i,a),i.then(t,t))}function DS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Pe&a)===a&&(wt===4||wt===3&&(Pe&62914560)===Pe&&300>Ht()-Gc?(Xe&2)===0&&Do(t,0):qd|=a,Co===Pe&&(Co=0)),Yi(t)}function ov(t,i){i===0&&(i=Jr()),t=ya(t,i),t!==null&&(Wn(t,i),Yi(t))}function NS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ov(t,a)}function OS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ov(t,a)}function MS(t,i){return _t(t,i)}var Jc=null,Oo=null,Wd=!1,Zc=!1,$d=!1,xs=0;function Yi(t){t!==Oo&&t.next===null&&(Oo===null?Jc=Oo=t:Oo=Oo.next=t),Zc=!0,Wd||(Wd=!0,VS())}function Yl(t,i){if(!$d&&Zc){$d=!0;do for(var a=!1,l=Jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,hv(l,d))}else d=Pe,d=dn(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pn(l,d)||(a=!0,hv(l,d));l=l.next}while(a);$d=!1}}function kS(){lv()}function lv(){Zc=Wd=!1;var t=0;xs!==0&&GS()&&(t=xs);for(var i=Ht(),a=null,l=Jc;l!==null;){var f=l.next,d=uv(l,i);d===0?(l.next=null,a===null?Jc=f:a.next=f,f===null&&(Oo=a)):(a=l,(t!==0||(d&3)!==0)&&(Zc=!0)),l=f}Ft!==0&&Ft!==5||Yl(t),xs!==0&&(xs=0)}function uv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Ya(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=ot,a=Pe,a=dn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Qn(l),an(a)){case 2:case 8:a=Yr;break;case 32:a=Kn;break;case 268435456:a=Kr;break;default:a=Kn}return l=cv.bind(null,t),a=_t(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Qn(l),t.callbackPriority=2,t.callbackNode=null,2}function cv(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Pe;return l=dn(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(G_(t,l,i),uv(t,Ht()),t.callbackNode!=null&&t.callbackNode===a?cv.bind(null,t):null)}function hv(t,i){if($c())return null;G_(t,i,!0)}function VS(){YS(function(){(Xe&6)!==0?_t(Vi,kS):lv()})}function Jd(){if(xs===0){var t=yo;t===0&&(t=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),xs=t}return xs}function fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:to(""+t)}function dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function LS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=fv((f[Mt]||null).action),_=l.submitter;_&&(i=(i=_[Mt]||null)?fv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new zi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var D=_?dv(f,_):new FormData(f);_d(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?dv(f,_):new FormData(f),_d(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Zd=0;Zd<Vf.length;Zd++){var ep=Vf[Zd],PS=ep.toLowerCase(),US=ep[0].toUpperCase()+ep.slice(1);wi(PS,"on"+US)}wi(Fg,"onAnimationEnd"),wi(Gg,"onAnimationIteration"),wi(Qg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(eS,"onTransitionRun"),wi(tS,"onTransitionStart"),wi(nS,"onTransitionCancel"),wi(Yg,"onTransitionEnd"),kt("onMouseEnter",["mouseout","mouseover"]),kt("onMouseLeave",["mouseout","mouseover"]),kt("onPointerEnter",["pointerout","pointerover"]),kt("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function pv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,G=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch($){pc($)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,G=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch($){pc($)}f.currentTarget=null,d=D}}}}function ke(t,i){var a=i[es];a===void 0&&(a=i[es]=new Set);var l=t+"__bubble";a.has(l)||(mv(i,t,2,!1),a.add(l))}function tp(t,i,a){var l=0;i&&(l|=4),mv(a,t,l,i)}var eh="_reactListening"+Math.random().toString(36).slice(2);function np(t){if(!t[eh]){t[eh]=!0,Ae.forEach(function(a){a!=="selectionchange"&&(jS.has(a)||tp(a,!1,t),tp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[eh]||(i[eh]=!0,tp("selectionchange",!1,i))}}function mv(t,i,a,l){switch(Fv(i)){case 2:var f=dA;break;case 8:f=pA;break;default:f=yp}a=f.bind(null,i,a,t),f=void 0,!ua||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function ip(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Zn(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}ls(function(){var G=d,$=ti(a),ne=[];e:{var Y=Kg.get(t);if(Y!==void 0){var X=zi,fe=t;switch(t){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":X=hc;break;case"focusin":fe="focus",X=da;break;case"focusout":fe="blur",X=da;break;case"beforeblur":case"afterblur":X=da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Fg:case Gg:case Qg:X=rc;break;case Yg:X=A;break;case"scroll":case"scrollend":X=_l;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=yr;break;case"toggle":case"beforetoggle":X=Ce}var ve=(i&4)!==0,rt=!ve&&(t==="scroll"||t==="scrollend"),B=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var L=G,F;L!==null;){var Z=L;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||B===null||(Z=bi(L,B),Z!=null&&ve.push(Xl(L,Z,F))),rt)break;L=L.return}0<ve.length&&(Y=new X(Y,fe,null,a,$),ne.push({event:Y,listeners:ve}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==ml&&(fe=a.relatedTarget||a.fromElement)&&(Zn(fe)||fe[$n]))break e;if((X||Y)&&(Y=$.window===$?$:(Y=$.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(fe=a.relatedTarget||a.toElement,X=G,fe=fe?Zn(fe):null,fe!==null&&(rt=u(fe),ve=fe.tag,fe!==rt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(X=null,fe=G),X!==fe)){if(ve=vl,Z="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ve=yr,Z="onPointerLeave",B="onPointerEnter",L="pointer"),rt=X==null?Y:mn(X),F=fe==null?Y:mn(fe),Y=new ve(Z,L+"leave",X,a,$),Y.target=rt,Y.relatedTarget=F,Z=null,Zn($)===G&&(ve=new ve(B,L+"enter",fe,a,$),ve.target=F,ve.relatedTarget=rt,Z=ve),rt=Z,X&&fe)t:{for(ve=zS,B=X,L=fe,F=0,Z=B;Z;Z=ve(Z))F++;Z=0;for(var ge=L;ge;ge=ve(ge))Z++;for(;0<F-Z;)B=ve(B),F--;for(;0<Z-F;)L=ve(L),Z--;for(;F--;){if(B===L||L!==null&&B===L.alternate){ve=B;break t}B=ve(B),L=ve(L)}ve=null}else ve=null;X!==null&&gv(ne,Y,X,ve,!1),fe!==null&&rt!==null&&gv(ne,rt,fe,ve,!0)}}e:{if(Y=G?mn(G):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Qe=Mg;else if(Ng(Y))if(kg)Qe=$T;else{Qe=XT;var de=KT}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&eo(G.elementType)&&(Qe=Mg):Qe=WT;if(Qe&&(Qe=Qe(t,G))){Og(ne,Qe,a,$);break e}de&&de(t,Y,G),t==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&fl(Y,"number",Y.value)}switch(de=G?mn(G):window,t){case"focusin":(Ng(de)||de.contentEditable==="true")&&(lo=de,Of=G,Al=null);break;case"focusout":Al=Of=lo=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,qg(ne,a,$);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":qg(ne,a,$)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else oo?pa(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Hi&&a.locale!=="ko"&&(oo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&oo&&(Ne=yl()):(ji=$,gl="value"in ji?ji.value:ji.textContent,oo=!0)),de=th(G,Ue),0<de.length&&(Ue=new qi(Ue,t,null,a,$),ne.push({event:Ue,listeners:de}),Ne?Ue.data=Ne:(Ne=ao(a),Ne!==null&&(Ue.data=Ne)))),(Ne=ii?FT(t,a):GT(t,a))&&(Ue=th(G,"onBeforeInput"),0<Ue.length&&(de=new qi("onBeforeInput","beforeinput",null,a,$),ne.push({event:de,listeners:Ue}),de.data=Ne)),LS(ne,t,G,a,$)}pv(ne,i)})}function Xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function th(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bi(t,a),f!=null&&l.unshift(Xl(t,f,d)),f=bi(t,i),f!=null&&l.push(Xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function zS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,G=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||G===null||(D=G,f?(G=bi(a,d),G!=null&&_.unshift(Xl(a,G,D))):f||(G=bi(a,d),G!=null&&_.push(Xl(a,G,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var BS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(BS,`
`).replace(qS,"")}function _v(t,i){return i=yv(i),yv(t)===i}function it(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":pl(t,l,d);break;case"data":if(i!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=to(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",f.name,f,null),it(t,i,"formEncType",f.formEncType,f,null),it(t,i,"formMethod",f.formMethod,f,null),it(t,i,"formTarget",f.formTarget,f,null)):(it(t,i,"encType",f.encType,f,null),it(t,i,"method",f.method,f,null),it(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=to(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=to(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ja(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ja(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tc.get(a)||a,Ja(t,a,l))}}function rp(t,i,a,l,f,d){switch(a){case"style":pl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Le.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ja(t,a,l)}}}function tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,d,_,a,null)}}f&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=_=f=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":G=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:it(t,i,l,$,a,null)}}Ju(t,d,S,D,G,_,f,!1);return;case"select":ke("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:it(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?rs(t,!!l,i,!1):a!=null&&rs(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:it(t,i,_,S,a,null)}ss(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,i,D,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Kl.length;l++)ke(Kl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(t,i,G,l,a,null)}return;default:if(eo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&rp(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&it(t,i,S,l,a,null))}function HS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,G=null,$=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(X)||it(t,i,X,null,l,ne)}}for(var Y in l){var X=l[Y];if(ne=a[Y],l.hasOwnProperty(Y)&&(X!=null||ne!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":$=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==ne&&it(t,i,Y,X,l,ne)}}Za(t,_,S,D,G,$,d,f);return;case"select":X=_=S=Y=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(d)||it(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&it(t,i,f,d,l,D)}i=S,a=_,l=X,Y!=null?rs(t,!!a,Y,!1):!!l!=!!a&&(i!=null?rs(t,!!a,i,!0):rs(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&it(t,i,_,f,l,d)}Zu(t,Y,X);return;case"option":for(var fe in a)if(Y=a[fe],a.hasOwnProperty(fe)&&Y!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:it(t,i,fe,null,l,Y)}for(D in l)if(Y=l[D],X=a[D],l.hasOwnProperty(D)&&Y!==X&&(Y!=null||X!=null))switch(D){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(t,i,D,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!l.hasOwnProperty(ve)&&it(t,i,ve,null,l,Y);for(G in l)if(Y=l[G],X=a[G],l.hasOwnProperty(G)&&Y!==X&&(Y!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:it(t,i,G,Y,l,X)}return;default:if(eo(i)){for(var rt in a)Y=a[rt],a.hasOwnProperty(rt)&&Y!==void 0&&!l.hasOwnProperty(rt)&&rp(t,i,rt,void 0,l,Y);for($ in l)Y=l[$],X=a[$],!l.hasOwnProperty($)||Y===X||Y===void 0&&X===void 0||rp(t,i,$,Y,l,X);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&it(t,i,B,null,l,Y);for(ne in l)Y=l[ne],X=a[ne],!l.hasOwnProperty(ne)||Y===X||Y==null&&X==null||it(t,i,ne,Y,l,X)}function vv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&vv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],G=D.startTime;if(G>S)break;var $=D.transferSize,ne=D.initiatorType;$&&vv(ne)&&(D=D.responseEnd,_+=$*(D<S?1:(S-G)/(D-G)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sp=null,ap=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function Ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function op(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lp=null;function GS(){var t=window.event;return t&&t.type==="popstate"?t===lp?!1:(lp=t,!0):(lp=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(t){return Sv.resolve(null).then(t).catch(KS)}:Tv;function KS(t){setTimeout(function(){throw t})}function Cs(t){return t==="head"}function Av(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Lo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Jn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Wl(t.ownerDocument.body);a=f}while(a);Lo(i)}function wv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function up(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":up(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function WS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ci(t.nextSibling),t===null))return null;return t}function Rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ci(t.nextSibling),t===null))return null;return t}function cp(t){return t.data==="$?"||t.data==="$~"}function hp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $S(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var fp=null;function xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ci(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Iv(t,i,a){switch(i=nh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ts(t)}var hi=new Map,Dv=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Or=ae.d;ae.d={f:JS,r:ZS,D:eA,C:tA,L:nA,m:iA,X:sA,S:rA,M:aA};function JS(){var t=Or.f(),i=Kc();return t||i}function ZS(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?Yy(i):Or.r(t)}var Mo=typeof document>"u"?null:document;function Nv(t,i,a){var l=Mo;if(l&&typeof i=="string"&&i){var f=An(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Dv.has(f)||(Dv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),tn(i,"link",t),j(i),l.head.appendChild(i)))}}function eA(t){Or.D(t),Nv("dns-prefetch",t,null)}function tA(t,i){Or.C(t,i),Nv("preconnect",t,i)}function nA(t,i,a){Or.L(t,i,a);var l=Mo;if(l&&t&&i){var f='link[rel="preload"][as="'+An(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+An(a.imageSizes)+'"]')):f+='[href="'+An(t)+'"]';var d=f;switch(i){case"style":d=ko(t);break;case"script":d=Vo(t)}hi.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),hi.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector($l(d))||i==="script"&&l.querySelector(Jl(d))||(i=l.createElement("link"),tn(i,"link",t),j(i),l.head.appendChild(i)))}}function iA(t,i){Or.m(t,i);var a=Mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vo(t)}if(!hi.has(d)&&(t=T({rel:"modulepreload",href:t},i),hi.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(d)))return}l=a.createElement("link"),tn(l,"link",t),j(l),a.head.appendChild(l)}}}function rA(t,i,a){Or.S(t,i,a);var l=Mo;if(l&&t){var f=ei(l).hoistableStyles,d=ko(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector($l(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=hi.get(d))&&dp(t,a);var D=_=l.createElement("link");j(D),tn(D,"link",t),D._p=new Promise(function(G,$){D.onload=G,D.onerror=$}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function sA(t,i){Or.X(t,i);var a=Mo;if(a&&t){var l=ei(a).hoistableScripts,f=Vo(t),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(t=T({src:t,async:!0},i),(i=hi.get(f))&&pp(t,i),d=a.createElement("script"),j(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aA(t,i){Or.M(t,i);var a=Mo;if(a&&t){var l=ei(a).hoistableScripts,f=Vo(t),d=l.get(f);d||(d=a.querySelector(Jl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=hi.get(f))&&pp(t,i),d=a.createElement("script"),j(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ov(t,i,a,l){var f=(f=Se.current)?ih(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ko(a.href),a=ei(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ko(a.href);var d=ei(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector($l(t)))&&!d._p&&(_.instance=d,_.state.loading=5),hi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(t,a),d||oA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(a),a=ei(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ko(t){return'href="'+An(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function Mv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function oA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),j(i),t.head.appendChild(i))}function Vo(t){return'[src="'+An(t)+'"]'}function Jl(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return i.instance=l,j(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),j(l),tn(l,"style",f),rh(l,a.precedence,t),i.instance=l;case"stylesheet":f=ko(a.href);var d=t.querySelector($l(f));if(d)return i.state.loading|=4,i.instance=d,j(d),d;l=Mv(a),(f=hi.get(f))&&dp(l,f),d=(t.ownerDocument||t).createElement("link"),j(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),tn(d,"link",l),i.state.loading|=4,rh(d,a.precedence,t),i.instance=d;case"script":return d=Vo(a.src),(f=t.querySelector(Jl(d)))?(i.instance=f,j(f),f):(l=a,(f=hi.get(d))&&(l=T({},a),pp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),j(f),tn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rh(l,a.precedence,t));return i.instance}function rh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function dp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sh=null;function Vv(t,i,a){if(sh===null){var l=new Map,f=sh=new Map;f.set(a,l)}else f=sh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Jn]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ko(l.href),d=i.querySelector($l(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ah.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,j(d);return}d=i.ownerDocument||i,l=Mv(l),(f=hi.get(f))&&dp(l,f),d=d.createElement("link"),j(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),tn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var mp=0;function cA(t,i){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&mp===0&&(mp=62500*FS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>mp?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,i.forEach(hA,t),oh=null,ah.call(t))}function hA(t,i){if(!(i.state.loading&4)){var a=oh.get(t);if(a)var l=a.get(null);else{a=new Map,oh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ah.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Zl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function fA(t,i,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Uv(t,i,a,l,f,d,_,S,D,G,$,ne){return t=new fA(t,i,a,_,D,G,$,ne,S),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Jf(d),t}function jv(t){return t?(t=ho,t):ho}function zv(t,i,a,l,f,d){f=jv(f),l.context===null?l.context=f:l.pendingContext=f,l=ys(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_s(t,l,i),a!==null&&(Dn(a,t,i),Nl(a,t,i))}function Bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gp(t,i){Bv(t,i),(t=t.alternate)&&Bv(t,i)}function qv(t){if(t.tag===13||t.tag===31){var i=ya(t,67108864);i!==null&&Dn(i,t,67108864),gp(t,67108864)}}function Hv(t){if(t.tag===13||t.tag===31){var i=Fn();i=dr(i);var a=ya(t,i);a!==null&&Dn(a,t,i),gp(t,i)}}var uh=!0;function dA(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,yp(t,i,a,l)}finally{ae.p=d,W.T=f}}function pA(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,yp(t,i,a,l)}finally{ae.p=d,W.T=f}}function yp(t,i,a,l){if(uh){var f=_p(l);if(f===null)ip(t,i,l,ch,a),Gv(t,l);else if(gA(f,t,i,a,l))l.stopPropagation();else if(Gv(t,l),i&4&&-1<mA.indexOf(t)){for(;f!==null;){var d=Sn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Tn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-dt(_);S.entanglements[1]|=D,_&=~D}Yi(d),(Xe&6)===0&&(Qc=Ht()+500,Yl(0))}}break;case 31:case 13:S=ya(d,2),S!==null&&Dn(S,d,2),Kc(),gp(d,2)}if(d=_p(l),d===null&&ip(t,i,l,ch,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ip(t,i,l,null,a)}}function _p(t){return t=ti(t),vp(t)}var ch=null;function vp(t){if(ch=null,t=Zn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ch=t,null}function Fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yn()){case Vi:return 2;case Yr:return 8;case Kn:case ra:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var Ep=!1,Is=null,Ds=null,Ns=null,eu=new Map,tu=new Map,Os=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,i){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Sn(i),i!==null&&qv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function gA(t,i,a,l,f){switch(i){case"focusin":return Is=nu(Is,t,i,a,l,f),!0;case"dragenter":return Ds=nu(Ds,t,i,a,l,f),!0;case"mouseover":return Ns=nu(Ns,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return eu.set(d,nu(eu.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,tu.set(d,nu(tu.get(d)||null,t,i,a,l,f)),!0}return!1}function Qv(t){var i=Zn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Vn(t.priority,function(){Hv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Vn(t.priority,function(){Hv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_p(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ml=l,a.target.dispatchEvent(l),ml=null}else return i=Sn(a),i!==null&&qv(i),t.blockedOn=a,!1;i.shift()}return!0}function Yv(t,i,a){hh(t)&&a.delete(i)}function yA(){Ep=!1,Is!==null&&hh(Is)&&(Is=null),Ds!==null&&hh(Ds)&&(Ds=null),Ns!==null&&hh(Ns)&&(Ns=null),eu.forEach(Yv),tu.forEach(Yv)}function fh(t,i){t.blockedOn===i&&(t.blockedOn=null,Ep||(Ep=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yA)))}var dh=null;function Kv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(vp(l||a)===null)continue;break}var d=Sn(a);d!==null&&(t.splice(i,3),i-=3,_d(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Lo(t){function i(D){return fh(D,t)}Is!==null&&fh(Is,t),Ds!==null&&fh(Ds,t),Ns!==null&&fh(Ns,t),eu.forEach(i),tu.forEach(i);for(var a=0;a<Os.length;a++){var l=Os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Os.length&&(a=Os[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&Os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Mt]||null;if(typeof d=="function")_||Kv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Mt]||null)S=_.formAction;else if(vp(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Kv(a)}}}function Xv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function bp(t){this._internalRoot=t}ph.prototype.render=bp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Fn();zv(a,l,t,i,null,null)},ph.prototype.unmount=bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;zv(t.current,2,null,t,null,null),Kc(),i[$n]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var i=Xa();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Os.length&&i!==0&&i<Os[a].priority;a++);Os.splice(a,0,t),a===0&&Qv(t)}};var Wv=e.version;if(Wv!=="19.2.0")throw Error(s(527,Wv,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var _A={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{bn=mh.inject(_A),Ot=mh}catch{}}return ru.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=i_,d=r_,_=s_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Uv(t,1,!1,null,null,a,l,null,f,d,_,Xv),t[$n]=i.current,np(t),new bp(i)},ru.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=i_,_=r_,S=s_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Uv(t,1,!0,i,a??null,l,f,D,d,_,S,Xv),i.context=jv(null),a=i.current,l=Fn(),l=dr(l),f=ys(l),f.callback=null,_s(a,f,l),a=l,i.current.lanes=a,Wn(i,a),Yi(i),t[$n]=i.current,np(t),new ph(i)},ru.version="19.2.0",ru}var a0;function IA(){if(a0)return Ap.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ap.exports=CA(),Ap.exports}var DA=IA();const NA=ZE(DA);var o0="popstate";function OA(r={}){function e(s,o){let{pathname:u,search:h,hash:p}=s.location;return Gp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:vu(o)}return kA(e,n,null,r)}function gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function l0(r,e){return{usr:r.state,key:r.key,idx:e}}function Gp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:n,key:e&&e.key||s||MA()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function tl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",m=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){p="POP";let V=b(),q=V==null?null:V-g;g=V,m&&m({action:p,location:Q.location,delta:q})}function w(V,q){p="PUSH";let te=Gp(Q.location,V,q);g=b()+1;let re=l0(te,g),ce=Q.createHref(te);try{h.pushState(re,"",ce)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(ce)}u&&m&&m({action:p,location:Q.location,delta:1})}function k(V,q){p="REPLACE";let te=Gp(Q.location,V,q);g=b();let re=l0(te,g),ce=Q.createHref(te);h.replaceState(re,"",ce),u&&m&&m({action:p,location:Q.location,delta:0})}function P(V){return VA(V)}let Q={get action(){return p},get location(){return r(o,h)},listen(V){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(o0,T),m=V,()=>{o.removeEventListener(o0,T),m=null}},createHref(V){return e(o,V)},createURL:P,encodeLocation(V){let q=P(V);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:w,replace:k,go(V){return h.go(V)}};return Q}function VA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function eb(r,e,n="/"){return LA(r,e,n,!1)}function LA(r,e,n,s){let o=typeof e=="string"?tl(e):e,u=Ur(o.pathname||"/",n);if(u==null)return null;let h=tb(r);PA(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=KA(u);p=QA(h[m],g,s)}return p}function tb(r,e=[],n=[],s="",o=!1){let u=(h,p,m=o,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&m)return;gt(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=Lr([s,b.relativePath]),w=n.concat(b);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),tb(h.children,e,w,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:FA(T,h.index),routesMeta:w})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let m of nb(h.path))u(h,p,!0,m)}),e}function nb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nb(s.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function PA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:GA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var UA=/^:[\w-]+$/,jA=3,zA=2,BA=1,qA=10,HA=-2,u0=r=>r==="*";function FA(r,e){let n=r.split("/"),s=n.length;return n.some(u0)&&(s+=HA),e&&(s+=zA),n.filter(o=>!u0(o)).reduce((o,u)=>o+(UA.test(u)?jA:u===""?BA:qA),s)}function GA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function QA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),w=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Lr([u,T.pathname]),pathnameBase:ZA(Lr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=Lr([u,T.pathnameBase]))}return h}function Lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=YA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},w)=>{if(b==="*"){let P=p[w]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const k=p[w];return T&&!k?g[b]=void 0:g[b]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function YA(r,e=!1,n=!0){mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function KA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var XA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WA=r=>XA.test(r);function $A(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?tl(r):r,u;if(n)if(WA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=c0(n.substring(1),"/"):u=c0(n,e)}else u=e;return{pathname:u,search:ew(s),hash:tw(o)}}function c0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bm(r){let e=JA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tm(r,e,n,s=!1){let o;typeof r=="string"?o=tl(r):(o={...r},gt(!o.pathname||!o.pathname.includes("?"),Cp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Cp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Cp("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}p=T>=0?e[T]:"/"}let m=$A(o,p),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var Lr=r=>r.join("/").replace(/\/\/+/g,"/"),ZA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ew=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function iw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=["POST","PUT","PATCH","DELETE"];new Set(ib);var rw=["GET",...ib];new Set(rw);var nl=N.createContext(null);nl.displayName="DataRouter";var sf=N.createContext(null);sf.displayName="DataRouterState";N.createContext(!1);var rb=N.createContext({isTransitioning:!1});rb.displayName="ViewTransition";var sw=N.createContext(new Map);sw.displayName="Fetchers";var aw=N.createContext(null);aw.displayName="Await";var gi=N.createContext(null);gi.displayName="Navigation";var Ou=N.createContext(null);Ou.displayName="Location";var Oi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Sm=N.createContext(null);Sm.displayName="RouteError";function ow(r,{relative:e}={}){gt(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(gi),{hash:o,pathname:u,search:h}=ku(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Lr([n,u])),s.createHref({pathname:p,search:h,hash:o})}function il(){return N.useContext(Ou)!=null}function Hr(){return gt(il(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ou).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(r){N.useContext(gi).static||N.useLayoutEffect(r)}function Mu(){let{isDataRoute:r}=N.useContext(Oi);return r?Ew():lw()}function lw(){gt(il(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(nl),{basename:e,navigator:n}=N.useContext(gi),{matches:s}=N.useContext(Oi),{pathname:o}=Hr(),u=JSON.stringify(bm(s)),h=N.useRef(!1);return ab(()=>{h.current=!0}),N.useCallback((m,g={})=>{if(mi(h.current,sb),!h.current)return;if(typeof m=="number"){n.go(m);return}let b=Tm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Lr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}N.createContext(null);function ob(){let{matches:r}=N.useContext(Oi),e=r[r.length-1];return e?e.params:{}}function ku(r,{relative:e}={}){let{matches:n}=N.useContext(Oi),{pathname:s}=Hr(),o=JSON.stringify(bm(n));return N.useMemo(()=>Tm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uw(r,e){return lb(r,e)}function lb(r,e,n,s,o){gt(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(gi),{matches:h}=N.useContext(Oi),p=h[h.length-1],m=p?p.params:{},g=p?p.pathname:"/",b=p?p.pathnameBase:"/",T=p&&p.route;{let te=T&&T.path||"";ub(g,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=Hr(),k;if(e){let te=typeof e=="string"?tl(e):e;gt(b==="/"||te.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${te.pathname}" was given in the \`location\` prop.`),k=te}else k=w;let P=k.pathname||"/",Q=P;if(b!=="/"){let te=b.replace(/^\//,"").split("/");Q="/"+P.replace(/^\//,"").split("/").slice(te.length).join("/")}let V=eb(r,{pathname:Q});mi(T||V!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),mi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=pw(V&&V.map(te=>Object.assign({},te,{params:Object.assign({},m,te.params),pathname:Lr([b,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?b:Lr([b,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&q?N.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},q):q}function cw(){let r=vw(),e=nw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,h)}var hw=N.createElement(cw,null),fw=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(Oi.Provider,{value:this.props.routeContext},N.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dw({routeContext:r,match:e,children:n}){let s=N.useContext(nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Oi.Provider,{value:r},n)}function pw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);gt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,m=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=b),T.route.id){let{loaderData:w,errors:k}=n,P=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||P){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,w)=>{let k,P=!1,Q=null,V=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||hw,p&&(m<0&&w===0?(ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,V=null):m===w&&(P=!0,V=T.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,w+1)),te=()=>{let re;return k?re=Q:P?re=V:T.route.Component?re=N.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=b,N.createElement(dw,{match:T,routeContext:{outlet:b,matches:q,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?N.createElement(fw,{location:n.location,revalidation:n.revalidation,component:Q,error:k,children:te(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:g}):te()},null)}function Am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(r){let e=N.useContext(nl);return gt(e,Am(r)),e}function gw(r){let e=N.useContext(sf);return gt(e,Am(r)),e}function yw(r){let e=N.useContext(Oi);return gt(e,Am(r)),e}function wm(r){let e=yw(r),n=e.matches[e.matches.length-1];return gt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function _w(){return wm("useRouteId")}function vw(){let r=N.useContext(Sm),e=gw("useRouteError"),n=wm("useRouteError");return r!==void 0?r:e.errors?.[n]}function Ew(){let{router:r}=mw("useNavigate"),e=wm("useNavigate"),n=N.useRef(!1);return ab(()=>{n.current=!0}),N.useCallback(async(o,u={})=>{mi(n.current,sb),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var h0={};function ub(r,e,n){!e&&!h0[r]&&(h0[r]=!0,mi(!1,n))}N.memo(bw);function bw({routes:r,future:e,state:n,unstable_onError:s}){return lb(r,void 0,n,s,e)}function st({to:r,replace:e,state:n,relative:s}){gt(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(gi);mi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Oi),{pathname:h}=Hr(),p=Mu(),m=Tm(r,bm(u),h,s==="path"),g=JSON.stringify(m);return N.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Xt(r){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){gt(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[p,o,u,h]);typeof n=="string"&&(n=tl(n));let{pathname:g="/",search:b="",hash:T="",state:w=null,key:k="default"}=n,P=N.useMemo(()=>{let Q=Ur(g,p);return Q==null?null:{location:{pathname:Q,search:b,hash:T,state:w,key:k},navigationType:s}},[p,g,b,T,w,k,s]);return mi(P!=null,`<Router basename="${p}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:N.createElement(gi.Provider,{value:m},N.createElement(Ou.Provider,{children:e,value:P}))}function Sw({children:r,location:e}){return uw(Qp(r),e)}function Qp(r,e=[]){let n=[];return N.Children.forEach(r,(s,o)=>{if(!N.isValidElement(s))return;let u=[...e,o];if(s.type===N.Fragment){n.push.apply(n,Qp(s.props.children,u));return}gt(s.type===Xt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qp(s.props.children,u)),n.push(h)}),n}var Ah="get",wh="application/x-www-form-urlencoded";function af(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Aw(r){return af(r)&&r.tagName.toLowerCase()==="button"}function ww(r){return af(r)&&r.tagName.toLowerCase()==="form"}function Rw(r){return af(r)&&r.tagName.toLowerCase()==="input"}function xw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Cw(r,e){return r.button===0&&(!e||e==="_self")&&!xw(r)}var gh=null;function Iw(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(r){return r!=null&&!Dw.has(r)?(mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function Nw(r,e){let n,s,o,u,h;if(ww(r)){let p=r.getAttribute("action");s=p?Ur(p,e):null,n=r.getAttribute("method")||Ah,o=Ip(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(Aw(r)||Rw(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?Ur(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Ah,o=Ip(r.getAttribute("formenctype"))||Ip(p.getAttribute("enctype"))||wh,u=new FormData(p,r),!Iw()){let{name:g,type:b,value:T}=r;if(b==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(af(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,s=null,o=wh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ow(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Mw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Vw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Mw(u,n);return h.links?h.links():[]}return[]}));return jw(s.flat(1).filter(kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f0(r,e,n,s,o,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{let b=s.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Lw(r,e,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function Uw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Uw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function cb(){let r=N.useContext(nl);return Rm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zw(){let r=N.useContext(sf);return Rm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xm=N.createContext(void 0);xm.displayName="FrameworkContext";function hb(){let r=N.useContext(xm);return Rm(r,"You must render this element inside a <HydratedRouter> element"),r}function Bw(r,e){let n=N.useContext(xm),[s,o]=N.useState(!1),[u,h]=N.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,w=N.useRef(null);N.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=q=>{q.forEach(te=>{h(te.isIntersecting)})},V=new IntersectionObserver(Q,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[r]),N.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},P=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:su(p,k),onBlur:su(m,P),onMouseEnter:su(g,k),onMouseLeave:su(b,P),onTouchStart:su(T,k)}]:[!1,w,{}]}function su(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function qw({page:r,...e}){let{router:n}=cb(),s=N.useMemo(()=>eb(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?N.createElement(Fw,{page:r,matches:s,...e}):null}function Hw(r){let{manifest:e,routeModules:n}=hb(),[s,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return Vw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Fw({page:r,matches:e,...n}){let s=Hr(),{manifest:o,routeModules:u}=hb(),{basename:h}=cb(),{loaderData:p,matches:m}=zw(),g=N.useMemo(()=>f0(r,e,m,o,s,"data"),[r,e,m,o,s]),b=N.useMemo(()=>f0(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=N.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(e.forEach(q=>{let te=o.routes[q.route.id];!te||!te.hasLoader||(!g.some(re=>re.route.id===q.route.id)&&q.route.id in p&&u[q.route.id]?.shouldRevalidate||te.hasClientLoader?Q=!0:P.add(q.route.id))}),P.size===0)return[];let V=Ow(r,h,"data");return Q&&P.size>0&&V.searchParams.set("_routes",e.filter(q=>P.has(q.route.id)).map(q=>q.route.id).join(",")),[V.pathname+V.search]},[h,p,s,o,g,e,r,u]),w=N.useMemo(()=>Lw(b,o),[b,o]),k=Hw(b);return N.createElement(N.Fragment,null,T.map(P=>N.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),w.map(P=>N.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),k.map(({key:P,link:Q})=>N.createElement("link",{key:P,nonce:n.nonce,...Q})))}function Gw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.10.0")}catch{}function Qw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=N.useRef();o.current==null&&(o.current=OA({window:s,v5Compat:!0}));let u=o.current,[h,p]=N.useState({action:u.action,location:u.location}),m=N.useCallback(g=>{n===!1?p(g):N.startTransition(()=>p(g))},[n]);return N.useLayoutEffect(()=>u.listen(m),[u,m]),N.createElement(Tw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pb=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:m,to:g,preventScrollReset:b,viewTransition:T,...w},k){let{basename:P,unstable_useTransitions:Q}=N.useContext(gi),V=typeof g=="string"&&db.test(g),q,te=!1;if(typeof g=="string"&&V&&(q=g,fb))try{let U=new URL(window.location.href),M=g.startsWith("//")?new URL(U.protocol+g):new URL(g),z=Ur(M.pathname,P);M.origin===U.origin&&z!=null?g=z+M.search+M.hash:te=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=ow(g,{relative:o}),[ce,_e,pe]=Bw(s,w),x=Ww(g,{replace:h,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:T,unstable_useTransitions:Q});function R(U){e&&e(U),U.defaultPrevented||x(U)}let C=N.createElement("a",{...w,...pe,href:q||re,onClick:te||u?e:R,ref:Gw(k,_e),target:m,"data-discover":!V&&n==="render"?"true":void 0});return ce&&!V?N.createElement(N.Fragment,null,C,N.createElement(qw,{page:re})):C});pb.displayName="Link";var Yw=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:m,...g},b){let T=ku(h,{relative:g.relative}),w=Hr(),k=N.useContext(sf),{navigator:P,basename:Q}=N.useContext(gi),V=k!=null&&tR(T)&&p===!0,q=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,te=w.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(te=te.toLowerCase(),re=re?re.toLowerCase():null,q=q.toLowerCase()),re&&Q&&(re=Ur(re,Q)||re);const ce=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let _e=te===q||!o&&te.startsWith(q)&&te.charAt(ce)==="/",pe=re!=null&&(re===q||!o&&re.startsWith(q)&&re.charAt(q.length)==="/"),x={isActive:_e,isPending:pe,isTransitioning:V},R=_e?e:void 0,C;typeof s=="function"?C=s(x):C=[s,_e?"active":null,pe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(x):u;return N.createElement(pb,{...g,"aria-current":R,className:C,ref:b,style:U,to:h,viewTransition:p},typeof m=="function"?m(x):m)});Yw.displayName="NavLink";var Kw=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ah,action:p,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:T,...w},k)=>{let{unstable_useTransitions:P}=N.useContext(gi),Q=Zw(),V=eR(p,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",te=typeof p=="string"&&db.test(p),re=ce=>{if(m&&m(ce),ce.defaultPrevented)return;ce.preventDefault();let _e=ce.nativeEvent.submitter,pe=_e?.getAttribute("formmethod")||h,x=()=>Q(_e||ce.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T});P&&n!==!1?N.startTransition(()=>x()):x()};return N.createElement("form",{ref:k,method:q,action:V,onSubmit:s?m:re,...w,"data-discover":!te&&r==="render"?"true":void 0})});Kw.displayName="Form";function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(r){let e=N.useContext(nl);return gt(e,Xw(r)),e}function Ww(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:p}={}){let m=Mu(),g=Hr(),b=ku(r,{relative:u});return N.useCallback(T=>{if(Cw(T,e)){T.preventDefault();let w=n!==void 0?n:vu(g)===vu(b),k=()=>m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h});p?N.startTransition(()=>k()):k()}},[g,m,b,n,s,e,r,o,u,h,p])}var $w=0,Jw=()=>`__${String(++$w)}__`;function Zw(){let{router:r}=mb("useSubmit"),{basename:e}=N.useContext(gi),n=_w(),s=r.fetch,o=r.navigate;return N.useCallback(async(u,h={})=>{let{action:p,method:m,encType:g,formData:b,body:T}=Nw(u,e);if(h.navigate===!1){let w=h.fetcherKey||Jw();await s(w,n,h.action||p,{preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||m,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||p,{preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||m,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function eR(r,{relative:e}={}){let{basename:n}=N.useContext(gi),s=N.useContext(Oi);gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ku(r||".",{relative:e})},h=Hr();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Lr([n,u.pathname])),vu(u)}function tR(r,{relative:e}={}){let n=N.useContext(rb);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mb("useViewTransitionState"),o=ku(r,{relative:e});if(!n.isTransitioning)return!1;let u=Ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lh(o.pathname,h)!=null||Lh(o.pathname,u)!=null}const nR=()=>{};var d0={};const gb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},iR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,b=u>>2,T=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,k=g&63;m||(k=64,h||(w=64)),s.push(n[b],n[T],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new rR;const w=u<<2|p>>4;if(s.push(w),g!==64){const k=p<<4&240|g>>2;if(s.push(k),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(r){const e=gb(r);return yb.encodeByteArray(e,!0)},Ph=function(r){return sR(r).replace(/\./g,"")},_b=function(r){try{return yb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof d0>"u")return;const r=d0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_b(r[1]);return e&&JSON.parse(e)},of=()=>{try{return nR()||oR()||lR()||uR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vb=r=>of()?.emulatorHosts?.[r],Eb=r=>{const e=vb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bb=()=>of()?.config,Tb=r=>of()?.[`_${r}`];class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ba(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cm(r){return(await fetch(r,{credentials:"include"})).ok}function Sb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(h)),""].join(".")}const du={};function hR(){const r={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?r.emulator.push(e):r.prod.push(e);return r}function fR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let p0=!1;function Im(r,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||du[r]===e||du[r]||p0)return;du[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=hR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{p0=!0,h()},w}function b(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=fR(s),k=n("text"),P=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),V=document.getElementById(Q)||document.createElement("a"),q=n("preprendIcon"),te=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),b(V,Q);const ce=g();m(te,q),re.append(te,P,V,ce),document.body.appendChild(re)}u?(P.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function pR(){const r=of()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _R(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vR(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const TR="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?SR(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new lr(o,p,s)}}function SR(r,e){return r.replace(AR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AR=/\{\$([^}]+)}/g;function wR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Va(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(m0(u)&&m0(h)){if(!Va(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function m0(r){return r!==null&&typeof r=="object"}function Lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function au(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ou(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function RR(r,e){const n=new xR(r,e);return n.subscribe.bind(n)}class xR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dp),o.error===void 0&&(o.error=Dp),o.complete===void 0&&(o.complete=Dp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dp(){}function xt(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class IR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(r){return r===Da?void 0:r}function NR(r){return r.instantiationMode==="EAGER"}class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const MR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},kR=je.INFO,VR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},LR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=VR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const PR=(r,e)=>e.some(n=>r instanceof n);let g0,y0;function UR(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,Yp=new WeakMap,wb=new WeakMap,Np=new WeakMap,Nm=new WeakMap;function zR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(zs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,r)}).catch(()=>{}),Nm.set(e,r),e}function BR(r){if(Yp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Yp.set(r,e)}let Kp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Yp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qR(r){Kp=r(Kp)}function HR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Op(this),e,...n);return wb.set(s,e.sort?e.sort():[e]),zs(s)}:jR().includes(r)?function(...e){return r.apply(Op(this),e),zs(Ab.get(this))}:function(...e){return zs(r.apply(Op(this),e))}}function FR(r){return typeof r=="function"?HR(r):(r instanceof IDBTransaction&&BR(r),PR(r,UR())?new Proxy(r,Kp):r)}function zs(r){if(r instanceof IDBRequest)return zR(r);if(Np.has(r))return Np.get(r);const e=FR(r);return e!==r&&(Np.set(r,e),Nm.set(e,r)),e}const Op=r=>Nm.get(r);function GR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=zs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(zs(h.result),m.oldVersion,m.newVersion,zs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const QR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],Mp=new Map;function _0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(n)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Mp.set(e,u),u}qR(r=>({...r,get:(e,n,s)=>_0(e,n)||r.get(e,n,s),has:(e,n)=>!!_0(e,n)||r.has(e,n)}));class KR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function XR(r){return r.getComponent()?.type==="VERSION"}const Xp="@firebase/app",v0="0.14.6";const jr=new Dm("@firebase/app"),WR="@firebase/app-compat",$R="@firebase/analytics-compat",JR="@firebase/analytics",ZR="@firebase/app-check-compat",ex="@firebase/app-check",tx="@firebase/auth",nx="@firebase/auth-compat",ix="@firebase/database",rx="@firebase/data-connect",sx="@firebase/database-compat",ax="@firebase/functions",ox="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",cx="@firebase/messaging",hx="@firebase/messaging-compat",fx="@firebase/performance",dx="@firebase/performance-compat",px="@firebase/remote-config",mx="@firebase/remote-config-compat",gx="@firebase/storage",yx="@firebase/storage-compat",_x="@firebase/firestore",vx="@firebase/ai",Ex="@firebase/firestore-compat",bx="firebase",Tx="12.6.0";const Wp="[DEFAULT]",Sx={[Xp]:"fire-core",[WR]:"fire-core-compat",[JR]:"fire-analytics",[$R]:"fire-analytics-compat",[ex]:"fire-app-check",[ZR]:"fire-app-check-compat",[tx]:"fire-auth",[nx]:"fire-auth-compat",[ix]:"fire-rtdb",[rx]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[ox]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[cx]:"fire-fcm",[hx]:"fire-fcm-compat",[fx]:"fire-perf",[dx]:"fire-perf-compat",[px]:"fire-rc",[mx]:"fire-rc-compat",[gx]:"fire-gcs",[yx]:"fire-gcs-compat",[_x]:"fire-fst",[Ex]:"fire-fst-compat",[vx]:"fire-vertex","fire-js":"fire-js",[bx]:"fire-js-all"};const Uh=new Map,Ax=new Map,$p=new Map;function E0(r,e){try{r.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function La(r){const e=r.name;if($p.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,r);for(const n of Uh.values())E0(n,r);for(const n of Ax.values())E0(n,r);return!0}function lf(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function di(r){return r==null?!1:r.settings!==void 0}const wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Vu("app","Firebase",wx);class Rx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}const qa=Tx;function Rb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Wp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Bs.create("bad-app-name",{appName:String(o)});if(n||(n=bb()),!n)throw Bs.create("no-options");const u=Uh.get(o);if(u){if(Va(n,u.options)&&Va(s,u.config))return u;throw Bs.create("duplicate-app",{appName:o})}const h=new OR(o);for(const m of $p.values())h.addComponent(m);const p=new Rx(n,s,h);return Uh.set(o,p),p}function Om(r=Wp){const e=Uh.get(r);if(!e&&r===Wp&&bb())return Rb();if(!e)throw Bs.create("no-app",{appName:r});return e}function Ji(r,e,n){let s=Sx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(h.join(" "));return}La(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const xx="firebase-heartbeat-database",Cx=1,Eu="firebase-heartbeat-store";let kp=null;function xb(){return kp||(kp=GR(xx,Cx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Bs.create("idb-open",{originalErrorMessage:r.message})})),kp}async function Ix(r){try{const n=(await xb()).transaction(Eu),s=await n.objectStore(Eu).get(Cb(r));return await n.done,s}catch(e){if(e instanceof lr)jr.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}}async function b0(r,e){try{const s=(await xb()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,Cb(r)),await s.done}catch(n){if(n instanceof lr)jr.warn(n.message);else{const s=Bs.create("idb-set",{originalErrorMessage:n?.message});jr.warn(s.message)}}}function Cb(r){return`${r.name}!${r.options.appId}`}const Dx=1024,Nx=30;class Ox{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=T0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Nx){const o=Vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T0(),{heartbeatsToSend:n,unsentEntries:s}=Mx(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return jr.warn(e),""}}}function T0(){return new Date().toISOString().substring(0,10)}function Mx(r,e=Dx){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),S0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?bR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ix(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S0(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function Vx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Lx(r){La(new Gs("platform-logger",e=>new KR(e),"PRIVATE")),La(new Gs("heartbeat",e=>new Ox(e),"PRIVATE")),Ji(Xp,v0,r),Ji(Xp,v0,"esm2020"),Ji("fire-js","")}Lx("");var Px="firebase",Ux="12.6.0";Ji(Px,Ux,"app");function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jx=Ib,Db=new Vu("auth","Firebase",Ib());const jh=new Dm("@firebase/auth");function zx(r,...e){jh.logLevel<=je.WARN&&jh.warn(`Auth (${qa}): ${r}`,...e)}function Rh(r,...e){jh.logLevel<=je.ERROR&&jh.error(`Auth (${qa}): ${r}`,...e)}function Di(r,...e){throw Mm(r,...e)}function Zi(r,...e){return Mm(r,...e)}function Nb(r,e,n){const s={...jx(),[e]:n};return new Vu("auth","Firebase",s).create(e,{appName:r.name})}function qs(r){return Nb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Db.create(r,...e)}function be(r,e,...n){if(!r)throw Mm(e,...n)}function kr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rh(e),new Error(e)}function zr(r,e){r||kr(e)}function Jp(){return typeof self<"u"&&self.location?.href||""}function Bx(){return A0()==="http:"||A0()==="https:"}function A0(){return typeof self<"u"&&self.location?.protocol||null}function qx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bx()||gR()||"connection"in navigator)?navigator.onLine:!0}function Hx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=dR()||yR()}get(){return qx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(r,e){zr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ob{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Gx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qx=new Pu(3e4,6e4);function Js(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ur(r,e,n,s,o={}){return Mb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=Lu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...u};return mR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ba(r.emulatorConfig.host)&&(g.credentials="include"),Ob.fetch()(await kb(r,r.config.apiHost,n,p),g)})}async function Mb(r,e,n){r._canInitEmulator=!1;const s={...Fx,...e};try{const o=new Kx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw yh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw yh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw yh(r,"user-disabled",h);const b=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Nb(r,b,g);Di(r,b)}}catch(o){if(o instanceof lr)throw o;Di(r,"network-request-failed",{message:String(o)})}}async function uf(r,e,n,s,o={}){const u=await ur(r,e,n,s,o);return"mfaPendingCredential"in u&&Di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?km(r.config,o):`${r.config.apiScheme}://${o}`;return Gx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function Yx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zi(this.auth,"network-request-failed")),Qx.get())})}}function yh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zi(r,e,s);return o.customData._tokenResponse=n,o}function w0(r){return r!==void 0&&r.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wx(r,e){return ur(r,"GET","/v2/recaptchaConfig",Js(r,e))}async function $x(r,e){return ur(r,"POST","/v1/accounts:delete",e)}async function zh(r,e){return ur(r,"POST","/v1/accounts:lookup",e)}function pu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jx(r,e=!1){const n=xt(r),s=await n.getIdToken(e),o=Vm(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:pu(Vp(o.auth_time)),issuedAtTime:pu(Vp(o.iat)),expirationTime:pu(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vp(r){return Number(r)*1e3}function Vm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=_b(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R0(r){const e=Vm(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&Zx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Zx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bh(r){const e=r.auth,n=await r.getIdToken(),s=await Yo(r,zh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Vb(o.providerUserInfo):[],h=nC(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!h?.length,g=p?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function tC(r){const e=xt(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Vb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iC(r,e){const n=await Mb(r,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await kb(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ba(r.emulatorConfig.host)&&(m.credentials="include"),Ob.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rC(r,e){return ur(r,"POST","/v2/accounts:revokeToken",Js(r,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=R0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ho;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return kr("not implemented")}}function ks(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ci{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yo(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jx(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await Yo(this,$x(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:P,stsTokenManager:Q}=n;be(T&&Q,e,"internal-error");const V=Ho.fromJSON(this.name,Q);be(typeof T=="string",e,"internal-error"),ks(s,e.name),ks(o,e.name),be(typeof w=="boolean",e,"internal-error"),be(typeof k=="boolean",e,"internal-error"),ks(u,e.name),ks(h,e.name),ks(p,e.name),ks(m,e.name),ks(g,e.name),ks(b,e.name);const q=new Ci({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:V,createdAt:g,lastLoginAt:b});return P&&Array.isArray(P)&&(q.providerData=P.map(te=>({...te}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ho;o.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Vb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Ho;p.updateFromIdToken(s);const m=new Ci({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}const x0=new Map;function Vr(r){zr(r instanceof Function,"Expected a class definition");let e=x0.get(r);return e?(zr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,x0.set(r,e),e)}class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lb.type="NONE";const C0=Lb;function xh(r,e,n){return`firebase:${r}:${e}:${n}`}class Fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=xh(this.userKey,o.apiKey,u),this.fullPersistenceKey=xh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fo(Vr(C0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Vr(C0);const h=xh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const b=await g._get(h);if(b){let T;if(typeof b=="string"){const w=await zh(e,{idToken:b}).catch(()=>{});if(!w)break;T=await Ci._fromGetAccountInfoResponse(e,w,b)}else T=Ci._fromJSON(e,b);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Fo(u,e,s):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Fo(u,e,s))}}function I0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Hb(e))return"Webos";if(Ub(e))return"Safari";if((e.includes("chrome/")||jb(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Pb(r=hn()){return/firefox\//i.test(r)}function Ub(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jb(r=hn()){return/crios\//i.test(r)}function zb(r=hn()){return/iemobile/i.test(r)}function Bb(r=hn()){return/android/i.test(r)}function qb(r=hn()){return/blackberry/i.test(r)}function Hb(r=hn()){return/webos/i.test(r)}function Lm(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sC(r=hn()){return Lm(r)&&!!window.navigator?.standalone}function aC(){return _R()&&document.documentMode===10}function Fb(r=hn()){return Lm(r)||Bb(r)||Hb(r)||qb(r)||/windows phone/i.test(r)||zb(r)}function Gb(r,e=[]){let n;switch(r){case"Browser":n=I0(hn());break;case"Worker":n=`${I0(hn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qa}/${s}`}class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lC(r,e={}){return ur(r,"GET","/v2/passwordPolicy",Js(r,e))}const uC=6;class cC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class hC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),s=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(qs(this));const n=e?xt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),n=new cC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(r){return xt(r)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){cf=r}function Qb(r){return cf.loadJS(r)}function dC(){return cf.recaptchaEnterpriseScript}function pC(){return cf.gapiScript}function mC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class gC{constructor(){this.enterprise=new yC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _C="recaptcha-enterprise",Yb="NO_RECAPTCHA";class vC{constructor(e){this.type=_C,this.auth=Ha(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{Wx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Xx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,h,p){const m=window.grecaptcha;w0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Yb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!n&&w0(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=dC();m.length!==0&&(m+=p),Qb(m).then(()=>{o(p,u,h)}).catch(g=>{h(g)})}}).catch(p=>{h(p)})})}}async function N0(r,e,n,s=!1,o=!1){const u=new vC(r);let h;if(o)h=Yb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function em(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await N0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await N0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function EC(r,e){const n=lf(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Va(u,e??{}))return o;Di(o,"already-initialized")}return n.initialize({options:e})}function bC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function TC(r,e,n){const s=Ha(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Kb(e),{host:h,port:p}=SC(e),m=p===null?"":`:${p}`,g={url:`${u}//${h}${m}/`},b=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Va(g,s.config.emulator)&&Va(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Ba(h)?(Cm(`${u}//${h}${m}`),Im("Auth",!0)):AC()}function Kb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SC(r){const e=Kb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:O0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:O0(h)}}}function O0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function wC(r,e){return ur(r,"POST","/v1/accounts:update",e)}async function RC(r,e){return ur(r,"POST","/v1/accounts:signUp",e)}async function xC(r,e){return uf(r,"POST","/v1/accounts:signInWithPassword",Js(r,e))}async function CC(r,e){return ur(r,"POST","/v1/accounts:sendOobCode",Js(r,e))}async function IC(r,e){return CC(r,e)}async function DC(r,e){return uf(r,"POST","/v1/accounts:signInWithEmailLink",Js(r,e))}async function NC(r,e){return uf(r,"POST","/v1/accounts:signInWithEmailLink",Js(r,e))}class bu extends Pm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,n,"signInWithPassword",xC);case"emailLink":return DC(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(e,s,"signUpPassword",RC);case"emailLink":return NC(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(r,e){return uf(r,"POST","/v1/accounts:signInWithIdp",Js(r,e))}const OC="http://localhost";class Pa extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Pa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:OC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}function MC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kC(r){const e=au(ou(r)).link,n=e?au(ou(e)).deep_link_id:null,s=au(ou(r)).deep_link_id;return(s?au(ou(s)).link:null)||s||n||e||r}class Um{constructor(e){const n=au(ou(e)),s=n.apiKey??null,o=n.oobCode??null,u=MC(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kC(e);try{return new Um(n)}catch{return null}}}class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Um.parseLink(n);return be(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uu extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vs extends Uu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";class Ls extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ls.credential(n,s)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Uu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class Us extends Uu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Us.credential(n,s)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ci._fromIdTokenResponse(e,s,o),h=M0(s);return new Ko({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=M0(s);return new Ko({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function M0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class qh extends lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function Wb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function VC(r,e,n=!1){const s=await Yo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ko._forOperation(r,"link",s)}async function $b(r,e,n=!1){const{auth:s}=r;if(di(s.app))return Promise.reject(qs(s));const o="reauthenticate";try{const u=await Yo(r,Wb(s,o,e,r),n);be(u.idToken,s,"internal-error");const h=Vm(u.idToken);be(h,s,"internal-error");const{sub:p}=h;return be(r.uid===p,s,"user-mismatch"),Ko._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Di(s,"user-mismatch"),u}}async function Jb(r,e,n=!1){if(di(r.app))return Promise.reject(qs(r));const s="signIn",o=await Wb(r,s,e),u=await Ko._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LC(r,e){return Jb(Ha(r),e)}async function PC(r,e){return $b(xt(r),e)}async function UC(r){const e=Ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jC(r,e,n){const s=Ha(r);await em(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IC)}function zC(r,e,n){return di(r.app)?Promise.reject(qs(r)):LC(xt(r),Fa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UC(r),s})}function BC(r,e){return qC(xt(r),null,e)}async function qC(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await Yo(r,wC(s,u));await r._updateTokensIfNecessary(h,!0)}function HC(r,e,n,s){return xt(r).onIdTokenChanged(e,n,s)}function FC(r,e,n){return xt(r).beforeAuthStateChanged(e,n)}const Hh="__sak";class Zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,QC=10;class e1 extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);aC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e1.type="LOCAL";const YC=e1;class t1 extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t1.type="SESSION";const n1=t1;function KC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async g=>g(n.origin,u)),m=await KC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];function jm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const g=jm("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(b),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function er(){return window}function WC(r){er().location.href=r}function i1(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function $C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){return navigator?.serviceWorker?.controller||null}function ZC(){return i1()?self:null}const r1="firebaseLocalStorageDb",eI=1,Fh="firebaseLocalStorage",s1="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function tI(){const r=indexedDB.deleteDatabase(r1);return new ju(r).toPromise()}function tm(){const r=indexedDB.open(r1,eI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:s1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await tI(),e(await tm()))})})}async function k0(r,e,n){const s=ff(r,!0).put({[s1]:e,value:n});return new ju(s).toPromise()}async function nI(r,e){const n=ff(r,!1).get(e),s=await new ju(n).toPromise();return s===void 0?null:s.value}function V0(r,e){const n=ff(r,!0).delete(e);return new ju(n).toPromise()}const iI=800,rI=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tm();return await k0(e,Hh,"1"),await V0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new ju(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const sI=a1;new Pu(3e4,6e4);function aI(r,e){return e?Vr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class zm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oI(r){return Jb(r.auth,new zm(r),r.bypassAuthState)}function lI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),$b(n,new zm(r),r.bypassAuthState)}async function uI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),VC(n,new zm(r),r.bypassAuthState)}class o1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return uI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:Di(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cI=new Pu(2e3,1e4);class qo extends o1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}qo.currentPopupAction=null;const hI="pendingRedirect",Ch=new Map;class fI extends o1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await dI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(r,e){const n=gI(e),s=mI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function pI(r,e){Ch.set(r._key(),e)}function mI(r){return Vr(r._redirectPersistence)}function gI(r){return xh(hI,r.config.apiKey,r.name)}async function yI(r,e,n=!1){if(di(r.app))return Promise.reject(qs(r));const s=Ha(r),o=aI(s,e),h=await new fI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const _I=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!l1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function l1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function EI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(r);default:return!1}}async function bI(r,e={}){return ur(r,"GET","/v1/projects",e)}const TI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;async function AI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bI(r);for(const n of e)try{if(wI(n))return}catch{}Di(r,"unauthorized-domain")}function wI(r){const e=Jp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!SI.test(n))return!1;if(TI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RI=new Pu(3e4,6e4);function P0(){const r=er().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xI(r){return new Promise((e,n)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),n(Zi(r,"network-request-failed"))},timeout:RI.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)s();else{const o=mC("iframefcb");return er()[o]=()=>{gapi.load?s():n(Zi(r,"network-request-failed"))},Qb(`${pC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function CI(r){return Ih=Ih||xI(r),Ih}const II=new Pu(5e3,15e3),DI="__/auth/iframe",NI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?km(e,NI):`https://${r.config.authDomain}/${DI}`,s={apiKey:e.apiKey,appName:r.name,v:qa},o=MI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Lu(s).slice(1)}`}async function VI(r){const e=await CI(r),n=er().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:kI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Zi(r,"network-request-failed"),p=er().setTimeout(()=>{u(h)},II.get());function m(){er().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(h)})}))}const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,UI=600,jI="_blank",zI="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(r,e,n,s=PI,o=UI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...LI,width:s.toString(),height:o.toString(),top:u,left:h},g=hn().toLowerCase();n&&(p=jb(g)?jI:n),Pb(g)&&(e=e||zI,m.scrollbars="yes");const b=Object.entries(m).reduce((w,[k,P])=>`${w}${k}=${P},`,"");if(sC(g)&&p!=="_self")return qI(e||"",p),new U0(null);const T=window.open(e||"",p,b);be(T,r,"popup-blocked");try{T.focus()}catch{}return new U0(T)}function qI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const HI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function j0(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:qa,eventId:o};if(e instanceof Xb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",wR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof Uu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const m=await r._getAppCheckToken(),g=m?`#${GI}=${encodeURIComponent(m)}`:"";return`${QI(r)}?${Lu(p).slice(1)}${g}`}function QI({config:r}){return r.emulator?km(r,FI):`https://${r.authDomain}/${HI}`}const Lp="webStorageSupport";class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=yI,this._overrideRedirectResult=pI}async _openPopup(e,n,s,o){zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await j0(e,n,s,Jp(),o);return BI(e,u,jm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await j0(e,n,s,Jp(),o);return WC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(zr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VI(e),s=new vI(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},o=>{const u=o?.[0]?.[Lp];u!==void 0&&n(!!u),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Ub()||Lm()}}const KI=YI;var z0="@firebase/auth",B0="1.11.1";class XI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(r){La(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(r)},g=new hC(s,o,u,m);return bC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),La(new Gs("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(s=>new XI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(z0,B0,WI(r)),Ji(z0,B0,"esm2020")}const JI=300,ZI=Tb("authIdTokenMaxAge")||JI;let q0=null;const e2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZI)return;const o=n?.token;q0!==o&&(q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t2(r=Om()){const e=lf(r,"auth");if(e.isInitialized())return e.getImmediate();const n=EC(r,{popupRedirectResolver:KI,persistence:[sI,YC,n1]}),s=Tb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=e2(u.toString());FC(n,h,()=>h(n.currentUser)),HC(n,p=>h(p))}}const o=vb("auth");return o&&TC(n,`http://${o}`),n}function n2(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Zi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",n2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,u1;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(U,M,z){for(var I=Array(arguments.length-2),et=2;et<arguments.length;et++)I[et-2]=arguments[et];return R.prototype[M].apply(U,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const U=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)U[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)U[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],M=x.g[2];let z=x.g[3],I;I=R+(z^C&(M^z))+U[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=z+(M^R&(C^M))+U[1]+3905402710&4294967295,z=R+(I<<12&4294967295|I>>>20),I=M+(C^z&(R^C))+U[2]+606105819&4294967295,M=z+(I<<17&4294967295|I>>>15),I=C+(R^M&(z^R))+U[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(z^C&(M^z))+U[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=z+(M^R&(C^M))+U[5]+1200080426&4294967295,z=R+(I<<12&4294967295|I>>>20),I=M+(C^z&(R^C))+U[6]+2821735955&4294967295,M=z+(I<<17&4294967295|I>>>15),I=C+(R^M&(z^R))+U[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(z^C&(M^z))+U[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=z+(M^R&(C^M))+U[9]+2336552879&4294967295,z=R+(I<<12&4294967295|I>>>20),I=M+(C^z&(R^C))+U[10]+4294925233&4294967295,M=z+(I<<17&4294967295|I>>>15),I=C+(R^M&(z^R))+U[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(z^C&(M^z))+U[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=z+(M^R&(C^M))+U[13]+4254626195&4294967295,z=R+(I<<12&4294967295|I>>>20),I=M+(C^z&(R^C))+U[14]+2792965006&4294967295,M=z+(I<<17&4294967295|I>>>15),I=C+(R^M&(z^R))+U[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(M^z&(C^M))+U[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=z+(C^M&(R^C))+U[6]+3225465664&4294967295,z=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(z^R))+U[11]+643717713&4294967295,M=z+(I<<14&4294967295|I>>>18),I=C+(z^R&(M^z))+U[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^z&(C^M))+U[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=z+(C^M&(R^C))+U[10]+38016083&4294967295,z=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(z^R))+U[15]+3634488961&4294967295,M=z+(I<<14&4294967295|I>>>18),I=C+(z^R&(M^z))+U[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^z&(C^M))+U[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=z+(C^M&(R^C))+U[14]+3275163606&4294967295,z=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(z^R))+U[3]+4107603335&4294967295,M=z+(I<<14&4294967295|I>>>18),I=C+(z^R&(M^z))+U[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^z&(C^M))+U[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=z+(C^M&(R^C))+U[2]+4243563512&4294967295,z=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(z^R))+U[7]+1735328473&4294967295,M=z+(I<<14&4294967295|I>>>18),I=C+(z^R&(M^z))+U[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(C^M^z)+U[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=z+(R^C^M)+U[8]+2272392833&4294967295,z=R+(I<<11&4294967295|I>>>21),I=M+(z^R^C)+U[11]+1839030562&4294967295,M=z+(I<<16&4294967295|I>>>16),I=C+(M^z^R)+U[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^z)+U[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=z+(R^C^M)+U[4]+1272893353&4294967295,z=R+(I<<11&4294967295|I>>>21),I=M+(z^R^C)+U[7]+4139469664&4294967295,M=z+(I<<16&4294967295|I>>>16),I=C+(M^z^R)+U[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^z)+U[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=z+(R^C^M)+U[0]+3936430074&4294967295,z=R+(I<<11&4294967295|I>>>21),I=M+(z^R^C)+U[3]+3572445317&4294967295,M=z+(I<<16&4294967295|I>>>16),I=C+(M^z^R)+U[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^z)+U[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=z+(R^C^M)+U[12]+3873151461&4294967295,z=R+(I<<11&4294967295|I>>>21),I=M+(z^R^C)+U[15]+530742520&4294967295,M=z+(I<<16&4294967295|I>>>16),I=C+(M^z^R)+U[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(M^(C|~z))+U[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=z+(C^(R|~M))+U[7]+1126891415&4294967295,z=R+(I<<10&4294967295|I>>>22),I=M+(R^(z|~C))+U[14]+2878612391&4294967295,M=z+(I<<15&4294967295|I>>>17),I=C+(z^(M|~R))+U[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~z))+U[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=z+(C^(R|~M))+U[3]+2399980690&4294967295,z=R+(I<<10&4294967295|I>>>22),I=M+(R^(z|~C))+U[10]+4293915773&4294967295,M=z+(I<<15&4294967295|I>>>17),I=C+(z^(M|~R))+U[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~z))+U[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=z+(C^(R|~M))+U[15]+4264355552&4294967295,z=R+(I<<10&4294967295|I>>>22),I=M+(R^(z|~C))+U[6]+2734768916&4294967295,M=z+(I<<15&4294967295|I>>>17),I=C+(z^(M|~R))+U[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~z))+U[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=z+(C^(R|~M))+U[11]+3174756917&4294967295,z=R+(I<<10&4294967295|I>>>22),I=M+(R^(z|~C))+U[2]+718787259&4294967295,M=z+(I<<15&4294967295|I>>>17),I=C+(z^(M|~R))+U[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,U=this.C;let M=this.h,z=0;for(;z<R;){if(M==0)for(;z<=C;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<R;)if(U[M++]=x.charCodeAt(z++),M==this.blockSize){o(this,U),M=0;break}}else for(;z<R;)if(U[M++]=x[z++],M==this.blockSize){o(this,U),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let U=0;U<32;U+=8)x[R++]=this.g[C]>>>U&255;return x};function u(x,R){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let U=!0;for(let M=x.length-1;M>=0;M--){const z=x[M]|0;U&&z==R||(C[M]=z,U=!1)}this.g=C}var p={};function m(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return V(g(-x));const R=[];let C=1;for(let U=0;x>=C;U++)R[U]=x/C|0,C*=4294967296;return new h(R,0)}function b(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return V(b(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let U=T;for(let z=0;z<x.length;z+=8){var M=Math.min(8,x.length-z);const I=parseInt(x.substring(z,z+M),R);M<8?(M=g(Math.pow(R,M)),U=U.j(M).add(g(I))):(U=U.j(C),U=U.add(g(I)))}return U}var T=m(0),w=m(1),k=m(16777216);r=h.prototype,r.m=function(){if(Q(this))return-V(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const U=this.i(C);x+=(U>=0?U:4294967296+U)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(Q(this))return"-"+V(this).toString(x);const R=g(Math.pow(x,6));var C=this;let U="";for(;;){const M=ce(C,R).g;C=q(C,M.j(R));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=M,P(C))return z+U;for(;z.length<6;)z="0"+z;U=z+U}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=q(this,x),Q(x)?-1:P(x)?0:1};function V(x){const R=x.g.length,C=[];for(let U=0;U<R;U++)C[U]=~x.g[U];return new h(C,~x.h).add(w)}r.abs=function(){return Q(this)?V(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let U=0;for(let M=0;M<=R;M++){let z=U+(this.i(M)&65535)+(x.i(M)&65535),I=(z>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);U=I>>>16,z&=65535,I&=65535,C[M]=I<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(x,R){return x.add(V(R))}r.j=function(x){if(P(this)||P(x))return T;if(Q(this))return Q(x)?V(this).j(V(x)):V(V(this).j(x));if(Q(x))return V(this.j(V(x)));if(this.l(k)<0&&x.l(k)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var U=0;U<2*R;U++)C[U]=0;for(U=0;U<this.g.length;U++)for(let M=0;M<x.g.length;M++){const z=this.i(U)>>>16,I=this.i(U)&65535,et=x.i(M)>>>16,Tt=x.i(M)&65535;C[2*U+2*M]+=I*Tt,te(C,2*U+2*M),C[2*U+2*M+1]+=z*Tt,te(C,2*U+2*M+1),C[2*U+2*M+1]+=I*et,te(C,2*U+2*M+1),C[2*U+2*M+2]+=z*et,te(C,2*U+2*M+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function te(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function ce(x,R){if(P(R))throw Error("division by zero");if(P(x))return new re(T,T);if(Q(x))return R=ce(V(x),R),new re(V(R.g),V(R.h));if(Q(R))return R=ce(x,V(R)),new re(V(R.g),R.h);if(x.g.length>30){if(Q(x)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,U=R;U.l(x)<=0;)C=_e(C),U=_e(U);var M=pe(C,1),z=pe(U,1);for(U=pe(U,2),C=pe(C,2);!P(U);){var I=z.add(U);I.l(x)<=0&&(M=M.add(C),z=I),U=pe(U,1),C=pe(C,1)}return R=q(x,M.j(R)),new re(M,R)}for(M=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),U=Math.ceil(Math.log(C)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),z=g(C),I=z.j(R);Q(I)||I.l(x)>0;)C-=U,z=g(C),I=z.j(R);P(z)&&(z=w),M=M.add(z),x=q(x,I)}return new re(M,x)}r.B=function(x){return ce(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)&x.i(U);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)|x.i(U);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let U=0;U<R;U++)C[U]=this.i(U)^x.i(U);return new h(C,this.h^x.h)};function _e(x){const R=x.g.length+1,C=[];for(let U=0;U<R;U++)C[U]=x.i(U)<<1|x.i(U-1)>>>31;return new h(C,x.h)}function pe(x,R){const C=R>>5;R%=32;const U=x.g.length-C,M=[];for(let z=0;z<U;z++)M[z]=R>0?x.i(z+C)>>>R|x.i(z+C+1)<<32-R:x.i(z+C);return new h(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,u1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,Hs=h}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c1,lu,h1,Dh,nm,f1,d1,p1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in E))break e;E=E[H]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},h=this||self;function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function m(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=m,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,H,K){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[H].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function P(c,y){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=c.length||0;const K=H.length||0;c.length=E+K;for(let se=0;se<K;se++)c[E+se]=H[se]}else c.push(H)}}class Q{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){h.setTimeout(()=>{throw c},0)}function q(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,E){const A=re.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Q(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,x=new te,R=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(C)}};function C(){for(var c;c=q();){try{c.h.call(c.g)}catch(E){V(E)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}pe=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function et(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(et,M),et.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(c,y,E,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=H,this.key=++W,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ve(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Fe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function O(c){const y={};for(const E in c)y[E]=c[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)c[E]=A[E];for(let K=0;K<J.length;K++)E=J[K],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,A,H){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Se(c,y,A,H);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!A,H),y.fa=E,c.push(y)),y};function Ee(c,y){const E=y.type;if(E in c.g){var A=c.g[E],H=Array.prototype.indexOf.call(A,y,void 0),K;(K=H>=0)&&Array.prototype.splice.call(A,H,1),K&&(me(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Se(c,y,E,A){for(let H=0;H<c.length;++H){const K=c[H];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==A)return H}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),yt={};function at(c,y,E,A,H){if(Array.isArray(y)){for(let K=0;K<y.length;K++)at(c,y[K],E,A,H);return null}return E=Qr(E),c&&c[Tt]?c.J(y,E,p(A)?!!A.capture:!1,H):yi(c,y,E,!1,A,H)}function yi(c,y,E,A,H,K){if(!y)throw Error("Invalid event type");const se=p(H)?!!H.capture:!!H;let Ce=_i(c);if(Ce||(c[Oe]=Ce=new ue(c)),E=Ce.add(y,E,A,se,K),E.proxy)return E;if(A=hr(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)z||(H=se),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(En(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hr(){function c(E){return y.call(c.src,c.listener,E)}const y=Gr;return c}function Mi(c,y,E,A,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)Mi(c,y[K],E,A,H);else A=p(A)?!!A.capture:!!A,E=Qr(E),c&&c[Tt]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Se(y,E,A,H),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=_i(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,E,A,H)),(E=c>-1?y[c]:null)&&ki(E))}function ki(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Tt])Ee(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(En(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=_i(y))?(Ee(E,c),E.h==0&&(E.src=null,y[Oe]=null)):me(c)}}}function En(c){return c in yt?yt[c]:yt[c]="on"+c}function Gr(c,y){if(c.da)c=!0;else{y=new et(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&ki(c),c=E.call(A,y)}return c}function _i(c){return c=c[Oe],c instanceof ue?c:null}var ta="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qr(c){return typeof c=="function"?c:(c[ta]||(c[ta]=function(y){return c.handleEvent(y)}),c[ta])}function ft(){U.call(this),this.i=new ue(this),this.M=this,this.G=null}T(ft,U),ft.prototype[Tt]=!0,ft.prototype.removeEventListener=function(c,y,E,A){Mi(this,c,y,E,A)};function _t(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var H=y;y=new M(A,c),oe(y,H)}H=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],H=Qn(K,A,!0,y)&&H;if(K=y.g=c,H=Qn(K,A,!0,y)&&H,H=Qn(K,A,!1,y)&&H,E)for(se=0;se<E.length;se++)K=y.g=E[se],H=Qn(K,A,!1,y)&&H}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)me(E[A]);delete c.g[y],c.h--}}this.G=null},ft.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},ft.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Qn(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const Ce=se.listener,Ct=se.ha||se.src;se.fa&&Ee(c.i,se),H=Ce.call(Ct,A)!==!1&&H}}return H&&!A.defaultPrevented}function na(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function ia(c){c.g=na(()=>{c.g=null,c.i&&(c.i=!1,ia(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ht extends U{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(c){U.call(this),this.h=c,this.g={}}T(Yn,U);var Vi=[];function Yr(c){Ve(c.g,function(y,E){this.g.hasOwnProperty(E)&&ki(y)},c),c.g={}}Yn.prototype.N=function(){Yn.Z.N.call(this),Yr(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=h.JSON.stringify,ra=h.JSON.parse,Kr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function sa(){}function Xr(){}var bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){M.call(this,"d")}T(Ot,M);function fn(){M.call(this,"c")}T(fn,M);var dt={},Wr=null;function fr(){return Wr=Wr||new ft}dt.Ia="serverreachability";function $r(c){M.call(this,dt.Ia,c)}T($r,M);function Mn(c){const y=fr();_t(y,new $r(y))}dt.STAT_EVENT="statevent";function Xn(c,y){M.call(this,dt.STAT_EVENT,c),this.stat=y}T(Xn,M);function vt(c){const y=fr();_t(y,new Xn(y,c))}dt.Ja="timingevent";function Tn(c,y){M.call(this,dt.Ja,c),this.size=y}T(Tn,M);function dn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function pn(){this.g=!0}pn.prototype.ua=function(){this.g=!1};function Ya(c,y,E,A,H,K){c.info(function(){if(c.g)if(K){var se="",Ce=K.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Ct=Ce[Ke].split("=");if(Ct.length>1){const pt=Ct[0];Ct=Ct[1];const ii=pt.split("_");se=ii.length>=2&&ii[1]=="type"?se+(pt+"="+Ct+"&"):se+(pt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+E+`
`+se})}function Jr(c,y,E,A,H,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+E+`
`+K+" "+se})}function kn(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ka(c,E)+(A?" "+A:"")})}function Wn(c,y){c.info(function(){return"TIMEOUT: "+y})}pn.prototype.info=function(){};function Ka(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Kn(K)}catch{return y}}var vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zr;function dr(){}T(dr,sa),dr.prototype.g=function(){return new XMLHttpRequest},Zr=new dr;function an(c){return encodeURIComponent(String(c))}function Xa(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Vn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var St={},Mt={};function $n(c,y,E){c.M=1,c.A=aa(Vt(y)),c.u=E,c.R=!0,es(c,null)}function es(c,y){c.F=Date.now(),Jn(c),c.B=Vt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),eo(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Ln,c.g=uc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new Ht(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Vi[0]=H.toString()),H=Vi);for(let K=0;K<H.length;K++){const se=at(E,H[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Mn(),Ya(c.i,c.v,c.B,c.l,c.S,c.u)}Vn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Ti(c)==3?y.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Ti(this.g),Ct=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ce!=4||Ct==7||(Ct==8||Ke<=0?Mn(3):Mn(2)),Zn(this);var y=this.g.ca();this.X=y;var E=ul(this);if(this.o=y==200,Jr(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(c=K)kn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),Sn(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<E.length;)if(pt=$a(this,E),pt==Mt){Ce==4&&(this.m=4,vt(14),c=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==St){this.m=4,vt(15),kn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else kn(this.i,this.l,pt,null),ei(this,pt);if(Wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)kn(this.i,this.l,E,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),El(se),se.P=!0,vt(11))}}else kn(this.i,this.l,E,null),ei(this,E);Ce==4&&mn(this),this.o&&!this.K&&(Ce==4?sc(this.j,this):(this.o=!1,Jn(this)))}else gr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),Sn(this)}}}catch{}finally{}};function ul(c){if(!Wa(c))return c.g.la();const y=$t(c.g);if(y==="")return"";let E="";const A=y.length,H=Ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),Sn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(H&&K==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Wa(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function $a(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Mt:(E=Number(y.substring(E,A)),isNaN(E)?St:(A+=1,A+E>y.length?Mt:(y=y.slice(A,A+E),c.C=A+E,y)))}Vn.prototype.cancel=function(){this.K=!0,mn(this)};function Jn(c){c.T=Date.now()+c.H,ts(c,c.H)}function ts(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=dn(g(c.aa,c),y)}function Zn(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Vn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Wn(this.i,this.B),this.M!=2&&(Mn(),vt(17)),mn(this),this.m=2,Sn(this)):ts(this,this.T-c)};function Sn(c){c.j.I==0||c.K||sc(c.j,c)}function mn(c){Zn(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Yr(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ei(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||kt(E.h,c))){if(!c.L&&kt(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)so(E),cs(E);else break e;da(E),vt(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=dn(g(E.Va,E),6e3));Ge(E.h)<=1&&E.ta&&(E.ta=void 0)}else qi(E,11)}else if((c.L||E.g==c)&&so(E),!I(y))for(H=E.Ba.g.parse(y),y=0;y<H.length;y++){let Ke=H[y];const pt=Ke[0];if(!(pt<=E.K))if(E.K=pt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const ii=Ke[3];ii!=null&&(E.ka=ii,E.j.info("VER="+E.ka));const Hi=Ke[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const Si=Ke[5];Si!=null&&typeof Si=="number"&&Si>0&&(A=1.5*Si,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ai=c.g;if(Ai){const pa=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var K=A.h;K.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(pr(K,K.h),K.h=null))}if(A.G){const ao=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.wa=ao,$e(A.J,A.G,ao))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=lc(A,A.L?A.ba:null,A.W),se.L){ns(A.h,se);var Ce=se,Ct=A.O;Ct&&(Ce.H=Ct),Ce.D&&(Zn(Ce),Jn(Ce)),A.g=se}else ic(A);E.i.length>0&&Bi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||qi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?qi(E,7):_l(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Mn(4)}catch{}}var j=class{constructor(c,y){this.g=c,this.map=y}};function Ae(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Le(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ge(c){return c.h?1:c.g?c.g.size:0}function kt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function pr(c,y){c.g?c.g.add(y):c.h=y}function ns(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ae.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return k(c.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let H,K=null;A>=0?(H=c[E].substring(0,A),K=c[E].substring(A+1)):H=c[E],y(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Pn?(this.l=c.l,Yt(this,c.j),this.o=c.o,this.g=c.g,is(this,c.u),this.h=c.h,hl(this,tc(c.i)),this.m=c.m):c&&(y=String(c).match($u))?(this.l=!1,Yt(this,y[1]||"",!0),this.o=Pi(y[2]||""),this.g=Pi(y[3]||"",!0),is(this,y[4]),this.h=Pi(y[5]||"",!0),hl(this,y[6]||"",!0),this.m=Pi(y[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Pn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(oa(y,Za,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(oa(y,Za,!0),"@"),c.push(an(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(oa(E,E.charAt(0)=="/"?fl:Ju,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",oa(E,Zu)),c.join("")},Pn.prototype.resolve=function(c){const y=Vt(this);let E=!!c.j;E?Yt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)is(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=y.h.lastIndexOf("/");H!=-1&&(A=y.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let se=0;se<H.length;){const Ce=H[se++];Ce=="."?A&&se==H.length&&K.push(""):Ce==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==H.length&&K.push("")):(K.push(Ce),A=!0)}A=K.join("/")}else A=H}return E?y.h=A:E=c.i.toString()!=="",E?hl(y,tc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Vt(c){return new Pn(c)}function Yt(c,y,E){c.j=E?Pi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function is(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function hl(c,y,E){y instanceof ss?(c.i=y,to(c.i,c.l)):(E||(y=oa(y,rs)),c.i=new ss(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function aa(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Pi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function oa(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,An),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function An(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Za=/[#\/\?@]/g,Ju=/[#\?:]/g,fl=/[#\?]/g,rs=/[#\?@]/g,Zu=/#/g;function ss(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ja(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=ss.prototype,r.add=function(c,y){wn(this),this.i=null,c=as(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ec(c,y){wn(c),y=as(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function dl(c,y){return wn(c),y=as(c,y),c.g.has(y)}r.forEach=function(c,y){wn(this),this.g.forEach(function(E,A){E.forEach(function(H){c.call(y,H,A,this)},this)},this)};function pl(c,y){wn(c);let E=[];if(typeof y=="string")dl(c,y)&&(E=E.concat(c.g.get(as(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return wn(this),this.i=null,c=as(this,c),dl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=pl(this,c),c.length>0?String(c[0]):y):y};function eo(c,y,E){ec(c,y),E.length>0&&(c.i=null,c.g.set(as(c,y),k(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const H=an(E);E=pl(this,E);for(let K=0;K<E.length;K++){let se=H;E[K]!==""&&(se+="="+an(E[K])),c.push(se)}}return this.i=c.join("&")};function tc(c){const y=new ss;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function as(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function to(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(ec(this,A),eo(this,H,E))},c)),c.j=y}function Ei(c,y){const E=new pn;if(h.Image){const A=new Image;A.onload=b(ti,E,"TestLoadImage: loaded",!0,y,A),A.onerror=b(ti,E,"TestLoadImage: error",!1,y,A),A.onabort=b(ti,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(ti,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ml(c,y){const E=new pn,A=new AbortController,H=setTimeout(()=>{A.abort(),ti(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(H),K.ok?ti(E,"TestPingServer: ok",!0,y):ti(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),ti(E,"TestPingServer: error",!1,y)})}function ti(c,y,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function os(){this.g=new Kr}function Ui(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ui,sa),Ui.prototype.g=function(){return new la(this.i,this.h)};function la(c,y){ft.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(la,ft),r=la.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,bi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ls(this):bi(this),this.readyState==3&&no(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ls(this))},r.Na=function(c){this.g&&(this.response=c,ls(this))},r.ga=function(){this.g&&ls(this)};function ls(c){c.readyState=4,c.l=null,c.j=null,c.B=null,bi(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ni(c){let y="";return Ve(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ua(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ni(E),typeof c=="string"?E!=null&&an(E):$e(c,y,E))}function tt(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(tt,ft);var ji=/^https?$/i,gl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zr.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ca(this,K);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,y,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){ca(this,K)}};function ca(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,yl(c),mr(c)}function yl(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},r.Xa=function(){ha(this)};function ha(c){if(c.h&&typeof u<"u"){if(c.v&&Ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),Ti(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=K===0){let se=String(c.D).match($u)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),A=!ji.test(se?se.toLowerCase():"")}E=A}if(E)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var H=Ti(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",yl(c)}}finally{mr(c)}}}}function mr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||_t(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ti(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ra(y)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(c){const y={};c=(c.g&&Ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Xa(c[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[H]||[];y[H]=K,K.push(E)}Fe(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function us(c){this.za=0,this.i=[],this.j=new pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,c),this.Za=zi("retryDelaySeedMs",1e4,c),this.Ta=zi("forwardChannelMaxRetries",2,c),this.va=zi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ae(c&&c.concurrentRequestLimit),this.Ba=new os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=us.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){vt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=lc(this,null,this.W),Bi(this)};function _l(c){if(io(c),c.I==3){var y=c.V++,E=Vt(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),fa(c,E),y=new Vn(c,c.j,y),y.M=2,y.A=aa(Vt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=uc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Jn(y)}oc(c)}function cs(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function io(c){cs(c),c.v&&(h.clearTimeout(c.v),c.v=null),so(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Bi(c){if(!Le(c.h)&&!c.m){c.m=!0;var y=c.Ea;_e||R(),pe||(_e(),pe=!0),x.add(y,c),c.D=0}}function ro(c,y){return Ge(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=dn(g(c.Ea,c,y),ac(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new Vn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=O(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=nc(this,H,y),E=Vt(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),fa(this,E),K&&(this.R?y="headers="+an(ni(K))+"&"+y:this.u&&ua(E,this.u,K)),pr(this.h,H),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),H.U=!0,$n(H,E,null)):$n(H,E,y),this.I=2}}else this.I==3&&(c?vl(this,c):this.i.length==0||Le(this.h)||vl(this))};function vl(c,y){var E;y?E=y.l:E=c.V++;const A=Vt(c.J);$e(A,"SID",c.M),$e(A,"RID",E),$e(A,"AID",c.K),fa(c,A),c.u&&c.o&&ua(A,c.u,c.o),E=new Vn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=nc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),pr(c.h,E),$n(E,A,y)}function fa(c,y){c.H&&Ve(c.H,function(E,A){$e(y,A,E)}),c.l&&Ve({},function(E,A){$e(y,A,E)})}function nc(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var H=c.i;let Ce=-1;for(;;){const Ct=["count="+E];Ce==-1?E>0?(Ce=H[0].g,Ct.push("ofs="+Ce)):Ce=0:Ct.push("ofs="+Ce);let Ke=!0;for(let pt=0;pt<E;pt++){var K=H[pt].g;const ii=H[pt].map;if(K-=Ce,K<0)Ce=Math.max(0,H[pt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var se=ii instanceof Map?ii:Object.entries(ii);for(const[Hi,Si]of se){let Ai=Si;p(Si)&&(Ai=Kn(Si)),Ct.push(K+Hi+"="+encodeURIComponent(Ai))}}catch(Hi){throw Ct.push(K+"type="+encodeURIComponent("_badmap")),Hi}}catch{A&&A(ii)}}if(Ke){se=Ct.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function ic(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;_e||R(),pe||(_e(),pe=!0),x.add(y,c),c.A=0}}function da(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=dn(g(c.Da,c),ac(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=dn(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),cs(this),rc(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function rc(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Vt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),fa(c,y),c.u&&c.o&&ua(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=aa(Vt(y)),E.u=null,E.R=!0,es(E,c)}r.Va=function(){this.C!=null&&(this.C=null,cs(this),da(this),vt(19))};function so(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function sc(c,y){var E=null;if(c.g==y){so(c),El(c),c.g=null;var A=2}else if(kt(c.h,y))E=y.G,ns(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var H=c.D;A=fr(),_t(A,new Tn(A,E)),Bi(c)}else ic(c);else if(H=y.m,H==3||H==0&&y.X>0||!(A==1&&ro(c,y)||A==2&&da(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),H){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function ac(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const H=!A;A=new Pn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Yt(A,"https"),aa(A),H?Ei(A.toString(),E):ml(A.toString(),E)}else vt(2);c.I=0,c.l&&c.l.pa(y),oc(c),io(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function oc(c){if(c.I=0,c.ja=[],c.l){const y=cl(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ja,y),P(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function lc(c,y,E){var A=E instanceof Pn?Vt(E):new Pn(E);if(A.g!="")y&&(A.g=y+"."+A.g),is(A,A.u);else{var H=h.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const K=new Pn(null);A&&Yt(K,A),y&&(K.g=y),H&&is(K,H),E&&(K.h=E),A=K}return E=c.G,y=c.wa,E&&y&&$e(A,E,y),$e(A,"VER",c.ka),fa(c,A),A}function uc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new tt(new Ui({ab:E})):new tt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}r=cc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function hs(){}hs.prototype.g=function(c,y){return new gn(c,y)};function gn(c,y){ft.call(this),this.g=new us(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}T(gn,ft),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){_l(this.g)},gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Kn(c),c=E);y.i.push(new j(y.Ya++,c)),y.I==3&&Bi(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,gn.Z.N.call(this)};function hc(c){Ot.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(hc,Ot);function fc(){fn.call(this),this.status=1}T(fc,fn);function yr(c){this.g=c}T(yr,cc),yr.prototype.ra=function(){_t(this.g,"a")},yr.prototype.qa=function(c){_t(this.g,new hc(c))},yr.prototype.pa=function(c){_t(this.g,new fc)},yr.prototype.oa=function(){_t(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,p1=function(){return new hs},d1=function(){return fr()},f1=dt,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Dh=vi,Li.COMPLETE="complete",h1=Li,Xr.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,lu=Xr,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,c1=tt}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let rl="12.3.0";const Ua=new Dm("@firebase/firestore");function Po(){return Ua.logLevel}function he(r,...e){if(Ua.logLevel<=je.DEBUG){const n=e.map(Bm);Ua.debug(`Firestore (${rl}): ${r}`,...n)}}function Br(r,...e){if(Ua.logLevel<=je.ERROR){const n=e.map(Bm);Ua.error(`Firestore (${rl}): ${r}`,...n)}}function Xo(r,...e){if(Ua.logLevel<=je.WARN){const n=e.map(Bm);Ua.warn(`Firestore (${rl}): ${r}`,...n)}}function Bm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,m1(r,s,n)}function m1(r,e,n){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Br(s),new Error(s)}function We(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||m1(e,o,s)}function xe(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class g1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class r2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class s2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new g1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class a2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new a2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function u2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=u2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function im(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Pp(o)===Pp(u)?ze(o,u):Pp(o)?1:-1}return ze(r.length,e.length)}const c2=55296,h2=57343;function Pp(r){const e=r.charCodeAt(0);return e>=c2&&e<=h2}function Wo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Y0="__name__";class Ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ki.isNumericId(e),o=Ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ki.extractNumericId(e).compare(Ki.extractNumericId(n)):im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class lt extends Ki{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ki{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new rn([Y0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}function y1(r,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function d2(r,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K0(r){if(!ye.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X0(r){if(ye.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function _n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(r);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function qt(r,e){const n={typeString:r};return e&&(n.value=e),n}function zu(r,e){if(!_1(r))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const W0=-62135596800,$0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$0);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W0)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:qt("string",ht._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function p2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Qs(o,ye.empty(),e)}function m2(r){return new Qs(r.readTime,r.key,Tu)}class Qs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qs(we.min(),ye.empty(),Tu)}static max(){return new Qs(we.max(),ye.empty(),Tu)}}function g2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sl(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==y2)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next((b=>{h[g]=b,++p,p===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function v2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(r){return r.name==="IndexedDbTransactionError"}class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;const Hm=-1;function mf(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function E2(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const v1="";function b2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J0(e)),e=T2(r.get(n),e);return J0(e)}function T2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case v1:n+="";break;default:n+=u}}return n}function J0(r){return r+v1+""}function Z0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function E1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eE(this.data.getIterator())}getIteratorFrom(e){return new eE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class eE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Qt(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new b1("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=S2.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ks(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}const T1="server_timestamp",S1="__type__",A1="__previous_value__",w1="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[S1]?.stringValue===T1}function gf(r){const e=r.mapValue.fields[A1];return Fm(e)?gf(e):e}function Su(r){const e=Ys(r.mapValue.fields[w1].timestampValue);return new ht(e.seconds,e.nanos)}class A2{constructor(e,n,s,o,u,h,p,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=b}}const Qh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}const R1="__type__",w2="__max__",Eh={mapValue:{}},x1="__vector__",Yh="value";function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:x2(r)?9007199254740991:R2(r)?10:11:Te(28295,{value:r})}function sr(r,e){if(r===e)return!0;const n=Xs(r);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ys(o.timestampValue),p=Ys(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ks(o.bytesValue).isEqual(Ks(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Nt(o.doubleValue),p=Nt(u.doubleValue);return h===p?Gh(h)===Gh(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return Wo(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Z0(h)!==Z0(p))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(p[m]===void 0||!sr(h[m],p[m])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function wu(r,e){return(r.values||[]).find((n=>sr(n,e)))!==void 0}function $o(r,e){if(r===e)return 0;const n=Xs(r),s=Xs(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Nt(u.integerValue||u.doubleValue),m=Nt(h.integerValue||h.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(r,e);case 3:return tE(r.timestampValue,e.timestampValue);case 4:return tE(Su(r),Su(e));case 5:return im(r.stringValue,e.stringValue);case 6:return(function(u,h){const p=Ks(u),m=Ks(h);return p.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),m=h.split("/");for(let g=0;g<p.length&&g<m.length;g++){const b=ze(p[g],m[g]);if(b!==0)return b}return ze(p.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ze(Nt(u.latitude),Nt(h.latitude));return p!==0?p:ze(Nt(u.longitude),Nt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return nE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},m=h.fields||{},g=p[Yh]?.arrayValue,b=m[Yh]?.arrayValue,T=ze(g?.values?.length||0,b?.values?.length||0);return T!==0?T:nE(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Eh.mapValue&&h===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(h===Eh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=h.fields||{},b=Object.keys(g);m.sort(),b.sort();for(let T=0;T<m.length&&T<b.length;++T){const w=im(m[T],b[T]);if(w!==0)return w;const k=$o(p[m[T]],g[b[T]]);if(k!==0)return k}return ze(m.length,b.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function tE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=Ys(r),s=Ys(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function nE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=$o(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function Jo(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ys(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ks(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${rm(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Nh(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(r);return e?16+Nh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Zs(s.fields,((u,h)=>{o+=u.length+Nh(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function iE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function rE(r){return!!r&&"nullValue"in r}function sE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function R2(r){return(r?.mapValue?.fields||{})[R1]?.stringValue===x1}function mu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Zs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=mu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(r.arrayValue.values[n]);return e}return{...r}}function x2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===w2}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=mu(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new On(mu(this.value))}}function C1(r){const e=[];return Zs(r.fields,((n,s)=>{const o=new rn([n]);if(Oh(s)){const u=C1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Gn(e)}class cn{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,we.min(),we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,n,s,o){return new cn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new cn(e,2,n,we.min(),we.min(),On.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,we.min(),we.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function aE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=$o(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function oE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!sr(r.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function C2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class I1{}class Bt extends I1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new D2(e,n,s):n==="array-contains"?new M2(e,s):n==="in"?new k2(e,s):n==="not-in"?new V2(e,s):n==="array-contains-any"?new L2(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new N2(e,s):new O2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends I1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ni(e,n)}matches(e){return D1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function N1(r){return I2(r)&&D1(r)}function I2(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function am(r){if(r instanceof Bt)return r.field.canonicalString()+r.op.toString()+Jo(r.value);if(N1(r))return r.filters.map((e=>am(e))).join(",");{const e=r.filters.map((n=>am(n))).join(",");return`${r.op}(${e})`}}function O1(r,e){return r instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)})(r,e):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&O1(h,o.filters[p])),!0):!1})(r,e):void Te(19439)}function M1(r){return r instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class D2 extends Bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class N2 extends Bt{constructor(e,n){super(e,"in",n),this.keys=k1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class O2 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=k1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function k1(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class M2 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gm(n)&&wu(n.arrayValue,this.value)}}class k2 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class V2 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class L2 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wu(this.value.arrayValue,s)))}}class P2{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function lE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new P2(r,e,n,s,o,u,h)}function Qm(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>am(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Jo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Jo(s))).join(",")),e.Te=n}return e.Te}function Ym(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!C2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!O1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!oE(r.startAt,e.startAt)&&oE(r.endAt,e.endAt)}function om(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ol{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U2(r,e,n,s,o,u,h,p){return new ol(r,e,n,s,o,u,h,p)}function yf(r){return new ol(r)}function uE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V1(r){return r.collectionGroup!==null}function gu(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Qt(rn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ru(u,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Ru(rn.keyField(),s))}return e.Ie}function tr(r){const e=xe(r);return e.Ee||(e.Ee=j2(e,gu(r))),e.Ee}function j2(r,e){if(r.limitType==="F")return lE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const n=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return lE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function lm(r,e){const n=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xh(r,e,n){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _f(r,e){return Ym(tr(r),tr(e))&&r.limitType===e.limitType}function L1(r){return`${Qm(tr(r))}|lt:${r.limitType}`}function Uo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>M1(o))).join(", ")}]`),mf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Jo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Jo(o))).join(",")),`Target(${s})`})(tr(r))}; limitType=${r.limitType})`}function vf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of gu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,m){const g=aE(h,p,m);return h.inclusive?g<=0:g<0})(s.startAt,gu(s),o)||s.endAt&&!(function(h,p,m){const g=aE(h,p,m);return h.inclusive?g>=0:g>0})(s.endAt,gu(s),o))})(r,e)}function z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function P1(r){return(e,n)=>{let s=!1;for(const o of gu(r)){const u=B2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function B2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,p){const m=h.data.field(u),g=p.data.field(u);return m!==null&&g!==null?$o(m,g):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}const q2=new bt(ye.comparator);function qr(){return q2}const U1=new bt(ye.comparator);function uu(...r){let e=U1;for(const n of r)e=e.insert(n.key,n);return e}function j1(r){let e=U1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return yu()}function z1(){return yu()}function yu(){return new Ga((r=>r.toString()),((r,e)=>r.isEqual(e)))}const H2=new bt(ye.comparator),F2=new Qt(ye.comparator);function Be(...r){let e=F2;for(const n of r)e=e.add(n);return e}const G2=new Qt(ze);function Q2(){return G2}function Km(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function B1(r){return{integerValue:""+r}}function q1(r,e){return E2(e)?B1(e):Km(r,e)}class Ef{constructor(){this._=void 0}}function Y2(r,e,n){return r instanceof xu?(function(o,u){const h={fields:{[S1]:{stringValue:T1},[w1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=gf(u)),u&&(h.fields[A1]=u),{mapValue:h}})(n,e):r instanceof Cu?F1(r,e):r instanceof Iu?G1(r,e):(function(o,u){const h=H1(o,u),p=cE(h)+cE(o.Ae);return sm(h)&&sm(o.Ae)?B1(p):Km(o.serializer,p)})(r,e)}function K2(r,e,n){return r instanceof Cu?F1(r,e):r instanceof Iu?G1(r,e):n}function H1(r,e){return r instanceof Du?(function(s){return sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xu extends Ef{}class Cu extends Ef{constructor(e){super(),this.elements=e}}function F1(r,e){const n=Q1(e);for(const s of r.elements)n.some((o=>sr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Iu extends Ef{constructor(e){super(),this.elements=e}}function G1(r,e){let n=Q1(e);for(const s of r.elements)n=n.filter((o=>!sr(o,s)));return{arrayValue:{values:n}}}class Du extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cE(r){return Nt(r.integerValue||r.doubleValue)}function Q1(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Y1{constructor(e,n){this.field=e,this.transform=n}}function X2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Cu&&o instanceof Cu||s instanceof Iu&&o instanceof Iu?Wo(s.elements,o.elements,sr):s instanceof Du&&o instanceof Du?sr(s.Ae,o.Ae):s instanceof xu&&o instanceof xu})(r.transform,e.transform)}class W2{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function K1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Tf(r.key,vn.none()):new Bu(r.key,r.data,vn.none());{const n=r.data,s=On.empty();let o=new Qt(rn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ea(r.key,s,new Gn(o.toArray()),vn.none())}}function $2(r,e,n){r instanceof Bu?(function(o,u,h){const p=o.value.clone(),m=fE(o.fieldTransforms,u,h.transformResults);p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof ea?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=fE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(X1(o)),m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function _u(r,e,n,s){return r instanceof Bu?(function(u,h,p,m){if(!Mh(u.precondition,h))return p;const g=u.value.clone(),b=dE(u.fieldTransforms,m,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ea?(function(u,h,p,m){if(!Mh(u.precondition,h))return p;const g=dE(u.fieldTransforms,m,h),b=h.data;return b.setAll(X1(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,p){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function J2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=H1(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function hE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wo(s,o,((u,h)=>X2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends bf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends bf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function fE(r,e,n){const s=new Map;We(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,K2(h,p,n[o]))}return s}function dE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,Y2(u,h,e))}return s}class Tf extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=z1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const m=K1(h,p);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((n,s)=>hE(n,s)))&&Wo(this.baseMutations,e.baseMutations,((n,s)=>hE(n,s)))}}class Xm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return H2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xm(e,n,s,o)}}class tD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nD{constructor(e,n){this.count=e,this.unchangedNames=n}}var zt,He;function iD(r){switch(r){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function W1(r){if(r===void 0)return Br("GRPC error has no .code"),ee.UNKNOWN;switch(r){case zt.OK:return ee.OK;case zt.CANCELLED:return ee.CANCELLED;case zt.UNKNOWN:return ee.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ee.INTERNAL;case zt.UNAVAILABLE:return ee.UNAVAILABLE;case zt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case zt.NOT_FOUND:return ee.NOT_FOUND;case zt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case zt.ABORTED:return ee.ABORTED;case zt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case zt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:r})}}(He=zt||(zt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function rD(){return new TextEncoder}const sD=new Hs([4294967295,4294967295],0);function pE(r){const e=rD().encode(r),n=new u1;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hs([n,s],0),new Hs([o,u],0)]}class Wm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Hs.fromNumber(s)));return o.compare(sD)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wm(u,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=pE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sf(we.min(),o,new bt(ze),qr(),Be())}}class qu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new qu(s,n,Be(),Be(),Be())}}class kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class $1{constructor(e,n){this.targetId=e,this.Ce=n}}class J1{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class gE{constructor(){this.ve=0,this.Fe=yE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=yE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aD{constructor(e){this.Ge=e,this.ze=new Map,this.je=qr(),this.Je=bh(),this.He=bh(),this.Ye=new bt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(om(u))if(s===0){const h=new ye(u.path);this.et(n,h,cn.newNoDocument(h,we.min()))}else We(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),m=p?this.ct(p,e,h):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Ks(s).toUint8Array()}catch(m){if(m instanceof b1)return Xo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Wm(h,o,u)}catch(m){return Xo(m instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&om(p.target)){const m=new ye(p.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,cn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Be();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Sf(e,n,this.Ye,this.je,s);return this.je=qr(),this.Je=bh(),this.He=bh(),this.Ye=new bt(ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bh(){return new bt(ye.comparator)}function yE(){return new bt(ye.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},lD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uD={and:"AND",or:"OR"};class cD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function um(r,e){return r.useProto3Json||mf(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hD(r,e){return Wh(r,e.toTimestamp())}function nr(r){return We(!!r,49232),we.fromTimestamp((function(n){const s=Ys(n);return new ht(s.seconds,s.nanos)})(r))}function $m(r,e){return cm(r,e).canonicalString()}function cm(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function eT(r){const e=lt.fromString(r);return We(sT(e),10190,{key:e.toString()}),e}function hm(r,e){return $m(r.databaseId,e.path)}function Up(r,e){const n=eT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(nT(n))}function tT(r,e){return $m(r.databaseId,e)}function fD(r){const e=eT(r);return e.length===4?lt.emptyPath():nT(e)}function fm(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _E(r,e,n){return{name:hm(r,e),fields:n.value.mapValue.fields}}function dD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(We(b===void 0||typeof b=="string",58123),sn.fromBase64String(b||"")):(We(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),sn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(g){const b=g.code===void 0?ee.UNKNOWN:W1(g.code);return new le(b,g.message||"")})(h);n=new J1(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Up(r,s.document.name),u=nr(s.document.updateTime),h=s.document.createTime?nr(s.document.createTime):we.min(),p=new On({mapValue:{fields:s.document.fields}}),m=cn.newFoundDocument(o,u,h,p),g=s.targetIds||[],b=s.removedTargetIds||[];n=new kh(g,b,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Up(r,s.document),u=s.readTime?nr(s.readTime):we.min(),h=cn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new kh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Up(r,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new nD(o,u),p=s.targetId;n=new $1(p,h)}}return n}function pD(r,e){let n;if(e instanceof Bu)n={update:_E(r,e.key,e.value)};else if(e instanceof Tf)n={delete:hm(r,e.key)};else if(e instanceof ea)n={update:_E(r,e.key,e.data),updateMask:SD(e.fieldMask)};else{if(!(e instanceof Z2))return Te(16599,{Vt:e.type});n={verify:hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Du)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function mD(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?nr(o.updateTime):nr(u);return h.isEqual(we.min())&&(h=nr(u)),new W2(h,o.transformResults||[])})(n,e)))):[]}function gD(r,e){return{documents:[tT(r,e.path)]}}function yD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tT(r,o);const u=(function(g){if(g.length!==0)return rT(Ni.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((b=>(function(w){return{field:jo(w.field),direction:ED(w.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=um(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function _D(r){let e=fD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){We(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const w=iT(T);return w instanceof Ni&&N1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(P){return new Ru(zo(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let w;return w=typeof T=="object"?T.value:T,mf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(T){const w=!!T.before,k=T.values||[];return new Kh(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new Kh(k,w)})(n.endAt)),U2(e,o,h,u,p,"F",m,g)}function vD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(n.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zo(n.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zo(n.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Bt.create(zo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>iT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function ED(r){return oD[r]}function bD(r){return lD[r]}function TD(r){return uD[r]}function jo(r){return{fieldPath:r.canonicalString()}}function zo(r){return rn.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof Bt?(function(n){if(n.op==="=="){if(sE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(rE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(rE(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:bD(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>rT(o)));return s.length===1?s[0]:{compositeFilter:{op:TD(n.op),filters:s}}})(r):Te(54877,{filter:r})}function SD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class js{constructor(e,n,s,o,u=we.min(),h=we.min(),p=sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AD{constructor(e){this.yt=e}}function wD(r){const e=_D({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xh(e,e.limit,"L"):e}class RD{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Qs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Qt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Qt(lt.comparator)).toArray()}}const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(aT,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}const EE="LruGarbageCollector",CD=1048576;function bE([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class ID{constructor(e){this.Ir=e,this.buffer=new Qt(bE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(EE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?he(EE,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)}))}}class ND{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(pf.ce);const s=new ID(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(vE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,p,m,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Po()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function OD(r,e){return new ND(r,e)}class MD{constructor(){this.changes=new Ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class VD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&_u(s.mutation,o,Gn.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=uu();return u.forEach(((p,m)=>{h=h.insert(p,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let u=qr();const h=yu(),p=(function(){return yu()})();return n.forEach(((m,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ea)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),_u(b.mutation,g,b.mutation.getFieldMask(),ht.now())):h.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,b)=>h.set(g,b))),n.forEach(((g,b)=>p.set(g,new kD(b,h.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=yu();let o=new bt(((h,p)=>h-p)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let b=s.get(m)||Gn.empty();b=p.applyToLocalView(g,b),s.set(m,b);const T=(o.get(p.batchId)||Be()).add(m);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,b=m.value,T=z1();b.forEach((w=>{if(!u.has(w)){const k=K1(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Na());let p=Tu,m=u;return h.next((g=>ie.forEach(g,((b,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{m=m.insert(b,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Be()))).next((b=>({batchId:p,changes:j1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=uu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=uu();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(m=>{const g=(function(T,w){return new ol(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,cn.newInvalidDocument(b)))}));let p=uu();return h.forEach(((m,g)=>{const b=u.get(m);b!==void 0&&_u(b.mutation,g,Gn.empty(),ht.now()),vf(n,g)&&(p=p.insert(m,g))})),p}))}}class LD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:nr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:wD(o.bundledQuery),readTime:nr(o.readTime)}})(n)),ie.resolve()}}class PD{constructor(){this.overlays=new bt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Na(),u=n.length+1,h=new ye(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new bt(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Na(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=Na(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,b)=>p.set(g,b))),!(p.size()>=o)););return ie.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new tD(n,s));let u=this.qr.get(n);u===void 0&&(u=Be(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class UD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Jm{constructor(){this.Qr=new Qt(Wt.$r),this.Ur=new Qt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new lt([])),s=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new lt([])),s=new Wt(n,e),o=new Wt(n,e+1);let u=Be();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class jD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Wt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eD(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Wt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qt(ze);return n.forEach((o=>{const u=new Wt(o,0),h=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new ye(u),0);let p=new Qt(ze);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)}),h),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Wt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zD{constructor(e){this.ri=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=qr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():cn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=qr();const h=n.path,p=new ye(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:b}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||g2(m2(b),s)<=0||(o.has(b.key)||vf(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new BD(this)}getSize(e){return ie.resolve(this.size)}}class BD extends MD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class qD{constructor(e){this.persistence=e,this.si=new Ga((n=>Qm(n)),Ym),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class oT{constructor(e,n){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new UD,this.referenceDelegate=e(this),this.Pi=new qD(this),this.indexManager=new RD,this.remoteDocumentCache=(function(o){return new zD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new AD(n),this.Ii=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new jD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new HD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class HD extends _2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new Ga((s=>b2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=OD(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,n.fromCache,s,o)}}class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vR()?8:v2(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new FD;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Po()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Po()<=je.DEBUG&&he("QueryEngine","Query:",Uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Po()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):ie.resolve())}ys(e,n){if(uE(n))return ie.resolve(null);let s=tr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xh(n,null,"F"),s=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Be(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,p);return this.Cs(n,g,h,m.readTime)?this.ys(e,Xh(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,o){return uE(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(Po()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(n)),this.vs(e,h,n,p2(o,Tu)).next((p=>p)))}))}Ds(e,n){let s=new Qt(P1(e));return n.forEach(((o,u)=>{vf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Po()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const tg="LocalStore",QD=3e8;class YD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(ze),this.xs=new Ga((u=>Qm(u)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function KD(r,e,n,s){return new YD(r,e,n,s)}async function lT(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let m=Be();for(const g of o){h.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}for(const g of u){p.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:p})))}))}))}function XD(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,b){const T=g.batch,w=T.keys();let k=ie.resolve();return w.forEach((P=>{k=k.next((()=>b.getEntry(m,P))).next((Q=>{const V=g.docVersions.get(P);We(V!==null,48541),Q.version.compareTo(V)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),b.addEntry(Q)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Be();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function uT(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function WD(r,e){const n=xe(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((b,T)=>{const w=o.get(T);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(sn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,s)),o=o.insert(T,k),(function(Q,V,q){return Q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=QD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(w,k,b)&&p.push(n.Pi.updateTargetData(u,k))}));let m=qr(),g=Be();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push($D(u,h,e.documentUpdates).next((b=>{m=b.ks,g=b.qs}))),!s.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return ie.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(n.Ms=o,u)))}function $D(r,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=qr();return n.forEach(((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):he(tg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function JD(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZD(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new js(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function dm(r,e,n){const s=xe(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!al(h))throw h;he(tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function TE(r,e,n){const s=xe(r);let o=we.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,g,b){const T=xe(m),w=T.xs.get(b);return w!==void 0?ie.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,b)})(s,h,tr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Be()))).next((p=>(eN(s,z2(e),p),{documents:p,Qs:u})))))}function eN(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class SE{constructor(){this.activeTargetIds=Q2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tN{constructor(){this.Mo=new SE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nN{Oo(e){}shutdown(){}}const AE="ConnectivityMonitor";class wE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(AE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function pm(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const jp="RestConnection",iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=pm(),p=this.zo(e,n.toUriEncodedString());he(jp,`Sending RPC '${e}' ${h}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),b=Ba(g);return this.Jo(e,p,m,s,b).then((T=>(he(jp,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Xo(jp,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=iN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class sN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class aN extends rN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=pm();return new Promise(((p,m)=>{const g=new c1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Dh.NO_ERROR:const T=g.getResponseJson();he(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Dh.TIMEOUT:he(ln,`RPC '${e}' ${h} timed out`),m(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const w=g.getStatus();if(he(ln,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const P=k?.error;if(P&&P.status&&P.message){const Q=(function(q){const te=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(te)>=0?te:ee.UNKNOWN})(P.status);m(new le(Q,P.message))}else m(new le(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new le(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(ln,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);he(ln,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=p1(),p=d1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const b=u.join("");he(ln,`Creating RPC '${e}' stream ${o}: ${b}`,m);const T=h.createWebChannel(b,m);this.I_(T);let w=!1,k=!1;const P=new sN({Yo:V=>{k?he(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(he(ln,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),he(ln,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),Q=(V,q,te)=>{V.listen(q,(re=>{try{te(re)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return Q(T,lu.EventType.OPEN,(()=>{k||(he(ln,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),Q(T,lu.EventType.CLOSE,(()=>{k||(k=!0,he(ln,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(T))})),Q(T,lu.EventType.ERROR,(V=>{k||(k=!0,Xo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(T,lu.EventType.MESSAGE,(V=>{if(!k){const q=V.data[0];We(!!q,16349);const te=q,re=te?.error||te[0]?.error;if(re){he(ln,`RPC '${e}' stream ${o} received error:`,re);const ce=re.status;let _e=(function(R){const C=zt[R];if(C!==void 0)return W1(C)})(ce),pe=re.message;_e===void 0&&(_e=ee.INTERNAL,pe="Unknown error status: "+ce+" with message "+re.message),k=!0,P.a_(new le(_e,pe)),T.close()}else he(ln,`RPC '${e}' stream ${o} received:`,q),P.u_(q)}})),Q(p,f1.STAT_EVENT,(V=>{V.stat===nm.PROXY?he(ln,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===nm.NOPROXY&&he(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zp(){return typeof document<"u"?document:null}function Af(r){return new cD(r,!0)}class cT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const RE="PersistentStream";class hT{constructor(e,n,s,o,u,h,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oN extends hT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?nr(h.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fm(this.serializer),n.addTarget=(function(u,h){let p;const m=h.target;if(p=om(m)?{documents:gD(u,m)}:{query:yD(u,m).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=Z1(u,h.resumeToken);const g=um(u,h.expectedCount);g!==null&&(p.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){p.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=um(u,h.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=vD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.q_(n)}}class lN extends hT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mD(e.writeResults,e.commitTime),s=nr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>pD(this.serializer,s)))};this.q_(n)}}class uN{}class cN extends uN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,cm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,cm(n,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ja="RemoteStore";class fN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Qa(this)&&(he(ja,"Restarting streams for network reachability change."),await(async function(m){const g=xe(m);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await wf(g)})(this))}))})),this.Ra=new hN(s,o)}}async function wf(r){if(Qa(r))for(const e of r.da)await e(!0)}async function Hu(r){for(const e of r.da)await e(!1)}function fT(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sg(n)?rg(n):ll(n).O_()&&ig(n,e))}function ng(r,e){const n=xe(r),s=ll(n);n.Ia.delete(e),s.O_()&&dT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Qa(n)&&n.Ra.set("Unknown"))}function ig(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(r).Y_(e)}function dT(r,e){r.Va.Ue(e),ll(r).Z_(e)}function rg(r){r.Va=new aD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ll(r).start(),r.Ra.ua()}function sg(r){return Qa(r)&&!ll(r).x_()&&r.Ia.size>0}function Qa(r){return xe(r).Ea.size===0}function pT(r){r.Va=void 0}async function dN(r){r.Ra.set("Online")}async function pN(r){r.Ia.forEach(((e,n)=>{ig(r,e)}))}async function mN(r,e){pT(r),sg(r)?(r.Ra.ha(e),rg(r)):r.Ra.set("Unknown")}async function gN(r,e,n){if(r.Ra.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){he(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(r,s)}else if(e instanceof kh?r.Va.Ze(e):e instanceof $1?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await uT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(m.resumeToken,h))}})),p.targetMismatches.forEach(((m,g)=>{const b=u.Ia.get(m);if(!b)return;u.Ia.set(m,b.withResumeToken(sn.EMPTY_BYTE_STRING,b.snapshotVersion)),dT(u,m);const T=new js(b.target,m,g,b.sequenceNumber);ig(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){he(ja,"Failed to raise snapshot:",s),await Jh(r,s)}}async function Jh(r,e,n){if(!al(e))throw e;r.Ea.add(1),await Hu(r),r.Ra.set("Offline"),n||(n=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ja,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wf(r)}))}function mT(r,e){return e().catch((n=>Jh(r,n,e)))}async function Rf(r){const e=xe(r),n=Ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hm;for(;yN(e);)try{const o=await JD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,_N(e,o)}catch(o){await Jh(e,o)}gT(e)&&yT(e)}function yN(r){return Qa(r)&&r.Ta.length<10}function _N(r,e){r.Ta.push(e);const n=Ws(r);n.O_()&&n.X_&&n.ea(e.mutations)}function gT(r){return Qa(r)&&!Ws(r).x_()&&r.Ta.length>0}function yT(r){Ws(r).start()}async function vN(r){Ws(r).ra()}async function EN(r){const e=Ws(r);for(const n of r.Ta)e.ea(n.mutations)}async function bN(r,e,n){const s=r.Ta.shift(),o=Xm.from(s,e,n);await mT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rf(r)}async function TN(r,e){e&&Ws(r).X_&&await(async function(s,o){if((function(h){return iD(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ws(s).B_(),await mT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rf(s)}})(r,e),gT(r)&&yT(r)}async function xE(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),he(ja,"RemoteStore received new credentials");const s=Qa(n);n.Ea.add(3),await Hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wf(n)}async function SN(r,e){const n=xe(r);e?(n.Ea.delete(2),await wf(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function ll(r){return r.ma||(r.ma=(function(n,s,o){const u=xe(n);return u.sa(),new oN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:dN.bind(null,r),t_:pN.bind(null,r),r_:mN.bind(null,r),H_:gN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),sg(r)?rg(r):r.Ra.set("Unknown")):(await r.ma.stop(),pT(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(n,s,o){const u=xe(n);return u.sa(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vN.bind(null,r),r_:TN.bind(null,r),ta:EN.bind(null,r),na:bN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ja,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new ag(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,e){if(Br("AsyncQueue",`${e}: ${r}`),al(r))return new le(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=uu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class CE{constructor(){this.ga=new bt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class el{constructor(e,n,s,o,u,h,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new el(e,n,Qo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class AN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wN{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=IE(),u.forEach(((h,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function IE(){return new Ga((r=>L1(r)),_f)}async function lg(r,e){const n=xe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new AN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=og(h,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cg(n)}async function ug(r,e){const n=xe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RN(r,e){const n=xe(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&cg(n)}function xN(r,e,n){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function cg(r){r.Ca.forEach((e=>{e.next()}))}var mm,DE;(DE=mm||(mm={})).Ma="default",DE.Cache="cache";class hg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new el(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class _T{constructor(e){this.key=e}}class vT{constructor(e){this.key=e}}class CN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=P1(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new CE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const w=o.get(b),k=vf(this.query,T)?T:null,P=!!w&&this.mutatedKeys.has(w.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;w&&k?w.data.isEqual(k.data)?P!==Q&&(s.track({type:3,doc:k}),V=!0):this.su(w,k)||(s.track({type:2,doc:k}),V=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(p=!0)):!w&&k?(s.track({type:0,doc:k}),V=!0):w&&!k&&(s.track({type:1,doc:w}),V=!0,(m||g)&&(p=!0)),V&&(k?(h=h.add(k),u=Q?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(k,P){const Q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:V})}};return Q(k)-Q(P)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new el(this.query,e.tu,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new vT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new _T(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class IN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DN{constructor(e){this.key=e,this.hu=!1}}class NN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ga((p=>L1(p)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new bt(ye.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ON(r,e,n=!0){const s=wT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ET(s,e,n,!0),o}async function MN(r,e){const n=wT(r);await ET(n,e,!0,!1)}async function ET(r,e,n,s){const o=await ZD(r.localStore,tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await kN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&fT(r.remoteStore,o),p}async function kN(r,e,n,s,o){r.pu=(T,w,k)=>(async function(Q,V,q,te){let re=V.view.ru(q);re.Cs&&(re=await TE(Q.localStore,V.query,!1).then((({documents:x})=>V.view.ru(x,re))));const ce=te&&te.targetChanges.get(V.targetId),_e=te&&te.targetMismatches.get(V.targetId)!=null,pe=V.view.applyChanges(re,Q.isPrimaryClient,ce,_e);return OE(Q,V.targetId,pe.au),pe.snapshot})(r,T,w,k);const u=await TE(r.localStore,e,!0),h=new CN(e,u.Qs),p=h.ru(u.documents),m=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(p,r.isPrimaryClient,m);OE(r,n,g.au);const b=new IN(e,n,h);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function VN(r,e,n){const s=xe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!_f(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),gm(s,o.targetId)})).catch(sl)):(gm(s,o.targetId),await dm(s.localStore,o.targetId,!0))}async function LN(r,e){const n=xe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function PN(r,e,n){const s=FN(r);try{const o=await(function(h,p){const m=xe(h),g=ht.now(),b=p.reduce(((k,P)=>k.add(P.key)),Be());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let P=qr(),Q=Be();return m.Ns.getEntries(k,b).next((V=>{P=V,P.forEach(((q,te)=>{te.isValidDocument()||(Q=Q.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,P))).next((V=>{T=V;const q=[];for(const te of p){const re=J2(te,T.get(te.key).overlayedDocument);re!=null&&q.push(new ea(te.key,re,C1(re.value.mapValue),vn.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,q,p)})).next((V=>{w=V;const q=V.applyToLocalDocumentSet(T,Q);return m.documentOverlayCache.saveOverlays(k,V.batchId,q)}))})).then((()=>({batchId:w.batchId,changes:j1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new bt(ze)),g=g.insert(p,m),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Fu(s,o.changes),await Rf(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");n.reject(u)}}async function bT(r,e){const n=xe(r);try{const s=await WD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await Fu(n,s,e)}catch(s){await sl(s)}}function NE(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const m=xe(h);m.onlineState=p;let g=!1;m.queries.forEach(((b,T)=>{for(const w of T.Sa)w.va(p)&&(g=!0)})),g&&cg(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UN(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new bt(ye.comparator);h=h.insert(u,cn.newNoDocument(u,we.min()));const p=Be().add(u),m=new Sf(we.min(),new Map,new bt(ze),h,p);await bT(s,m),s.du=s.du.remove(u),s.Au.delete(e),dg(s)}else await dm(s.localStore,e,!1).then((()=>gm(s,e,n))).catch(sl)}async function jN(r,e){const n=xe(r),s=e.batch.batchId;try{const o=await XD(n.localStore,e);ST(n,s,null),TT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(n,o)}catch(o){await sl(o)}}async function zN(r,e,n){const s=xe(r);try{const o=await(function(h,p){const m=xe(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return m.mutationQueue.lookupMutationBatch(g,p).next((T=>(We(T!==null,37113),b=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,b,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>m.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);ST(s,e,n),TT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fu(s,o)}catch(o){await sl(o)}}function TT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ST(r,e,n){const s=xe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||AT(r,s)}))}function AT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ng(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),dg(r))}function OE(r,e,n){for(const s of n)s instanceof _T?(r.Ru.addReference(s.key,e),BN(r,s)):s instanceof vT?(he(fg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||AT(r,s.key)):Te(19791,{wu:s})}function BN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(fg,"New document in limbo: "+n),r.Eu.add(s),dg(r))}function dg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(lt.fromString(e)),s=r.fu.next();r.Au.set(s,new DN(n)),r.du=r.du.insert(n,s),fT(r.remoteStore,new js(tr(yf(n.path)),s,"TargetPurposeLimboResolution",pf.ce))}}async function Fu(r,e,n){const s=xe(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{h.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=eg.As(m.targetId,g);u.push(b)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(m,g){const b=xe(m);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(w=>ie.forEach(w.Es,(k=>b.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>ie.forEach(w.ds,(k=>b.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!al(T))throw T;he(tg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=b.Ms.get(w),P=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(P);b.Ms=b.Ms.insert(w,Q)}}})(s.localStore,u))}async function qN(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){he(fg,"User change. New user:",e.toKey());const s=await lT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new le(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(n,s.Ls)}}function HN(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function wT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.Pu.H_=RN.bind(null,e.eventManager),e.Pu.yu=xN.bind(null,e.eventManager),e}function FN(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KD(this.persistence,new GD,e.initialUser,this.serializer)}Cu(e){return new oT(Zm.mi,this.serializer)}Du(e){return new tN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class GN extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new oT((s=>$h.mi(s,n)),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qN.bind(null,this.syncEngine),await SN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wN})()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),s=(function(u){return new aN(u)})(e.databaseInfo);return(function(u,h,p,m){return new cN(u,h,p,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,p){return new fN(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return wE.v()?new wE:new nN})())}createSyncEngine(e,n){return(function(o,u,h,p,m,g,b){const T=new NN(o,u,h,p,m,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);he(ja,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $s="FirestoreClient";class QN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he($s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he($s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bp(r,e){r.asyncQueue.verifyOperationInProgress(),he($s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await YN(r);he($s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>xE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>xE(e.remoteStore,o))),r._onlineComponents=e}async function YN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he($s,"Using user provided OfflineComponentProvider");try{await Bp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await Bp(r,new Zh)}}else he($s,"Using default OfflineComponentProvider"),await Bp(r,new GN(void 0));return r._offlineComponents}async function RT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he($s,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(he($s,"Using default OnlineComponentProvider"),await ME(r,new ym))),r._onlineComponents}function KN(r){return RT(r).then((e=>e.syncEngine))}async function ef(r){const e=await RT(r),n=e.eventManager;return n.onListen=ON.bind(null,e.syncEngine),n.onUnlisten=VN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LN.bind(null,e.syncEngine),n}function XN(r,e,n={}){const s=new Pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,m,g){const b=new pg({next:w=>{b.Nu(),h.enqueueAndForget((()=>ug(u,T)));const k=w.docs.has(p);!k&&w.fromCache?g.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&m&&m.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hg(yf(p.path),b,{includeMetadataChanges:!0,qa:!0});return lg(u,T)})(await ef(r),r.asyncQueue,e,n,s))),s.promise}function WN(r,e,n={}){const s=new Pr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,m,g){const b=new pg({next:w=>{b.Nu(),h.enqueueAndForget((()=>ug(u,T))),w.fromCache&&m.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hg(p,b,{includeMetadataChanges:!0,qa:!0});return lg(u,T)})(await ef(r),r.asyncQueue,e,n,s))),s.promise}function xT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const kE=new Map;const CT="firestore.googleapis.com",VE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=VE}else this.host=e.host,this.ssl=e.ssl??VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CD)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new i2;switch(s.type){case"firstParty":return new o2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(he("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function $N(r,e,n,s={}){r=_n(r,xf);const o=Ba(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Cm(`https://${p}`),Im("Firestore",!0)),u.host!==CT&&u.host!==p&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!Va(m,h)&&(r._setSettings(m),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=un.MOCK_USER;else{g=Sb(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new un(T)}r._authCredentials=new r2(new g1(g,b))}}class Fr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,Rt._jsonSchema))return new Rt(e,s||null,new ye(lt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:qt("string",Rt._jsonSchemaVersion),referencePath:qt("string")};class Fs extends Fr{constructor(e,n,s){super(e,n,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ye(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function Gt(r,e,...n){if(r=xt(r),y1("collection","path",e),r instanceof xf){const s=lt.fromString(e,...n);return X0(s),new Fs(r,null,s)}{if(!(r instanceof Rt||r instanceof Fs))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return X0(s),new Fs(r.firestore,null,s)}}function Et(r,e,...n){if(r=xt(r),arguments.length===1&&(e=qm.newId()),y1("doc","path",e),r instanceof xf){const s=lt.fromString(e,...n);return K0(s),new Rt(r,null,new ye(s))}{if(!(r instanceof Rt||r instanceof Fs))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return K0(s),new Rt(r.firestore,r instanceof Fs?r.converter:null,new ye(s))}}const PE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const s=zp();s&&he(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;he(PE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",jE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function zE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ar extends xf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function JN(r,e){const n=typeof r=="object"?r:Om(),s=typeof r=="string"?r:Qh,o=lf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Eb("firestore");u&&$N(o,...u)}return o}function Gu(r){if(r._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZN(r),r._firestoreClient}function ZN(r){const e=r._freezeSettings(),n=(function(o,u,h,p){return new A2(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,xT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pi(sn.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pi(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,pi._jsonSchema))return pi.fromBase64String(e.bytes)}}pi._jsonSchemaVersion="firestore/bytes/1.0",pi._jsonSchema={type:qt("string",pi._jsonSchemaVersion),bytes:qt("string")};class Qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._methodName=e}}class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(zu(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:qt("string",ir._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class rr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new rr(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:qt("string",rr._jsonSchemaVersion),vectorValues:qt("object")};const eO=/^__.*__$/;class tO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class IT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DT(this.Ac)&&eO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Af(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(r){const e=r._freezeSettings(),n=Af(r._databaseId);return new nO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function gg(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);vg("Data must be an object, but it was:",h,s);const p=MT(s,h);let m,g;if(u.merge)m=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const w=_m(e,T,n);if(!h.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);VT(b,w)||b.push(w)}m=new Gn(b),g=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=h.fieldTransforms;return new tO(new On(p),m,g)}class Cf extends Yu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class yg extends Yu{_toFieldTransform(e){return new Y1(e.path,new xu)}isEqual(e){return e instanceof yg}}class _g extends Yu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Du(e.serializer,q1(e.serializer,this.Fc));return new Y1(e.path,n)}isEqual(e){return e instanceof _g&&this.Fc===e.Fc}}function NT(r,e,n,s){const o=r.Cc(1,e,n);vg("Data must be an object, but it was:",o,s);const u=[],h=On.empty();Zs(s,((m,g)=>{const b=Eg(e,m,n);g=xt(g);const T=o.yc(b);if(g instanceof Cf)u.push(b);else{const w=Xu(g,T);w!=null&&(u.push(b),h.set(b,w))}}));const p=new Gn(u);return new IT(h,p,o.fieldTransforms)}function OT(r,e,n,s,o,u){const h=r.Cc(1,e,n),p=[_m(e,s,n)],m=[o];if(u.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(_m(e,u[w])),m.push(u[w+1]);const g=[],b=On.empty();for(let w=p.length-1;w>=0;--w)if(!VT(g,p[w])){const k=p[w];let P=m[w];P=xt(P);const Q=h.yc(k);if(P instanceof Cf)g.push(k);else{const V=Xu(P,Q);V!=null&&(g.push(k),b.set(k,V))}}const T=new Gn(g);return new IT(b,T,h.fieldTransforms)}function iO(r,e,n,s=!1){return Xu(n,r.Cc(s?4:3,e))}function Xu(r,e){if(kT(r=xt(r)))return vg("Unsupported field value:",e,r),MT(r,e);if(r instanceof Yu)return(function(s,o){if(!DT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let m=Xu(p,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pi)return{bytesValue:Z1(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rr)return(function(h,p){return{mapValue:{fields:{[R1]:{stringValue:x1},[Yh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${df(s)}`)})(r,e)}function MT(r,e){const n={};return E1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(r,((s,o)=>{const u=Xu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function kT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ht||r instanceof ir||r instanceof pi||r instanceof Rt||r instanceof Yu||r instanceof rr)}function vg(r,e,n){if(!kT(n)||!_1(n)){const s=df(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function _m(r,e,n){if((e=xt(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw tf("Field path arguments must be of type string or ",r,!1,void 0,n)}const rO=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,n){if(e.search(rO)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qu(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function tf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new le(ee.INVALID_ARGUMENT,p+r+m)}function VT(r,e){return r.some((n=>n.isEqual(e)))}class LT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sO extends LT{data(){return super.data()}}function bg(r,e){return typeof e=="string"?Eg(r,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}function PT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Sg extends Tg{}function Xi(r,e,...n){let s=[];e instanceof Tg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof wg)).length,p=u.filter((m=>m instanceof Ag)).length;if(h>1||h>0&&p>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ag extends Sg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ag(e,n,s)}_apply(e){const n=this._parse(e);return UT(e._query,n),new Fr(e.firestore,e.converter,lm(e._query,n))}_parse(e){const n=Ku(e.firestore);return(function(u,h,p,m,g,b,T){let w;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){qE(T,b);const P=[];for(const Q of T)P.push(BE(m,u,Q));w={arrayValue:{values:P}}}else w=BE(m,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||qE(T,b),w=iO(p,h,T,b==="in"||b==="not-in");return Bt.create(g,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const m of p)UT(h,m),h=lm(h,m)})(e._query,n),new Fr(e.firestore,e.converter,lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends Sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,h)})(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new ol(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Wi(r,e="asc"){const n=e,s=bg("orderBy",r);return Rg._create(s,n)}class xg extends Sg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xg(e,n,s)}_apply(e){return new Fr(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function aO(r){return xg._create("limit",r,"F")}function BE(r,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!ye.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iE(r,new ye(s))}if(n instanceof Rt)return iE(r,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function qE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UT(r,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oO{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Yh].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new rr(n)}convertGeoPoint(e){return new ir(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);We(sT(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Cg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends LT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:qt("string",Ma._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Vh extends Ma{data(e={}){return super.data(e)}}class ka{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vh(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return p.type!==0&&(g=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),b=h.indexOf(p.doc.key)),{type:lO(p.type),doc:m,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function za(r){r=_n(r,Rt);const e=_n(r.firestore,ar);return XN(Gu(e),r._key).then((n=>jT(e,r,n)))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:qt("string",ka._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Ig extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function vm(r){r=_n(r,Fr);const e=_n(r.firestore,ar),n=Gu(e),s=new Ig(e);return PT(r._query),WN(n,r._query).then((o=>new ka(e,s,r,o)))}function Nu(r,e,n){r=_n(r,Rt);const s=_n(r.firestore,ar),o=Cg(r.converter,e,n);return Wu(s,[gg(Ku(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,vn.none())])}function Bo(r,e,n,...s){r=_n(r,Rt);const o=_n(r.firestore,ar),u=Ku(o);let h;return h=typeof(e=xt(e))=="string"||e instanceof Qu?OT(u,"updateDoc",r._key,e,n,s):NT(u,"updateDoc",r._key,e),Wu(o,[h.toMutation(r._key,vn.exists(!0))])}function qp(r){return Wu(_n(r.firestore,ar),[new Tf(r._key,vn.none())])}function fu(r,e){const n=_n(r.firestore,ar),s=Et(r),o=Cg(r.converter,e);return Wu(n,[gg(Ku(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,vn.exists(!1))]).then((()=>s))}function $i(r,...e){r=xt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let u,h,p;if(r instanceof Rt)h=_n(r.firestore,ar),p=yf(r._key.path),u={next:m=>{e[s]&&e[s](jT(h,r,m))},error:e[s+1],complete:e[s+2]};else{const m=_n(r,Fr);h=_n(m.firestore,ar),p=m._query;const g=new Ig(h);u={next:b=>{e[s]&&e[s](new ka(h,g,m,b))},error:e[s+1],complete:e[s+2]},PT(r._query)}return(function(g,b,T,w){const k=new pg(w),P=new hg(b,k,T);return g.asyncQueue.enqueueAndForget((async()=>lg(await ef(g),P))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>ug(await ef(g),P)))}})(Gu(h),p,o,u)}function Wu(r,e){return(function(s,o){const u=new Pr;return s.asyncQueue.enqueueAndForget((async()=>PN(await KN(s),o,u))),u.promise})(Gu(r),e)}function jT(r,e,n){const s=n.docs.get(e._key),o=new Ig(r);return new Ma(r,o,e._key,s,new hu(n.hasPendingWrites,n.fromCache),e.converter)}class uO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,n,s){this._verifyNotCommitted();const o=Hp(e,this._firestore),u=Cg(o.converter,n,s),h=gg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,vn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Hp(e,this._firestore);let h;return h=typeof(n=xt(n))=="string"||n instanceof Qu?OT(this._dataReader,"WriteBatch.update",u._key,n,s,o):NT(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hp(e,this._firestore);return this._mutations=this._mutations.concat(new Tf(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hp(r,e){if((r=xt(r)).firestore!==e)throw new le(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Mr(){return new yg("serverTimestamp")}function HE(r){return new _g("increment",r)}function zT(r){return Gu(r=_n(r,ar)),new uO(r,(e=>Wu(r,e)))}(function(e,n=!0){(function(o){rl=o})(qa),La(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new ar(new s2(s.getProvider("auth-internal")),new l2(h,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ji(F0,G0,e),Ji(F0,G0,"esm2020")})();const BT="firebasestorage.googleapis.com",cO="storageBucket",hO=120*1e3,fO=600*1e3;class cr extends lr{constructor(e,n,s=0){super(Fp(e),`Firebase Storage: ${n} (${Fp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function Fp(r){return"storage/"+r}function dO(){const r="An unknown error occurred, please check the error payload for server response.";return new cr(or.UNKNOWN,r)}function pO(){return new cr(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mO(){return new cr(or.CANCELED,"User canceled the upload/download.")}function gO(r){return new cr(or.INVALID_URL,"Invalid URL '"+r+"'.")}function yO(r){return new cr(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function FE(r){return new cr(or.INVALID_ARGUMENT,r)}function qT(){return new cr(or.APP_DELETED,"The Firebase app was deleted.")}function _O(r){return new cr(or.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ii.makeFromUrl(e,n)}catch{return new Ii(e,"")}if(s.path==="")return s;throw yO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const b="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${T}/${b}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},Q=n===BT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",q=new RegExp(`^https?://${Q}/${o}/${V}`,"i"),re=[{regex:p,indices:m,postModify:u},{regex:k,indices:P,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<re.length;ce++){const _e=re[ce],pe=_e.regex.exec(e);if(pe){const x=pe[_e.indices.bucket];let R=pe[_e.indices.path];R||(R=""),s=new Ii(x,R),_e.postModify(s);break}}if(s==null)throw gO(e);return s}}class vO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EO(r,e,n){let s=1,o=null,u=null,h=!1,p=0;function m(){return p===2}let g=!1;function b(...V){g||(g=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(k,m())},V)}function w(){u&&clearTimeout(u)}function k(V,...q){if(g){w();return}if(V){w(),b.call(null,V,...q);return}if(m()||h){w(),b.call(null,V,...q);return}s<64&&(s*=2);let re;p===1?(p=2,re=0):re=(s+Math.random())*1e3,T(re)}let P=!1;function Q(V){P||(P=!0,w(),!g&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function bO(r){r(!1)}function TO(r){return r!==void 0}function GE(r,e,n,s){if(s<e)throw FE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw FE(`Invalid value for '${r}'. Expected ${n} or less.`)}function SO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var nf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(nf||(nf={}));function AO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class wO{constructor(e,n,s,o,u,h,p,m,g,b,T,w=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,Q)=>{this.resolve_=P,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===nf.NO_ERROR,m=u.getStatus();if(!p||AO(m,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===nf.ABORT;s(!1,new Sh(!1,null,b));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Sh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());TO(m)?u(m):u()}catch(m){h(m)}else if(p!==null){const m=dO();m.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,m)):h(m)}else if(o.canceled){const m=this.appDelete_?qT():mO();h(m)}else{const m=pO();h(m)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=EO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function RO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function IO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function DO(r,e,n,s,o,u,h=!0,p=!1){const m=SO(r.urlParams),g=r.url+m,b=Object.assign({},r.headers);return CO(b,e),RO(b,n),xO(b,u),IO(b,s),new wO(g,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function NO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function OO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class rf{constructor(e,n){this._service=e,n instanceof Ii?this._location=n:this._location=Ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rf(e,n)}get root(){const e=new Ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OO(this._location.path)}get storage(){return this._service}get parent(){const e=NO(this._location.path);if(e===null)return null;const n=new Ii(this._location.bucket,e);return new rf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _O(e)}}function QE(r,e){const n=e?.[cO];return n==null?null:Ii.makeFromBucketSpec(n,r)}function MO(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ba(e);o&&(Cm(`https://${r.host}/b`),Im("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Sb(u,r.app.options.projectId))}class kO{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=BT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hO,this._maxUploadRetryTime=fO,this._requests=new Set,o!=null?this._bucket=Ii.makeFromBucketSpec(o,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ii.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new vO(qT());{const h=DO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const YE="@firebase/storage",KE="0.14.0";const HT="storage";function VO(r=Om(),e){r=xt(r);const s=lf(r,HT).getImmediate({identifier:e}),o=Eb("storage");return o&&LO(s,...o),s}function LO(r,e,n,s={}){MO(r,e,n,s)}function PO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new kO(n,s,o,e,qa)}function UO(){La(new Gs(HT,PO,"PUBLIC").setMultipleInstances(!0)),Ji(YE,KE,""),Ji(YE,KE,"esm2020")}UO();const jO={apiKey:"AIzaSyAsCmzOUFyOeBBKu-Dcf2DojSJ7VpDgl38",authDomain:"makerworks-31c33.firebaseapp.com",projectId:"makerworks-31c33",storageBucket:"makerworks-31c33.firebasestorage.app",messagingSenderId:"247985134020",appId:"1:247985134020:web:1ef8a8fb162a540ee92c91",measurementId:"G-TX2YPY4ZSV"},Dg=Rb(jO),Oa=t2(Dg),De=JN(Dg);VO(Dg);function zO(){const[r,e]=N.useState(""),[n,s]=N.useState(""),[o,u]=N.useState(!1),[h,p]=N.useState(""),m=Mu(),g=async b=>{b.preventDefault(),p(""),u(!0);try{await zC(Oa,r,n),m("/",{replace:!0})}catch(T){console.error(T),p(T.message||"Login failed")}finally{u(!1)}};return v.jsx("div",{className:"auth-page",children:v.jsxs("div",{className:"auth-shell",children:[v.jsx("div",{className:"auth-illustration",children:v.jsxs("div",{className:"auth-illu-card",children:[v.jsx("div",{className:"auth-illu-badge",children:v.jsx("span",{children:" MakerWorks LMS"})}),v.jsx("div",{className:"auth-illu-avatar",children:""}),v.jsx("h2",{children:"Welcome back"}),v.jsx("p",{children:"Login to continue learning, track your progress, and complete your courses."}),v.jsxs("ul",{className:"auth-illu-list",children:[v.jsx("li",{children:" Progress tracking per lesson"}),v.jsx("li",{children:" Quizzes & certificates"}),v.jsx("li",{children:" Separate student / instructor views"})]})]})}),v.jsxs("div",{className:"auth-panel",children:[v.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),v.jsx("h1",{className:"auth-title",children:"Login"}),v.jsx("p",{className:"auth-subtitle",children:"Enter your account details to access your dashboard."}),v.jsxs("form",{className:"auth-form",onSubmit:g,children:[v.jsxs("div",{className:"auth-field",children:[v.jsx("label",{htmlFor:"email",children:"Email"}),v.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:b=>e(b.target.value),required:!0})]}),v.jsxs("div",{className:"auth-field",children:[v.jsx("label",{htmlFor:"password",children:"Password"}),v.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:b=>s(b.target.value),required:!0})]}),v.jsx("div",{className:"auth-actions-row",children:v.jsx("span",{className:"tiny-text",style:{color:"#9ca3af"},children:"Use the test account you created"})}),v.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:o,children:o?"Logging in...":"Login"})]}),h&&v.jsx("p",{className:"auth-message error",style:{marginTop:8},children:h})]})]})})}function BO(){const[r,e]=N.useState([]),[n,s]=N.useState(!0);return N.useEffect(()=>{const o=Xi(Gt(De,"newsletters"),Wi("createdAt","desc")),u=$i(o,h=>{e(h.docs.map(p=>({id:p.id,...p.data()}))),s(!1)},h=>{console.error("Newsletter load error:",h),s(!1)});return()=>u()},[]),v.jsx("div",{style:{minHeight:"100vh",background:"#f5f3ff",display:"flex",justifyContent:"center",padding:24},children:v.jsxs("div",{style:{width:"100%",maxWidth:900,background:"white",borderRadius:18,padding:20,border:"1px solid #e5e7eb",boxShadow:"0 10px 26px rgba(15,23,42,0.06)"},children:[v.jsx("h1",{style:{marginTop:0,fontSize:22,fontWeight:700,color:"#111827"},children:"News & Announcements"}),v.jsx("p",{style:{fontSize:13,color:"#6b7280",marginTop:2},children:"Posted by instructors. This page is public, login not required."}),n&&v.jsx("p",{style:{fontSize:14},children:"Loading"}),!n&&r.length===0&&v.jsx("p",{style:{fontSize:14,color:"#6b7280"},children:"No news yet."}),!n&&r.map(o=>{const u=o.body||o.content||o.message||"",h=o.createdAt&&o.createdAt.toDate?o.createdAt.toDate().toLocaleString():"Recently";return v.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[v.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:4},children:o.title||"Untitled"}),v.jsx("div",{style:{fontSize:14,color:"#4b5563",whiteSpace:"pre-wrap",marginBottom:6},children:u}),v.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:[h,"  ",o.authorEmail||"Instructor"]})]},o.id)})]})})}function qO({user:r}){const[e,n]=N.useState([]),[s,o]=N.useState({}),[u,h]=N.useState(null),p=Mu();N.useEffect(()=>{if(!r)return;(async()=>{try{const q=Et(De,"users",r.uid),te=await za(q);te.exists()?h(te.data()):h(null)}catch(q){console.error("Error loading profile:",q),h(null)}})()},[r]),N.useEffect(()=>{const V=Xi(Gt(De,"courses"),Wi("createdAt","desc"));return $i(V,q=>{n(q.docs.map(te=>({id:te.id,...te.data()})))})},[]),N.useEffect(()=>{const V=Gt(De,"users",r.uid,"progress");return $i(V,q=>{const te={};q.forEach(re=>{te[re.id]=re.data()}),o(te)})},[r.uid]);const m=e.filter(V=>s[V.id]),g=e.filter(V=>!s[V.id]),b=u&&u.name&&u.name.trim()||r.displayName||r.email||"Learner",T=Object.values(s).reduce((V,q)=>V+(q.completedLessons?.length||0),0),w=V=>{p(`/courses/${V}`)},k=async V=>{try{const q=Et(De,"users",r.uid,"progress",V);await Nu(q,{startedAt:Mr(),completedLessons:[],lastOpenedLessonId:null},{merge:!0}),w(V)}catch(q){console.error("Error starting course:",q),w(V)}},P="#6d28d9",Q="#f5f3ff";return v.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:Q,minHeight:"100%"},children:v.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[v.jsxs("div",{style:{background:"white",borderRadius:999,padding:"8px 18px",display:"flex",alignItems:"center",gap:8,boxShadow:"0 8px 24px rgba(15,23,42,0.06)",marginBottom:18,border:"1px solid #e5e7eb"},children:[v.jsx("span",{style:{fontSize:18,color:P,fontWeight:700,marginRight:6},children:""}),v.jsx("input",{placeholder:"Search courses...",style:{flex:1,border:"none",outline:"none",fontSize:14,color:"#111827"}})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1.5fr)",gap:16,marginBottom:22},children:[v.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb",display:"flex",gap:16},children:[v.jsx("div",{style:{width:90,minWidth:90,height:90,borderRadius:18,background:"linear-gradient(135deg, #a855f7, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:30,fontWeight:700},children:b.split(" ").map(V=>V[0]?.toUpperCase()).join("").slice(0,2)}),v.jsxs("div",{style:{flex:1},children:[v.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#111827",marginBottom:4},children:b}),v.jsxs("div",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["ID: ",r.uid.slice(0,8)]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:8,fontSize:12,color:"#4b5563"},children:[v.jsxs("div",{children:[v.jsx("span",{style:{fontWeight:600},children:"Role: "}),"Student"]}),v.jsxs("div",{children:[v.jsx("span",{style:{fontWeight:600},children:"Enrolled: "}),m.length," course",m.length===1?"":"s"]}),v.jsxs("div",{children:[v.jsx("span",{style:{fontWeight:600},children:"Completed lessons: "}),T]})]})]})]}),v.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[v.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827"},children:"Learning overview"}),v.jsxs("div",{style:{display:"flex",gap:6,fontSize:11},children:[v.jsx("span",{style:{padding:"2px 10px",borderRadius:999,background:Q,color:P,fontWeight:600},children:"Active"}),v.jsx("span",{style:{padding:"2px 10px",borderRadius:999,border:"1px solid #e5e7eb",color:"#6b7280"},children:"Regular"})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:10,marginBottom:10},children:[v.jsxs("div",{style:{background:Q,borderRadius:12,padding:8,fontSize:12,color:P,fontWeight:600},children:["Total courses",v.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:e.length})]}),v.jsxs("div",{style:{background:"#ecfdf5",borderRadius:12,padding:8,fontSize:12,color:"#15803d",fontWeight:600},children:["Enrolled",v.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:m.length})]}),v.jsxs("div",{style:{background:"#eff6ff",borderRadius:12,padding:8,fontSize:12,color:"#2563eb",fontWeight:600},children:["Completed lessons",v.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:T})]})]}),v.jsxs("div",{style:{fontSize:12,color:"#4b5563"},children:[v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("div",{style:{marginBottom:2},children:"Active courses"}),v.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:v.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(m.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:P}})})]}),v.jsxs("div",{style:{marginBottom:8},children:[v.jsx("div",{style:{marginBottom:2},children:"Courses not started"}),v.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:v.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(g.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:"#f97316"}})})]})]})]})]}),v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[v.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Enrolled courses"}),v.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[m.length," enrolled"]})]}),m.length===0?v.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"You haven't enrolled in any courses yet."}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:14},children:m.map(V=>{const q=s[V.id]||{},te=q.completedLessons?.length||0,re=q.totalLessons||q.lessonCount||Math.max(te,1),ce=Math.min(100,Math.round(te/re*100));return v.jsxs("div",{style:{background:"white",borderRadius:12,border:"1px solid #e5e7eb",boxShadow:"0 6px 18px rgba(15,23,42,0.06)",display:"flex",overflow:"hidden"},children:[v.jsx("div",{style:{width:80,minWidth:80,background:"linear-gradient(135deg, #6d28d9, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:v.jsx("div",{style:{width:44,height:44,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(15,23,42,0.35)"},children:v.jsx("div",{style:{width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:"14px solid #6d28d9",marginLeft:2}})})}),v.jsxs("div",{style:{flex:1,padding:"10px 14px 8px",display:"flex",flexDirection:"column"},children:[v.jsx("div",{style:{fontSize:11,fontWeight:600,color:"#6b7280",marginBottom:2},children:V.category||"Course"}),v.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#111827",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:V.title||"Untitled course"}),v.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:["Lecture  ",te,"/",re," lessons "," ",ce,"% complete"]}),v.jsx("div",{style:{marginTop:8,height:6,borderRadius:999,background:"#e5e7eb",overflow:"hidden"},children:v.jsx("div",{style:{width:`${ce}%`,height:"100%",background:"#6d28d9"}})}),v.jsx("button",{onClick:()=>w(V.id),style:{marginTop:8,alignSelf:"flex-start",padding:"6px 12px",borderRadius:999,border:"none",background:"#6d28d9",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Continue course"})]})]},V.id)})})]}),v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[v.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"All courses"}),v.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[e.length," total"]})]}),e.length===0?v.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No courses yet."}):v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:20},children:e.map(V=>{const q=!!s[V.id],te=V.imageUrl||"";return v.jsxs("div",{style:{background:"white",borderRadius:12,overflow:"hidden",border:"1px solid #e5e7eb",boxShadow:"0 6px 14px rgba(15,23,42,0.06)",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{position:"relative"},children:[te?v.jsx("img",{src:te,alt:V.title,style:{width:"100%",height:140,objectFit:"cover",display:"block"}}):v.jsx("div",{style:{width:"100%",height:140,background:"linear-gradient(135deg, #e5e7eb, #d1d5db)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:13,color:"#4b5563",fontWeight:500},children:"No image"}),V.badge&&v.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:"#4c1d95",color:"white",fontSize:11,fontWeight:600},children:V.badge}),!V.badge&&q&&v.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:"#ecfdf5",color:"#15803d",fontSize:11,fontWeight:600},children:"Enrolled"})]}),v.jsxs("div",{style:{padding:12,display:"flex",flexDirection:"column",flex:1},children:[v.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:40},children:V.title||"Untitled course"}),v.jsx("div",{style:{marginTop:6,fontSize:12,color:"#6b7280",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:32},children:V.description||"No description yet."}),v.jsx("button",{onClick:()=>q?w(V.id):k(V.id),style:{marginTop:10,padding:"8px 12px",borderRadius:999,border:"none",background:q?P:"#16a34a",color:"white",fontSize:13,fontWeight:600,cursor:"pointer",alignSelf:"stretch"},children:q?"Go to course":"Start course"})]})]},V.id)})})]})]})})}function HO({user:r}){const[e,n]=N.useState([]),[s,o]=N.useState(""),[u,h]=N.useState(""),[p,m]=N.useState(""),[g,b]=N.useState(null),[T,w]=N.useState(""),[k,P]=N.useState(""),[Q,V]=N.useState(""),[q,te]=N.useState(null),[re,ce]=N.useState(""),[_e,pe]=N.useState([]),[x,R]=N.useState(""),[C,U]=N.useState(""),[M,z]=N.useState(""),[I,et]=N.useState(""),[Tt,W]=N.useState(""),[ae,me]=N.useState(""),[Ve,Fe]=N.useState(""),[O,J]=N.useState(null),[oe,ue]=N.useState(""),[Ee,Se]=N.useState(""),[Oe,yt]=N.useState(""),[at,yi]=N.useState(""),[hr,Mi]=N.useState(""),[ki,En]=N.useState(""),[Gr,_i]=N.useState(""),[ta,Qr]=N.useState([]),[ft,_t]=N.useState(""),[Qn,na]=N.useState(["","","",""]),[ia,Ht]=N.useState(0),[Yn,Vi]=N.useState(null),[Yr,Kn]=N.useState(""),[ra,Kr]=N.useState(["","","",""]),[sa,Xr]=N.useState(0),[bn,Ot]=N.useState(null),[fn,dt]=N.useState([]),[Wr,fr]=N.useState(""),[$r,Mn]=N.useState(""),[Xn,vt]=N.useState(!1),[Tn,dn]=N.useState(null),[pn,Ya]=N.useState(""),[Jr,kn]=N.useState(""),[Wn,Ka]=N.useState(!1),[vi,Li]=N.useState(null),[Zr,dr]=N.useState([]),an="#6d28d9",Xa="#f5f3ff";N.useEffect(()=>{const j=Xi(Gt(De,"courses"),Wi("createdAt","desc"));return $i(j,Ae=>{n(Ae.docs.map(Le=>({id:Le.id,...Le.data()})))})},[]),N.useEffect(()=>{if(!q)return pe([]);const j=Xi(Gt(De,"courses",q,"lessons"),Wi("createdAt","asc"));return $i(j,Ae=>{pe(Ae.docs.map(Le=>({id:Le.id,...Le.data()})))})},[q]),N.useEffect(()=>{if(!q||!O)return Qr([]);const j=Xi(Gt(De,"courses",q,"lessons",O,"quizzes"),Wi("createdAt","asc"));return $i(j,Ae=>{Qr(Ae.docs.map(Le=>({id:Le.id,...Le.data()})))})},[q,O]),N.useEffect(()=>{const j=Xi(Gt(De,"newsletters"),Wi("createdAt","desc")),Ae=$i(j,Le=>{dr(Le.docs.map(Ge=>({id:Ge.id,...Ge.data()})))});return()=>Ae()},[]);const Vn=j=>{te(j.id),ce(j.title),R(""),U(""),z(""),et(""),W(""),me(""),Fe(""),J(null),ue(""),Se(""),yt(""),yi(""),Mi(""),En(""),_i(""),_t(""),na(["","","",""]),Ht(0),Vi(null),Kn(""),Kr(["","","",""]),Xr(0)},Ln=async j=>{j.preventDefault(),s.trim()&&(await fu(Gt(De,"courses"),{title:s.trim(),description:u.trim(),imageUrl:p.trim()||null,createdBy:r.uid,createdByEmail:r.email,lessonCount:0,createdAt:Mr()}),o(""),h(""),m(""))},St=j=>{b(j.id),w(j.title),P(j.description||""),V(j.imageUrl||"")},Mt=async j=>{j.preventDefault(),g&&(await Bo(Et(De,"courses",g),{title:T.trim(),description:k.trim(),imageUrl:Q.trim()||null}),b(null),w(""),P(""),V(""))},$n=async j=>{await qp(Et(De,"courses",j)),q===j&&(te(null),pe([]))},es=async j=>{if(j.preventDefault(),!q||!x.trim())return;const Ae=ae?ae.split(",").map(Le=>Le.trim()).filter(Boolean):[];await fu(Gt(De,"courses",q,"lessons"),{title:x.trim(),description:C.trim(),content:M.trim(),youtubeUrl:I.trim()||null,pdfUrl:Tt.trim()||null,imageUrls:Ae,duration:Ve.trim()||null,createdAt:Mr()}),await Bo(Et(De,"courses",q),{lessonCount:HE(1)}),R(""),U(""),z(""),et(""),W(""),me(""),Fe("")},ul=j=>{J(j.id),ue(j.title),Se(j.description||""),yt(j.content||""),yi(j.youtubeUrl||""),Mi(j.pdfUrl||""),_i(j.duration||""),En(Array.isArray(j.imageUrls)?j.imageUrls.join(", "):"")},Wa=async j=>{if(j.preventDefault(),!q||!O)return;const Ae=ki?ki.split(",").map(Le=>Le.trim()).filter(Boolean):[];await Bo(Et(De,"courses",q,"lessons",O),{title:oe.trim(),description:Ee.trim(),content:Oe.trim(),youtubeUrl:at.trim()||null,pdfUrl:hr.trim()||null,imageUrls:Ae,duration:Gr.trim()||null}),J(null)},$a=async j=>{q&&(await qp(Et(De,"courses",q,"lessons",j)),await Bo(Et(De,"courses",q),{lessonCount:HE(-1)}),O===j&&J(null))},Jn=async j=>{j.preventDefault(),!(!q||!O)&&ft.trim()&&(await fu(Gt(De,"courses",q,"lessons",O,"quizzes"),{question:ft.trim(),options:Qn.map(Ae=>Ae.trim()),correctIndex:ia,createdAt:Mr()}),_t(""),na(["","","",""]),Ht(0))},ts=j=>{Vi(j.id),Kn(j.question),Kr(j.options||["","","",""]),Xr(j.correctIndex??0)},Zn=async j=>{j.preventDefault(),!(!q||!O||!Yn)&&(await Bo(Et(De,"courses",q,"lessons",O,"quizzes",Yn),{question:Yr.trim(),options:ra.map(Ae=>Ae.trim()),correctIndex:sa}),Vi(null))},Sn=async j=>{!q||!O||(await qp(Et(De,"courses",q,"lessons",O,"quizzes",j)),Yn===j&&Vi(null))},mn=async j=>{Ot(j),dt([]);const Le=(await vm(Gt(De,"users"))).docs.map(kt=>({id:kt.id,...kt.data()})),Ge=[];for(const kt of Le){const pr=Et(De,"users",kt.id,"progress",j.id),ns=await za(pr);ns.exists()&&Ge.push({email:kt.email,...ns.data()})}dt(Ge)},ei=async j=>{if(j.preventDefault(),dn(null),!Wr.trim()||!$r.trim()){dn("missing");return}vt(!0);try{const Ae=await vm(Gt(De,"users")),Le=zT(De);Ae.forEach(Ge=>{if(Ge.data().role==="student"){const pr=Et(Gt(De,"users",Ge.id,"notifications"));Le.set(pr,{title:Wr.trim(),body:$r.trim(),createdAt:Mr(),read:!1,from:r.email||r.uid})}}),await Le.commit(),dn("ok"),fr(""),Mn("")}catch(Ae){console.error("Error sending notifications:",Ae),dn("error")}vt(!1)};return v.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:Xa,minHeight:"100%"},children:v.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[v.jsx("div",{style:{marginBottom:18,display:"flex",justifyContent:"space-between",alignItems:"center"},children:v.jsxs("div",{children:[v.jsx("h2",{style:{margin:0,fontSize:20,fontWeight:700,color:"#111827"},children:"Instructor Studio"}),v.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Welcome, ",r.email]})]})}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.4fr) minmax(0, 2fr)",gap:18,alignItems:"flex-start"},children:[v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[v.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.06)"},children:[v.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827",marginBottom:10},children:"Create a new course"}),v.jsxs("form",{onSubmit:Ln,children:[v.jsx("input",{placeholder:"Course title",value:s,onChange:j=>o(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:14}}),v.jsx("textarea",{placeholder:"Short description",value:u,onChange:j=>h(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,resize:"vertical"}}),v.jsx("input",{placeholder:"Course image URL (optional)",value:p,onChange:j=>m(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("button",{type:"submit",style:{padding:"8px 14px",borderRadius:999,border:"none",background:an,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Add course"})]})]}),v.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.05)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[v.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Your courses"}),v.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:`${e.length} total`})]}),e.length===0&&v.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No courses yet."}),v.jsx("div",{style:{marginTop:6},children:e.map(j=>{const Ae=q===j.id;return v.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #eef2ff",marginBottom:8,background:Ae?"#eef2ff":"#f9fafb"},children:[v.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:j.title}),v.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:j.description||"No description."}),typeof j.lessonCount=="number"&&v.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[j.lessonCount," lesson",j.lessonCount===1?"":"s"]}),v.jsxs("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:6},children:[v.jsx("button",{onClick:()=>Vn(j),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:Ae?an:"#e5e7eb",color:Ae?"white":"#111827",cursor:"pointer"},children:"Lessons"}),v.jsx("button",{onClick:()=>St(j),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit"}),v.jsx("button",{onClick:()=>$n(j.id),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"}),v.jsx("button",{onClick:()=>mn(j),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fef9c3",color:"#92400e",cursor:"pointer"},children:"Analytics"})]})]},j.id)})}),g&&v.jsxs("div",{style:{marginTop:12,padding:10,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[v.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Edit course"}),v.jsxs("form",{onSubmit:Mt,children:[v.jsx("input",{value:T,onChange:j=>w(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{value:k,onChange:j=>P(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("input",{placeholder:"Course image URL (optional)",value:Q,onChange:j=>V(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("button",{type:"submit",style:{padding:"6px 12px",borderRadius:999,border:"none",background:an,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save"}),v.jsx("button",{type:"button",onClick:()=>b(null),style:{padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,marginLeft:8,cursor:"pointer"},children:"Cancel"})]})]})]}),bn&&v.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[v.jsxs("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:6},children:[" Analytics: ",bn.title]}),fn.length===0?v.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No student progress yet."}):fn.map((j,Ae)=>{const Le=j.completedLessons?.length||0,Ge=_e.length||0,kt=Ge===0?0:Math.round(Le/Ge*100);return v.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginTop:8,background:"#f9fafb"},children:[v.jsx("b",{style:{fontSize:13},children:j.email}),v.jsx("div",{style:{width:"100%",background:"#e5e7eb",height:6,borderRadius:999,marginTop:4},children:v.jsx("div",{style:{width:`${kt}%`,height:"100%",borderRadius:999,background:"#16a34a"}})}),v.jsxs("div",{style:{fontSize:12,marginTop:4,color:"#4b5563"},children:[Le,"/",Ge," lessons (",kt,"%)"]})]},Ae)}),v.jsx("button",{onClick:()=>Ot(null),style:{marginTop:10,padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Close analytics"})]}),v.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[v.jsx("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:8},children:"Send notification to all students"}),v.jsxs("form",{onSubmit:ei,children:[v.jsx("input",{placeholder:"Notification title",value:Wr,onChange:j=>fr(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{placeholder:"Message body",value:$r,onChange:j=>Mn(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("button",{type:"submit",disabled:Xn,style:{padding:"7px 12px",borderRadius:999,border:"none",background:Xn?"#9ca3af":"#5b21b6",color:"white",fontSize:13,fontWeight:600,cursor:Xn?"not-allowed":"pointer"},children:Xn?"Sending...":"Send to all students"})]}),Tn==="missing"&&v.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Please fill both title and message."}),Tn==="ok"&&v.jsx("p",{style:{fontSize:12,color:"#16a34a",marginTop:6},children:"Notification sent to all students."}),Tn==="error"&&v.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Something went wrong while sending."})]}),v.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[v.jsx("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:8},children:"Write newsletter / announcement (visible to everyone)"}),v.jsxs("form",{onSubmit:async j=>{if(j.preventDefault(),Li(null),!pn.trim()||!Jr.trim()){Li("missing");return}Ka(!0);try{await fu(Gt(De,"newsletters"),{title:pn.trim(),content:Jr.trim(),createdAt:Mr(),authorId:r.uid,authorEmail:r.email}),Ya(""),kn(""),Li("ok")}catch(Ae){console.error("Newsletter error:",Ae),Li("error")}Ka(!1)},children:[v.jsx("input",{placeholder:"Title",value:pn,onChange:j=>Ya(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{placeholder:"Newsletter / announcement content",value:Jr,onChange:j=>kn(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("button",{type:"submit",disabled:Wn,style:{padding:"7px 12px",borderRadius:999,border:"none",background:Wn?"#9ca3af":"#6d28d9",color:"white",fontSize:13,fontWeight:600,cursor:Wn?"not-allowed":"pointer"},children:Wn?"Publishing...":"Publish newsletter"})]}),vi==="missing"&&v.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Please fill both title and content."}),vi==="ok"&&v.jsx("p",{style:{fontSize:12,color:"#16a34a",marginTop:6},children:"Newsletter published."}),vi==="error"&&v.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Something went wrong."}),v.jsx("hr",{style:{margin:"14px 0 10px",border:"none",borderTop:"1px solid #e5e7eb"}}),v.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Recent newsletters"}),Zr.length===0?v.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No newsletters yet."}):Zr.map(j=>{const Ae=j.content||j.body||j.message||"",Le=j.createdAt&&j.createdAt.toDate?j.createdAt.toDate().toLocaleString():"Recently";return v.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginBottom:8,background:"#f9fafb"},children:[v.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:2,color:"#111827"},children:j.title||"Untitled"}),v.jsx("div",{style:{fontSize:13,color:"#4b5563",whiteSpace:"pre-wrap",marginBottom:4},children:Ae}),v.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:[Le,"  ",j.authorEmail||"Instructor"]})]},j.id)})]})]}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:q?v.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[v.jsxs("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:["Lessons in ",re]}),v.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[_e.length," lesson",_e.length===1?"":"s"]})]}),v.jsxs("form",{onSubmit:es,style:{marginBottom:12},children:[v.jsx("input",{placeholder:"Lesson title",value:x,onChange:j=>R(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{placeholder:"Short summary (Overview tab)",value:C,onChange:j=>U(j.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{placeholder:"Full theory / explanation",value:M,onChange:j=>z(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("input",{placeholder:"YouTube URL (unlisted / private link)",value:I,onChange:j=>et(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("input",{placeholder:"PDF URL (optional)",value:Tt,onChange:j=>W(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{placeholder:"Image URLs (comma separated)",value:ae,onChange:j=>me(j.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("input",{placeholder:"Duration in minutes (optional)",value:Ve,onChange:j=>Fe(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("button",{type:"submit",style:{padding:"7px 12px",borderRadius:999,border:"none",background:an,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add lesson"})]}),v.jsx("div",{children:_e.map(j=>v.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #e5e7eb",marginTop:8,background:O===j.id?"#eef2ff":"#f9fafb"},children:[v.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:j.title}),v.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:j.description||j.content}),j.duration&&v.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[j.duration," min"]}),v.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,flexWrap:"wrap"},children:[v.jsx("button",{onClick:()=>ul(j),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit lesson / quiz"}),v.jsx("button",{onClick:()=>$a(j.id),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},j.id))}),O&&v.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[v.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Edit lesson"}),v.jsxs("form",{onSubmit:Wa,children:[v.jsx("input",{value:oe,onChange:j=>ue(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),v.jsx("textarea",{value:Ee,onChange:j=>Se(j.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Short summary (Overview)"}),v.jsx("textarea",{value:Oe,onChange:j=>yt(j.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Full theory"}),v.jsx("input",{value:at,onChange:j=>yi(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"YouTube URL"}),v.jsx("input",{value:hr,onChange:j=>Mi(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"PDF URL"}),v.jsx("textarea",{value:ki,onChange:j=>En(j.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Image URLs (comma separated)"}),v.jsx("input",{value:Gr,onChange:j=>_i(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Duration in minutes"}),v.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:an,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save lesson"})]}),v.jsx("h4",{style:{margin:"16px 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Quiz questions"}),v.jsxs("form",{onSubmit:Jn,children:[v.jsx("input",{placeholder:"Quiz question",value:ft,onChange:j=>_t(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),Qn.map((j,Ae)=>v.jsx("input",{placeholder:`Option ${Ae+1}`,value:j,onChange:Le=>{const Ge=[...Qn];Ge[Ae]=Le.target.value,na(Ge)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},Ae)),v.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),v.jsxs("select",{value:ia,onChange:j=>Ht(Number(j.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[v.jsx("option",{value:0,children:"Option 1"}),v.jsx("option",{value:1,children:"Option 2"}),v.jsx("option",{value:2,children:"Option 3"}),v.jsx("option",{value:3,children:"Option 4"})]}),v.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:"#16a34a",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add question"})]}),ta.map((j,Ae)=>v.jsxs("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid #e5e7eb",fontSize:13},children:[v.jsxs("b",{children:["Q",Ae+1,": ",j.question]}),j.options?.map((Le,Ge)=>v.jsxs("div",{style:{fontSize:12},children:[Ge+1,". ",Le," ",j.correctIndex===Ge&&v.jsx("strong",{children:"(correct)"})]},Ge)),v.jsxs("div",{style:{marginTop:4,display:"flex",gap:6},children:[v.jsx("button",{onClick:()=>ts(j),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#e5e7eb",cursor:"pointer"},children:"Edit"}),v.jsx("button",{onClick:()=>Sn(j.id),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},j.id)),Yn&&v.jsxs("form",{onSubmit:Zn,style:{marginTop:14,padding:10,background:"#f3f4f6",borderRadius:10},children:[v.jsx("h5",{style:{margin:"0 0 6px",fontSize:13,fontWeight:600,color:"#111827"},children:"Edit quiz question"}),v.jsx("input",{value:Yr,onChange:j=>Kn(j.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),ra.map((j,Ae)=>v.jsx("input",{value:j,onChange:Le=>{const Ge=[...ra];Ge[Ae]=Le.target.value,Kr(Ge)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},Ae)),v.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),v.jsxs("select",{value:sa,onChange:j=>Xr(Number(j.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[v.jsx("option",{value:0,children:"Option 1"}),v.jsx("option",{value:1,children:"Option 2"}),v.jsx("option",{value:2,children:"Option 3"}),v.jsx("option",{value:3,children:"Option 4"})]}),v.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:an,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save quiz"})]})]})]}):v.jsx("div",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",fontSize:13,color:"#6b7280"},children:"Select a course on the left to manage lessons and quizzes."})})]})]})})}function FO(r){if(!r)return null;try{const e=new URL(r),n=e.searchParams.get("v");if(n)return`https://www.youtube-nocookie.com/embed/${n}`;if(e.hostname==="youtu.be"){const s=e.pathname.replace("/","");if(s)return`https://www.youtube-nocookie.com/embed/${s}`}}catch{}return null}function GO({user:r}){const{courseId:e}=ob(),[n,s]=N.useState(null),[o,u]=N.useState([]),[h,p]=N.useState(null),[m,g]=N.useState("overview"),b="#6d28d9";N.useEffect(()=>{async function P(){const Q=Et(De,"courses",e),V=await za(Q);V.exists()&&s({id:V.id,...V.data()})}P()},[e]),N.useEffect(()=>{async function P(){const Q=Gt(De,"courses",e,"lessons"),V=Xi(Q,Wi("createdAt","asc")),te=(await vm(V)).docs.map(re=>({id:re.id,...re.data()}));u(te),te.length>0&&p(te[0])}P()},[e]),N.useEffect(()=>{if(!r)return;async function P(){const Q=Et(De,"users",r.uid,"progress",e);await Nu(Q,{startedAt:Mr()},{merge:!0})}P()},[r,e]);const T=async P=>{if(p(P),g("overview"),r)try{const Q=Et(De,"users",r.uid,"progress",e);await Nu(Q,{lastOpenedLessonId:P.id,startedAt:Mr()},{merge:!0})}catch(Q){console.error("Error updating lesson progress:",Q)}},w=FO(h?.youtubeUrl),k=h?.description||n?.description||"This lesson description will appear here.";return v.jsxs("div",{className:"cp-root",style:{display:"flex",height:"calc(100vh - 56px)",background:"#111827",color:"white"},children:[v.jsxs("div",{className:"cp-left",style:{flex:1,display:"flex",flexDirection:"column",background:"#0b1120",borderRight:"1px solid #020617"},children:[v.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",background:"black"},children:h?w?v.jsx("iframe",{src:w,title:h.title||"Lesson video",style:{position:"absolute",inset:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):v.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},children:[v.jsx("div",{style:{marginBottom:12,fontSize:18,fontWeight:600},children:h.title||"Lesson"}),v.jsx("button",{style:{width:82,height:82,borderRadius:"999px",border:"none",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default"},children:v.jsx("div",{style:{marginLeft:5,width:0,height:0,borderTop:"14px solid transparent",borderBottom:"14px solid transparent",borderLeft:"24px solid #111827"}})}),v.jsx("div",{style:{marginTop:8,fontSize:12,color:"#e5e7eb"},children:"No YouTube link set for this lesson."})]}):v.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"Select a lesson on the right"})}),v.jsxs("div",{style:{background:"#f9fafb",color:"#111827",flex:1,overflowY:"auto"},children:[v.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",background:"white",padding:"0 16px"},children:[{id:"overview",label:"Overview"},{id:"theory",label:"Theory"},{id:"resources",label:"Resources"}].map(P=>v.jsx("button",{onClick:()=>g(P.id),style:{border:"none",background:"transparent",padding:"12px 14px",cursor:"pointer",fontSize:14,borderBottom:m===P.id?`2px solid ${b}`:"2px solid transparent",color:m===P.id?b:"#6b7280",fontWeight:m===P.id?600:500},children:P.label},P.id))}),v.jsxs("div",{style:{padding:"16px 20px",fontSize:14},children:[m==="overview"&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{style:{margin:"0 0 6px",fontSize:20,fontWeight:700},children:h?.title||n?.title||"Lesson overview"}),v.jsx("p",{style:{margin:"0 0 10px",color:"#4b5563"},children:k}),v.jsxs("p",{style:{margin:"12px 0 0",fontSize:13,color:"#6b7280"},children:["Course:"," ",v.jsx("span",{style:{fontWeight:600},children:n?.title||"Course"})]}),h?.duration&&v.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Duration: ",h.duration," min"]})]}),m==="theory"&&v.jsx("div",{style:{fontSize:14,color:"#374151",lineHeight:1.6},children:h?.content||"Detailed theory/content for this lesson will go here."}),m==="resources"&&v.jsxs("div",{style:{fontSize:14,color:"#4b5563",display:"flex",flexDirection:"column",gap:16},children:[h?.pdfUrl?v.jsxs("div",{children:[v.jsx("p",{style:{marginBottom:6},children:"PDF resource for this lesson:"}),v.jsx("a",{href:h.pdfUrl,target:"_blank",rel:"noreferrer",style:{fontSize:14,color:b,fontWeight:600},children:" Open PDF in new tab"}),v.jsx("div",{style:{marginTop:10,border:"1px solid #e5e7eb",borderRadius:8,overflow:"hidden",height:400,background:"white"},children:v.jsx("iframe",{src:h.pdfUrl,title:"Lesson PDF",style:{width:"100%",height:"100%",border:"none"}})})]}):v.jsx("p",{style:{color:"#6b7280",margin:0},children:"No PDF attached for this lesson."}),h?.imageUrls&&Array.isArray(h.imageUrls)&&h.imageUrls.length>0&&v.jsxs("div",{children:[v.jsx("p",{style:{marginBottom:6},children:"Images for this lesson:"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:h.imageUrls.map((P,Q)=>v.jsx("div",{style:{borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb",background:"white"},children:v.jsx("img",{src:P,alt:`Resource ${Q+1}`,style:{width:"100%",height:120,objectFit:"cover",display:"block"}})},Q))})]})]})]})]})]}),v.jsxs("aside",{className:"cp-right",style:{width:360,background:"#f9fafb",borderLeft:"1px solid #e5e7eb",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",background:"white"},children:[v.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:n?.title||"Course content"}),v.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:[o.length," lesson",o.length===1?"":"s"]})]}),v.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[o.map((P,Q)=>{const V=h?.id===P.id;return v.jsxs("button",{onClick:()=>T(P),style:{width:"100%",textAlign:"left",border:"none",background:V?"#e5e7eb":"transparent",padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"flex-start",gap:10,fontSize:13},children:[v.jsxs("span",{style:{marginTop:2,fontSize:11,color:"#6b7280"},children:[Q+1,"."]}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:600,color:"#111827",marginBottom:2},children:P.title||"Lesson"}),P.duration&&v.jsxs("div",{style:{fontSize:11,color:"#6b7280"},children:[P.duration," min"]})]})]},P.id)}),o.length===0&&v.jsx("div",{style:{padding:14,fontSize:13,color:"#6b7280"},children:"No lessons created for this course yet."})]})]})]})}function QO({user:r}){const{courseId:e,lessonId:n}=ob(),[s,o]=N.useState(null),[u,h]=N.useState([]),[p,m]=N.useState({}),[g,b]=N.useState(!1);N.useEffect(()=>{za(Et(De,"courses",e,"lessons",n)).then(k=>{k.exists()&&o(k.data())})},[e,n]),N.useEffect(()=>{const k=Xi(Gt(De,"courses",e,"lessons",n,"quizzes"),Wi("createdAt","asc"));return $i(k,P=>{h(P.docs.map(Q=>({id:Q.id,...Q.data()})))})},[]);const T=async()=>{const k=Et(De,"users",r.uid,"progress",e),P=await za(k),Q=P.exists()?P.data():{completedLessons:[]};await Nu(k,{...Q,completedLessons:[...Q.completedLessons,n]})},w=()=>{b(!0)};return v.jsx("div",{style:{padding:20},children:s&&v.jsxs(v.Fragment,{children:[v.jsx("h2",{children:s.title}),v.jsx("p",{children:s.content}),s.fileUrl&&v.jsxs("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[" ",s.fileName]}),v.jsx("h3",{style:{marginTop:20},children:"Quiz"}),u.map((k,P)=>v.jsxs("div",{style:{marginBottom:12},children:[v.jsxs("b",{children:["Q",P+1,". ",k.question]}),k.options.map((Q,V)=>v.jsx("div",{children:v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:k.id,disabled:g,onChange:()=>m({...p,[k.id]:V})})," ",Q]})},V))]},k.id)),!g&&u.length>0&&v.jsx("button",{onClick:w,style:{padding:"6px 10px",background:"#16a34a",color:"white",border:"none",borderRadius:6},children:"Submit Quiz"}),g&&v.jsx("button",{onClick:T,style:{marginTop:10,padding:"6px 10px",background:"#2563eb",color:"white",border:"none",borderRadius:6},children:"Mark Lesson Complete"})]})})}function fi({children:r}){const e=Hr(),n=Mu(),[s,o]=N.useState(!1),u=e.pathname.startsWith("/instructor"),h=u?"/instructor":"/student",p=async()=>{try{await Oa.signOut(),n("/login")}catch(P){console.error(P)}},m={display:"flex",alignItems:"center",gap:10,padding:"10px 16px",fontSize:14,cursor:"pointer"},g={width:18,textAlign:"center",fontSize:16},b={whiteSpace:"nowrap"},T=()=>o(!1),w=P=>P===h?e.pathname===h||e.pathname===`${h}/`:e.pathname===P||e.pathname.startsWith(P+"/"),k=[{key:"dashboard",label:"Dashboard",icon:"",path:h},{key:"profile",label:"My Profile",icon:"",path:`${h}/profile`},{key:"change-password",label:"Change Password",icon:"",path:`${h}/change-password`},{key:"messages",label:"Messages",icon:"",path:`${h}/messages`},{key:"notifications",label:"Notifications",icon:"",path:`${h}/notifications`}];return v.jsxs("div",{className:"layout-root",style:{display:"flex",minHeight:"100vh",background:"#f3f4f6",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:[s&&v.jsx("div",{className:"layout-backdrop",onClick:T,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.35)",zIndex:15}}),v.jsxs("aside",{className:`layout-sidebar ${s?"sidebar-open":"sidebar-closed"}`,style:{width:220,background:"#5b21b6",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:20},children:[v.jsxs("div",{children:[v.jsx("div",{className:"sidebar-logo",style:{padding:"18px 12px 14px",display:"flex",justifyContent:"center",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:v.jsx("div",{style:{width:72,height:72,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,color:"#5b21b6",boxShadow:"0 4px 10px rgba(0,0,0,0.18)"},children:"LOGO"})}),v.jsx("nav",{className:"sidebar-nav",style:{marginTop:10},children:k.map(P=>{const Q=w(P.path);return v.jsxs("div",{style:{...m,backgroundColor:Q?"white":"transparent",color:Q?"#5b21b6":"white",borderRadius:"0 20px 20px 0",marginRight:8},onClick:()=>{n(P.path),T()},children:[v.jsx("span",{style:g,children:P.icon}),v.jsx("span",{style:b,children:P.label})]},P.key)})})]}),v.jsx("div",{className:"sidebar-help",style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.12)"},children:v.jsxs("div",{style:{...m,padding:"8px 10px",justifyContent:"center",borderRadius:999,border:"1px solid rgba(255,255,255,0.6)",fontSize:13},children:[v.jsx("span",{style:{fontSize:16},children:""}),v.jsx("span",{children:"Help & Support"})]})})]}),v.jsxs("div",{className:"layout-main",style:{flex:1,display:"flex",flexDirection:"column"},children:[v.jsxs("header",{className:"layout-topbar",style:{height:56,background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[v.jsx("button",{className:"hamburger-btn",onClick:()=>o(P=>!P),"aria-label":"Toggle menu",style:{width:34,height:34,borderRadius:999,border:"1px solid #e5e7eb",background:"white",display:"none",alignItems:"center",justifyContent:"center",padding:0,cursor:"pointer"},children:v.jsx("span",{style:{width:16,height:2,background:"#111827",display:"block",boxShadow:"0 5px 0 #111827, 0 -5px 0 #111827"}})}),v.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827"},children:u?"Instructor Panel":"Student Panel"})]}),v.jsx("button",{onClick:p,style:{padding:"6px 12px",fontSize:13,borderRadius:999,border:"1px solid #e5e7eb",background:"#f9fafb",cursor:"pointer"},children:"Logout"})]}),v.jsx("main",{className:"layout-content",style:{flex:1,padding:16,overflow:"auto"},children:r})]})]})}function XE({user:r}){const[e,n]=N.useState([]),[s,o]=N.useState(""),[u,h]=N.useState(!1),p=N.useRef(null);N.useEffect(()=>{const g=Xi(Gt(De,"messages"),Wi("createdAt","asc"),aO(200)),b=$i(g,T=>{const w=T.docs.map(k=>({id:k.id,...k.data()}));n(w)});return()=>b()},[]),N.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth"})},[e]);const m=async g=>{if(g.preventDefault(),!!s.trim()&&r){h(!0);try{await fu(Gt(De,"messages"),{text:s.trim(),userId:r.uid,userName:r.displayName||r.email||"User",createdAt:Mr()}),o("")}catch(b){console.error("Error sending message:",b)}finally{h(!1)}}};return v.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",height:"100%",display:"flex",flexDirection:"column"},children:[v.jsx("h2",{style:{marginTop:0,marginBottom:8},children:"Messages"}),v.jsx("p",{style:{fontSize:13,color:"#6b7280",marginTop:0},children:"Global chat room for all users. (v1)"}),v.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"8px 4px",borderRadius:12,background:"#f9fafb",border:"1px solid #e5e7eb",marginBottom:12},children:[e.length===0?v.jsx("p",{style:{fontSize:13,color:"#9ca3af",textAlign:"center",marginTop:40},children:"No messages yet. Start the conversation!"}):e.map(g=>{const b=g.userId===r.uid;return v.jsx("div",{style:{display:"flex",justifyContent:b?"flex-end":"flex-start",marginBottom:6},children:v.jsxs("div",{style:{maxWidth:"70%",padding:"6px 10px",borderRadius:12,background:b?"#5b21b6":"#e5e7eb",color:b?"white":"#111827",fontSize:13},children:[v.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:2,opacity:.9},children:b?"You":g.userName||"User"}),v.jsx("div",{children:g.text})]})},g.id)}),v.jsx("div",{ref:p})]}),v.jsxs("form",{onSubmit:m,style:{display:"flex",gap:8},children:[v.jsx("input",{type:"text",value:s,onChange:g=>o(g.target.value),placeholder:"Type a message...",style:{flex:1,padding:"8px 10px",borderRadius:999,border:"1px solid #d1d5db",fontSize:14}}),v.jsx("button",{type:"submit",disabled:u||!s.trim(),style:{padding:"8px 16px",borderRadius:999,border:"none",background:u?"#9ca3af":"#5b21b6",color:"white",fontSize:14,fontWeight:600,cursor:u?"not-allowed":"pointer"},children:"Send"})]})]})}function WE({user:r}){const[e,n]=N.useState({name:"",email:"",phone:"",dob:"",photoURL:""}),[s,o]=N.useState(null),[u,h]=N.useState(!0),[p,m]=N.useState(!1),[g,b]=N.useState(!1),[T,w]=N.useState(""),[k,P]=N.useState("");N.useEffect(()=>{if(!r)return;(async()=>{try{const ce=Et(De,"users",r.uid),_e=await za(ce);if(_e.exists()){const pe=_e.data(),x={name:pe.name||"",email:pe.email||r.email||"",phone:pe.phone||"",dob:pe.dob||"",photoURL:pe.photoURL||""};n(x),o(x)}else{const pe={name:"",email:r.email||"",phone:"",dob:"",photoURL:""};n(pe),o(pe)}}catch(ce){console.error(ce),w("Failed to load profile.")}finally{h(!1)}})()},[r]);const Q=re=>{const{name:ce,value:_e}=re.target;n(pe=>({...pe,[ce]:_e}))},V=()=>{w(""),P(""),m(!0)},q=()=>{s&&n(s),m(!1),w(""),P("")},te=async re=>{if(re.preventDefault(),!!r){b(!0),w(""),P("");try{const ce=Et(De,"users",r.uid);await Nu(ce,{name:e.name,email:e.email||r.email||"",phone:e.phone,dob:e.dob},{merge:!0}),o({...e}),P("Profile updated successfully."),m(!1)}catch(ce){console.error(ce),w("Failed to save profile.")}finally{b(!1)}}};return u?v.jsx("div",{style:{padding:16},children:"Loading profile..."}):v.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",maxWidth:480},children:[v.jsx("h2",{style:{marginTop:0,marginBottom:12},children:"My Profile"}),T&&v.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",padding:8,borderRadius:8,marginBottom:8,fontSize:13},children:T}),k&&v.jsx("div",{style:{background:"#dcfce7",color:"#166534",padding:8,borderRadius:8,marginBottom:8,fontSize:13},children:k}),v.jsxs("form",{onSubmit:te,children:[v.jsxs("div",{style:{marginBottom:16},children:[v.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:6},children:"Profile Photo"}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[v.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"#f3f4f6",border:"1px solid #e5e7eb",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:"#6b7280"},children:e.photoURL?v.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):"No photo"}),v.jsx("p",{style:{fontSize:11,color:"#9ca3af",margin:0},children:"Your photo is set by the admin."})]})]}),v.jsxs("div",{style:{marginBottom:12},children:[v.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Name"}),v.jsx("input",{type:"text",name:"name",value:e.name,onChange:Q,disabled:!p,placeholder:"Enter your full name",style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),v.jsxs("div",{style:{marginBottom:12},children:[v.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Email"}),v.jsx("input",{type:"email",name:"email",value:e.email,disabled:!0,style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:14,color:"#6b7280"}}),v.jsx("p",{style:{fontSize:11,color:"#9ca3af",marginTop:4},children:"Email is linked to your login."})]}),v.jsxs("div",{style:{marginBottom:12},children:[v.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Phone Number"}),v.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:Q,disabled:!p,placeholder:"Enter your phone number",style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),v.jsxs("div",{style:{marginBottom:16},children:[v.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Date of Birth"}),v.jsx("input",{type:"date",name:"dob",value:e.dob,onChange:Q,disabled:!p,style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),v.jsxs("p",{style:{fontSize:12,color:"#9ca3af",marginBottom:16},children:["UID: ",r?.uid]}),p?v.jsxs("div",{style:{display:"flex",gap:8},children:[v.jsx("button",{type:"submit",disabled:g,style:{padding:"8px 16px",borderRadius:999,border:"none",fontSize:14,fontWeight:500,cursor:g?"not-allowed":"pointer",background:g?"#9ca3af":"#16a34a",color:"white"},children:g?"Saving...":"Save"}),v.jsx("button",{type:"button",onClick:q,disabled:g,style:{padding:"8px 16px",borderRadius:999,border:"1px solid #d1d5db",fontSize:14,fontWeight:500,cursor:g?"not-allowed":"pointer",background:"white",color:"#374151"},children:"Cancel"})]}):v.jsx("button",{type:"button",onClick:V,style:{padding:"8px 16px",borderRadius:999,border:"none",fontSize:14,fontWeight:500,cursor:"pointer",background:"#2563eb",color:"white"},children:"Edit Profile"})]})]})}function $E({user:r}){const[e,n]=N.useState(""),[s,o]=N.useState(""),[u,h]=N.useState(""),[p,m]=N.useState(null),[g,b]=N.useState(!1),[T,w]=N.useState(null),[k,P]=N.useState(!1),Q=async()=>{if(m(null),!e||!s||!u){m("missing");return}if(s!==u){m("mismatch");return}if(!Oa.currentUser){m("noUser");return}b(!0);try{const q=Fa.credential(r.email,e);await PC(Oa.currentUser,q),await BC(Oa.currentUser,s),m("success"),n(""),o(""),h("")}catch(q){console.error("Password change error:",q),q.code==="auth/wrong-password"?m("wrongpass"):m("error")}b(!1)},V=async()=>{if(w(null),!r?.email){w("noEmail");return}P(!0);try{await jC(Oa,r.email),w("sent")}catch(q){console.error("Reset email error:",q),w("error")}P(!1)};return v.jsxs("div",{style:{background:"white",borderRadius:16,padding:20,border:"1px solid #e5e7eb",maxWidth:480},children:[v.jsx("h2",{style:{marginTop:0,marginBottom:16,fontSize:20,fontWeight:700,color:"#111827"},children:"Change Password"}),v.jsxs("div",{style:{marginBottom:24},children:[v.jsx("h3",{style:{fontSize:15,fontWeight:600,margin:0,marginBottom:10,color:"#111827"},children:"Change using old password"}),v.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"Old Password"}),v.jsx("input",{type:"password",value:e,onChange:q=>n(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:10,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),v.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"New Password"}),v.jsx("input",{type:"password",value:s,onChange:q=>o(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:10,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),v.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"Confirm New Password"}),v.jsx("input",{type:"password",value:u,onChange:q=>h(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:14,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),v.jsx("button",{onClick:Q,disabled:g,style:{width:"100%",padding:"10px",borderRadius:999,border:"none",background:"#5b21b6",color:"white",fontSize:15,fontWeight:600,cursor:"pointer",opacity:g?.7:1},children:g?"Updating...":"Update Password"}),p==="missing"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Please fill all fields."}),p==="mismatch"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"New passwords do not match."}),p==="wrongpass"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Old password is incorrect."}),p==="noUser"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"You are not logged in."}),p==="success"&&v.jsx("p",{style:{color:"#16a34a",marginTop:8,fontSize:13},children:"Password updated successfully!"}),p==="error"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Something went wrong. Please try again."})]}),v.jsx("hr",{style:{border:"none",borderTop:"1px solid #e5e7eb",marginBottom:16}}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:15,fontWeight:600,margin:0,marginBottom:8,color:"#111827"},children:"Forgot your password?"}),v.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["We can send a password reset link to"," ",v.jsx("strong",{children:r?.email}),"."]}),v.jsx("button",{onClick:V,disabled:k,style:{padding:"8px 14px",borderRadius:999,border:"1px solid #5b21b6",background:"white",color:"#5b21b6",fontSize:14,fontWeight:600,cursor:"pointer",opacity:k?.7:1},children:k?"Sending...":"Send reset email"}),T==="sent"&&v.jsx("p",{style:{color:"#16a34a",marginTop:8,fontSize:13},children:"Reset email sent. Please check your inbox."}),T==="noEmail"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"No email found for this account."}),T==="error"&&v.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Could not send reset email. Try again later."})]})]})}function JE({user:r}){const[e,n]=N.useState([]);N.useEffect(()=>{if(!r)return;const h=Gt(De,"users",r.uid,"notifications"),p=Xi(h,Wi("createdAt","desc")),m=$i(p,g=>{const b=g.docs.map(T=>({id:T.id,...T.data()}));n(b)});return()=>m()},[r]);const s=async h=>{if(!(!r||!h))try{const p=Et(De,"users",r.uid,"notifications",h);await Bo(p,{read:!0})}catch(p){console.error("Error marking notification as read:",p)}},o=async()=>{if(!(!r||e.length===0))try{const h=zT(De);e.forEach(p=>{if(!p.read){const m=Et(De,"users",r.uid,"notifications",p.id);h.update(m,{read:!0})}}),await h.commit()}catch(h){console.error("Error marking all as read:",h)}},u=e.filter(h=>!h.read).length;return v.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",height:"100%",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[v.jsxs("div",{children:[v.jsx("h2",{style:{margin:0},children:"Notifications"}),v.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:u>0?`${u} unread notification${u===1?"":"s"}`:"You are all caught up "})]}),e.length>0&&u>0&&v.jsx("button",{onClick:o,style:{padding:"6px 12px",borderRadius:999,border:"1px solid #e5e7eb",background:"white",fontSize:12,fontWeight:500,cursor:"pointer"},children:"Mark all as read"})]}),v.jsx("div",{style:{flex:1,overflowY:"auto",borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb",padding:8},children:e.length===0?v.jsx("p",{style:{fontSize:13,color:"#9ca3af",textAlign:"center",marginTop:40},children:"No notifications yet. New lessons, announcements, and results will appear here."}):e.map(h=>{const p=h.createdAt?.toDate?.().toLocaleString()??"Just now";return v.jsxs("div",{onClick:()=>!h.read&&s(h.id),style:{padding:"10px 12px",marginBottom:6,borderRadius:10,background:h.read?"white":"#eef2ff",border:h.read?"1px solid #e5e7eb":"1px solid #6366f1",cursor:h.read?"default":"pointer"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:4,gap:6},children:[!h.read&&v.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#4f46e5",display:"inline-block"}}),v.jsx("span",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:h.title||"Notification"})]}),h.body&&v.jsx("p",{style:{margin:0,fontSize:13,color:"#4b5563",marginBottom:4},children:h.body}),v.jsx("div",{style:{fontSize:11,color:"#9ca3af"},children:p})]},h.id)})})]})}function YO(){const[r,e]=N.useState(null),[n,s]=N.useState(null),[o,u]=N.useState(!0);return N.useEffect(()=>{const h=Oa.onAuthStateChanged(async p=>{if(p){e(p);const m=Et(De,"users",p.uid),g=await za(m);s(g.exists()?g.data().role:null)}else e(null),s(null);u(!1)});return()=>h()},[]),o?v.jsx("div",{style:{padding:20},children:"Loading..."}):v.jsxs(Sw,{children:[v.jsx(Xt,{path:"/news",element:v.jsx(BO,{})}),v.jsx(Xt,{path:"/test",element:v.jsx("div",{children:"PUBLIC TEST"})}),v.jsx(Xt,{path:"/",element:r?v.jsx(st,{to:n==="instructor"?"/instructor":"/student",replace:!0}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/login",element:r?v.jsx(st,{to:"/",replace:!0}):v.jsx(zO,{})}),v.jsx(Xt,{path:"/student",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(qO,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/student/profile",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(WE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/student/change-password",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx($E,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/student/messages",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(XE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/student/notifications",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(JE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/courses/:courseId",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(GO,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/courses/:courseId/lessons/:lessonId",element:r?n!=="student"?v.jsx(st,{to:"/instructor",replace:!0}):v.jsx(fi,{children:v.jsx(QO,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/instructor",element:r?n!=="instructor"?v.jsx(st,{to:"/student",replace:!0}):v.jsx(fi,{children:v.jsx(HO,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/instructor/profile",element:r?n!=="instructor"?v.jsx(st,{to:"/student",replace:!0}):v.jsx(fi,{children:v.jsx(WE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/instructor/change-password",element:r?n!=="instructor"?v.jsx(st,{to:"/student",replace:!0}):v.jsx(fi,{children:v.jsx($E,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/instructor/messages",element:r?n!=="instructor"?v.jsx(st,{to:"/student",replace:!0}):v.jsx(fi,{children:v.jsx(XE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"/instructor/notifications",element:r?n!=="instructor"?v.jsx(st,{to:"/student",replace:!0}):v.jsx(fi,{children:v.jsx(JE,{user:r})}):v.jsx(st,{to:"/login",replace:!0})}),v.jsx(Xt,{path:"*",element:v.jsx(st,{to:"/",replace:!0})})]})}NA.createRoot(document.getElementById("root")).render(v.jsx(SA.StrictMode,{children:v.jsx(Qw,{basename:"/learn",children:v.jsx(YO,{})})}));
