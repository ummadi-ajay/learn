(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function B0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},Kl={};var Fv;function oA(){if(Fv)return Kl;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Kl.Fragment=e,Kl.jsx=n,Kl.jsxs=n,Kl}var Gv;function lA(){return Gv||(Gv=1,ym.exports=oA()),ym.exports}var b=lA(),_m={exports:{}},we={};var Qv;function uA(){if(Qv)return we;Qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function ne(V,J,oe){this.props=V,this.context=J,this.refs=j,this.updater=oe||L}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function re(V,J,oe){this.props=V,this.context=J,this.refs=j,this.updater=oe||L}var de=re.prototype=new ie;de.constructor=re,G(de,ne.prototype),de.isPureReactComponent=!0;var be=Array.isArray;function Te(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(V,J,oe){var ue=oe.ref;return{$$typeof:r,type:V,key:J,ref:ue!==void 0?ue:null,props:oe}}function k(V,J){return I(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return J[oe]})}var x=/\/+/g;function Je(V,J){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):J.toString(36)}function _t(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Te,Te):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,J,oe,ue,_e){var Se=typeof V;(Se==="undefined"||Se==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case r:case e:De=!0;break;case E:return De=V._init,X(De(V._payload),J,oe,ue,_e)}}if(De)return _e=_e(V),De=ue===""?"."+Je(V,0):ue,be(_e)?(oe="",De!=null&&(oe=De.replace(x,"$&/")+"/"),X(_e,J,oe,"",function(ai){return ai})):_e!=null&&(O(_e)&&(_e=k(_e,oe+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(x,"$&/")+"/")+De)),J.push(_e)),1;De=0;var ft=ue===""?".":ue+":";if(be(V))for(var Ze=0;Ze<V.length;Ze++)ue=V[Ze],Se=ft+Je(ue,Ze),De+=X(ue,J,oe,Se,_e);else if(Ze=C(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(ue=V.next()).done;)ue=ue.value,Se=ft+Je(ue,Ze++),De+=X(ue,J,oe,Se,_e);else if(Se==="object"){if(typeof V.then=="function")return X(_t(V),J,oe,ue,_e);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function se(V,J,oe){if(V==null)return V;var ue=[],_e=0;return X(V,ue,"","",function(Se){return J.call(oe,Se,_e++)}),ue}function me(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Me=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Be={map:se,forEach:function(V,J,oe){se(V,function(){J.apply(this,arguments)},oe)},count:function(V){var J=0;return se(V,function(){J++}),J},toArray:function(V){return se(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=T,we.Children=Be,we.Component=ne,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,J,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=G({},V.props),_e=V.key;if(J!=null)for(Se in J.key!==void 0&&(_e=""+J.key),J)!R.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(ue[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)ue.children=oe;else if(1<Se){for(var De=Array(Se),ft=0;ft<Se;ft++)De[ft]=arguments[ft+2];ue.children=De}return I(V.type,_e,ue)},we.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},we.createElement=function(V,J,oe){var ue,_e={},Se=null;if(J!=null)for(ue in J.key!==void 0&&(Se=""+J.key),J)R.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=J[ue]);var De=arguments.length-2;if(De===1)_e.children=oe;else if(1<De){for(var ft=Array(De),Ze=0;Ze<De;Ze++)ft[Ze]=arguments[Ze+2];_e.children=ft}if(V&&V.defaultProps)for(ue in De=V.defaultProps,De)_e[ue]===void 0&&(_e[ue]=De[ue]);return I(V,Se,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:m,render:V}},we.isValidElement=O,we.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},we.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},we.startTransition=function(V){var J=D.T,oe={};D.T=oe;try{var ue=V(),_e=D.S;_e!==null&&_e(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,Me)}catch(Se){Me(Se)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),D.T=J}},we.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},we.use=function(V){return D.H.use(V)},we.useActionState=function(V,J,oe){return D.H.useActionState(V,J,oe)},we.useCallback=function(V,J){return D.H.useCallback(V,J)},we.useContext=function(V){return D.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,J){return D.H.useDeferredValue(V,J)},we.useEffect=function(V,J){return D.H.useEffect(V,J)},we.useEffectEvent=function(V){return D.H.useEffectEvent(V)},we.useId=function(){return D.H.useId()},we.useImperativeHandle=function(V,J,oe){return D.H.useImperativeHandle(V,J,oe)},we.useInsertionEffect=function(V,J){return D.H.useInsertionEffect(V,J)},we.useLayoutEffect=function(V,J){return D.H.useLayoutEffect(V,J)},we.useMemo=function(V,J){return D.H.useMemo(V,J)},we.useOptimistic=function(V,J){return D.H.useOptimistic(V,J)},we.useReducer=function(V,J,oe){return D.H.useReducer(V,J,oe)},we.useRef=function(V){return D.H.useRef(V)},we.useState=function(V){return D.H.useState(V)},we.useSyncExternalStore=function(V,J,oe){return D.H.useSyncExternalStore(V,J,oe)},we.useTransition=function(){return D.H.useTransition()},we.version="19.2.0",we}var Yv;function yp(){return Yv||(Yv=1,_m.exports=uA()),_m.exports}var P=yp();const cA=B0(P);var vm={exports:{}},Xl={},Em={exports:{}},Tm={};var Kv;function hA(){return Kv||(Kv=1,(function(r){function e(X,se){var me=X.length;X.push(se);e:for(;0<me;){var Me=me-1>>>1,Be=X[Me];if(0<o(Be,se))X[Me]=se,X[me]=Be,me=Me;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],me=X.pop();if(me!==se){X[0]=me;e:for(var Me=0,Be=X.length,V=Be>>>1;Me<V;){var J=2*(Me+1)-1,oe=X[J],ue=J+1,_e=X[ue];if(0>o(oe,me))ue<Be&&0>o(_e,oe)?(X[Me]=_e,X[ue]=me,Me=ue):(X[Me]=oe,X[J]=me,Me=J);else if(ue<Be&&0>o(_e,me))X[Me]=_e,X[ue]=me,Me=ue;else break e}}return se}function o(X,se){var me=X.sortIndex-se.sortIndex;return me!==0?me:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,C=!1,L=!1,G=!1,j=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function be(X){if(G=!1,de(X),!L)if(n(p)!==null)L=!0,Te||(Te=!0,U());else{var se=n(g);se!==null&&_t(be,se.startTime-X)}}var Te=!1,D=-1,R=5,I=-1;function k(){return j?!0:!(r.unstable_now()-I<R)}function O(){if(j=!1,Te){var X=r.unstable_now();I=X;var se=!0;try{e:{L=!1,G&&(G=!1,ie(D),D=-1),C=!0;var me=w;try{t:{for(de(X),T=n(p);T!==null&&!(T.expirationTime>X&&k());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,w=T.priorityLevel;var Be=Me(T.expirationTime<=X);if(X=r.unstable_now(),typeof Be=="function"){T.callback=Be,de(X),se=!0;break t}T===n(p)&&s(p),de(X)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&_t(be,V.startTime-X),se=!1}}break e}finally{T=null,w=me,C=!1}se=void 0}}finally{se?U():Te=!1}}}var U;if(typeof re=="function")U=function(){re(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Je=x.port2;x.port1.onmessage=O,U=function(){Je.postMessage(null)}}else U=function(){ne(O,0)};function _t(X,se){D=ne(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return X()}finally{w=me}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=w;w=X;try{return se()}finally{w=me}},r.unstable_scheduleCallback=function(X,se,me){var Me=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,X){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=me+Be,X={id:E++,callback:se,priorityLevel:X,startTime:me,expirationTime:Be,sortIndex:-1},me>Me?(X.sortIndex=me,e(g,X),n(p)===null&&X===n(g)&&(G?(ie(D),D=-1):G=!0,_t(be,me-Me))):(X.sortIndex=Be,e(p,X),L||C||(L=!0,Te||(Te=!0,U()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var se=w;return function(){var me=w;w=se;try{return X.apply(this,arguments)}finally{w=me}}}})(Tm)),Tm}var Xv;function fA(){return Xv||(Xv=1,Em.exports=hA()),Em.exports}var bm={exports:{}},nn={};var $v;function dA(){if($v)return nn;$v=1;var r=yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Wv;function mA(){if(Wv)return bm.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=dA(),bm.exports}var Jv;function pA(){if(Jv)return Xl;Jv=1;var r=fA(),e=yp(),n=mA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case j:return"StrictMode";case be:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var _t=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],Be=-1;function V(t){return{current:t}}function J(t){0>Be||(t.current=Me[Be],Me[Be]=null,Be--)}function oe(t,i){Be++,Me[Be]=t.current,t.current=i}var ue=V(null),_e=V(null),Se=V(null),De=V(null);function ft(t,i){switch(oe(Se,i),oe(_e,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=dv(i),t=mv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function Ze(){J(ue),J(_e),J(Se)}function ai(t){t.memoizedState!==null&&oe(De,t);var i=ue.current,a=mv(i,t.type);i!==a&&(oe(_e,t),oe(ue,a))}function tr(t){_e.current===t&&(J(ue),J(_e)),De.current===t&&(J(De),Fl._currentValue=me)}var wi,zr;function bn(t){if(wi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);wi=i&&i[1]||"",zr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+t+zr}var nr=!1;function oi(t,i){if(!t||nr)return"";nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){F=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function ir(t,i){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return t.child!==i&&i!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return oi(t.type,!1);case 11:return oi(t.type.render,!1);case 1:return oi(t.type,!0);case 31:return bn("Activity");default:return""}}function rr(t){try{var i="",a=null;do i+=ir(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,mt=r.unstable_scheduleCallback,Sn=r.unstable_cancelCallback,jr=r.unstable_shouldYield,qs=r.unstable_requestPaint,Ut=r.unstable_now,li=r.unstable_getCurrentPriorityLevel,sr=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Un=r.unstable_NormalPriority,Na=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,Fs=r.log,Gs=r.unstable_setDisableYieldValue,qt=null,zt=null;function cn(t){if(typeof Fs=="function"&&Gs(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qt,t)}catch{}}var pt=Math.clz32?Math.clz32:Ma,Oa=Math.log,qr=Math.LN2;function Ma(t){return t>>>=0,t===0?32:31-(Oa(t)/qr|0)|0}var zn=256,ar=262144,vt=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=jn(l):(_&=S,_!==0?f=jn(_):a||(a=S&~t,a!==0&&(f=jn(a))))):(S=l&~d,S!==0?f=jn(S):_!==0?f=jn(_):a||(a=l&~t,a!==0&&(f=jn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function An(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $o(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function qn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function K(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qe(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),ee=1<<$;S[$]=0,N[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Ge(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ge(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Et(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function hn(t,i){var a=i&-i;return a=(a&42)!==0?1:or(a),(a&(t.suspendedLanes|i))!==0?0:a}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function ui(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ci=Math.random().toString(36).slice(2),It="__reactFiber$"+ci,Ht="__reactProps$"+ci,Ri="__reactContainer$"+ci,ka="__reactEvents$"+ci,Sf="__reactListeners$"+ci,Pu="__reactHandles$"+ci,Uu="__reactResources$"+ci,Ci="__reactMarker$"+ci;function La(t){delete t[It],delete t[Ht],delete t[ka],delete t[Sf],delete t[Pu]}function Ii(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Tv(t);t!==null;){if(a=t[It])return a;t=Tv(t)}return i}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function xi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ci]=!0}var Wo=new Set,Jo={};function Di(t,i){Ni(t,i),Ni(t+"Capture",i)}function Ni(t,i){for(Jo[t]=i,t=0;t<i.length;t++)Wo.add(i[t])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function zu(t){return dt.call(tl,t)?!0:dt.call(el,t)?!1:Zo.test(t)?tl[t]=!0:(el[t]=!0,!1)}function Pa(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Rn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Dt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Hr(t)?"checked":"value";t._valueTracker=nl(t,i,""+t[i])}}function Qs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Hr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ys=/[\n"\\]/g;function fn(t){return t.replace(Ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ua(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?il(t,_,Ft(i)):a!=null?il(t,_,Ft(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ft(S):t.removeAttribute("name")}function ju(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function il(t,i,a){i==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Bu(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(_t(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function sl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&rl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&rl(t,d,i[d])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var al=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yr=null,Mi=null;function Ks(t){var i=Fn(t);if(i&&(t=i.stateNode)){var a=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ht]||null;if(!f)throw Error(s(90));Ua(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Qs(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fr(t,!!a.multiple,i,!1)}}}var Ba=!1;function Kr(t,i,a){if(Ba)return t(i,a);Ba=!0;try{var l=t(i);return l}finally{if(Ba=!1,(Yr!==null||Mi!==null)&&(Lc(),Yr&&(i=Yr,t=Mi,Mi=Yr=null,Ks(i),t)))for(i=0;i<t.length;i++)Ks(t[i])}}function fi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Qn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Xs=!1}var Vi=null,ol=null,$s=null;function ll(){if($s)return $s;var t,i=ol,a=i.length,l,f="value"in Vi?Vi.value:Vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return $s=f.slice(t,1<l?1-l:void 0)}function Ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function di(){return!1}function Kt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:di,this.isPropagationStopped=di,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Kt(ur),Xr=T({},ur,{view:0,detail:0}),ul=Kt(Xr),$r,qa,Li,Ha=T({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?($r=t.screenX-Li.screenX,qa=t.screenY-Li.screenY):qa=$r=0,Li=t),$r)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),cl=Kt(Ha),Js=T({},Ha,{dataTransfer:0}),Fu=Kt(Js),Gu=T({},Xr,{relatedTarget:0}),Zs=Kt(Gu),hl=T({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Kt(hl),Fa=T({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Kt(Fa),Ku=T({},ur,{data:0}),Pi=Kt(Ku),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function Wr(){return Ju}var ln=T({},Xr,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Kt(ln),ec=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Kt(ec),c=T({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),y=Kt(c),v=T({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),B=T({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(B),ae=T({},ur,{newState:0,oldState:0}),Ce=Kt(ae),At=[9,13,27,32],Qe=Qn&&"CompositionEvent"in window,ut=null;Qn&&"documentMode"in document&&(ut=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!ut,Ui=Qn&&(!Qe||ut&&8<ut&&11>=ut),mi=" ",pi=!1;function ea(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function N1(t,i){switch(t){case"compositionend":return Ga(i);case"keypress":return i.which!==32?null:(pi=!0,mi);case"textInput":return t=i.data,t===mi&&pi?null:t;default:return null}}function O1(t,i){if(Qa)return t==="compositionend"||!Qe&&ea(t,i)?(t=ll(),$s=ol=Vi=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ui&&i.locale!=="ko"?null:i.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!M1[t.type]:i==="textarea"}function wg(t,i,a,l){Yr?Mi?Mi.push(l):Mi=[l]:Yr=l,i=Hc(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var fl=null,dl=null;function V1(t){ov(t,0)}function tc(t){var i=wn(t);if(Qs(i))return t}function Rg(t,i){if(t==="change")return i}var Cg=!1;if(Qn){var Af;if(Qn){var wf="oninput"in document;if(!wf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),wf=typeof Ig.oninput=="function"}Af=wf}else Af=!1;Cg=Af&&(!document.documentMode||9<document.documentMode)}function xg(){fl&&(fl.detachEvent("onpropertychange",Dg),dl=fl=null)}function Dg(t){if(t.propertyName==="value"&&tc(dl)){var i=[];wg(i,dl,t,Gn(t)),Kr(V1,i)}}function k1(t,i,a){t==="focusin"?(xg(),fl=i,dl=a,fl.attachEvent("onpropertychange",Dg)):t==="focusout"&&xg()}function L1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(dl)}function P1(t,i){if(t==="click")return tc(i)}function U1(t,i){if(t==="input"||t==="change")return tc(i)}function z1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:z1;function ml(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!dt.call(i,f)||!Cn(t[f],i[f]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,i){var a=Ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Oi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Oi(t.document)}return i}function Rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var j1=Qn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Cf=null,pl=null,If=!1;function kg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Ya==null||Ya!==Oi(l)||(l=Ya,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=Hc(Cf,"onSelect"),0<l.length&&(i=new ki("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ya)))}function ta(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ka={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},xf={},Lg={};Qn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function na(t){if(xf[t])return xf[t];if(!Ka[t])return t;var i=Ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return xf[t]=i[a];return t}var Pg=na("animationend"),Ug=na("animationiteration"),zg=na("animationstart"),B1=na("transitionrun"),q1=na("transitionstart"),H1=na("transitioncancel"),jg=na("transitionend"),Bg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function gi(t,i){Bg.set(t,i),Di(i,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Xa=0,Nf=0;function ic(){for(var t=Xa,i=Nf=Xa=0;i<t;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var f=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&qg(a,f,d)}}function rc(t,i,a,l){Kn[Xa++]=t,Kn[Xa++]=i,Kn[Xa++]=a,Kn[Xa++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return rc(t,i,a,l),sc(t)}function ia(t,i){return rc(t,null,null,i),sc(t)}function qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(t){if(50<Pl)throw Pl=0,Bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var $a={};function F1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new F1(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ac(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Mf(t)&&(_=1);else if(typeof t=="string")_=XS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=In(31,a,i,f),t.elementType=I,t.lanes=d,t;case G:return ra(a.children,f,d,i);case j:_=8,f|=24;break;case ne:return t=In(12,a,i,f|2),t.elementType=ne,t.lanes=d,t;case be:return t=In(13,a,i,f),t.elementType=be,t.lanes=d,t;case Te:return t=In(19,a,i,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case de:_=11;break e;case D:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=In(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ra(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function Vf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function Fg(t){var i=In(18,null,null,0);return i.stateNode=t,i}function kf(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Gg=new WeakMap;function Xn(t,i){if(typeof t=="object"&&t!==null){var a=Gg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:rr(i)},Gg.set(t,i),i)}return{value:t,source:i,stack:rr(i)}}var Wa=[],Ja=0,oc=null,gl=0,$n=[],Wn=0,Jr=null,zi=1,ji="";function fr(t,i){Wa[Ja++]=gl,Wa[Ja++]=oc,oc=t,gl=i}function Qg(t,i,a){$n[Wn++]=zi,$n[Wn++]=ji,$n[Wn++]=Jr,Jr=t;var l=zi;t=ji;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,zi=1<<32-pt(i)+f|a<<f|l,ji=d+t}else zi=1<<d|a<<f|l,ji=t}function Lf(t){t.return!==null&&(fr(t,1),Qg(t,1,0))}function Pf(t){for(;t===oc;)oc=Wa[--Ja],Wa[Ja]=null,gl=Wa[--Ja],Wa[Ja]=null;for(;t===Jr;)Jr=$n[--Wn],$n[Wn]=null,ji=$n[--Wn],$n[Wn]=null,zi=$n[--Wn],$n[Wn]=null}function Yg(t,i){$n[Wn++]=zi,$n[Wn++]=ji,$n[Wn++]=Jr,zi=i.id,ji=i.overflow,Jr=t}var Xt=null,at=null,ze=!1,Zr=null,Jn=!1,Uf=Error(s(519));function es(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Xn(i,t)),Uf}function Kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ht]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)Oe(zl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||hv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=hi),i=!0):i=!1,i||es(t,!0)}function Xg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Xt=Xt.return}}function Za(t){if(t!==Xt)return!1;if(!ze)return Xg(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&at&&es(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=Ev(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=Ev(t)}else i===27?(i=at,ms(t.type)?(t=om,om=null,at=t):at=i):at=Xt?ei(t.stateNode.nextSibling):null;return!0}function sa(){at=Xt=null,ze=!1}function zf(){var t=Zr;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Zr=null),t}function yl(t){Zr===null?Zr=[t]:Zr.push(t)}var jf=V(null),aa=null,dr=null;function ts(t,i,a){oe(jf,i._currentValue),i._currentValue=a}function mr(t){t._currentValue=jf.current,J(jf)}function Bf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function qf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Bf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Bf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;Cn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===De.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}f=f.return}t!==null&&qf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return $g(aa,t)}function uc(t,i){return aa===null&&oa(t),$g(t,i)}function $g(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},dr===null){if(t===null)throw Error(s(308));dr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else dr=dr.next=i;return a}var G1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Q1=r.unstable_scheduleCallback,Y1=r.unstable_NormalPriority,Nt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new G1,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&Q1(Y1,function(){t.controller.abort()})}var vl=null,Ff=0,to=0,no=null;function K1(t,i){if(vl===null){var a=vl=[];Ff=0,to=Yd(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,i.then(Wg,Wg),i}function Wg(){if(--Ff===0&&vl!==null){no!==null&&(no.status="fulfilled");var t=vl;vl=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function X1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Jg=X.S;X.S=function(t,i){k_=Ut(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&K1(t,i),Jg!==null&&Jg(t,i)};var la=V(null);function Gf(){var t=la.current;return t!==null?t:rt.pooledCache}function cc(t,i){i===null?oe(la,la.current):oe(la,i.pool)}function Zg(){var t=Gf();return t===null?null:{parent:Nt._currentValue,pool:t}}var io=Error(s(460)),Qf=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ty(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(hi,hi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t;default:if(typeof i.status=="string")i.then(hi,hi);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,iy(t),t}throw ca=i,io}}function ua(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,io):a}}var ca=null;function ny(){if(ca===null)throw Error(s(459));var t=ca;return ca=null,t}function iy(t){if(t===io||t===hc)throw Error(s(483))}var ro=null,El=0;function dc(t){var i=El;return El+=1,ro===null&&(ro=[]),ty(ro,t,i)}function Tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ry(t){function i(z,M){if(t){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=hr(z,M),z.index=0,z.sibling=null,z}function d(z,M,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=67108866,M):q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,M,q,W){return M===null||M.tag!==6?(M=Vf(q,z.mode,W),M.return=z,M):(M=f(M,q),M.return=z,M)}function N(z,M,q,W){var pe=q.type;return pe===G?$(z,M,q.props.children,W,q.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ua(pe)===M.type)?(M=f(M,q.props),Tl(M,q),M.return=z,M):(M=ac(q.type,q.key,q.props,null,z.mode,W),Tl(M,q),M.return=z,M)}function H(z,M,q,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=kf(q,z.mode,W),M.return=z,M):(M=f(M,q.children||[]),M.return=z,M)}function $(z,M,q,W,pe){return M===null||M.tag!==7?(M=ra(q,z.mode,W,pe),M.return=z,M):(M=f(M,q),M.return=z,M)}function ee(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vf(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return q=ac(M.type,M.key,M.props,null,z.mode,q),Tl(q,M),q.return=z,q;case L:return M=kf(M,z.mode,q),M.return=z,M;case R:return M=ua(M),ee(z,M,q)}if(_t(M)||U(M))return M=ra(M,z.mode,q,null),M.return=z,M;if(typeof M.then=="function")return ee(z,dc(M),q);if(M.$$typeof===re)return ee(z,uc(z,M),q);mc(z,M)}return null}function F(z,M,q,W){var pe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:S(z,M,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===pe?N(z,M,q,W):null;case L:return q.key===pe?H(z,M,q,W):null;case R:return q=ua(q),F(z,M,q,W)}if(_t(q)||U(q))return pe!==null?null:$(z,M,q,W,null);if(typeof q.then=="function")return F(z,M,dc(q),W);if(q.$$typeof===re)return F(z,M,uc(z,q),W);mc(z,q)}return null}function Y(z,M,q,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,S(M,z,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case C:return z=z.get(W.key===null?q:W.key)||null,N(M,z,W,pe);case L:return z=z.get(W.key===null?q:W.key)||null,H(M,z,W,pe);case R:return W=ua(W),Y(z,M,q,W,pe)}if(_t(W)||U(W))return z=z.get(q)||null,$(M,z,W,pe,null);if(typeof W.then=="function")return Y(z,M,q,dc(W),pe);if(W.$$typeof===re)return Y(z,M,q,uc(M,W),pe);mc(M,W)}return null}function he(z,M,q,W){for(var pe=null,He=null,fe=M,xe=M=0,ke=null;fe!==null&&xe<q.length;xe++){fe.index>xe?(ke=fe,fe=null):ke=fe.sibling;var Fe=F(z,fe,q[xe],W);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(z,fe),M=d(Fe,M,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe,fe=ke}if(xe===q.length)return a(z,fe),ze&&fr(z,xe),pe;if(fe===null){for(;xe<q.length;xe++)fe=ee(z,q[xe],W),fe!==null&&(M=d(fe,M,xe),He===null?pe=fe:He.sibling=fe,He=fe);return ze&&fr(z,xe),pe}for(fe=l(fe);xe<q.length;xe++)ke=Y(fe,z,xe,q[xe],W),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?xe:ke.key),M=d(ke,M,xe),He===null?pe=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(vs){return i(z,vs)}),ze&&fr(z,xe),pe}function ye(z,M,q,W){if(q==null)throw Error(s(151));for(var pe=null,He=null,fe=M,xe=M=0,ke=null,Fe=q.next();fe!==null&&!Fe.done;xe++,Fe=q.next()){fe.index>xe?(ke=fe,fe=null):ke=fe.sibling;var vs=F(z,fe,Fe.value,W);if(vs===null){fe===null&&(fe=ke);break}t&&fe&&vs.alternate===null&&i(z,fe),M=d(vs,M,xe),He===null?pe=vs:He.sibling=vs,He=vs,fe=ke}if(Fe.done)return a(z,fe),ze&&fr(z,xe),pe;if(fe===null){for(;!Fe.done;xe++,Fe=q.next())Fe=ee(z,Fe.value,W),Fe!==null&&(M=d(Fe,M,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&fr(z,xe),pe}for(fe=l(fe);!Fe.done;xe++,Fe=q.next())Fe=Y(fe,z,xe,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?xe:Fe.key),M=d(Fe,M,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(aA){return i(z,aA)}),ze&&fr(z,xe),pe}function it(z,M,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var pe=q.key;M!==null;){if(M.key===pe){if(pe=q.type,pe===G){if(M.tag===7){a(z,M.sibling),W=f(M,q.props.children),W.return=z,z=W;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ua(pe)===M.type){a(z,M.sibling),W=f(M,q.props),Tl(W,q),W.return=z,z=W;break e}a(z,M);break}else i(z,M);M=M.sibling}q.type===G?(W=ra(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=ac(q.type,q.key,q.props,null,z.mode,W),Tl(W,q),W.return=z,z=W)}return _(z);case L:e:{for(pe=q.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(z,M.sibling),W=f(M,q.children||[]),W.return=z,z=W;break e}else{a(z,M);break}else i(z,M);M=M.sibling}W=kf(q,z.mode,W),W.return=z,z=W}return _(z);case R:return q=ua(q),it(z,M,q,W)}if(_t(q))return he(z,M,q,W);if(U(q)){if(pe=U(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),ye(z,M,q,W)}if(typeof q.then=="function")return it(z,M,dc(q),W);if(q.$$typeof===re)return it(z,M,uc(z,q),W);mc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(z,M.sibling),W=f(M,q),W.return=z,z=W):(a(z,M),W=Vf(q,z.mode,W),W.return=z,z=W),_(z)):a(z,M)}return function(z,M,q,W){try{El=0;var pe=it(z,M,q,W);return ro=null,pe}catch(fe){if(fe===io||fe===hc)throw fe;var He=In(29,fe,null,z.mode);return He.lanes=W,He.return=z,He}finally{}}}var ha=ry(!0),sy=ry(!1),ns=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=sc(t),qg(t,null,a),i}return rc(t,l,i,a),sc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Et(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function Sl(){if($f){var t=no;if(t!==null)throw t}}function Al(t,i,a,l){$f=!1;var f=t.updateQueue;ns=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=H:S.next=H,$.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,$=H=N=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ve&F)===F:(l&F)===F){F!==0&&F===to&&($f=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ye=S;F=i;var it=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){ee=he.call(it,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,F=typeof he=="function"?he.call(it,ee,F):he,F==null)break e;ee=T({},ee,F);break e;case 2:ns=!0}}F=S.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(H=$=Y,N=ee):$=$.next=Y,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),us|=_,t.lanes=_,t.memoizedState=ee}}function ay(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function oy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ay(a[t],i)}var so=V(null),pc=V(0);function ly(t,i){t=Sr,oe(pc,t),oe(so,i),Sr=t|i.baseLanes}function Wf(){oe(pc,Sr),oe(so,so.current)}function Jf(){Sr=pc.current,J(so),J(pc)}var xn=V(null),Zn=null;function ss(t){var i=t.alternate;oe(wt,wt.current&1),oe(xn,t),Zn===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Zn=t)}function Zf(t){oe(wt,wt.current),oe(xn,t),Zn===null&&(Zn=t)}function uy(t){t.tag===22?(oe(wt,wt.current),oe(xn,t),Zn===null&&(Zn=t)):as()}function as(){oe(wt,wt.current),oe(xn,xn.current)}function Dn(t){J(xn),Zn===t&&(Zn=null),J(wt)}var wt=V(0);function gc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sm(a)||am(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,Ie=null,tt=null,Ot=null,yc=!1,ao=!1,fa=!1,_c=0,wl=0,oo=null,$1=0;function Tt(){throw Error(s(321))}function ed(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function td(t,i,a,l,f,d){return pr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Qy:gd,fa=!1,d=a(l,f),fa=!1,ao&&(d=hy(i,a,l,f)),cy(t),d}function cy(t){X.H=Il;var i=tt!==null&&tt.next!==null;if(pr=0,Ot=tt=Ie=null,yc=!1,wl=0,oo=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&lc(t)&&(Mt=!0))}function hy(t,i,a,l){Ie=t;var f=0;do{if(ao&&(oo=null),wl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,Ot=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Yy,d=i(a,l)}while(ao);return d}function W1(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ie.flags|=1024),i}function nd(){var t=_c!==0;return _c=0,t}function id(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function rd(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}pr=0,Ot=tt=Ie=null,ao=!1,wl=_c=0,oo=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Rt(){if(tt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Ot===null?Ie.memoizedState:Ot.next;if(i!==null)Ot=i,tt=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=wl;return wl+=1,oo===null&&(oo=[]),t=ty(oo,t,i),i=Ie,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Qy:gd),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function sd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function gr(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=Rt();return ad(i,tt,t)}function ad(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,N=null,H=i,$=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ve&ee)===ee:(pr&ee)===ee){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===to&&($=!0);else if((pr&F)===F){H=H.next,F===to&&($=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ie.lanes|=F,us|=F;ee=H.action,fa&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=F,_=d):N=N.next=F,Ie.lanes|=ee,us|=ee;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=S,!Cn(d,t.memoizedState)&&(Mt=!0,$&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var i=Rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);Cn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function fy(t,i,a){var l=Ie,f=Rt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Cn((tt||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,cd(py.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},my.bind(null,l,f,a,i),null),rt===null)throw Error(s(349));d||(pr&127)!==0||dy(l,i,a)}return a}function dy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=vc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function my(t,i,a,l){i.value=a,i.getSnapshot=l,gy(i)&&yy(t)}function py(t,i,a){return a(function(){gy(i)&&yy(t)})}function gy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function yy(t){var i=ia(t,2);i!==null&&_n(i,t,2)}function ld(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),fa){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},i}function _y(t,i,a,l){return t.baseState=a,ad(t,tt,typeof l=="function"?l:gr)}function J1(t,i,a,l,f){if(Ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,vy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function vy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),N=X.S;N!==null&&N(_,S),Ey(t,i,S)}catch(H){ud(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Ey(t,i,d)}catch(H){ud(t,i,H)}}function Ey(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ty(t,i,l)},function(l){return ud(t,i,l)}):Ty(t,i,a)}function Ty(t,i,a){i.status="fulfilled",i.value=a,by(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vy(t,a)))}function ud(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,by(i),i=i.next;while(i!==l)}t.action=null}function by(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Sy(t,i){return i}function Ay(t,i){if(ze){var a=rt.formState;if(a!==null){e:{var l=Ie;if(ze){if(at){t:{for(var f=at,d=Jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=ei(f.nextSibling),l=f.data==="F!";break e}}es(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=l,a=Hy.bind(null,Ie,l),l.dispatch=a,l=ld(!1),d=pd.bind(null,Ie,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=J1.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function wy(t){var i=Rt();return Ry(i,tt,t)}function Ry(t,i,a){if(i=ad(t,i,Sy)[0],t=Tc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(_){throw _===io?hc:_}else l=i;i=Rt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,lo(9,{destroy:void 0},Z1.bind(null,f,a),null)),[l,d,t]}function Z1(t,i){t.action=i}function Cy(t){var i=Rt(),a=tt;if(a!==null)return Ry(i,a,t);Rt(),i=i.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function lo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=vc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Iy(){return Rt().memoizedState}function bc(t,i,a,l){var f=un();Ie.flags|=t,f.memoizedState=lo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;tt!==null&&l!==null&&ed(l,tt.memoizedState.deps)?f.memoizedState=lo(i,d,a,l):(Ie.flags|=t,f.memoizedState=lo(1|i,d,a,l))}function xy(t,i){bc(8390656,8,t,i)}function cd(t,i){Sc(2048,8,t,i)}function eS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=vc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Dy(t){var i=Rt().memoizedState;return eS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ny(t,i){return Sc(4,2,t,i)}function Oy(t,i){return Sc(4,4,t,i)}function My(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vy(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,My.bind(null,i,t),a)}function hd(){}function ky(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ed(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ly(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ed(i,l[1]))return l[0];if(l=t(),fa){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function fd(t,i,a){return a===void 0||(pr&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=P_(),Ie.lanes|=t,us|=t,a)}function Py(t,i,a,l){return Cn(a,i)?a:so.current!==null?(t=fd(t,a,l),Cn(t,i)||(Mt=!0),t):(pr&42)===0||(pr&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,t.memoizedState=a):(t=P_(),Ie.lanes|=t,us|=t,i)}function Uy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,pd(t,!1,i,a);try{var N=f(),H=X.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=X1(N,l);Cl(t,i,$,Mn(t))}else Cl(t,i,l,Mn(t))}catch(ee){Cl(t,i,{then:function(){},status:"rejected",reason:ee},Mn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function tS(){}function dd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=zy(t).queue;Uy(t,f,i,me,a===null?tS:function(){return jy(t),a(l)})}function zy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jy(t){var i=zy(t);i.next===null&&(i=t.alternate.memoizedState),Cl(t,i.next.queue,{},Mn())}function md(){return $t(Fl)}function By(){return Rt().memoizedState}function qy(){return Rt().memoizedState}function nS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=is(a);var l=rs(i,t,a);l!==null&&(_n(l,i,a),bl(l,i,a)),i={cache:Hf()},t.payload=i;return}i=i.return}}function iS(t,i,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?Fy(i,a):(a=Of(t,i,a,l),a!==null&&(_n(a,t,l),Gy(a,i,l)))}function Hy(t,i,a){var l=Mn();Cl(t,i,a,l)}function Cl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))Fy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Cn(S,_))return rc(t,i,f,0),rt===null&&ic(),!1}catch{}finally{}if(a=Of(t,i,f,l),a!==null)return _n(a,t,l),Gy(a,i,l),!0}return!1}function pd(t,i,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&_n(i,t,2)}function Ac(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Fy(t,i){ao=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Gy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Et(t,a)}}var Il={readContext:$t,use:Ec,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Il.useEffectEvent=Tt;var Qy={readContext:$t,use:Ec,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,My.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(fa){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if(fa){cn(!0);try{a(i)}finally{cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=iS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=ld(t);var i=t.queue,a=Hy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,i){var a=un();return fd(a,t,i)},useTransition:function(){var t=ld(!1);return t=Uy.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=un();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Ve&127)!==0||dy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,xy(py.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},my.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=rt.identifierPrefix;if(ze){var a=ji,l=zi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:md,useFormState:Ay,useActionState:Ay,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:sd,useCacheRefresh:function(){return un().memoizedState=nS.bind(null,Ie)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:$t,use:Ec,useCallback:ky,useContext:$t,useEffect:cd,useImperativeHandle:Vy,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Ly,useReducer:Tc,useRef:Iy,useState:function(){return Tc(gr)},useDebugValue:hd,useDeferredValue:function(t,i){var a=Rt();return Py(a,tt.memoizedState,t,i)},useTransition:function(){var t=Tc(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:md,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=Rt();return _y(a,tt,t,i)},useMemoCache:sd,useCacheRefresh:qy};gd.useEffectEvent=Dy;var Yy={readContext:$t,use:Ec,useCallback:ky,useContext:$t,useEffect:cd,useImperativeHandle:Vy,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Ly,useReducer:od,useRef:Iy,useState:function(){return od(gr)},useDebugValue:hd,useDeferredValue:function(t,i){var a=Rt();return tt===null?fd(a,t,i):Py(a,tt.memoizedState,t,i)},useTransition:function(){var t=od(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:fy,useId:By,useHostTransitionStatus:md,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,i){var a=Rt();return tt!==null?_y(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:qy};Yy.useEffectEvent=Dy;function yd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Mn(),f=is(l);f.payload=i,a!=null&&(f.callback=a),i=rs(t,f,l),i!==null&&(_n(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Mn(),f=is(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=rs(t,f,l),i!==null&&(_n(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),l=is(a);l.tag=2,i!=null&&(l.callback=i),i=rs(t,l,a),i!==null&&(_n(i,t,a),bl(i,t,a))}};function Ky(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(f,d):!0}function Xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function $y(t){nc(t)}function Wy(t){console.error(t)}function Jy(t){nc(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vd(t,i,a){return a=is(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function e_(t){return t=is(t),t.tag=3,t}function t_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Zy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Zy(i,a,l),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&eo(i,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?Pc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(t,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(t,l,f)),!1}throw Error(s(435,a.tag))}return Fd(t,l,f),Pc(),!1}if(ze)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Uf&&(t=Error(s(422),{cause:l}),yl(Xn(t,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),yl(Xn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Xn(l,a),f=vd(t.stateNode,l,f),Xf(t,f),bt!==4&&(bt=2)),!1;var d=Error(s(520),{cause:l});if(d=Xn(d,a),Ll===null?Ll=[d]:Ll.push(d),bt!==4&&(bt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=vd(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(cs===null||!cs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=e_(f),t_(f,t,a,l),Xf(a,f),!1}a=a.return}while(a!==null);return!1}var Ed=Error(s(461)),Mt=!1;function Wt(t,i,a,l){i.child=t===null?sy(i,null,a,l):ha(i,t.child,a,l)}function n_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return oa(i),l=td(t,i,a,_,d,f),S=nd(),t!==null&&!Mt?(id(t,i,f),yr(t,i,f)):(ze&&S&&Lf(i),i.flags|=1,Wt(t,i,l,f),i.child)}function i_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,r_(t,i,d,l,f)):(t=ac(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Id(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(_,l)&&t.ref===i.ref)return yr(t,i,f)}return i.flags|=1,t=hr(d,l),t.ref=i.ref,t.return=i,i.child=t}function r_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ml(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Id(t,f))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,yr(t,i,f)}return Td(t,i,a,l,f)}function s_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return a_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(i,d!==null?d.cachePool:null),d!==null?ly(i,d):Wf(),uy(i);else return l=i.lanes=536870912,a_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),ly(i,d),as(),i.memoizedState=null):(t!==null&&cc(i,null),Wf(),as());return Wt(t,i,f,a),i.child}function xl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function a_(t,i,a,l,f){var d=Gf();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cc(i,null),Wf(),uy(i),t!==null&&eo(t,i,l,!0),i.childLanes=f,null}function Rc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function o_(t,i,a){return ha(i,t.child,null,a),t=Rc(i,i.pendingProps),t.flags|=2,Dn(i),i.memoizedState=null,t}function sS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Rc(i,l),i.lanes=536870912,xl(null,t);if(Zf(i),(t=at)?(t=vv(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Jr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=i,i.child=a,Xt=i,at=null)):t=null,t===null)throw es(i);return i.lanes=536870912,null}return Rc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),f)if(i.flags&256)i.flags&=-257,i=o_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||eo(t,i,a,!1),f=(a&t.childLanes)!==0,Mt||f){if(l=rt,l!==null&&(_=hn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ia(t,_),_n(l,t,_),Ed;Pc(),i=o_(t,i,a)}else t=d.treeContext,at=ei(_.nextSibling),Xt=i,ze=!0,Zr=null,Jn=!1,t!==null&&Yg(i,t),i=Rc(i,l),i.flags|=4096;return i}return t=hr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Td(t,i,a,l,f){return oa(i),a=td(t,i,a,l,void 0,f),l=nd(),t!==null&&!Mt?(id(t,i,f),yr(t,i,f)):(ze&&l&&Lf(i),i.flags|=1,Wt(t,i,a,f),i.child)}function l_(t,i,a,l,f,d){return oa(i),i.updateQueue=null,a=hy(i,l,a,f),cy(t),l=nd(),t!==null&&!Mt?(id(t,i,d),yr(t,i,d)):(ze&&l&&Lf(i),i.flags|=1,Wt(t,i,a,d),i.child)}function u_(t,i,a,l,f){if(oa(i),i.stateNode===null){var d=$a,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):$a,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_d.enqueueReplaceState(d,d.state,null),Al(i,l,d,f),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=da(a,S);d.props=N;var H=d.context,$=a.contextType;_=$a,typeof $=="object"&&$!==null&&(_=$t($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&Xy(i,d,l,_),ns=!1;var F=i.memoizedState;d.state=F,Al(i,l,d,f),Sl(),H=i.memoizedState,S||F!==H||ns?(typeof ee=="function"&&(yd(i,a,ee,l),H=i.memoizedState),(N=ns||Ky(i,a,N,l,F,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),_=i.memoizedProps,$=da(a,_),d.props=$,ee=i.pendingProps,F=d.context,H=a.contextType,N=$a,typeof H=="object"&&H!==null&&(N=$t(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==N)&&Xy(i,d,l,N),ns=!1,F=i.memoizedState,d.state=F,Al(i,l,d,f),Sl();var Y=i.memoizedState;_!==ee||F!==Y||ns||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof S=="function"&&(yd(i,a,S,l),Y=i.memoizedState),($=ns||Ky(i,a,$,l,F,Y,N)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ha(i,t.child,null,f),i.child=ha(i,null,a,f)):Wt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=yr(t,i,f),t}function c_(t,i,a,l){return sa(),i.flags|=256,Wt(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Zg()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function h_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?ss(i):as(),(t=at)?(t=vv(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Jr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Fg(t),a.return=i,i.child=a,Xt=i,at=null)):t=null,t===null)throw es(i);return am(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(as(),f=i.mode,S=Ic({mode:"hidden",children:S},f),l=ra(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,_,a),i.memoizedState=bd,xl(null,l)):(ss(i),wd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(ss(i),i.flags&=-257,i=Rd(t,i,a)):i.memoizedState!==null?(as(),i.child=t.child,i.flags|=128,i=null):(as(),S=l.fallback,f=i.mode,l=Ic({mode:"visible",children:l.children},f),S=ra(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ha(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,_,a),i.memoizedState=bd,i=xl(null,l));else if(ss(i),am(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,yl({value:l,source:null,stack:null}),i=Rd(t,i,a)}else if(Mt||eo(t,i,a,!1),_=(a&t.childLanes)!==0,Mt||_){if(_=rt,_!==null&&(l=hn(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ia(t,l),_n(_,t,l),Ed;sm(S)||Pc(),i=Rd(t,i,a)}else sm(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,at=ei(S.nextSibling),Xt=i,ze=!0,Zr=null,Jn=!1,t!==null&&Yg(i,t),i=wd(i,l.children),i.flags|=4096);return i}return f?(as(),S=l.fallback,f=i.mode,N=t.child,H=N.sibling,l=hr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=hr(H,S):(S=ra(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,xl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Sd(a):(f=S.cachePool,f!==null?(N=Nt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Zg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Ad(t,_,a),i.memoizedState=bd,xl(t.child,l)):(ss(i),a=t.child,t=a.sibling,a=hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function wd(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=In(22,t,null,i),t.lanes=0,t}function Rd(t,i,a){return ha(i,t.child,null,a),t=wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function f_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Bf(t.return,i,a)}function Cd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function d_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=wt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(wt,_),Wt(t,i,l,a),l=ze?gl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,a,i);else if(t.tag===19)f_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Cd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),us|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(eo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function aS(t,i,a){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),ts(i,Nt,t.memoizedState.cache),sa();break;case 27:case 5:ai(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ss(i),i.flags|=128,null):(a&i.child.childLanes)!==0?h_(t,i,a):(ss(i),t=yr(t,i,a),t!==null?t.sibling:null);ss(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(eo(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return d_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(wt,wt.current),l)break;return null;case 22:return i.lanes=0,s_(t,i,a,i.pendingProps);case 24:ts(i,Nt,t.memoizedState.cache)}return yr(t,i,a)}function m_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Id(t,a)&&(i.flags&128)===0)return Mt=!1,aS(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(i.flags&1048576)!==0&&Qg(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ua(i.elementType),i.type=t,typeof t=="function")Mf(t)?(l=da(t,l),i.tag=1,i=u_(null,i,t,l,a)):(i.tag=0,i=Td(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===de){i.tag=11,i=n_(null,i,t,l,a);break e}else if(f===D){i.tag=14,i=i_(null,i,t,l,a);break e}}throw i=Je(t)||t,Error(s(306,i,""))}}return i;case 0:return Td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=da(l,i.pendingProps),u_(t,i,l,f,a);case 3:e:{if(ft(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Kf(t,i),Al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ts(i,Nt,l),l!==d.cache&&qf(i,[Nt],a,!0),Sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=c_(t,i,l,a);break e}else if(l!==f){f=Xn(Error(s(424)),i),yl(f),i=c_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=ei(t.firstChild),Xt=i,ze=!0,Zr=null,Jn=!0,a=sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sa(),l===f){i=yr(t,i,a);break e}Wt(t,i,l,a)}i=i.child}return i;case 26:return Cc(t,i),t===null?(a=wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Fc(Se.current).createElement(a),l[It]=i,l[Ht]=t,Jt(l,a,t),xt(l),i.stateNode=l):i.memoizedState=wv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ai(i),t===null&&ze&&(l=i.stateNode=bv(i.type,i.pendingProps,Se.current),Xt=i,Jn=!0,f=at,ms(i.type)?(om=f,at=ei(l.firstChild)):at=f),Wt(t,i,i.pendingProps.children,a),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=l=at)&&(l=LS(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Xt=i,at=ei(l.firstChild),Jn=!1,f=!0):f=!1),f||es(i)),ai(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,nm(f,d)?l=null:_!==null&&nm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=td(t,i,W1,null,null,a),Fl._currentValue=f),Cc(t,i),Wt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=at)&&(a=PS(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Xt=i,at=null,t=!0):t=!1),t||es(i)),null;case 13:return h_(t,i,a);case 4:return ft(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ha(i,null,l,a):Wt(t,i,l,a),i.child;case 11:return n_(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ts(i,i.type,l.value),Wt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,oa(i),f=$t(f),l=l(f),i.flags|=1,Wt(t,i,l,a),i.child;case 14:return i_(t,i,i.type,i.pendingProps,a);case 15:return r_(t,i,i.type,i.pendingProps,a);case 19:return d_(t,i,a);case 31:return sS(t,i,a);case 22:return s_(t,i,a,i.pendingProps);case 24:return oa(i),l=$t(Nt),t===null?(f=Gf(),f===null&&(f=rt,d=Hf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Yf(i),ts(i,Nt,f)):((t.lanes&a)!==0&&(Kf(t,i),Al(i,null,null,a),Sl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ts(i,Nt,l)):(l=d.cache,ts(i,Nt,l),l!==f.cache&&qf(i,[Nt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _r(t){t.flags|=4}function xd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(B_())t.flags|=8192;else throw ca=fc,Qf}else t.flags&=-16777217}function p_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(i))if(B_())t.flags|=8192;else throw ca=fc,Qf}function xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Va():536870912,t.lanes|=i,fo|=i)}function Dl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function oS(t,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mr(Nt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(i)?_r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),ot(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(_r(i),d!==null?(ot(i),p_(i,d)):(ot(i),xd(i,f,null,l,a))):d?d!==t.memoizedState?(_r(i),ot(i),p_(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&_r(i),ot(i),xd(i,f,t,l,a)),null;case 27:if(tr(i),a=Se.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ue.current,Za(i)?Kg(i):(t=bv(f,l,a),i.stateNode=t,_r(i))}return ot(i),null;case 5:if(tr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=ue.current,Za(i))Kg(i);else{var _=Fc(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[It]=i,d[Ht]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Jt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_r(i)}}return ot(i),xd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hv(t.nodeValue,a)),t||es(i,!0)}else t=Fc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Dn(i),i):(Dn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Dn(i),i):(Dn(i),null)}return Dn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),ot(i),null);case 4:return Ze(),t===null&&Wd(i.stateNode.containerInfo),ot(i),null;case 10:return mr(i.type),ot(i),null;case 19:if(J(wt),l=i.memoizedState,l===null)return ot(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Dl(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=gc(t),d!==null){for(i.flags|=128,Dl(l,!1),t=d.updateQueue,i.updateQueue=t,xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Hg(a,t),a=a.sibling;return oe(wt,wt.current&1|2),ze&&fr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ut()>Vc&&(i.flags|=128,f=!0,Dl(l,!1),i.lanes=4194304)}else{if(!f)if(t=gc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,xc(i,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ot(i),null}else 2*Ut()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,f=!0,Dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ut(),t.sibling=null,a=wt.current,oe(wt,f?a&1|2:a&1),ze&&fr(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Dn(i),Jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mr(Nt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lS(t,i){switch(Pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mr(Nt),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return tr(i),null;case 31:if(i.memoizedState!==null){if(Dn(i),i.alternate===null)throw Error(s(340));sa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(wt),null;case 4:return Ze(),null;case 10:return mr(i.type),null;case 22:case 23:return Dn(i),Jf(),t!==null&&J(la),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mr(Nt),null;case 25:return null;default:return null}}function g_(t,i){switch(Pf(i),i.tag){case 3:mr(Nt),Ze();break;case 26:case 27:case 5:tr(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&Dn(i);break;case 13:Dn(i);break;case 19:J(wt);break;case 10:mr(i.type);break;case 22:case 23:Dn(i),Jf(),t!==null&&J(la);break;case 24:mr(Nt)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){We(i,i.return,S)}}function os(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var N=a,H=S;try{H()}catch($){We(f,N,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function y_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{oy(i,a)}catch(l){We(t,t.return,l)}}}function __(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function Bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function v_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function Dd(t,i,a){try{var l=t.stateNode;DS(l,t.type,a,i),l[Ht]=i}catch(f){We(t,t.return,f)}}function E_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ms(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hi));else if(l!==4&&(l===27&&ms(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Dc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Dc(t,i,a),t=t.sibling;t!==null;)Dc(t,i,a),t=t.sibling}function T_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,l,a),i[It]=t,i[Ht]=a}catch(d){We(t,t.return,d)}}var vr=!1,Vt=!1,Md=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function uS(t,i){if(t=t.containerInfo,em=Wc,t=Vg(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,H=0,$=0,ee=t,F=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===t)break t;if(F===a&&++H===f&&(S=_),F===d&&++$===l&&(N=_),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Wc=!1,Gt=i;Gt!==null;)if(i=Gt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gt=t;else for(;Gt!==null;){switch(i=Gt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=da(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Gt=t;break}Gt=i.return}}function S_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),l&4&&Nl(5,a);break;case 1:if(Tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&y_(a),l&512&&Ol(a,a.return);break;case 3:if(Tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{oy(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&T_(a);case 26:case 5:Tr(t,a),i===null&&l&4&&v_(a),l&512&&Ol(a,a.return);break;case 12:Tr(t,a);break;case 31:Tr(t,a),l&4&&R_(t,a);break;case 13:Tr(t,a),l&4&&C_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),US(t,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){i=i!==null&&i.memoizedState!==null||Vt,f=vr;var d=Vt;vr=l,(Vt=i)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),vr=f,Vt=d}break;case 30:break;default:Tr(t,a)}}function A_(t){var i=t.alternate;i!==null&&(t.alternate=null,A_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&La(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function Er(t,i,a){for(a=a.child;a!==null;)w_(t,i,a),a=a.sibling}function w_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:Vt||Bi(a,i),Er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Bi(a,i);var l=ct,f=mn;ms(a.type)&&(ct=a.stateNode,mn=!1),Er(t,i,a),Bl(a.stateNode),ct=l,mn=f;break;case 5:Vt||Bi(a,i);case 6:if(l=ct,f=mn,ct=null,Er(t,i,a),ct=l,mn=f,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ct!==null&&(mn?(t=ct,yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):yv(ct,a.stateNode));break;case 4:l=ct,f=mn,ct=a.stateNode.containerInfo,mn=!0,Er(t,i,a),ct=l,mn=f;break;case 0:case 11:case 14:case 15:os(2,a,i),Vt||os(4,a,i),Er(t,i,a);break;case 1:Vt||(Bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&__(a,i,l)),Er(t,i,a);break;case 21:Er(t,i,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,Er(t,i,a),Vt=l;break;default:Er(t,i,a)}}function R_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){We(i,i.return,a)}}}function C_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){We(i,i.return,a)}}function cS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new b_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new b_),i;default:throw Error(s(435,t.tag))}}function Nc(t,i){var a=cS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=vS.bind(null,t,l);l.then(f,f)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ms(S.type)){ct=S.stateNode,mn=!1;break e}break;case 5:ct=S.stateNode,mn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(ct===null)throw Error(s(160));w_(d,_,f),ct=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)I_(i,t),i=i.sibling}var yi=null;function I_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(os(3,t,t.return),Nl(3,t),os(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(Vt||a===null||Bi(a,a.return)),l&64&&vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=yi;if(pn(i,t),gn(t),l&512&&(Vt||a===null||Bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ci]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,a),d[It]=t,xt(d),l=d;break e;case"link":var _=Iv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Iv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,xt(d),l=d}t.stateNode=l}else xv(f,t.type,t.stateNode);else t.stateNode=Cv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?xv(f,t.type,t.stateNode):Cv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(Vt||a===null||Bi(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(Vt||a===null||Bi(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Dd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Md=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Yc=null,f=yi,yi=Gc(i.containerInfo),pn(i,t),yi=f,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(i.containerInfo)}catch(he){We(t,t.return,he)}Md&&(Md=!1,x_(t));break;case 4:l=yi,yi=Gc(t.stateNode.containerInfo),pn(i,t),gn(t),yi=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=Ut()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=vr,$=Vt;if(vr=H||f,Vt=$||N,pn(i,t),Vt=$,vr=H,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||vr||Vt||ma(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){We(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){We(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;f?_v(Y,!0):_v(N.stateNode,!1)}catch(he){We(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(E_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);Dc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var S=Nd(t);Dc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Nd(t);Od(t,H,N);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;x_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)S_(t,i.alternate,i),i=i.sibling}function ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:os(4,i,i.return),ma(i);break;case 1:Bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&__(i,i.return,a),ma(i);break;case 27:Bl(i.stateNode);case 26:case 5:Bi(i,i.return),ma(i);break;case 22:i.memoizedState===null&&ma(i);break;case 30:ma(i);break;default:ma(i)}t=t.sibling}}function br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:br(f,d,a),Nl(4,d);break;case 1:if(br(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ay(N[f],S)}catch(H){We(l,l.return,H)}}a&&_&64&&y_(d),Ol(d,d.return);break;case 27:T_(d);case 26:case 5:br(f,d,a),a&&l===null&&_&4&&v_(d),Ol(d,d.return);break;case 12:br(f,d,a);break;case 31:br(f,d,a),a&&_&4&&R_(f,d);break;case 13:br(f,d,a),a&&_&4&&C_(f,d);break;case 22:d.memoizedState===null&&br(f,d,a),Ol(d,d.return);break;case 30:break;default:br(f,d,a)}i=i.sibling}}function Vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t))}function _i(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(t,i,a,l),i=i.sibling}function D_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:_i(t,i,a,l),f&2048&&Nl(9,i);break;case 1:_i(t,i,a,l);break;case 3:_i(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t)));break;case 12:if(f&2048){_i(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else _i(t,i,a,l);break;case 31:_i(t,i,a,l);break;case 13:_i(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?_i(t,i,a,l):Ml(t,i):d._visibility&2?_i(t,i,a,l):(d._visibility|=2,uo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Vd(_,i);break;case 24:_i(t,i,a,l),f&2048&&kd(i.alternate,i);break;default:_i(t,i,a,l)}}function uo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:uo(d,_,S,N,f),Nl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?uo(d,_,S,N,f):Ml(d,_):($._visibility|=2,uo(d,_,S,N,f)),f&&H&2048&&Vd(_.alternate,_);break;case 24:uo(d,_,S,N,f),f&&H&2048&&kd(_.alternate,_);break;default:uo(d,_,S,N,f)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Ml(a,l),f&2048&&Vd(l.alternate,l);break;case 24:Ml(a,l),f&2048&&kd(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function co(t,i,a){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)N_(t,i,a),t=t.sibling}function N_(t,i,a){switch(t.tag){case 26:co(t,i,a),t.flags&Vl&&t.memoizedState!==null&&$S(a,yi,t.memoizedState,t.memoizedProps);break;case 5:co(t,i,a);break;case 3:case 4:var l=yi;yi=Gc(t.stateNode.containerInfo),co(t,i,a),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Vl,Vl=16777216,co(t,i,a),Vl=l):co(t,i,a));break;default:co(t,i,a)}}function O_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,V_(l,t)}O_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&os(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):kl(t);break;default:kl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,V_(l,t)}O_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:os(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function V_(t,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var f=l.sibling,d=l.return;if(A_(l),l===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var hS={getCacheForType:function(t){var i=$t(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Nt).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ne=null,Ve=0,$e=0,Nn=null,ls=!1,ho=!1,Ld=!1,Sr=0,bt=0,us=0,pa=0,Pd=0,On=0,fo=0,Ll=null,yn=null,Ud=!1,Mc=0,k_=0,Vc=1/0,kc=null,cs=null,jt=0,hs=null,mo=null,Ar=0,zd=0,jd=null,L_=null,Pl=0,Bd=null;function Mn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?Yd():Lu()}function P_(){if(On===0)if((Ve&536870912)===0||ze){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),On=t}else On=536870912;return t=xn.current,t!==null&&(t.flags|=32),On}function _n(t,i,a){(t===rt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(po(t,0),fs(t,Ve,On,!1)),K(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(pa|=a),bt===4&&fs(t,Ve,On,!1)),qi(t))}function U_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||An(t,i),f=l?pS(t,i):Hd(t,i,!0),d=l;do{if(f===0){ho&&!l&&fs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dS(a)){f=Hd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Ll;var N=S.current.memoizedState.isDehydrated;if(N&&(po(S,_).flags|=256),_=Hd(S,_,!1),_!==2){if(Ld&&!N){S.errorRecoveryDisabledLanes|=d,pa|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){po(t,0),fs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fs(l,i,On,!ls);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Mc+300-Ut(),10<f)){if(fs(l,i,On,!ls),Bn(l,0,!0)!==0)break e;Ar=i,l.timeoutHandle=pv(z_.bind(null,l,a,yn,kc,Ud,i,On,pa,fo,ls,d,"Throttled",-0,0),f);break e}z_(l,a,yn,kc,Ud,i,On,pa,fo,ls,d,null,-0,0)}}break}while(!0);qi(t)}function z_(t,i,a,l,f,d,_,S,N,H,$,ee,F,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},N_(i,d,ee);var he=(d&62914560)===d?Mc-Ut():(d&4194048)===d?k_-Ut():0;if(he=WS(ee,he),he!==null){Ar=d,t.cancelPendingCommit=he(Y_.bind(null,t,i,d,a,l,f,_,S,N,$,ee,null,F,Y)),fs(t,d,_,!H);return}}Y_(t,i,d,a,l,f,_,S,N)}function dS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Cn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(t,i,a,l){i&=~Pd,i&=~pa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ge(t,a,i)}function Lc(){return(Ye&6)===0?(Ul(0),!1):!0}function qd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,dr=aa=null,rd(t),ro=null,El=0,t=Ne;for(;t!==null;)g_(t.alternate,t),t=t.return;Ne=null}}function po(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ar=0,qd(),rt=t,Ne=a=hr(t.current,null),Ve=i,$e=0,Nn=null,ls=!1,ho=An(t,i),Ld=!1,fo=On=Pd=pa=us=bt=0,yn=Ll=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return Sr=i,ic(),a}function j_(t,i){Ie=null,X.H=Il,i===io||i===hc?(i=ny(),$e=3):i===Qf?(i=ny(),$e=4):$e=i===Ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ne===null&&(bt=1,wc(t,Xn(i,t.current)))}function B_(){var t=xn.current;return t===null?!0:(Ve&4194048)===Ve?Zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Zn:!1}function q_(){var t=X.H;return X.H=Il,t===null?Il:t}function H_(){var t=X.A;return X.A=hS,t}function Pc(){bt=4,ls||(Ve&4194048)!==Ve&&xn.current!==null||(ho=!0),(us&134217727)===0&&(pa&134217727)===0||rt===null||fs(rt,Ve,On,!1)}function Hd(t,i,a){var l=Ye;Ye|=2;var f=q_(),d=H_();(rt!==t||Ve!==i)&&(kc=null,po(t,i)),i=!1;var _=bt;e:do try{if($e!==0&&Ne!==null){var S=Ne,N=Nn;switch($e){case 8:qd(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var H=$e;if($e=0,Nn=null,go(t,S,N,H),a&&ho){_=0;break e}break;default:H=$e,$e=0,Nn=null,go(t,S,N,H)}}mS(),_=bt;break}catch($){j_(t,$)}while(!0);return i&&t.shellSuspendCounter++,dr=aa=null,Ye=l,X.H=f,X.A=d,Ne===null&&(rt=null,Ve=0,ic()),_}function mS(){for(;Ne!==null;)F_(Ne)}function pS(t,i){var a=Ye;Ye|=2;var l=q_(),f=H_();rt!==t||Ve!==i?(kc=null,Vc=Ut()+500,po(t,i)):ho=An(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=Nn;t:switch($e){case 1:$e=0,Nn=null,go(t,i,d,1);break;case 2:case 9:if(ey(d)){$e=0,Nn=null,G_(i);break}i=function(){$e!==2&&$e!==9||rt!==t||($e=7),qi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ey(d)?($e=0,Nn=null,G_(i)):($e=0,Nn=null,go(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?Dv(_):S.stateNode.complete){$e=0,Nn=null;var N=S.sibling;if(N!==null)Ne=N;else{var H=S.return;H!==null?(Ne=H,Uc(H)):Ne=null}break t}}$e=0,Nn=null,go(t,i,d,5);break;case 6:$e=0,Nn=null,go(t,i,d,6);break;case 8:qd(),bt=6;break e;default:throw Error(s(462))}}gS();break}catch($){j_(t,$)}while(!0);return dr=aa=null,X.H=l,X.A=f,Ye=a,Ne!==null?0:(rt=null,Ve=0,ic(),bt)}function gS(){for(;Ne!==null&&!jr();)F_(Ne)}function F_(t){var i=m_(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function G_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=l_(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=l_(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:rd(i);default:g_(a,i),i=Ne=Hg(i,Sr),i=m_(a,i,Sr)}t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function go(t,i,a,l){dr=aa=null,rd(i),ro=null,El=0;var f=i.return;try{if(rS(t,f,i,a,Ve)){bt=1,wc(t,Xn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;bt=1,wc(t,Xn(a,t.current)),Ne=null;return}i.flags&32768?(ze||l===1?t=!0:ho||(Ve&536870912)!==0?t=!1:(ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){Q_(i,ls);return}t=i.return;var a=oS(i.alternate,i,Sr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);bt===0&&(bt=5)}function Q_(t,i){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);bt=6,Ne=null}function Y_(t,i,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do zc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nf,qe(t,a,d,_,S,N),t===rt&&(Ne=rt=null,Ve=0),mo=i,hs=t,Ar=a,zd=d,jd=f,L_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(Un,function(){return J_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=Ye,Ye|=4;try{uS(t,i,a)}finally{Ye=_,se.p=f,X.T=l}}jt=1,K_(),X_(),$_()}}function K_(){if(jt===1){jt=0;var t=hs,i=mo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{I_(i,t);var d=tm,_=Vg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Mg(S.ownerDocument.documentElement,S)){if(N!==null&&Rf(S)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Y=F.getSelection(),he=S.textContent.length,ye=Math.min(N.start,he),it=N.end===void 0?ye:Math.min(N.end,he);!Y.extend&&ye>it&&(_=it,it=ye,ye=_);var z=Og(S,ye),M=Og(S,it);if(z&&M&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),ye>it?(Y.addRange(q),Y.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Y.addRange(q))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Wc=!!em,tm=em=null}finally{Ye=f,se.p=l,X.T=a}}t.current=i,jt=2}}function X_(){if(jt===2){jt=0;var t=hs,i=mo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{S_(t,i.alternate,i)}finally{Ye=f,se.p=l,X.T=a}}jt=3}}function $_(){if(jt===4||jt===3){jt=0,qs();var t=hs,i=mo,a=Ar,l=L_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,mo=hs=null,W_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(cs=null),Hn(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,se.p=f}}(Ar&3)!==0&&zc(),qi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Bd?Pl++:(Pl=0,Bd=t):Pl=0,Ul(0)}}function W_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,_l(i)))}function zc(){return K_(),X_(),$_(),J_()}function J_(){if(jt!==5)return!1;var t=hs,i=zd;zd=0;var a=Hn(Ar),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=jd,jd=null;var d=hs,_=Ar;if(jt=0,mo=hs=null,Ar=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,M_(d.current),D_(d,d.current,_,a),Ye=S,Ul(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qt,d)}catch{}return!0}finally{se.p=f,X.T=l,W_(t,i)}}function Z_(t,i,a){i=Xn(a,i),i=vd(t.stateNode,i,2),t=rs(t,i,2),t!==null&&(K(t,2),qi(t))}function We(t,i,a){if(t.tag===3)Z_(t,t,a);else for(;i!==null;){if(i.tag===3){Z_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cs===null||!cs.has(l))){t=Xn(a,t),a=e_(2),l=rs(i,a,2),l!==null&&(t_(a,l,i,t),K(l,2),qi(l));break}}i=i.return}}function Fd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Ld=!0,f.add(a),t=yS.bind(null,t,i,a),i.then(t,t))}function yS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Ve&a)===a&&(bt===4||bt===3&&(Ve&62914560)===Ve&&300>Ut()-Mc?(Ye&2)===0&&po(t,0):Pd|=a,fo===Ve&&(fo=0)),qi(t)}function ev(t,i){i===0&&(i=Va()),t=ia(t,i),t!==null&&(K(t,i),qi(t))}function _S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(t,a)}function vS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(t,a)}function ES(t,i){return mt(t,i)}var jc=null,yo=null,Gd=!1,Bc=!1,Qd=!1,ds=0;function qi(t){t!==yo&&t.next===null&&(yo===null?jc=yo=t:yo=yo.next=t),Bc=!0,Gd||(Gd=!0,bS())}function Ul(t,i){if(!Qd&&Bc){Qd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rv(l,d))}else d=Ve,d=Bn(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||An(l,d)||(a=!0,rv(l,d));l=l.next}while(a);Qd=!1}}function TS(){tv()}function tv(){Bc=Gd=!1;var t=0;ds!==0&&OS()&&(t=ds);for(var i=Ut(),a=null,l=jc;l!==null;){var f=l.next,d=nv(l,i);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}jt!==0&&jt!==5||Ul(t),ds!==0&&(ds=0)}function nv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=$o(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=rt,a=Ve,a=Bn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||An(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Sn(l),Hn(a)){case 2:case 8:a=Br;break;case 32:a=Un;break;case 268435456:a=Hs;break;default:a=Un}return l=iv.bind(null,t),a=mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Sn(l),t.callbackPriority=2,t.callbackNode=null,2}function iv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Ve;return l=Bn(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(U_(t,l,i),nv(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?iv.bind(null,t):null)}function rv(t,i){if(zc())return null;U_(t,i,!0)}function bS(){VS(function(){(Ye&6)!==0?mt(sr,TS):tv()})}function Yd(){if(ds===0){var t=to;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),ds=t}return ds}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function av(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function SS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=sv((f[Ht]||null).action),_=l.submitter;_&&(i=(i=_[Ht]||null)?sv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new ki("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var N=_?av(f,_):new FormData(f);dd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?av(f,_):new FormData(f),dd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Kd=0;Kd<Df.length;Kd++){var Xd=Df[Kd],AS=Xd.toLowerCase(),wS=Xd[0].toUpperCase()+Xd.slice(1);gi(AS,"on"+wS)}gi(Pg,"onAnimationEnd"),gi(Ug,"onAnimationIteration"),gi(zg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(B1,"onTransitionRun"),gi(q1,"onTransitionStart"),gi(H1,"onTransitionCancel"),gi(jg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch($){nc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch($){nc($)}f.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[ka];a===void 0&&(a=i[ka]=new Set);var l=t+"__bubble";a.has(l)||(lv(i,t,2,!1),a.add(l))}function $d(t,i,a){var l=0;i&&(l|=4),lv(a,t,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[qc]){t[qc]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||$d(a,!1,t),$d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qc]||(i[qc]=!0,$d("selectionchange",!1,i))}}function lv(t,i,a,l){switch(Pv(i)){case 2:var f=eA;break;case 8:f=tA;break;default:f=fm}a=f.bind(null,i,a,t),f=void 0,!Xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Jd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ii(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Kr(function(){var H=d,$=Gn(a),ee=[];e:{var F=Bg.get(t);if(F!==void 0){var Y=ki,he=t;switch(t){case"keypress":if(Ws(a)===0)break e;case"keydown":case"keyup":Y=Zu;break;case"focusin":he="focus",Y=Zs;break;case"focusout":he="blur",Y=Zs;break;case"beforeblur":case"afterblur":Y=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Pg:case Ug:case zg:Y=Qu;break;case jg:Y=A;break;case"scroll":case"scrollend":Y=ul;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cr;break;case"toggle":case"beforetoggle":Y=Ce}var ye=(i&4)!==0,it=!ye&&(t==="scroll"||t==="scrollend"),z=ye?F!==null?F+"Capture":null:F;ye=[];for(var M=H,q;M!==null;){var W=M;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=fi(M,z),W!=null&&ye.push(jl(M,W,q))),it)break;M=M.return}0<ye.length&&(F=new Y(F,he,null,a,$),ee.push({event:F,listeners:ye}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==al&&(he=a.relatedTarget||a.fromElement)&&(Ii(he)||he[Ri]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=H,he=he?Ii(he):null,he!==null&&(it=u(he),ye=he.tag,he!==it||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Y=null,he=H),Y!==he)){if(ye=cl,W="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=cr,W="onPointerLeave",z="onPointerEnter",M="pointer"),it=Y==null?F:wn(Y),q=he==null?F:wn(he),F=new ye(W,M+"leave",Y,a,$),F.target=it,F.relatedTarget=q,W=null,Ii($)===H&&(ye=new ye(z,M+"enter",he,a,$),ye.target=q,ye.relatedTarget=it,W=ye),it=W,Y&&he)t:{for(ye=CS,z=Y,M=he,q=0,W=z;W;W=ye(W))q++;W=0;for(var pe=M;pe;pe=ye(pe))W++;for(;0<q-W;)z=ye(z),q--;for(;0<W-q;)M=ye(M),W--;for(;q--;){if(z===M||M!==null&&z===M.alternate){ye=z;break t}z=ye(z),M=ye(M)}ye=null}else ye=null;Y!==null&&uv(ee,F,Y,ye,!1),he!==null&&it!==null&&uv(ee,it,he,ye,!0)}}e:{if(F=H?wn(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var He=Rg;else if(Ag(F))if(Cg)He=U1;else{He=L1;var fe=k1}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&za(H.elementType)&&(He=Rg):He=P1;if(He&&(He=He(t,H))){wg(ee,He,a,$);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&il(F,"number",F.value)}switch(fe=H?wn(H):window,t){case"focusin":(Ag(fe)||fe.contentEditable==="true")&&(Ya=fe,Cf=H,pl=null);break;case"focusout":pl=Cf=Ya=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,kg(ee,a,$);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":kg(ee,a,$)}var xe;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Qa?ea(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ui&&a.locale!=="ko"&&(Qa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Qa&&(xe=ll()):(Vi=$,ol="value"in Vi?Vi.value:Vi.textContent,Qa=!0)),fe=Hc(H,ke),0<fe.length&&(ke=new Pi(ke,t,null,a,$),ee.push({event:ke,listeners:fe}),xe?ke.data=xe:(xe=Ga(a),xe!==null&&(ke.data=xe)))),(xe=Yn?N1(t,a):O1(t,a))&&(ke=Hc(H,"onBeforeInput"),0<ke.length&&(fe=new Pi("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:ke}),fe.data=xe)),SS(ee,t,H,a,$)}ov(ee,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=fi(t,a),f!=null&&l.unshift(jl(t,f,d)),f=fi(t,i),f!=null&&l.push(jl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function CS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,f?(H=fi(a,d),H!=null&&_.unshift(jl(a,H,N))):f||(H=fi(a,d),H!=null&&_.push(jl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var IS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(xS,"")}function hv(t,i){return i=cv(i),cv(t)===i}function nt(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(t,""+l);break;case"className":Rn(t,"class",l);break;case"tabIndex":Rn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(t,a,l);break;case"style":sl(t,l,d);break;case"data":if(i!=="object"){Rn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",f.name,f,null),nt(t,i,"formEncType",f.formEncType,f,null),nt(t,i,"formMethod",f.formMethod,f,null),nt(t,i,"formTarget",f.formTarget,f,null)):(nt(t,i,"encType",f.encType,f,null),nt(t,i,"method",f.method,f,null),nt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,Pa(t,a,l))}}function Zd(t,i,a,l,f,d){switch(a){case"style":sl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pa(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,_,a,null)}}f&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=_=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:nt(t,i,l,$,a,null)}}ju(t,d,S,N,H,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:nt(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Fr(t,!!l,i,!1):a!=null&&Fr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(t,i,_,S,a,null)}Gr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Oe(zl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,H,l,a,null)}return;default:if(za(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Zd(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&nt(t,i,S,l,a,null))}function DS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,H=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||nt(t,i,Y,null,l,ee)}}for(var F in l){var Y=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":d=Y;break;case"name":f=Y;break;case"checked":H=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&nt(t,i,F,Y,l,ee)}}Ua(t,_,S,N,H,$,d,f);return;case"select":Y=_=S=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&nt(t,i,f,d,l,N)}i=S,a=_,l=Y,F!=null?Fr(t,!!a,F,!1):!!l!=!!a&&(i!=null?Fr(t,!!a,i,!0):Fr(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&nt(t,i,_,f,l,d)}Bu(t,F,Y);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:nt(t,i,he,null,l,F)}for(N in l)if(F=l[N],Y=a[N],l.hasOwnProperty(N)&&F!==Y&&(F!=null||Y!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(t,i,N,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&nt(t,i,ye,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:nt(t,i,H,F,l,Y)}return;default:if(za(i)){for(var it in a)F=a[it],a.hasOwnProperty(it)&&F!==void 0&&!l.hasOwnProperty(it)&&Zd(t,i,it,void 0,l,F);for($ in l)F=l[$],Y=a[$],!l.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||Zd(t,i,$,F,l,Y);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&nt(t,i,z,null,l,F);for(ee in l)F=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||F===Y||F==null&&Y==null||nt(t,i,ee,F,l,Y)}function fv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&fv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>S)break;var $=N.transferSize,ee=N.initiatorType;$&&fv(ee)&&(N=N.responseEnd,_+=$*(N<S?1:(S-H)/(N-H)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var em=null,tm=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function nm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function OS(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(kS)}:pv;function kS(t){setTimeout(function(){throw t})}function ms(t){return t==="head"}function yv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),To(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Bl(t.ownerDocument.body);a=f}while(a);To(i)}function _v(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function PS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function vv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ei(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function US(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var om=null;function Ev(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ei(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function bv(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);La(t)}var ti=new Map,Sv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wr=se.d;se.d={f:zS,r:jS,D:BS,C:qS,L:HS,m:FS,X:QS,S:GS,M:YS};function zS(){var t=wr.f(),i=Lc();return t||i}function jS(t){var i=Fn(t);i!==null&&i.tag===5&&i.type==="form"?jy(i):wr.r(t)}var _o=typeof document>"u"?null:document;function Av(t,i,a){var l=_o;if(l&&typeof i=="string"&&i){var f=fn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Sv.has(f)||(Sv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function BS(t){wr.D(t),Av("dns-prefetch",t,null)}function qS(t,i){wr.C(t,i),Av("preconnect",t,i)}function HS(t,i,a){wr.L(t,i,a);var l=_o;if(l&&t&&i){var f='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(t)+'"]';var d=f;switch(i){case"style":d=vo(t);break;case"script":d=Eo(t)}ti.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ti.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ql(d))||i==="script"&&l.querySelector(Hl(d))||(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function FS(t,i){wr.m(t,i);var a=_o;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!ti.has(d)&&(t=T({rel:"modulepreload",href:t},i),ti.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(d)))return}l=a.createElement("link"),Jt(l,"link",t),xt(l),a.head.appendChild(l)}}}function GS(t,i,a){wr.S(t,i,a);var l=_o;if(l&&t){var f=xi(l).hoistableStyles,d=vo(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(ql(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ti.get(d))&&lm(t,a);var N=_=l.createElement("link");xt(N),Jt(N,"link",t),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function QS(t,i){wr.X(t,i);var a=_o;if(a&&t){var l=xi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(t=T({src:t,async:!0},i),(i=ti.get(f))&&um(t,i),d=a.createElement("script"),xt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YS(t,i){wr.M(t,i);var a=_o;if(a&&t){var l=xi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Hl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=ti.get(f))&&um(t,i),d=a.createElement("script"),xt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function wv(t,i,a,l){var f=(f=Se.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=vo(a.href),a=xi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=xi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(ql(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||KS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=xi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+fn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Rv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),xt(i),t.head.appendChild(i))}function Eo(t){return'[src="'+fn(t)+'"]'}function Hl(t){return"script[async]"+t}function Cv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Jt(l,"style",f),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=vo(a.href);var d=t.querySelector(ql(f));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=Rv(a),(f=ti.get(f))&&lm(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(Hl(d)))?(i.instance=f,xt(f),f):(l=a,(f=ti.get(d))&&(l=T({},a),um(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Jt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function Iv(t,i,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ci]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function xv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function XS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $S(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),d=i.querySelector(ql(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=Rv(l),(f=ti.get(f))&&lm(l,f),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var cm=0;function WS(t,i){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&cm===0&&(cm=62500*NS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>cm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function $c(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(JS,t),Xc=null,Kc.call(t))}function JS(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Fl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ZS(t,i,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Nv(t,i,a,l,f,d,_,S,N,H,$,ee){return t=new ZS(t,i,a,_,N,H,$,ee,S),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=Hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Yf(d),t}function Ov(t){return t?(t=$a,t):$a}function Mv(t,i,a,l,f,d){f=Ov(f),l.context===null?l.context=f:l.pendingContext=f,l=is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=rs(t,l,i),a!==null&&(_n(a,t,i),bl(a,t,i))}function Vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hm(t,i){Vv(t,i),(t=t.alternate)&&Vv(t,i)}function kv(t){if(t.tag===13||t.tag===31){var i=ia(t,67108864);i!==null&&_n(i,t,67108864),hm(t,67108864)}}function Lv(t){if(t.tag===13||t.tag===31){var i=Mn();i=or(i);var a=ia(t,i);a!==null&&_n(a,t,i),hm(t,i)}}var Wc=!0;function eA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,fm(t,i,a,l)}finally{se.p=d,X.T=f}}function tA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,fm(t,i,a,l)}finally{se.p=d,X.T=f}}function fm(t,i,a,l){if(Wc){var f=dm(l);if(f===null)Jd(t,i,l,Jc,a),Uv(t,l);else if(iA(f,t,i,a,l))l.stopPropagation();else if(Uv(t,l),i&4&&-1<nA.indexOf(t)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}qi(d),(Ye&6)===0&&(Vc=Ut()+500,Ul(0))}}break;case 31:case 13:S=ia(d,2),S!==null&&_n(S,d,2),Lc(),hm(d,2)}if(d=dm(l),d===null&&Jd(t,i,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Jd(t,i,l,null,a)}}function dm(t){return t=Gn(t),mm(t)}var Jc=null;function mm(t){if(Jc=null,t=Ii(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case sr:return 2;case Br:return 8;case Un:case Na:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var pm=!1,ps=null,gs=null,ys=null,Gl=new Map,Ql=new Map,_s=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(t,i){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Yl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Fn(i),i!==null&&kv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function iA(t,i,a,l,f){switch(i){case"focusin":return ps=Yl(ps,t,i,a,l,f),!0;case"dragenter":return gs=Yl(gs,t,i,a,l,f),!0;case"mouseover":return ys=Yl(ys,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Gl.set(d,Yl(Gl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,Yl(Ql.get(d)||null,t,i,a,l,f)),!0}return!1}function zv(t){var i=Ii(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ui(t.priority,function(){Lv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ui(t.priority,function(){Lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=dm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return i=Fn(a),i!==null&&kv(i),t.blockedOn=a,!1;i.shift()}return!0}function jv(t,i,a){Zc(t)&&a.delete(i)}function rA(){pm=!1,ps!==null&&Zc(ps)&&(ps=null),gs!==null&&Zc(gs)&&(gs=null),ys!==null&&Zc(ys)&&(ys=null),Gl.forEach(jv),Ql.forEach(jv)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var th=null;function Bv(t){th!==t&&(th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(i,3),i-=3,dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function To(t){function i(N){return eh(N,t)}ps!==null&&eh(ps,t),gs!==null&&eh(gs,t),ys!==null&&eh(ys,t),Gl.forEach(i),Ql.forEach(i);for(var a=0;a<_s.length;a++){var l=_s[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_s.length&&(a=_s[0],a.blockedOn===null);)zv(a),a.blockedOn===null&&_s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ht]||null;if(typeof d=="function")_||Bv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ht]||null)S=_.formAction;else if(mm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Bv(a)}}}function qv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function gm(t){this._internalRoot=t}nh.prototype.render=gm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();Mv(a,l,t,i,null,null)},nh.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Mv(t.current,2,null,t,null,null),Lc(),i[Ri]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_s.length&&i!==0&&i<_s[a].priority;a++);_s.splice(a,0,t),a===0&&zv(t)}};var Hv=e.version;if(Hv!=="19.2.0")throw Error(s(527,Hv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var sA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{qt=ih.inject(sA),zt=ih}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=$y,d=Wy,_=Jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Nv(t,1,!1,null,null,a,l,null,f,d,_,qv),t[Ri]=i.current,Wd(t),new gm(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=$y,_=Wy,S=Jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Nv(t,1,!0,i,a??null,l,f,N,d,_,S,qv),i.context=Ov(null),a=i.current,l=Mn(),l=or(l),f=is(l),f.callback=null,rs(a,f,l),a=l,i.current.lanes=a,K(i,a),qi(i),t[Ri]=i.current,Wd(t),new nh(i)},Xl.version="19.2.0",Xl}var Zv;function gA(){if(Zv)return vm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=pA(),vm.exports}var yA=gA();const _A=B0(yA);var eE="popstate";function vA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return qm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:uu(o)}return TA(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ri(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substring(2,10)}function tE(r,e){return{usr:r.state,key:r.key,idx:e}}function qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||s||EA()}}function uu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function jo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function TA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let j=E(),ne=j==null?null:j-g;g=j,p&&p({action:m,location:G.location,delta:ne})}function w(j,ne){m="PUSH";let ie=qm(G.location,j,ne);g=E()+1;let re=tE(ie,g),de=G.createHref(ie);try{h.pushState(re,"",de)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(de)}u&&p&&p({action:m,location:G.location,delta:1})}function C(j,ne){m="REPLACE";let ie=qm(G.location,j,ne);g=E();let re=tE(ie,g),de=G.createHref(ie);h.replaceState(re,"",de),u&&p&&p({action:m,location:G.location,delta:0})}function L(j){return bA(j)}let G={get action(){return m},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,T),p=j,()=>{o.removeEventListener(eE,T),p=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let ne=L(j);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:C,go(j){return h.go(j)}};return G}function bA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function q0(r,e,n="/"){return SA(r,e,n,!1)}function SA(r,e,n,s){let o=typeof e=="string"?jo(e):e,u=Or(o.pathname||"/",n);if(u==null)return null;let h=H0(r);AA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=kA(u);m=MA(h[p],g,s)}return m}function H0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=xr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),H0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:NA(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of F0(h.path))u(h,m,!0,p)}),e}function F0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=F0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function AA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:OA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wA=/^:[\w-]+$/,RA=3,CA=2,IA=1,xA=10,DA=-2,nE=r=>r==="*";function NA(r,e){let n=r.split("/"),s=n.length;return n.some(nE)&&(s+=DA),e&&(s+=CA),n.filter(o=>!nE(o)).reduce((o,u)=>o+(wA.test(u)?RA:u===""?IA:xA),s)}function OA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function MA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:xr([u,T.pathname]),pathnameBase:jA(xr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=xr([u,T.pathnameBase]))}return h}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=VA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let L=m[w]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const C=m[w];return T&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function VA(r,e=!1,n=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var LA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PA=r=>LA.test(r);function UA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?jo(r):r,u;if(n)if(PA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=iE(n.substring(1),"/"):u=iE(n,e)}else u=e;return{pathname:u,search:BA(s),hash:qA(o)}}function iE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(r){let e=zA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vp(r,e,n,s=!1){let o;typeof r=="string"?o=jo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=UA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var xr=r=>r.join("/").replace(/\/\/+/g,"/"),jA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function HA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function FA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G0=["POST","PUT","PATCH","DELETE"];new Set(G0);var GA=["GET",...G0];new Set(GA);var Bo=P.createContext(null);Bo.displayName="DataRouter";var Yh=P.createContext(null);Yh.displayName="DataRouterState";P.createContext(!1);var Q0=P.createContext({isTransitioning:!1});Q0.displayName="ViewTransition";var QA=P.createContext(new Map);QA.displayName="Fetchers";var YA=P.createContext(null);YA.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var bu=P.createContext(null);bu.displayName="Location";var Ai=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";function KA(r,{relative:e}={}){ht(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(si),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:xr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function qo(){return P.useContext(bu)!=null}function Ur(){return ht(qo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(bu).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K0(r){P.useContext(si).static||P.useLayoutEffect(r)}function Ho(){let{isDataRoute:r}=P.useContext(Ai);return r?ow():XA()}function XA(){ht(qo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Bo),{basename:e,navigator:n}=P.useContext(si),{matches:s}=P.useContext(Ai),{pathname:o}=Ur(),u=JSON.stringify(_p(s)),h=P.useRef(!1);return K0(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(ri(h.current,Y0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=vp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:xr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function X0(){let{matches:r}=P.useContext(Ai),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:n}=P.useContext(Ai),{pathname:s}=Ur(),o=JSON.stringify(_p(n));return P.useMemo(()=>vp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return $0(r,e)}function $0(r,e,n,s,o){ht(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(si),{matches:h}=P.useContext(Ai),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";W0(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=Ur(),C;if(e){let ie=typeof e=="string"?jo(e):e;ht(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),C=ie}else C=w;let L=C.pathname||"/",G=L;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");G="/"+L.replace(/^\//,"").split("/").slice(ie.length).join("/")}let j=q0(r,{pathname:G});ri(T||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=tw(j&&j.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:xr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:xr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,s,o);return e&&ne?P.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},ne):ne}function WA(){let r=aw(),e=HA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var JA=P.createElement(WA,null),ZA=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(Ai.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:r,match:e,children:n}){let s=P.useContext(Bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ai.Provider,{value:r},n)}function tw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:C}=n,L=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:FA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let C,L=!1,G=null,j=null;n&&(C=h&&T.route.id?h[T.route.id]:void 0,G=T.route.errorElement||JA,m&&(p<0&&w===0?(W0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,j=null):p===w&&(L=!0,j=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),ie=()=>{let re;return C?re=G:L?re=j:T.route.Component?re=P.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,P.createElement(ew,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?P.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:G,error:C,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):ie()},null)}function Tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(r){let e=P.useContext(Bo);return ht(e,Tp(r)),e}function iw(r){let e=P.useContext(Yh);return ht(e,Tp(r)),e}function rw(r){let e=P.useContext(Ai);return ht(e,Tp(r)),e}function bp(r){let e=rw(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sw(){return bp("useRouteId")}function aw(){let r=P.useContext(Ep),e=iw("useRouteError"),n=bp("useRouteError");return r!==void 0?r:e.errors?.[n]}function ow(){let{router:r}=nw("useNavigate"),e=bp("useNavigate"),n=P.useRef(!1);return K0(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ri(n.current,Y0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var rE={};function W0(r,e,n){!e&&!rE[r]&&(rE[r]=!0,ri(!1,n))}P.memo(lw);function lw({routes:r,future:e,state:n,unstable_onError:s}){return $0(r,void 0,n,s,e)}function Vn({to:r,replace:e,state:n,relative:s}){ht(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(si);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Ai),{pathname:h}=Ur(),m=Ho(),p=vp(r,_p(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Rr(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=jo(n));let{pathname:g="/",search:E="",hash:T="",state:w=null,key:C="default"}=n,L=P.useMemo(()=>{let G=Or(g,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:w,key:C},navigationType:s}},[m,g,E,T,w,C,s]);return ri(L!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:P.createElement(si.Provider,{value:p},P.createElement(bu.Provider,{children:e,value:L}))}function cw({children:r,location:e}){return $A(Hm(r),e)}function Hm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Hm(s.props.children,u));return}ht(s.type===Rr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Hm(s.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function hw(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function fw(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function dw(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pw(r,e){return r.button===0&&(!e||e==="_self")&&!mw(r)}var rh=null;function gw(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!yw.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function _w(r,e){let n,s,o,u,h;if(fw(r)){let m=r.getAttribute("action");s=m?Or(m,e):null,n=r.getAttribute("method")||dh,o=Am(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(hw(r)||dw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!gw()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Or(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ew(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Ew(u,n);return h.links?h.links():[]}return[]}));return Rw(s.flat(1).filter(Tw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Sw(r,e,{includeHydrateFallback:n}={}){return Aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Aw(r){return[...new Set(r)]}function ww(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Rw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function J0(){let r=P.useContext(Bo);return Sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Cw(){let r=P.useContext(Yh);return Sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function Z0(){let r=P.useContext(Ap);return Sp(r,"You must render this element inside a <HydratedRouter> element"),r}function Iw(r,e){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=ne=>{ne.forEach(ie=>{h(ie.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),P.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let C=()=>{o(!0)},L=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(m,C),onBlur:$l(p,L),onMouseEnter:$l(g,C),onMouseLeave:$l(E,L),onTouchStart:$l(T,C)}]:[!1,w,{}]}function $l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function xw({page:r,...e}){let{router:n}=J0(),s=P.useMemo(()=>q0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(Nw,{page:r,matches:s,...e}):null}function Dw(r){let{manifest:e,routeModules:n}=Z0(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return bw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Nw({page:r,matches:e,...n}){let s=Ur(),{manifest:o,routeModules:u}=Z0(),{basename:h}=J0(),{loaderData:m,matches:p}=Cw(),g=P.useMemo(()=>sE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=P.useMemo(()=>sE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,G=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!g.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?G=!0:L.add(ne.route.id))}),L.size===0)return[];let j=vw(r,h,"data");return G&&L.size>0&&j.searchParams.set("_routes",e.filter(ne=>L.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,g,e,r,u]),w=P.useMemo(()=>Sw(E,o),[E,o]),C=Dw(E);return P.createElement(P.Fragment,null,T.map(L=>P.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),w.map(L=>P.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),C.map(({key:L,link:G})=>P.createElement("link",{key:L,nonce:n.nonce,...G})))}function Ow(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eT&&(window.__reactRouterVersion="7.10.0")}catch{}function Mw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=vA({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(uw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xh=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},C){let{basename:L,unstable_useTransitions:G}=P.useContext(si),j=typeof g=="string"&&tT.test(g),ne,ie=!1;if(typeof g=="string"&&j&&(ne=g,eT))try{let k=new URL(window.location.href),O=g.startsWith("//")?new URL(k.protocol+g):new URL(g),U=Or(O.pathname,L);O.origin===k.origin&&U!=null?g=U+O.search+O.hash:ie=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=KA(g,{relative:o}),[de,be,Te]=Iw(s,w),D=Pw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:G});function R(k){e&&e(k),k.defaultPrevented||D(k)}let I=P.createElement("a",{...w,...Te,href:ne||re,onClick:ie||u?e:R,ref:Ow(C,be),target:p,"data-discover":!j&&n==="render"?"true":void 0});return de&&!j?P.createElement(P.Fragment,null,I,P.createElement(xw,{page:re})):I});Xh.displayName="Link";var Vw=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Su(h,{relative:g.relative}),w=Ur(),C=P.useContext(Yh),{navigator:L,basename:G}=P.useContext(si),j=C!=null&&qw(T)&&m===!0,ne=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,ie=w.pathname,re=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&G&&(re=Or(re,G)||re);const de=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let be=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(de)==="/",Te=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),D={isActive:be,isPending:Te,isTransitioning:j},R=be?e:void 0,I;typeof s=="function"?I=s(D):I=[s,be?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return P.createElement(Xh,{...g,"aria-current":R,className:I,ref:E,style:k,to:h,viewTransition:m},typeof p=="function"?p(D):p)});Vw.displayName="NavLink";var kw=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},C)=>{let{unstable_useTransitions:L}=P.useContext(si),G=jw(),j=Bw(m,{relative:g}),ne=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&tT.test(m),re=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let be=de.nativeEvent.submitter,Te=be?.getAttribute("formmethod")||h,D=()=>G(be||de.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});L&&n!==!1?P.startTransition(()=>D()):D()};return P.createElement("form",{ref:C,method:ne,action:j,onSubmit:s?p:re,...w,"data-discover":!ie&&r==="render"?"true":void 0})});kw.displayName="Form";function Lw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(r){let e=P.useContext(Bo);return ht(e,Lw(r)),e}function Pw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let p=Ho(),g=Ur(),E=Su(r,{relative:u});return P.useCallback(T=>{if(pw(T,e)){T.preventDefault();let w=n!==void 0?n:uu(g)===uu(E),C=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h});m?P.startTransition(()=>C()):C()}},[g,p,E,n,s,e,r,o,u,h,m])}var Uw=0,zw=()=>`__${String(++Uw)}__`;function jw(){let{router:r}=nT("useSubmit"),{basename:e}=P.useContext(si),n=sw(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=_w(u,e);if(h.navigate===!1){let w=h.fetcherKey||zw();await s(w,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Bw(r,{relative:e}={}){let{basename:n}=P.useContext(si),s=P.useContext(Ai);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=Ur();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:xr([n,u.pathname])),uu(u)}function qw(r,{relative:e}={}){let n=P.useContext(Q0);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nT("useViewTransitionState"),o=Su(r,{relative:e});if(!n.isTransitioning)return!1;let u=Or(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const Hw=()=>{};var aE={};const iT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Fw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,C=g&63;p||(C=64,h||(w=64)),s.push(n[E],n[T],n[w],n[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Fw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Gw;const w=u<<2|m>>4;if(s.push(w),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qw=function(r){const e=iT(r);return rT.encodeByteArray(e,!0)},Rh=function(r){return Qw(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Yw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof aE>"u")return;const r=aE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$w=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return Hw()||Kw()||Xw()||$w()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>$h()?.emulatorHosts?.[r],oT=r=>{const e=aT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lT=()=>$h()?.config,uT=r=>$h()?.[`_${r}`];class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ra(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wp(r){return(await fetch(r,{credentials:"include"})).ok}function cT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const iu={};function Jw(){const r={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?r.emulator.push(e):r.prod.push(e);return r}function Zw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let oE=!1;function Rp(r,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||iu[r]===e||iu[r]||oE)return;iu[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Jw().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{oE=!0,h()},w}function E(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Zw(s),C=n("text"),L=document.getElementById(C)||document.createElement("span"),G=n("learnmore"),j=document.getElementById(G)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(j,G);const de=g();p(ie,ne),re.append(ie,L,j,de),document.body.appendChild(re)}u?(L.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function tR(){const r=$h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const uR="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?cR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Zi(o,m,s)}}function cR(r,e){return r.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(lE(u)&&lE(h)){if(!Ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lE(r){return r!==null&&typeof r=="object"}function wu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dR(r,e){const n=new mR(r,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function Yt(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ww;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===ga?void 0:r}function _R(r){return r.instantiationMode==="EAGER"}class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const ER={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},TR=Le.INFO,bR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},SR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AR=(r,e)=>e.some(n=>r instanceof n);let uE,cE;function wR(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,Fm=new WeakMap,fT=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function CR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&hT.set(n,r)}).catch(()=>{}),Ip.set(e,r),e}function IR(r){if(Fm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xR(r){Gm=r(Gm)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cm(this),e,...n);return fT.set(s,e.sort?e.sort():[e]),Rs(s)}:RR().includes(r)?function(...e){return r.apply(Cm(this),e),Rs(hT.get(this))}:function(...e){return Rs(r.apply(Cm(this),e))}}function NR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&IR(r),AR(r,wR())?new Proxy(r,Gm):r)}function Rs(r){if(r instanceof IDBRequest)return CR(r);if(Rm.has(r))return Rm.get(r);const e=NR(r);return e!==r&&(Rm.set(r,e),Ip.set(e,r)),e}const Cm=r=>Ip.get(r);function OR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Rs(h.result),p.oldVersion,p.newVersion,Rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],Im=new Map;function hE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,u),u}xR(r=>({...r,get:(e,n,s)=>hE(e,n)||r.get(e,n,s),has:(e,n)=>!!hE(e,n)||r.has(e,n)}));class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",fE="0.14.6";const Mr=new Cp("@firebase/app"),PR="@firebase/app-compat",UR="@firebase/analytics-compat",zR="@firebase/analytics",jR="@firebase/app-check-compat",BR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",KR="@firebase/functions-compat",XR="@firebase/installations",$R="@firebase/installations-compat",WR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.6.0";const Ym="[DEFAULT]",cC={[Qm]:"fire-core",[PR]:"fire-core-compat",[zR]:"fire-analytics",[UR]:"fire-analytics-compat",[BR]:"fire-app-check",[jR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[KR]:"fire-fn-compat",[XR]:"fire-iid",[$R]:"fire-iid-compat",[WR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};const Ch=new Map,hC=new Map,Km=new Map;function dE(r,e){try{r.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ta(r){const e=r.name;if(Km.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,r);for(const n of Ch.values())dE(n,r);for(const n of hC.values())dE(n,r);return!0}function Wh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Au("app","Firebase",fC);class dC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const Ca=uC;function dT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(n||(n=lT()),!n)throw Cs.create("no-options");const u=Ch.get(o);if(u){if(Ea(n,u.options)&&Ea(s,u.config))return u;throw Cs.create("duplicate-app",{appName:o})}const h=new vR(o);for(const p of Km.values())h.addComponent(p);const m=new dC(n,s,h);return Ch.set(o,m),m}function xp(r=Ym){const e=Ch.get(r);if(!e&&r===Ym&&lT())return dT();if(!e)throw Cs.create("no-app",{appName:r});return e}function Fi(r,e,n){let s=cC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(h.join(" "));return}Ta(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mC="firebase-heartbeat-database",pC=1,cu="firebase-heartbeat-store";let xm=null;function mT(){return xm||(xm=OR(mC,pC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),xm}async function gC(r){try{const n=(await mT()).transaction(cu),s=await n.objectStore(cu).get(pT(r));return await n.done,s}catch(e){if(e instanceof Zi)Mr.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function mE(r,e){try{const s=(await mT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,pT(r)),await s.done}catch(n){if(n instanceof Zi)Mr.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function pT(r){return`${r.name}!${r.options.appId}`}const yC=1024,_C=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_C){const o=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pE(),{heartbeatsToSend:n,unsentEntries:s}=EC(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mr.warn(e),""}}}function pE(){return new Date().toISOString().substring(0,10)}function EC(r,e=yC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),gE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),gE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gE(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function bC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function SC(r){Ta(new Ds("platform-logger",e=>new kR(e),"PRIVATE")),Ta(new Ds("heartbeat",e=>new vC(e),"PRIVATE")),Fi(Qm,fE,r),Fi(Qm,fE,"esm2020"),Fi("fire-js","")}SC("");var AC="firebase",wC="12.6.0";Fi(AC,wC,"app");function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RC=gT,yT=new Au("auth","Firebase",gT());const Ih=new Cp("@firebase/auth");function CC(r,...e){Ih.logLevel<=Le.WARN&&Ih.warn(`Auth (${Ca}): ${r}`,...e)}function ph(r,...e){Ih.logLevel<=Le.ERROR&&Ih.error(`Auth (${Ca}): ${r}`,...e)}function bi(r,...e){throw Dp(r,...e)}function Gi(r,...e){return Dp(r,...e)}function _T(r,e,n){const s={...RC(),[e]:n};return new Au("auth","Firebase",s).create(e,{appName:r.name})}function Dr(r){return _T(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return yT.create(r,...e)}function ve(r,e,...n){if(!r)throw Dp(e,...n)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ph(e),new Error(e)}function Vr(r,e){r||Cr(e)}function Xm(){return typeof self<"u"&&self.location?.href||""}function IC(){return yE()==="http:"||yE()==="https:"}function yE(){return typeof self<"u"&&self.location?.protocol||null}function xC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||iR()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||rR()}get(){return xC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Np(r,e){Vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class vT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MC=new Ru(3e4,6e4);function Ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Us(r,e,n,s,o={}){return ET(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=wu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return nR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ra(r.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(await TT(r,r.config.apiHost,n,m),g)})}async function ET(r,e,n){r._canInitEmulator=!1;const s={...NC,...e};try{const o=new kC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _T(r,E,g);bi(r,E)}}catch(o){if(o instanceof Zi)throw o;bi(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await Us(r,e,n,s,o);return"mfaPendingCredential"in u&&bi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function TT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return OC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function VC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),MC.get())})}}function sh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gi(r,e,s);return o.customData._tokenResponse=n,o}function _E(r){return r!==void 0&&r.enterprise!==void 0}class LC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PC(r,e){return Us(r,"GET","/v2/recaptchaConfig",Ps(r,e))}async function UC(r,e){return Us(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return Us(r,"POST","/v1/accounts:lookup",e)}function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zC(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=Op(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:ru(Dm(o.auth_time)),issuedAtTime:ru(Dm(o.iat)),expirationTime:ru(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(r){return Number(r)*1e3}function Op(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function vE(r){const e=Op(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&jC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class BC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(r){const e=r.auth,n=await r.getIdToken(),s=await hu(r,xh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?bT(o.providerUserInfo):[],h=HC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function qC(r){const e=Yt(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FC(r,e){const n=await ET(r,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await TT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ra(r.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GC(r,e){return Us(r,"POST","/v2/accounts:revokeToken",Ps(r,e))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=vE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function Es(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zC(this,e)}reload(){return qC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await hu(this,UC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:C,providerData:L,stsTokenManager:G}=n;ve(T&&G,e,"internal-error");const j=Co.fromJSON(this.name,G);ve(typeof T=="string",e,"internal-error"),Es(s,e.name),Es(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof C=="boolean",e,"internal-error"),Es(u,e.name),Es(h,e.name),Es(m,e.name),Es(p,e.name),Es(g,e.name),Es(E,e.name);const ne=new Ei({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(ne.providerData=L.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Co;o.updateFromServerResponse(n);const u=new Ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Co;m.updateFromIdToken(s);const p=new Ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const EE=new Map;function Ir(r){Vr(r instanceof Function,"Expected a class definition");let e=EE.get(r);return e?(Vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,EE.set(r,e),e)}class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ST.type="NONE";const TE=ST;function gh(r,e,n){return`firebase:${r}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(Ir(TE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ir(TE);const h=gh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await xh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await Ei._fromGetAccountInfoResponse(e,w,E)}else T=Ei._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Io(u,e,s))}}function bE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xT(e))return"Blackberry";if(DT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function AT(r=on()){return/firefox\//i.test(r)}function wT(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(r=on()){return/crios\//i.test(r)}function CT(r=on()){return/iemobile/i.test(r)}function IT(r=on()){return/android/i.test(r)}function xT(r=on()){return/blackberry/i.test(r)}function DT(r=on()){return/webos/i.test(r)}function Mp(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QC(r=on()){return Mp(r)&&!!window.navigator?.standalone}function YC(){return sR()&&document.documentMode===10}function NT(r=on()){return Mp(r)||IT(r)||DT(r)||xT(r)||/windows phone/i.test(r)||CT(r)}function OT(r,e=[]){let n;switch(r){case"Browser":n=bE(on());break;case"Worker":n=`${bE(on())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${s}`}class KC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XC(r,e={}){return Us(r,"GET","/v2/passwordPolicy",Ps(r,e))}const $C=6;class WC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class JC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new KC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Dr(this));const n=e?Yt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XC(this),n=new WC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ia(r){return Yt(r)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZC(r){Jh=r}function MT(r){return Jh.loadJS(r)}function eI(){return Jh.recaptchaEnterpriseScript}function tI(){return Jh.gapiScript}function nI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iI{constructor(){this.enterprise=new rI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sI="recaptcha-enterprise",VT="NO_RECAPTCHA";class aI{constructor(e){this.type=sI,this.auth=Ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{PC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new LC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(VT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&_E(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eI();p.length!==0&&(p+=m),MT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function AE(r,e,n,s=!1,o=!1){const u=new aI(r);let h;if(o)h=VT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await AE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await AE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function oI(r,e){const n=Wh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ea(u,e??{}))return o;bi(o,"already-initialized")}return n.initialize({options:e})}function lI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function uI(r,e,n){const s=Ia(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=kT(e),{host:h,port:m}=cI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ea(g,s.config.emulator)&&Ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ra(h)?(wp(`${u}//${h}${p}`),Rp("Auth",!0)):hI()}function kT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cI(r){const e=kT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:wE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:wE(h)}}}function wE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function fI(r,e){return Us(r,"POST","/v1/accounts:signUp",e)}async function dI(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",Ps(r,e))}async function mI(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}async function pI(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}class fu extends Vp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",dI);case"emailLink":return mI(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",fI);case"emailLink":return pI(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",Ps(r,e))}const gI="http://localhost";class ba extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ba(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}function yI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _I(r){const e=Wl(Jl(r)).link,n=e?Wl(Jl(e)).deep_link_id:null,s=Wl(Jl(r)).deep_link_id;return(s?Wl(Jl(s)).link:null)||s||n||e||r}class kp{constructor(e){const n=Wl(Jl(e)),s=n.apiKey??null,o=n.oobCode??null,u=yI(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_I(e);try{return new kp(n)}catch{return null}}}class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kp.parseLink(n);return ve(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends Iu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class bs extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ba._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class Ss extends Iu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class As extends Iu{constructor(){super("twitter.com")}static credential(e,n){return ba._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";async function vI(r,e){return Cu(r,"POST","/v1/accounts:signUp",Ps(r,e))}class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ei._fromIdTokenResponse(e,s,o),h=RE(s);return new Sa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=RE(s);return new Sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function RE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends Zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function PT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function EI(r,e,n=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Sa._forOperation(r,"link",s)}async function TI(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const u=await hu(r,PT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Op(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),Sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&bi(s,"user-mismatch"),u}}async function UT(r,e,n=!1){if(Ln(r.app))return Promise.reject(Dr(r));const s="signIn",o=await PT(r,s,e),u=await Sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function bI(r,e){return UT(Ia(r),e)}async function zT(r){const e=Ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SI(r,e,n){if(Ln(r.app))return Promise.reject(Dr(r));const s=Ia(r),h=await Wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zT(r),p}),m=await Sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function AI(r,e,n){return Ln(r.app)?Promise.reject(Dr(r)):bI(Yt(r),Fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&zT(r),s})}function wI(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function RI(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}const Oh="__sak";class jT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,II=10;class BT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);YC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const xI=BT;class qT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qT.type="SESSION";const HT=qT;function DI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await DI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];function Lp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class NI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Qi(){return window}function OI(r){Qi().location.href=r}function FT(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function MI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VI(){return navigator?.serviceWorker?.controller||null}function kI(){return FT()?self:null}const GT="firebaseLocalStorageDb",LI=1,Mh="firebaseLocalStorage",QT="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function PI(){const r=indexedDB.deleteDatabase(GT);return new xu(r).toPromise()}function Jm(){const r=indexedDB.open(GT,LI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:QT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await PI(),e(await Jm()))})})}async function CE(r,e,n){const s=ef(r,!0).put({[QT]:e,value:n});return new xu(s).toPromise()}async function UI(r,e){const n=ef(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function IE(r,e){const n=ef(r,!0).delete(e);return new xu(n).toPromise()}const zI=800,jI=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(kI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MI(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await CE(e,Oh,"1"),await IE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>CE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const BI=YT;new Ru(3e4,6e4);function qI(r,e){return e?Ir(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pp extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HI(r){return UT(r.auth,new Pp(r),r.bypassAuthState)}function FI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),TI(n,new Pp(r),r.bypassAuthState)}async function GI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),EI(n,new Pp(r),r.bypassAuthState)}class KT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:bi(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QI=new Ru(2e3,1e4);class Ro extends KT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QI.get())};e()}}Ro.currentPopupAction=null;const YI="pendingRedirect",yh=new Map;class KI extends KT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await XI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XI(r,e){const n=JI(e),s=WI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $I(r,e){yh.set(r._key(),e)}function WI(r){return Ir(r._redirectPersistence)}function JI(r){return gh(YI,r.config.apiKey,r.name)}async function ZI(r,e,n=!1){if(Ln(r.app))return Promise.reject(Dr(r));const s=Ia(r),o=qI(s,e),h=await new KI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const e2=600*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function XT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function n2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(r);default:return!1}}async function i2(r,e={}){return Us(r,"GET","/v1/projects",e)}const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function a2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await i2(r);for(const n of e)try{if(o2(n))return}catch{}bi(r,"unauthorized-domain")}function o2(r){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!s2.test(n))return!1;if(r2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const l2=new Ru(3e4,6e4);function DE(){const r=Qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function u2(r){return new Promise((e,n)=>{function s(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(Gi(r,"network-request-failed"))},timeout:l2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=nI("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(Gi(r,"network-request-failed"))},MT(`${tI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function c2(r){return _h=_h||u2(r),_h}const h2=new Ru(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Np(e,d2):`https://${r.config.authDomain}/${f2}`,s={apiKey:e.apiKey,appName:r.name,v:Ca},o=p2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function y2(r){const e=await c2(r),n=Qi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:g2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Gi(r,"network-request-failed"),m=Qi().setTimeout(()=>{u(h)},h2.get());function p(){Qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,E2=600,T2="_blank",b2="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(r,e,n,s=v2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={..._2,width:s.toString(),height:o.toString(),top:u,left:h},g=on().toLowerCase();n&&(m=RT(g)?T2:n),AT(g)&&(e=e||b2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[C,L])=>`${w}${C}=${L},`,"");if(QC(g)&&m!=="_self")return A2(e||"",m),new NE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new NE(T)}function A2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const w2="__/auth/handler",R2="emulator/auth/handler",C2=encodeURIComponent("fac");async function OE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ca,eventId:o};if(e instanceof LT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",fR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Iu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${C2}=${encodeURIComponent(p)}`:"";return`${I2(r)}?${wu(m).slice(1)}${g}`}function I2({config:r}){return r.emulator?Np(r,R2):`https://${r.authDomain}/${w2}`}const Nm="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=ZI,this._overrideRedirectResult=$I}async _openPopup(e,n,s,o){Vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await OE(e,n,s,Xm(),o);return S2(e,u,Lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OE(e,n,s,Xm(),o);return OI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y2(e),s=new t2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||wT()||Mp()}}const D2=x2;var ME="@firebase/auth",VE="1.11.1";class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(r){Ta(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(r)},g=new JC(s,o,u,p);return lI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ta(new Ds("auth-internal",e=>{const n=Ia(e.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(ME,VE,O2(r)),Fi(ME,VE,"esm2020")}const V2=300,k2=uT("authIdTokenMaxAge")||V2;let kE=null;const L2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>k2)return;const o=n?.token;kE!==o&&(kE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(r=xp()){const e=Wh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=oI(r,{popupRedirectResolver:D2,persistence:[BI,xI,HT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=L2(u.toString());RI(n,h,()=>h(n.currentUser)),wI(n,m=>h(m))}}const o=aT("auth");return o&&uI(n,`http://${o}`),n}function U2(){return document.getElementsByTagName("head")?.[0]??document}ZC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,$T;(function(){var r;function e(D,R){function I(){}I.prototype=R.prototype,D.F=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(k,O,U){for(var x=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)x[Je-2]=arguments[Je];return R.prototype[O].apply(k,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,I){I||(I=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)k[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],O=D.g[2];let U=D.g[3],x;x=R+(U^I&(O^U))+k[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[2]+606105819&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[6]+2821735955&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[10]+4294925233&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[14]+2792965006&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(O^U&(I^O))+k[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[11]+643717713&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[15]+3634488961&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[3]+4107603335&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[7]+1735328473&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(I^O^U)+k[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[11]+1839030562&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[7]+4139469664&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[3]+3572445317&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[15]+530742520&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(O^(I|~U))+k[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[14]+2878612391&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[10]+4293915773&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[6]+2734768916&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[2]+718787259&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,R){R===void 0&&(R=D.length);const I=R-this.blockSize,k=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=I;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(k[O++]=D.charCodeAt(U++),O==this.blockSize){o(this,k),O=0;break}}else for(;U<R;)if(k[O++]=D[U++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)D[R++]=this.g[I]>>>k&255;return D};function u(D,R){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function h(D,R){this.h=R;const I=[];let k=!0;for(let O=D.length-1;O>=0;O--){const U=D[O]|0;k&&U==R||(I[O]=U,k=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(R){return new h([R|0],R<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return j(g(-D));const R=[];let I=1;for(let k=0;D>=I;k++)R[k]=D/I|0,I*=4294967296;return new h(R,0)}function E(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return j(E(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let k=T;for(let U=0;U<D.length;U+=8){var O=Math.min(8,D.length-U);const x=parseInt(D.substring(U,U+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(x))):(k=k.j(I),k=k.add(g(x)))}return k}var T=p(0),w=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(G(this))return-j(this).m();let D=0,R=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);D+=(k>=0?k:4294967296+k)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(G(this))return"-"+j(this).toString(D);const R=g(Math.pow(D,6));var I=this;let k="";for(;;){const O=de(I,R).g;I=ne(I,O.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,L(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function G(D){return D.h==-1}r.l=function(D){return D=ne(this,D),G(D)?-1:L(D)?0:1};function j(D){const R=D.g.length,I=[];for(let k=0;k<R;k++)I[k]=~D.g[k];return new h(I,~D.h).add(w)}r.abs=function(){return G(this)?j(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),I=[];let k=0;for(let O=0;O<=R;O++){let U=k+(this.i(O)&65535)+(D.i(O)&65535),x=(U>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);k=x>>>16,U&=65535,x&=65535,I[O]=x<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ne(D,R){return D.add(j(R))}r.j=function(D){if(L(this)||L(D))return T;if(G(this))return G(D)?j(this).j(j(D)):j(j(this).j(D));if(G(D))return j(this.j(j(D)));if(this.l(C)<0&&D.l(C)<0)return g(this.m()*D.m());const R=this.g.length+D.g.length,I=[];for(var k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<D.g.length;O++){const U=this.i(k)>>>16,x=this.i(k)&65535,Je=D.i(O)>>>16,_t=D.i(O)&65535;I[2*k+2*O]+=x*_t,ie(I,2*k+2*O),I[2*k+2*O+1]+=U*_t,ie(I,2*k+2*O+1),I[2*k+2*O+1]+=x*Je,ie(I,2*k+2*O+1),I[2*k+2*O+2]+=U*Je,ie(I,2*k+2*O+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new h(I,0)};function ie(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function re(D,R){this.g=D,this.h=R}function de(D,R){if(L(R))throw Error("division by zero");if(L(D))return new re(T,T);if(G(D))return R=de(j(D),R),new re(j(R.g),j(R.h));if(G(R))return R=de(D,j(R)),new re(j(R.g),R.h);if(D.g.length>30){if(G(D)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,k=R;k.l(D)<=0;)I=be(I),k=be(k);var O=Te(I,1),U=Te(k,1);for(k=Te(k,2),I=Te(I,2);!L(k);){var x=U.add(k);x.l(D)<=0&&(O=O.add(I),U=x),k=Te(k,1),I=Te(I,1)}return R=ne(D,O.j(R)),new re(O,R)}for(O=T;D.l(R)>=0;){for(I=Math.max(1,Math.floor(D.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=g(I),x=U.j(R);G(x)||x.l(D)>0;)I-=k,U=g(I),x=U.j(R);L(U)&&(U=w),O=O.add(U),D=ne(D,x)}return new re(O,D)}r.B=function(D){return de(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)&D.i(k);return new h(I,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)|D.i(k);return new h(I,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)^D.i(k);return new h(I,this.h^D.h)};function be(D){const R=D.g.length+1,I=[];for(let k=0;k<R;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new h(I,D.h)}function Te(D,R){const I=R>>5;R%=32;const k=D.g.length-I,O=[];for(let U=0;U<k;U++)O[U]=R>0?D.i(U+I)>>>R|D.i(U+I+1)<<32-R:D.i(U+I);return new h(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$T=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Is=h}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WT,Zl,JT,vh,Zm,ZT,eb,tb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,B,Q){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[B].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function L(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const Q=B.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=B[ae]}else c.push(B)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new G(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Te=!1,D=new ie,R=()=>{const c=Promise.resolve(void 0);be=()=>{c.then(I)}};function I(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){j(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Te=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Je(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Je,O),Je.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Be(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Q=0;Q<J.length;Q++)v=J[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=Se(c,y,A,B);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new se(y,this.src,Q,!!A,B),y.fa=v,c.push(y)),y};function _e(c,y){const v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(A,B,1),Q&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return B}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ft={};function Ze(c,y,v,A,B){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ze(c,y[Q],v,A,B);return null}return v=rr(v),c&&c[_t]?c.J(y,v,m(A)?!!A.capture:!1,B):ai(c,y,v,!1,A,B)}function ai(c,y,v,A,B,Q){if(!y)throw Error("Invalid event type");const ae=m(B)?!!B.capture:!!B;let Ce=oi(c);if(Ce||(c[De]=Ce=new ue(c)),v=Ce.add(y,v,A,ae,Q),v.proxy)return v;if(A=tr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(bn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tr(){function c(v){return y.call(c.src,c.listener,v)}const y=nr;return c}function wi(c,y,v,A,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)wi(c,y[Q],v,A,B);else A=m(A)?!!A.capture:!!A,v=rr(v),c&&c[_t]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Se(y,v,A,B),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=oi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,B)),(v=c>-1?y[c]:null)&&zr(v))}function zr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])_e(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(bn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=oi(y))?(_e(v,c),v.h==0&&(v.src=null,y[De]=null)):me(c)}}}function bn(c){return c in ft?ft[c]:ft[c]="on"+c}function nr(c,y){if(c.da)c=!0;else{y=new Je(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&zr(c),c=v.call(A,y)}return c}function oi(c){return c=c[De],c instanceof ue?c:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function rr(c){return typeof c=="function"?c:(c[ir]||(c[ir]=function(y){return c.handleEvent(y)}),c[ir])}function dt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}T(dt,k),dt.prototype[_t]=!0,dt.prototype.removeEventListener=function(c,y,v,A){wi(this,c,y,v,A)};function mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var B=y;y=new O(A,c),oe(y,B)}B=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],B=Sn(Q,A,!0,y)&&B;if(Q=y.g=c,B=Sn(Q,A,!0,y)&&B,B=Sn(Q,A,!1,y)&&B,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],B=Sn(Q,A,!1,y)&&B}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},dt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},dt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Sn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,At=ae.ha||ae.src;ae.fa&&_e(c.i,ae),B=Ce.call(At,A)!==!1&&B}}return B&&!A.defaultPrevented}function jr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function qs(c){c.g=jr(()=>{c.g=null,c.i&&(c.i=!1,qs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ut extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){k.call(this),this.h=c,this.g={}}T(li,k);var sr=[];function Br(c){Me(c.g,function(y,v){this.g.hasOwnProperty(v)&&zr(y)},c),c.g={}}li.prototype.N=function(){li.Z.N.call(this),Br(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=h.JSON.stringify,Na=h.JSON.parse,Hs=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Fs(){}function Gs(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}T(zt,O);function cn(){O.call(this,"c")}T(cn,O);var pt={},Oa=null;function qr(){return Oa=Oa||new dt}pt.Ia="serverreachability";function Ma(c){O.call(this,pt.Ia,c)}T(Ma,O);function zn(c){const y=qr();mt(y,new Ma(y))}pt.STAT_EVENT="statevent";function ar(c,y){O.call(this,pt.STAT_EVENT,c),this.stat=y}T(ar,O);function vt(c){const y=qr();mt(y,new ar(y,c))}pt.Ja="timingevent";function jn(c,y){O.call(this,pt.Ja,c),this.size=y}T(jn,O);function Bn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.ua=function(){this.g=!1};function $o(c,y,v,A,B,Q){c.info(function(){if(c.g)if(Q){var ae="",Ce=Q.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var At=Ce[Qe].split("=");if(At.length>1){const ut=At[0];At=At[1];const Yn=ut.split("_");ae=Yn.length>=2&&Yn[1]=="type"?ae+(ut+"="+At+"&"):ae+(ut+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function Va(c,y,v,A,B,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ae})}function qn(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+qe(c,v)+(A?" "+A:"")})}function K(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function qe(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Un(Q)}catch{return y}}var Ge={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Et={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hn;function or(){}T(or,Fs),or.prototype.g=function(){return new XMLHttpRequest},hn=new or;function Hn(c){return encodeURIComponent(String(c))}function Lu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function ui(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Ri(c,y,v){c.M=1,c.A=Qs(Dt(y)),c.u=v,c.R=!0,ka(c,null)}function ka(c,y){c.F=Date.now(),Ci(c),c.B=Dt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),za(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ci,c.g=Wu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Ut(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(sr[0]=B.toString()),B=sr);for(let Q=0;Q<B.length;Q++){const ae=Ze(v,B[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),zn(),$o(c.i,c.v,c.B,c.l,c.S,c.u)}ui.prototype.ba=function(c){c=c.target;const y=this.O;y&&di(c)==3?y.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=di(this.g),At=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||At==7||(At==8||Qe<=0?zn(3):zn(2)),Ii(this);var y=this.g.ca();this.X=y;var v=Sf(this);if(this.o=y==200,Va(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var Q=A;break t}}Q=null}if(c=Q)qn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,vt(12),wn(this),Fn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Uu(this,v),ut==Ht){Ce==4&&(this.m=4,vt(14),c=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==It){this.m=4,vt(15),qn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else qn(this.i,this.l,ut,null),xi(this,ut);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)qn(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),hl(ae),ae.P=!0,vt(11))}}else qn(this.i,this.l,v,null),xi(this,v);Ce==4&&wn(this),this.o&&!this.K&&(Ce==4?Yu(this.j,this):(this.o=!1,Ci(this)))}else ur(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),wn(this),Fn(this)}}}catch{}finally{}};function Sf(c){if(!Pu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let v="";const A=y.length,B=di(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return wn(c),Fn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(B&&Q==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ht:(v=Number(y.substring(v,A)),isNaN(v)?It:(A+=1,A+v>y.length?Ht:(y=y.slice(A,A+v),c.C=A+v,y)))}ui.prototype.cancel=function(){this.K=!0,wn(this)};function Ci(c){c.T=Date.now()+c.H,La(c,c.H)}function La(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Bn(g(c.aa,c),y)}function Ii(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ui.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(K(this.i,this.B),this.M!=2&&(zn(),vt(17)),wn(this),this.m=2,Fn(this)):La(this,this.T-c)};function Fn(c){c.j.I==0||c.K||Yu(c.j,c)}function wn(c){Ii(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Br(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ni(v.h,c))){if(!c.L&&Ni(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Fa(v),$r(v);else break e;Zs(v),vt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Bn(g(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((c.L||v.g==c)&&Fa(v),!x(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Qe=B[y];const ut=Qe[0];if(!(ut<=v.K))if(v.K=ut,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Yn=Qe[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=Qe[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const mi=Qe[5];mi!=null&&typeof mi=="number"&&mi>0&&(A=1.5*mi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const pi=c.g;if(pi){const ea=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var Q=A.h;Q.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zo(Q,Q.h),Q.h=null))}if(A.G){const Ga=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(A.wa=Ga,Xe(A.J,A.G,Ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=$u(A,A.L?A.ba:null,A.W),ae.L){el(A.h,ae);var Ce=ae,At=A.O;At&&(Ce.H=At),Ce.D&&(Ii(Ce),Ci(Ce)),A.g=ae}else Gu(A);v.i.length>0&&Li(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Pi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Pi(v,7):ul(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}zn(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Wo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Di(c){return c.h?1:c.g?c.g.size:0}function Ni(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zo(c,y){c.g?c.g.add(y):c.h=y}function el(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return C(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let B,Q=null;A>=0?(B=c[v].substring(0,A),Q=c[v].substring(A+1)):B=c[v],y(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Rn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Rn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Hr(this,c.u),this.h=c.h,nl(this,Hu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Oi(y[2]||""),this.g=Oi(y[3]||"",!0),Hr(this,y[4]),this.h=Oi(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=Oi(y[7]||"")):(this.l=!1,this.i=new Gr(null,this.l))}Rn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ys(y,Ua,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ys(y,Ua,!0),"@"),c.push(Hn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ys(v,v.charAt(0)=="/"?il:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ys(v,Bu)),c.join("")},Rn.prototype.resolve=function(c){const y=Dt(this);let v=!!c.j;v?Ft(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Hr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let ae=0;ae<B.length;){const Ce=B[ae++];Ce=="."?A&&ae==B.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==B.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=B}return v?y.h=A:v=c.i.toString()!=="",v?nl(y,Hu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Dt(c){return new Rn(c)}function Ft(c,y,v){c.j=v?Oi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function nl(c,y,v){y instanceof Gr?(c.i=y,ja(c.i,c.l)):(v||(y=Ys(y,Fr)),c.i=new Gr(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function Qs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Oi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,ju=/[#\?:]/g,il=/[#\?]/g,Fr=/[#\?@]/g,Bu=/#/g;function Gr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Gr.prototype,r.add=function(c,y){dn(this),this.i=null,c=Qr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function qu(c,y){dn(c),y=Qr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function rl(c,y){return dn(c),y=Qr(c,y),c.g.has(y)}r.forEach=function(c,y){dn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)};function sl(c,y){dn(c);let v=[];if(typeof y=="string")rl(c,y)&&(v=v.concat(c.g.get(Qr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return dn(this),this.i=null,c=Qr(this,c),rl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=sl(this,c),c.length>0?String(c[0]):y):y};function za(c,y,v){qu(c,y),v.length>0&&(c.i=null,c.g.set(Qr(c,y),C(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const B=Hn(v);v=sl(this,v);for(let Q=0;Q<v.length;Q++){let ae=B;v[Q]!==""&&(ae+="="+Hn(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Hu(c){const y=new Gr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Qr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ja(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const B=A.toLowerCase();A!=B&&(qu(this,A),za(this,B,v))},c)),c.j=y}function hi(c,y){const v=new An;if(h.Image){const A=new Image;A.onload=E(Gn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Gn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Gn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Gn,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function al(c,y){const v=new An,A=new AbortController,B=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(B),Q.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function Yr(){this.g=new Hs}function Mi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Mi,Fs),Mi.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(c,y){dt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ks,dt),r=Ks.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,fi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Kr(this):fi(this),this.readyState==3&&Ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Kr(this))},r.Na=function(c){this.g&&(this.response=c,Kr(this))},r.ga=function(){this.g&&Kr(this)};function Kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,fi(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qn(c){let y="";return Me(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Xs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Qn(v),typeof c=="string"?v!=null&&Hn(v):Xe(c,y,v))}function et(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,dt);var Vi=/^https?$/i,ol=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hn.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){$s(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){$s(this,Q)}};function $s(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ll(c),lr(c)}function ll(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,mt(this,"complete"),mt(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ws(this):this.Xa())},r.Xa=function(){Ws(this)};function Ws(c){if(c.h&&typeof u<"u"){if(c.v&&di(c)==4)setTimeout(c.Ca.bind(c),0);else if(mt(c,"readystatechange"),di(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let ae=String(c.D).match(zu)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!Vi.test(ae?ae.toLowerCase():"")}v=A}if(v)mt(c,"complete"),mt(c,"success");else{c.o=6;try{var B=di(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",ll(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(c){return c.g?c.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Na(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(c){const y={};c=(c.g&&di(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var v=Lu(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}Be(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Xr(c){this.za=0,this.i=[],this.j=new An,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Ba=new Yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=$u(this,null,this.W),Li(this)};function ul(c){if(qa(c),c.I==3){var y=c.V++,v=Dt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Js(c,v),y=new ui(c,c.j,y),y.M=2,y.A=Qs(Dt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ci(y)}Xu(c)}function $r(c){c.g&&(hl(c),c.g.cancel(),c.g=null)}function qa(c){$r(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Li(c){if(!Jo(c.h)&&!c.m){c.m=!0;var y=c.Ea;be||R(),Te||(be(),Te=!0),D.add(y,c),c.D=0}}function Ha(c,y){return Di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Bn(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new ui(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Fu(this,B,y),v=Dt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Js(this,v),Q&&(this.R?y="headers="+Hn(Qn(Q))+"&"+y:this.u&&Xs(v,this.u,Q)),Zo(this.h,B),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),B.U=!0,Ri(B,v,null)):Ri(B,v,y),this.I=2}}else this.I==3&&(c?cl(this,c):this.i.length==0||Jo(this.h)||cl(this))};function cl(c,y){var v;y?v=y.l:v=c.V++;const A=Dt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Js(c,A),c.u&&c.o&&Xs(A,c.u,c.o),v=new ui(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Zo(c.h,v),Ri(v,A,y)}function Js(c,y){c.H&&Me(c.H,function(v,A){Xe(y,A,v)}),c.l&&Me({},function(v,A){Xe(y,A,v)})}function Fu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Ce=-1;for(;;){const At=["count="+v];Ce==-1?v>0?(Ce=B[0].g,At.push("ofs="+Ce)):Ce=0:At.push("ofs="+Ce);let Qe=!0;for(let ut=0;ut<v;ut++){var Q=B[ut].g;const Yn=B[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,B[ut].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ae=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,mi]of ae){let pi=mi;m(mi)&&(pi=Un(mi)),At.push(Q+Ui+"="+encodeURIComponent(pi))}}catch(Ui){throw At.push(Q+"type="+encodeURIComponent("_badmap")),Ui}}catch{A&&A(Yn)}}if(Qe){ae=At.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;be||R(),Te||(be(),Te=!0),D.add(y,c),c.A=0}}function Zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Bn(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Bn(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),$r(this),Qu(this))};function hl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new ui(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Dt(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Js(c,y),c.u&&c.o&&Xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Qs(Dt(y)),v.u=null,v.R=!0,ka(v,c)}r.Va=function(){this.C!=null&&(this.C=null,$r(this),Zs(this),vt(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){Fa(c),hl(c),c.g=null;var A=2}else if(Ni(c.h,y))v=y.G,el(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=qr(),mt(A,new jn(A,v)),Li(c)}else Gu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Ha(c,y)||A==2&&Zs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const B=!A;A=new Rn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(A,"https"),Qs(A),B?hi(A.toString(),v):al(A.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),qa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=tl(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,v){var A=v instanceof Rn?Dt(v):new Rn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Hr(A,A.u);else{var B=h.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Q=new Rn(null);A&&Ft(Q,A),y&&(Q.g=y),B&&Hr(Q,B),v&&(Q.h=v),A=Q}return v=c.G,y=c.wa,v&&y&&Xe(A,v,y),Xe(A,"VER",c.ka),Js(c,A),A}function Wu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Mi({ab:v})):new et(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wr(){}Wr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){dt.call(this),this.g=new Xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}T(ln,dt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Un(c),c=v);y.i.push(new xt(y.Ya++,c)),y.I==3&&Li(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.Z.N.call(this)};function Zu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Zu,zt);function ec(){cn.call(this),this.status=1}T(ec,cn);function cr(c){this.g=c}T(cr,Ju),cr.prototype.ra=function(){mt(this.g,"a")},cr.prototype.qa=function(c){mt(this.g,new Zu(c))},cr.prototype.pa=function(c){mt(this.g,new ec)},cr.prototype.oa=function(){mt(this.g,"b")},Wr.prototype.createWebChannel=Wr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,tb=function(){return new Wr},eb=function(){return qr()},ZT=pt,Zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,vh=Ge,Et.COMPLETE="complete",JT=Et,Gs.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Zl=Gs,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,WT=et}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",UE="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Go="12.3.0";const Aa=new Cp("@firebase/firestore");function bo(){return Aa.logLevel}function ce(r,...e){if(Aa.logLevel<=Le.DEBUG){const n=e.map(Up);Aa.debug(`Firestore (${Go}): ${r}`,...n)}}function kr(r,...e){if(Aa.logLevel<=Le.ERROR){const n=e.map(Up);Aa.error(`Firestore (${Go}): ${r}`,...n)}}function Vo(r,...e){if(Aa.logLevel<=Le.WARN){const n=e.map(Up);Aa.warn(`Firestore (${Go}): ${r}`,...n)}}function Up(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nb(r,s,n)}function nb(r,e,n){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw kr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||nb(e,o,s)}function Re(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ib{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Nr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new ib(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class q2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=G2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function ep(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Om(o)===Om(u)?Pe(o,u):Om(o)?1:-1}return Pe(r.length,e.length)}const Q2=55296,Y2=57343;function Om(r){const e=r.charCodeAt(0);return e>=Q2&&e<=Y2}function ko(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const jE="__name__";class Hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Hi.isNumericId(e),o=Hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class st extends Hi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return K2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new en([jE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}function rb(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X2(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function BE(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qE(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Tn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Du(r,e){if(!sb(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const HE=-62135596800,FE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*FE);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HE)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-HE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const du=-1;function $2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Ns(o,ge.empty(),e)}function W2(r){return new Ns(r.readTime,r.key,du)}class Ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ns(Ae.min(),ge.empty(),du)}static max(){return new Ns(Ae.max(),ge.empty(),du)}}function J2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Z2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function tx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(r){return r.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const jp=-1;function rf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function nx(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ab="";function ix(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=GE(e)),e=rx(r.get(n),e);return GE(e)}function rx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ab:n+="";break;default:n+=u}}return n}function GE(r){return r+ab+""}function QE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ob(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Bt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lb("Invalid base64 string: "+u):u}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=sx.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const ub="server_timestamp",cb="__type__",hb="__previous_value__",fb="__local_write_time__";function Bp(r){return(r?.mapValue?.fields||{})[cb]?.stringValue===ub}function sf(r){const e=r.mapValue.fields[hb];return Bp(e)?sf(e):e}function mu(r){const e=Os(r.mapValue.fields[fb].timestampValue);return new lt(e.seconds,e.nanos)}class ax{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}const db="__type__",ox="__max__",lh={mapValue:{}},mb="__vector__",Lh="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:ux(r)?9007199254740991:lx(r)?10:11:Ee(28295,{value:r})}function Wi(r,e){if(r===e)return!0;const n=Vs(r);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Os(o.timestampValue),m=Os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ms(o.bytesValue).isEqual(Ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ct(o.doubleValue),m=Ct(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(QE(h)!==QE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Wi(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function gu(r,e){return(r.values||[]).find((n=>Wi(n,e)))!==void 0}function Lo(r,e){if(r===e)return 0;const n=Vs(r),s=Vs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Ct(u.integerValue||u.doubleValue),p=Ct(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return KE(r.timestampValue,e.timestampValue);case 4:return KE(mu(r),mu(e));case 5:return ep(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ms(u),p=Ms(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(Ct(u.latitude),Ct(h.latitude));return m!==0?m:Pe(Ct(u.longitude),Ct(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return XE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Lh]?.arrayValue,E=p[Lh]?.arrayValue,T=Pe(g?.values?.length||0,E?.values?.length||0);return T!==0?T:XE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=ep(p[T],E[T]);if(w!==0)return w;const C=Lo(m[p[T]],g[E[T]]);if(C!==0)return C}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function KE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Os(r),s=Os(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function XE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Lo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Po(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${tp(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Eh(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return zs(s.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function $E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function np(r){return!!r&&"integerValue"in r}function qp(r){return!!r&&"arrayValue"in r}function WE(r){return!!r&&"nullValue"in r}function JE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function lx(r){return(r?.mapValue?.fields||{})[db]?.stringValue===mb}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function ux(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=su(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(su(this.value))}}function pb(r){const e=[];return zs(r.fields,((n,s)=>{const o=new en([n]);if(Th(s)){const u=pb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Pn(e)}class an{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function ZE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=Lo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function e0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Wi(r.position[n],e.position[n]))return!1;return!0}class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function cx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class gb{}class Lt extends gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fx(e,n,s):n==="array-contains"?new px(e,s):n==="in"?new gx(e,s):n==="not-in"?new yx(e,s):n==="array-contains-any"?new _x(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dx(e,s):new mx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Si(e,n)}matches(e){return yb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yb(r){return r.op==="and"}function _b(r){return hx(r)&&yb(r)}function hx(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function ip(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+Po(r.value);if(_b(r))return r.filters.map((e=>ip(e))).join(",");{const e=r.filters.map((n=>ip(n))).join(",");return`${r.op}(${e})`}}function vb(r,e){return r instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Wi(s.value,o.value)})(r,e):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&vb(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function Eb(r){return r instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(r):r instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(Eb).join(" ,")+"}"})(r):"Filter"}class fx extends Lt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class dx extends Lt{constructor(e,n){super(e,"in",n),this.keys=Tb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mx extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Tb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Tb(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class px extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&gu(n.arrayValue,this.value)}}class gx extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class yx extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class _x extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}class vx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function t0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new vx(r,e,n,s,o,u,h)}function Hp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Po(s))).join(",")),e.Te=n}return e.Te}function Fp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!cx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!e0(r.startAt,e.startAt)&&e0(r.endAt,e.endAt)}function rp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ko{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ex(r,e,n,s,o,u,h,m){return new Ko(r,e,n,s,o,u,h,m)}function af(r){return new Ko(r)}function n0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bb(r){return r.collectionGroup!==null}function au(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(en.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new yu(en.keyField(),s))}return e.Ie}function Yi(r){const e=Re(r);return e.Ee||(e.Ee=Tx(e,au(r))),e.Ee}function Tx(r,e){if(r.limitType==="F")return t0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)}));const n=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return t0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function sp(r,e){const n=r.filters.concat([e]);return new Ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ap(r,e,n){return new Ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function of(r,e){return Fp(Yi(r),Yi(e))&&r.limitType===e.limitType}function Sb(r){return`${Hp(Yi(r))}|lt:${r.limitType}`}function So(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Eb(o))).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${s})`})(Yi(r))}; limitType=${r.limitType})`}function lf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=ZE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,au(s),o)||s.endAt&&!(function(h,m,p){const g=ZE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,au(s),o))})(r,e)}function bx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ab(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=Sx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Sx(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Lo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}const Ax=new yt(ge.comparator);function Lr(){return Ax}const wb=new yt(ge.comparator);function eu(...r){let e=wb;for(const n of r)e=e.insert(n.key,n);return e}function Rb(r){let e=wb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ya(){return ou()}function Cb(){return ou()}function ou(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wx=new yt(ge.comparator),Rx=new Bt(ge.comparator);function Ue(...r){let e=Rx;for(const n of r)e=e.add(n);return e}const Cx=new Bt(Pe);function Ix(){return Cx}function Gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Ib(r){return{integerValue:""+r}}function xx(r,e){return nx(e)?Ib(e):Gp(r,e)}class uf{constructor(){this._=void 0}}function Dx(r,e,n){return r instanceof _u?(function(o,u){const h={fields:{[cb]:{stringValue:ub},[fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=sf(u)),u&&(h.fields[hb]=u),{mapValue:h}})(n,e):r instanceof vu?Db(r,e):r instanceof Eu?Nb(r,e):(function(o,u){const h=xb(o,u),m=i0(h)+i0(o.Ae);return np(h)&&np(o.Ae)?Ib(m):Gp(o.serializer,m)})(r,e)}function Nx(r,e,n){return r instanceof vu?Db(r,e):r instanceof Eu?Nb(r,e):n}function xb(r,e){return r instanceof Uh?(function(s){return np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class _u extends uf{}class vu extends uf{constructor(e){super(),this.elements=e}}function Db(r,e){const n=Ob(e);for(const s of r.elements)n.some((o=>Wi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Eu extends uf{constructor(e){super(),this.elements=e}}function Nb(r,e){let n=Ob(e);for(const s of r.elements)n=n.filter((o=>!Wi(o,s)));return{arrayValue:{values:n}}}class Uh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function i0(r){return Ct(r.integerValue||r.doubleValue)}function Ob(r){return qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ox{constructor(e,n){this.field=e,this.transform=n}}function Mx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof vu&&o instanceof vu||s instanceof Eu&&o instanceof Eu?ko(s.elements,o.elements,Wi):s instanceof Uh&&o instanceof Uh?Wi(s.Ae,o.Ae):s instanceof _u&&o instanceof _u})(r.transform,e.transform)}class Vx{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function Mb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qp(r.key,ii.none()):new Nu(r.key,r.data,ii.none());{const n=r.data,s=En.empty();let o=new Bt(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new js(r.key,s,new Pn(o.toArray()),ii.none())}}function kx(r,e,n){r instanceof Nu?(function(o,u,h){const m=o.value.clone(),p=s0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof js?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=s0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Vb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Nu?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),E=a0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof js?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=a0(u.fieldTransforms,p,h),E=h.data;return E.setAll(Vb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function Lx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=xb(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function r0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,h)=>Mx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function s0(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Nx(h,m,n[o]))}return s}function a0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,Dx(u,h,e))}return s}class Qp extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Cb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Mb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,s)=>r0(n,s)))&&ko(this.baseMutations,e.baseMutations,((n,s)=>r0(n,s)))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,n,s,o)}}class zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jx{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,je;function Bx(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function kb(r){if(r===void 0)return kr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=kt||(kt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function qx(){return new TextEncoder}const Hx=new Is([4294967295,4294967295],0);function o0(r){const e=qx().encode(r),n=new $T;return n.update(e),new Uint8Array(n.digest())}function l0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Is([n,s],0),new Is([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Is.fromNumber(s)));return o.compare(Hx)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=o0(e),[s,o]=l0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Kp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=o0(e),[s,o]=l0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(Ae.min(),o,new yt(Pe),Lr(),Ue())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Ue(),Ue(),Ue())}}class Sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Lb{constructor(e,n){this.targetId=e,this.Ce=n}}class Pb{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class u0{constructor(){this.ve=0,this.Fe=c0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=c0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=uh(),this.He=uh(),this.Ye=new yt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(rp(u))if(s===0){const h=new ge(u.path);this.et(n,h,an.newNoDocument(h,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ms(s).toUint8Array()}catch(p){if(p instanceof lb)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,o,u)}catch(p){return Vo(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&rp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,an.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new hf(e,n,this.Ye,this.je,s);return this.je=Lr(),this.Je=uh(),this.He=uh(),this.Ye=new yt(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new u0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new yt(ge.comparator)}function c0(){return new yt(ge.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yx={and:"AND",or:"OR"};class Kx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ub(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Xx(r,e){return zh(r,e.toTimestamp())}function Ki(r){return Ke(!!r,49232),Ae.fromTimestamp((function(n){const s=Os(n);return new lt(s.seconds,s.nanos)})(r))}function Xp(r,e){return lp(r,e).canonicalString()}function lp(r,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function zb(r){const e=st.fromString(r);return Ke(Fb(e),10190,{key:e.toString()}),e}function up(r,e){return Xp(r.databaseId,e.path)}function Mm(r,e){const n=zb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Bb(n))}function jb(r,e){return Xp(r.databaseId,e)}function $x(r){const e=zb(r);return e.length===4?st.emptyPath():Bb(e)}function cp(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Bb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function h0(r,e,n){return{name:up(r,e),fields:n.value.mapValue.fields}}function Wx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:kb(g.code);return new le(E,g.message||"")})(h);n=new Pb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(r,s.document.name),u=Ki(s.document.updateTime),h=s.document.createTime?Ki(s.document.createTime):Ae.min(),m=new En({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(r,s.document),u=s.readTime?Ki(s.readTime):Ae.min(),h=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new jx(o,u),m=s.targetId;n=new Lb(m,h)}}return n}function Jx(r,e){let n;if(e instanceof Nu)n={update:h0(r,e.key,e.value)};else if(e instanceof Qp)n={delete:up(r,e.key)};else if(e instanceof js)n={update:h0(r,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof Px))return Ee(16599,{Vt:e.type});n={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof _u)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function Zx(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Ki(o.updateTime):Ki(u);return h.isEqual(Ae.min())&&(h=Ki(u)),new Vx(h,o.transformResults||[])})(n,e)))):[]}function eD(r,e){return{documents:[jb(r,e.path)]}}function tD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jb(r,o);const u=(function(g){if(g.length!==0)return Hb(Si.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:Ao(w.field),direction:rD(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=op(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function nD(r){let e=$x(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=qb(T);return w instanceof Si&&_b(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(L){return new yu(wo(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,rf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,C=T.values||[];return new Ph(C,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,C=T.values||[];return new Ph(C,w)})(n.endAt)),Ex(e,o,h,u,m,"F",p,g)}function iD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Lt.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>qb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function rD(r){return Gx[r]}function sD(r){return Qx[r]}function aD(r){return Yx[r]}function Ao(r){return{fieldPath:r.canonicalString()}}function wo(r){return en.fromServerFormat(r.fieldPath)}function Hb(r){return r instanceof Lt?(function(n){if(n.op==="=="){if(JE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(WE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(WE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:sD(n.op),value:n.value}}})(r):r instanceof Si?(function(n){const s=n.getFilters().map((o=>Hb(o)));return s.length===1?s[0]:{compositeFilter:{op:aD(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function oD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ws{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lD{constructor(e){this.yt=e}}function uD(r){const e=nD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ap(e,e.limit,"L"):e}class cD{constructor(){this.Cn=new hD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ns.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(st.comparator)).toArray()}}const f0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Gb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const d0="LruGarbageCollector",fD=1048576;function m0([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class dD{constructor(e){this.Ir=e,this.buffer=new Bt(m0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();m0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(d0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ce(d0,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)}))}}class pD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(nf.ce);const s=new dD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(f0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),bo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gD(r,e){return new pD(r,e)}class yD{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,Pn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=eu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Lr();const h=ou(),m=(function(){return ou()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),lu(E.mutation,g,E.mutation.getFieldMask(),lt.now())):h.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new _D(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new yt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Pn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Cb();E.forEach((w=>{if(!u.has(w)){const C=Mb(n.get(w),s.get(w));C!==null&&T.set(w,C),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ya());let m=du,p=u;return h.next((g=>te.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((E=>({batchId:m,changes:Rb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=eu();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,w){return new Ko(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,an.newInvalidDocument(E)))}));let m=eu();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&lu(E.mutation,g,Pn.empty(),lt.now()),lf(n,g)&&(m=m.insert(p,g))})),m}))}}class ED{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:uD(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),te.resolve()}}class TD{constructor(){this.overlays=new yt(ge.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ya();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ya(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new yt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ya(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zx(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class bD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class $p{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new st([])),s=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new st([])),s=new Qt(n,e),o=new Qt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ux(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?jp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Pe);return n.forEach((o=>{const u=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Qt(new ge(u),0);let m=new Bt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AD{constructor(e){this.ri=e,this.docs=(function(){return new yt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=Lr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Lr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||J2(W2(E),s)<=0||(o.has(E.key)||lf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new wD(this)}getSize(e){return te.resolve(this.size)}}class wD extends yD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class RD{constructor(e){this.persistence=e,this.si=new xa((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Qb{constructor(e,n){this.ui={},this.overlays={},this.ci=new nf(0),this.li=!1,this.li=!0,this.hi=new bD,this.referenceDelegate=e(this),this.Pi=new RD(this),this.indexManager=new cD,this.remoteDocumentCache=(function(o){return new AD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lD(n),this.Ii=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new SD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new CD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class CD extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new $p,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new xa((s=>ix(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gD(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,n.fromCache,s,o)}}class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:tx(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ID;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(bo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(bo()<=Le.DEBUG&&ce("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):te.resolve())}ys(e,n){if(n0(n))return te.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ap(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,ap(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return n0(n)||o.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?te.resolve(null):(bo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(e,h,n,$2(o,du)).next((m=>m)))}))}Ds(e,n){let s=new Bt(Ab(e));return n.forEach(((o,u)=>{lf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return bo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(e,n,Ns.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Zp="LocalStore",DD=3e8;class ND{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(Pe),this.xs=new xa((u=>Hp(u)),Fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function OD(r,e,n,s){return new ND(r,e,n,s)}async function Yb(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function MD(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let C=te.resolve();return w.forEach((L=>{C=C.next((()=>E.getEntry(p,L))).next((G=>{const j=g.docVersions.get(L);Ke(j!==null,48541),G.version.compareTo(j)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Kb(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VD(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(tn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(T,C),(function(G,j,ne){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=DD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,C,E)&&m.push(n.Pi.updateTargetData(u,C))}));let p=Lr(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function kD(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Lr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function LD(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PD(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ws(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hp(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Yo(h))throw h;ce(Zp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function p0(r,e,n){const s=Re(r);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Re(p),w=T.xs.get(E);return w!==void 0?te.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Ue()))).next((m=>(UD(s,bx(e),m),{documents:m,Qs:u})))))}function UD(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class g0{constructor(){this.activeTargetIds=Ix()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.Mo=new g0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jD{Oo(e){}shutdown(){}}const y0="ConnectivityMonitor";class _0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function fp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const Vm="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=fp(),m=this.zo(e,n.toUriEncodedString());ce(Vm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ra(g);return this.Jo(e,m,p,s,E).then((T=>(ce(Vm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Vo(Vm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=BD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class HD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class FD extends qD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=fp();return new Promise(((m,p)=>{const g=new WT;g.setWithCredentials(!0),g.listenOnce(JT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();ce(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:ce(rn,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const w=g.getStatus();if(ce(rn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const G=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(L.status);p(new le(G,L.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(rn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(rn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=fp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tb(),m=eb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,C=!1;const L=new HD({Yo:j=>{C?ce(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(ce(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(rn,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),G=(j,ne,ie)=>{j.listen(ne,(re=>{try{ie(re)}catch(de){setTimeout((()=>{throw de}),0)}}))};return G(T,Zl.EventType.OPEN,(()=>{C||(ce(rn,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),G(T,Zl.EventType.CLOSE,(()=>{C||(C=!0,ce(rn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),G(T,Zl.EventType.ERROR,(j=>{C||(C=!0,Vo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),L.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),G(T,Zl.EventType.MESSAGE,(j=>{if(!C){const ne=j.data[0];Ke(!!ne,16349);const ie=ne,re=ie?.error||ie[0]?.error;if(re){ce(rn,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let be=(function(R){const I=kt[R];if(I!==void 0)return kb(I)})(de),Te=re.message;be===void 0&&(be=Z.INTERNAL,Te="Unknown error status: "+de+" with message "+re.message),C=!0,L.a_(new le(be,Te)),T.close()}else ce(rn,`RPC '${e}' stream ${o} received:`,ne),L.u_(ne)}})),G(m,ZT.STAT_EVENT,(j=>{j.stat===Zm.PROXY?ce(rn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Zm.NOPROXY&&ce(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}function ff(r){return new Kx(r,!0)}class Xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const v0="PersistentStream";class $b{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(v0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GD extends $b{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Wx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Ki(h.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=rp(p)?{documents:eD(u,p)}:{query:tD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ub(u,h.resumeToken);const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=iD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class QD extends $b{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Zx(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Jx(this.serializer,s)))};this.q_(n)}}class YD{}class KD extends YD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,lp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,lp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class $D{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Da(this)&&(ce(wa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await Mu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await df(g)})(this))}))})),this.Ra=new XD(s,o)}}async function df(r){if(Da(r))for(const e of r.da)await e(!0)}async function Mu(r){for(const e of r.da)await e(!1)}function Wb(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?ng(n):Xo(n).O_()&&tg(n,e))}function eg(r,e){const n=Re(r),s=Xo(n);n.Ia.delete(e),s.O_()&&Jb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Da(n)&&n.Ra.set("Unknown"))}function tg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(r).Y_(e)}function Jb(r,e){r.Va.Ue(e),Xo(r).Z_(e)}function ng(r){r.Va=new Fx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Xo(r).start(),r.Ra.ua()}function ig(r){return Da(r)&&!Xo(r).x_()&&r.Ia.size>0}function Da(r){return Re(r).Ea.size===0}function Zb(r){r.Va=void 0}async function WD(r){r.Ra.set("Online")}async function JD(r){r.Ia.forEach(((e,n)=>{tg(r,e)}))}async function ZD(r,e){Zb(r),ig(r)?(r.Ra.ha(e),ng(r)):r.Ra.set("Unknown")}async function eN(r,e,n){if(r.Ra.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof Sh?r.Va.Ze(e):e instanceof Lb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Kb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Jb(u,p);const T=new ws(E.target,p,g,E.sequenceNumber);tg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(wa,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Yo(e))throw e;r.Ea.add(1),await Mu(r),r.Ra.set("Offline"),n||(n=()=>Kb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(wa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await df(r)}))}function e1(r,e){return e().catch((n=>Bh(r,n,e)))}async function mf(r){const e=Re(r),n=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jp;for(;tN(e);)try{const o=await LD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,nN(e,o)}catch(o){await Bh(e,o)}t1(e)&&n1(e)}function tN(r){return Da(r)&&r.Ta.length<10}function nN(r,e){r.Ta.push(e);const n=ks(r);n.O_()&&n.X_&&n.ea(e.mutations)}function t1(r){return Da(r)&&!ks(r).x_()&&r.Ta.length>0}function n1(r){ks(r).start()}async function iN(r){ks(r).ra()}async function rN(r){const e=ks(r);for(const n of r.Ta)e.ea(n.mutations)}async function sN(r,e,n){const s=r.Ta.shift(),o=Yp.from(s,e,n);await e1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await mf(r)}async function aN(r,e){e&&ks(r).X_&&await(async function(s,o){if((function(h){return Bx(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ks(s).B_(),await e1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await mf(s)}})(r,e),t1(r)&&n1(r)}async function E0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(wa,"RemoteStore received new credentials");const s=Da(n);n.Ea.add(3),await Mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function oN(r,e){const n=Re(r);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await Mu(n),n.Ra.set("Unknown"))}function Xo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:WD.bind(null,r),t_:JD.bind(null,r),r_:ZD.bind(null,r),H_:eN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ig(r)?ng(r):r.Ra.set("Unknown")):(await r.ma.stop(),Zb(r))}))),r.ma}function ks(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new QD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,r),r_:aN.bind(null,r),ta:rN.bind(null,r),na:sN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await mf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,e){if(kr("AsyncQueue",`${e}: ${r}`),Yo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=eu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class T0{constructor(){this.ga=new yt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class zo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new zo(e,n,Do.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class lN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uN{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=b0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function b0(){return new xa((r=>Sb(r)),of)}async function ag(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${So(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&lg(n)}async function og(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&lg(n)}function hN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function lg(r){r.Ca.forEach((e=>{e.next()}))}var dp,S0;(S0=dp||(dp={})).Ma="default",S0.Cache="cache";class ug{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class i1{constructor(e){this.key=e}}class r1{constructor(e){this.key=e}}class fN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Ab(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new T0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),C=lf(this.query,T)?T:null,L=!!w&&this.mutatedKeys.has(w.key),G=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;w&&C?w.data.isEqual(C.data)?L!==G&&(s.track({type:3,doc:C}),j=!0):this.su(w,C)||(s.track({type:2,doc:C}),j=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!w&&C?(s.track({type:0,doc:C}),j=!0):w&&!C&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(C?(h=h.add(C),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(C,L){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:j})}};return G(C)-G(L)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new zo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new r1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new i1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class dN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new xa((m=>Sb(m)),of),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ge.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(r,e,n=!0){const s=c1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await s1(s,e,n,!0),o}async function yN(r,e){const n=c1(r);await s1(n,e,!0,!1)}async function s1(r,e,n,s){const o=await PD(r.localStore,Yi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _N(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Wb(r.remoteStore,o),m}async function _N(r,e,n,s,o){r.pu=(T,w,C)=>(async function(G,j,ne,ie){let re=j.view.ru(ne);re.Cs&&(re=await p0(G.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,re))));const de=ie&&ie.targetChanges.get(j.targetId),be=ie&&ie.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(re,G.isPrimaryClient,de,be);return w0(G,j.targetId,Te.au),Te.snapshot})(r,T,w,C);const u=await p0(r.localStore,e,!0),h=new fN(e,u.Qs),m=h.ru(u.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);w0(r,n,g.au);const E=new dN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function vN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!of(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(Qo)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function EN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function TN(r,e,n){const s=IN(r);try{const o=await(function(h,m){const p=Re(h),g=lt.now(),E=m.reduce(((C,L)=>C.add(L.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=Lr(),G=Ue();return p.Ns.getEntries(C,E).next((j=>{L=j,L.forEach(((ne,ie)=>{ie.isValidDocument()||(G=G.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((j=>{T=j;const ne=[];for(const ie of m){const re=Lx(ie,T.get(ie.key).overlayedDocument);re!=null&&ne.push(new js(ie.key,re,pb(re.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,ne,m)})).next((j=>{w=j;const ne=j.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(C,j.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:Rb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new yt(Pe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Vu(s,o.changes),await mf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function a1(r,e){const n=Re(r);try{const s=await VD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Vu(n,s,e)}catch(s){await Qo(s)}}function A0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&lg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new yt(ge.comparator);h=h.insert(u,an.newNoDocument(u,Ae.min()));const m=Ue().add(u),p=new hf(Ae.min(),new Map,new yt(Pe),h,m);await a1(s,p),s.du=s.du.remove(u),s.Au.delete(e),hg(s)}else await hp(s.localStore,e,!1).then((()=>mp(s,e,n))).catch(Qo)}async function SN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await MD(n.localStore,e);l1(n,s,null),o1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await Qo(o)}}async function AN(r,e,n){const s=Re(r);try{const o=await(function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);l1(s,e,n),o1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await Qo(o)}}function o1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function l1(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||u1(r,s)}))}function u1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(eg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),hg(r))}function w0(r,e,n){for(const s of n)s instanceof i1?(r.Ru.addReference(s.key,e),wN(r,s)):s instanceof r1?(ce(cg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||u1(r,s.key)):Ee(19791,{wu:s})}function wN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(cg,"New document in limbo: "+n),r.Eu.add(s),hg(r))}function hg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(st.fromString(e)),s=r.fu.next();r.Au.set(s,new mN(n)),r.du=r.du.insert(n,s),Wb(r.remoteStore,new ws(Yi(af(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function Vu(r,e,n){const s=Re(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Jp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(w=>te.forEach(w.Es,(C=>E.persistence.referenceDelegate.addReference(T,w.targetId,C))).next((()=>te.forEach(w.ds,(C=>E.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))))))}catch(T){if(!Yo(T))throw T;ce(Zp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=E.Ms.get(w),L=C.snapshotVersion,G=C.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(w,G)}}})(s.localStore,u))}async function RN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(cg,"User change. New user:",e.toKey());const s=await Yb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Ls)}}function CN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function c1(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=hN.bind(null,e.eventManager),e}function IN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OD(this.persistence,new xD,e.initialUser,this.serializer)}Cu(e){return new Qb(Wp.mi,this.serializer)}Du(e){return new zD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class xN extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Qb((s=>jh.mi(s,n)),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uN})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=(function(u){return new FD(u)})(e.databaseInfo);return(function(u,h,m,p){return new KD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new $D(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>A0(this.syncEngine,n,0)),(function(){return _0.v()?new _0:new jD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new pN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(wa,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pp.provider={build:()=>new pp};class fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ls="FirestoreClient";class DN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Yb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function R0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await NN(r);ce(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>E0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>E0(e.remoteStore,o))),r._onlineComponents=e}async function NN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ls,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new qh)}}else ce(Ls,"Using default OfflineComponentProvider"),await Lm(r,new xN(void 0));return r._offlineComponents}async function h1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ls,"Using user provided OnlineComponentProvider"),await R0(r,r._uninitializedComponentsProvider._online)):(ce(Ls,"Using default OnlineComponentProvider"),await R0(r,new pp))),r._onlineComponents}function ON(r){return h1(r).then((e=>e.syncEngine))}async function Hh(r){const e=await h1(r),n=e.eventManager;return n.onListen=gN.bind(null,e.syncEngine),n.onUnlisten=vN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),n}function MN(r,e,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new fg({next:w=>{E.Nu(),h.enqueueAndForget((()=>og(u,T)));const C=w.docs.has(m);!C&&w.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new ug(af(m.path),E,{includeMetadataChanges:!0,qa:!0});return ag(u,T)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function VN(r,e,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new fg({next:w=>{E.Nu(),h.enqueueAndForget((()=>og(u,T))),w.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new ug(m,E,{includeMetadataChanges:!0,qa:!0});return ag(u,T)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function f1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const C0=new Map;const d1="firestore.googleapis.com",I0=!0;class x0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=I0}else this.host=e.host,this.ssl=e.ssl??I0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new H2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=C0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),C0.delete(n),s.terminate())})(this),Promise.resolve()}}function kN(r,e,n,s={}){r=Tn(r,pf);const o=Ra(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(wp(`https://${m}`),Rp("Firestore",!0)),u.host!==d1&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ea(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=sn.MOCK_USER;else{g=cT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new j2(new ib(g,E))}}class Bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Du(n,St._jsonSchema))return new St(e,s||null,new ge(st.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Pt("string",St._jsonSchemaVersion),referencePath:Pt("string")};class xs extends Bs{constructor(e,n,s){super(e,n,af(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ge(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function vi(r,e,...n){if(r=Yt(r),rb("collection","path",e),r instanceof pf){const s=st.fromString(e,...n);return qE(s),new xs(r,null,s)}{if(!(r instanceof St||r instanceof xs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...n));return qE(s),new xs(r.firestore,null,s)}}function kn(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=zp.newId()),rb("doc","path",e),r instanceof pf){const s=st.fromString(e,...n);return BE(s),new St(r,null,new ge(s))}{if(!(r instanceof St||r instanceof xs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...n));return BE(s),new St(r.firestore,r instanceof xs?r.converter:null,new ge(s))}}const D0="AsyncQueue";class N0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xb(this,"async_queue_retry"),this._c=()=>{const s=km();s&&ce(D0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yo(e))throw e;ce(D0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",O0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:O0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function O0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function M0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Pr extends pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new N0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N0(e),this._firestoreClient=void 0,await e}}}function LN(r,e){const n=typeof r=="object"?r:xp(),s=typeof r=="string"?r:kh,o=Wh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oT("firestore");u&&kN(o,...u)}return o}function gf(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PN(r),r._firestoreClient}function PN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new ax(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,f1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(tn.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Pt("string",ni._jsonSchemaVersion),bytes:Pt("string")};class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _f{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pt("string",Xi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Pt("string",$i._jsonSchemaVersion),vectorValues:Pt("object")};const UN=/^__.*__$/;class zN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class m1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class dg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&UN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}Cc(e,n,s,o=!1){return new dg({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(r){const e=r._freezeSettings(),n=ff(r._databaseId);return new jN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function g1(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);pg("Data must be an object, but it was:",h,s);const m=y1(s,h);let p,g;if(u.merge)p=new Pn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=gp(e,T,n);if(!h.contains(w))throw new le(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);v1(E,w)||E.push(w)}p=new Pn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new zN(new En(m),p,g)}class Ef extends _f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}class mg extends _f{_toFieldTransform(e){return new Ox(e.path,new _u)}isEqual(e){return e instanceof mg}}function BN(r,e,n,s){const o=r.Cc(1,e,n);pg("Data must be an object, but it was:",o,s);const u=[],h=En.empty();zs(s,((p,g)=>{const E=gg(e,p,n);g=Yt(g);const T=o.yc(E);if(g instanceof Ef)u.push(E);else{const w=ku(g,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Pn(u);return new m1(h,m,o.fieldTransforms)}function qN(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[gp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(gp(e,u[w])),p.push(u[w+1]);const g=[],E=En.empty();for(let w=m.length-1;w>=0;--w)if(!v1(g,m[w])){const C=m[w];let L=p[w];L=Yt(L);const G=h.yc(C);if(L instanceof Ef)g.push(C);else{const j=ku(L,G);j!=null&&(g.push(C),E.set(C,j))}}const T=new Pn(g);return new m1(E,T,h.fieldTransforms)}function HN(r,e,n,s=!1){return ku(n,r.Cc(s?4:3,e))}function ku(r,e){if(_1(r=Yt(r)))return pg("Unsupported field value:",e,r),y1(r,e);if(r instanceof _f)return(function(s,o){if(!p1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ku(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:Ub(o.serializer,s._byteString)};if(s instanceof St){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $i)return(function(h,m){return{mapValue:{fields:{[db]:{stringValue:mb},[Lh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tf(s)}`)})(r,e)}function y1(r,e){const n={};return ob(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,((s,o)=>{const u=ku(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Xi||r instanceof ni||r instanceof St||r instanceof _f||r instanceof $i)}function pg(r,e,n){if(!_1(n)||!sb(n)){const s=tf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function gp(r,e,n){if((e=Yt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return gg(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const FN=new RegExp("[~\\*/\\[\\]]");function gg(r,e,n){if(e.search(FN)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function v1(r,e){return r.some((n=>n.isEqual(e)))}class E1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GN extends E1{data(){return super.data()}}function yg(r,e){return typeof e=="string"?gg(r,e):e instanceof yf?e._internalPath:e._delegate._internalPath}function T1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class b1 extends _g{}function No(r,e,...n){let s=[];e instanceof _g&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Eg)).length,m=u.filter((p=>p instanceof vg)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vg extends b1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vg(e,n,s)}_apply(e){const n=this._parse(e);return S1(e._query,n),new Bs(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=vf(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){k0(T,E);const L=[];for(const G of T)L.push(V0(p,u,G));w={arrayValue:{values:L}}}else w=V0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||k0(T,E),w=HN(m,h,T,E==="in"||E==="not-in");return Lt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Eg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)S1(h,p),h=sp(h,p)})(e._query,n),new Bs(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends b1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,h)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ko(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Oo(r,e="asc"){const n=e,s=yg("orderBy",r);return Tg._create(s,n)}function V0(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $E(r,new ge(s))}if(n instanceof St)return $E(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function k0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S1(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QN{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Xi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ke(Fb(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function A1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends E1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Pt("string",_a._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ah extends _a{data(e={}){return super.data(e)}}class va{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:YN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Tu(r){r=Tn(r,St);const e=Tn(r.firestore,Pr);return MN(gf(e),r._key).then((n=>C1(e,r,n)))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Pt("string",va._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class bg extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function w1(r){r=Tn(r,Bs);const e=Tn(r.firestore,Pr),n=gf(e),s=new bg(e);return T1(r._query),VN(n,r._query).then((o=>new va(e,s,r,o)))}function R1(r,e,n){r=Tn(r,St);const s=Tn(r.firestore,Pr),o=A1(r.converter,e);return Tf(s,[g1(vf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ii.none())])}function Pm(r,e,n,...s){r=Tn(r,St);const o=Tn(r.firestore,Pr),u=vf(o);let h;return h=typeof(e=Yt(e))=="string"||e instanceof yf?qN(u,"updateDoc",r._key,e,n,s):BN(u,"updateDoc",r._key,e),Tf(o,[h.toMutation(r._key,ii.exists(!0))])}function Um(r){return Tf(Tn(r.firestore,Pr),[new Qp(r._key,ii.none())])}function zm(r,e){const n=Tn(r.firestore,Pr),s=kn(r),o=A1(r.converter,e);return Tf(n,[g1(vf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function Mo(r,...e){r=Yt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||M0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(M0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof St)h=Tn(r.firestore,Pr),m=af(r._key.path),u={next:p=>{e[s]&&e[s](C1(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(r,Bs);h=Tn(p.firestore,Pr),m=p._query;const g=new bg(h);u={next:E=>{e[s]&&e[s](new va(h,g,p,E))},error:e[s+1],complete:e[s+2]},T1(r._query)}return(function(g,E,T,w){const C=new fg(w),L=new ug(E,C,T);return g.asyncQueue.enqueueAndForget((async()=>ag(await Hh(g),L))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>og(await Hh(g),L)))}})(gf(h),m,o,u)}function Tf(r,e){return(function(s,o){const u=new Nr;return s.asyncQueue.enqueueAndForget((async()=>TN(await ON(s),o,u))),u.promise})(gf(r),e)}function C1(r,e,n){const s=n.docs.get(e._key),o=new bg(r);return new _a(r,o,e._key,s,new nu(n.hasPendingWrites,n.fromCache),e.converter)}function jm(){return new mg("serverTimestamp")}(function(e,n=!0){(function(o){Go=o})(Ca),Ta(new Ds("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Pr(new B2(s.getProvider("auth-internal")),new F2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Fi(PE,UE,e),Fi(PE,UE,"esm2020")})();const I1="firebasestorage.googleapis.com",KN="storageBucket",XN=120*1e3,$N=600*1e3;class er extends Zi{constructor(e,n,s=0){super(Bm(e),`Firebase Storage: ${n} (${Bm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function Bm(r){return"storage/"+r}function WN(){const r="An unknown error occurred, please check the error payload for server response.";return new er(Ji.UNKNOWN,r)}function JN(){return new er(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new er(Ji.CANCELED,"User canceled the upload/download.")}function eO(r){return new er(Ji.INVALID_URL,"Invalid URL '"+r+"'.")}function tO(r){return new er(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function L0(r){return new er(Ji.INVALID_ARGUMENT,r)}function x1(){return new er(Ji.APP_DELETED,"The Firebase app was deleted.")}function nO(r){return new er(Ji.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(s.path==="")return s;throw tO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),L={bucket:1,path:3},G=n===I1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",ne=new RegExp(`^https?://${G}/${o}/${j}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:C,indices:L,postModify:g},{regex:ne,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const be=re[de],Te=be.regex.exec(e);if(Te){const D=Te[be.indices.bucket];let R=Te[be.indices.path];R||(R=""),s=new Ti(D,R),be.postModify(s);break}}if(s==null)throw eO(e);return s}}class iO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,r(C,p())},j)}function w(){u&&clearTimeout(u)}function C(j,...ne){if(g){w();return}if(j){w(),E.call(null,j,...ne);return}if(p()||h){w(),E.call(null,j,...ne);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,T(re)}let L=!1;function G(j){L||(L=!0,w(),!g&&(o!==null?(j||(m=2),clearTimeout(o),T(0)):j||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function sO(r){r(!1)}function aO(r){return r!==void 0}function P0(r,e,n,s){if(s<e)throw L0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw L0(`Invalid value for '${r}'. Expected ${n} or less.`)}function oO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Gh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Gh||(Gh={}));function lO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class uO{constructor(e,n,s,o,u,h,m,p,g,E,T,w=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,G)=>{this.resolve_=L,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new hh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Gh.NO_ERROR,p=u.getStatus();if(!m||lO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Gh.ABORT;s(!1,new hh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new hh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());aO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=WN();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?x1():ZN();h(p)}else{const p=JN();h(p)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=rO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function cO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function hO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function dO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function mO(r,e,n,s,o,u,h=!0,m=!1){const p=oO(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return fO(E,e),cO(E,n),hO(E,u),dO(E,s),new uO(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function pO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function gO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Qh{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qh(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gO(this._location.path)}get storage(){return this._service}get parent(){const e=pO(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new Qh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nO(e)}}function U0(r,e){const n=e?.[KN];return n==null?null:Ti.makeFromBucketSpec(n,r)}function yO(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ra(e);o&&(wp(`https://${r.host}/b`),Rp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:cT(u,r.app.options.projectId))}class _O{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=I1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XN,this._maxUploadRetryTime=$N,this._requests=new Set,o!=null?this._bucket=Ti.makeFromBucketSpec(o,this._host):this._bucket=U0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=U0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new iO(x1());{const h=mO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const z0="@firebase/storage",j0="0.14.0";const D1="storage";function vO(r=xp(),e){r=Yt(r);const s=Wh(r,D1).getImmediate({identifier:e}),o=oT("storage");return o&&EO(s,...o),s}function EO(r,e,n,s={}){yO(r,e,n,s)}function TO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new _O(n,s,o,e,Ca)}function bO(){Ta(new Ds(D1,TO,"PUBLIC").setMultipleInstances(!0)),Fi(z0,j0,""),Fi(z0,j0,"esm2020")}bO();const SO={apiKey:"AIzaSyAsCmzOUFyOeBBKu-Dcf2DojSJ7VpDgl38",authDomain:"makerworks-31c33.firebaseapp.com",projectId:"makerworks-31c33",storageBucket:"makerworks-31c33.firebasestorage.app",messagingSenderId:"247985134020",appId:"1:247985134020:web:1ef8a8fb162a540ee92c91",measurementId:"G-TX2YPY4ZSV"},Sg=dT(SO),bf=P2(Sg),gt=LN(Sg);vO(Sg);function AO(){const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(!1),[h,m]=P.useState(""),p=Ho(),g=async E=>{E.preventDefault(),m(""),u(!0);try{await AI(bf,r,n),p("/",{replace:!0})}catch(T){console.error(T),m(T.message||"Login failed")}finally{u(!1)}};return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-shell",children:[b.jsx("div",{className:"auth-illustration",children:b.jsxs("div",{className:"auth-illu-card",children:[b.jsx("div",{className:"auth-illu-badge",children:b.jsx("span",{children:" MakerWorks LMS"})}),b.jsx("div",{className:"auth-illu-avatar",children:""}),b.jsx("h2",{children:"Welcome back"}),b.jsx("p",{children:"Login to continue learning, track your progress, and complete your courses."}),b.jsxs("ul",{className:"auth-illu-list",children:[b.jsx("li",{children:" Progress tracking per lesson"}),b.jsx("li",{children:" Quizzes & certificates"}),b.jsx("li",{children:" Separate student / instructor views"})]})]})}),b.jsxs("div",{className:"auth-panel",children:[b.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),b.jsx("h1",{className:"auth-title",children:"Login"}),b.jsx("p",{className:"auth-subtitle",children:"Enter your account details to access your dashboard."}),b.jsxs("form",{className:"auth-form",onSubmit:g,children:[b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:E=>e(E.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:E=>s(E.target.value),required:!0})]}),b.jsx("div",{className:"auth-actions-row",children:b.jsx("span",{className:"tiny-text",style:{color:"#9ca3af"},children:"Use the test account you created"})}),b.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:o,children:o?"Logging in...":"Login"})]}),b.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Don't have an account?"," ",b.jsx(Xh,{to:"/signup",className:"auth-link-small",children:"Sign up"})]}),h&&b.jsx("p",{className:"auth-message error",style:{marginTop:8},children:h})]})]})})}function wO(){const[r,e]=P.useState(""),[n,s]=P.useState("student"),[o,u]=P.useState(""),[h,m]=P.useState(""),[p,g]=P.useState(!1),[E,T]=P.useState(""),w=Ho(),C=async L=>{if(L.preventDefault(),T(""),o!==h){T("Passwords do not match.");return}if(o.length<6){T("Password should be at least 6 characters.");return}g(!0);try{const j=(await SI(bf,r,o)).user;await R1(kn(gt,"users",j.uid),{email:j.email,role:n,createdAt:new Date}),T("Account created! Redirecting"),w("/",{replace:!0})}catch(G){console.error(G),T(G.message||"Signup failed")}finally{g(!1)}};return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-shell",children:[b.jsx("div",{className:"auth-illustration",children:b.jsxs("div",{className:"auth-illu-card",children:[b.jsx("div",{className:"auth-illu-badge",children:b.jsx("span",{children:" Join MakerWorks"})}),b.jsx("div",{className:"auth-illu-avatar",children:""}),b.jsx("h2",{children:"Create your account"}),b.jsx("p",{children:"Set up your student or instructor account and start creating or taking courses in minutes."}),b.jsxs("ul",{className:"auth-illu-list",children:[b.jsx("li",{children:" Role-based dashboards"}),b.jsx("li",{children:" Upload lessons & resources"}),b.jsx("li",{children:" Progress + quiz analytics"})]})]})}),b.jsxs("div",{className:"auth-panel",children:[b.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),b.jsx("h1",{className:"auth-title",children:"Sign up"}),b.jsx("p",{className:"auth-subtitle",children:"Create an account to access the MakerWorks learning platform."}),b.jsxs("form",{className:"auth-form",onSubmit:C,children:[b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:L=>e(L.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"role",children:"Role"}),b.jsxs("select",{id:"role",value:n,onChange:L=>s(L.target.value),children:[b.jsx("option",{value:"student",children:"Student"}),b.jsx("option",{value:"instructor",children:"Instructor"})]})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"new-password",value:o,onChange:L=>u(L.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"confirm",children:"Confirm password"}),b.jsx("input",{id:"confirm",type:"password",autoComplete:"new-password",value:h,onChange:L=>m(L.target.value),required:!0})]}),b.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:p,children:p?"Creating account...":"Sign up"})]}),b.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Already have an account?"," ",b.jsx(Xh,{to:"/login",className:"auth-link-small",children:"Login"})]}),E&&b.jsx("p",{className:`auth-message ${E.toLowerCase().includes("created")?"success":"error"}`,style:{marginTop:8},children:E})]})]})})}function RO({user:r}){const[e,n]=P.useState([]),[s,o]=P.useState({}),u=Ho();P.useEffect(()=>{const C=No(vi(gt,"courses"),Oo("createdAt","desc"));return Mo(C,L=>{n(L.docs.map(G=>({id:G.id,...G.data()})))})},[]),P.useEffect(()=>{const C=vi(gt,"users",r.uid,"progress");return Mo(C,L=>{const G={};L.forEach(j=>{G[j.id]=j.data()}),o(G)})},[r.uid]);const h=e.filter(C=>s[C.id]),m=e.filter(C=>!s[C.id]),p=r.displayName||r.email||"Learner",g=Object.values(s).reduce((C,L)=>C+(L.completedLessons?.length||0),0),E=C=>{u(`/courses/${C}`)},T="#6d28d9",w="#f5f3ff";return b.jsx("div",{className:"sd-root",style:{padding:0,display:"flex",justifyContent:"center",background:w,minHeight:"100%"},children:b.jsxs("div",{className:"sd-inner",style:{width:"100%",maxWidth:1200,padding:24},children:[b.jsxs("div",{style:{background:"white",borderRadius:999,padding:"8px 18px",display:"flex",alignItems:"center",gap:8,boxShadow:"0 8px 24px rgba(15,23,42,0.06)",marginBottom:18,border:"1px solid #e5e7eb"},children:[b.jsx("span",{style:{fontSize:18,color:T,fontWeight:700,marginRight:6},children:""}),b.jsx("input",{placeholder:"Search courses...",style:{flex:1,border:"none",outline:"none",fontSize:14,color:"#111827"}})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16,marginBottom:22},children:[b.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb",display:"flex",gap:16},children:[b.jsx("div",{style:{width:90,minWidth:90,height:90,borderRadius:18,background:"linear-gradient(135deg, #a855f7, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:30,fontWeight:700},children:p.split(" ").map(C=>C[0]?.toUpperCase()).join("").slice(0,2)}),b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#111827",marginBottom:4},children:p}),b.jsxs("div",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["ID: ",r.uid.slice(0,8),"  Email: ",r.email]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:8,fontSize:12,color:"#4b5563"},children:[b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Role: "}),"Student"]}),b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Enrolled: "}),h.length," course",h.length===1?"":"s"]}),b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Completed lessons: "}),g]})]})]})]}),b.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827"},children:"Learning overview"}),b.jsxs("div",{style:{display:"flex",gap:6,fontSize:11},children:[b.jsx("span",{style:{padding:"2px 10px",borderRadius:999,background:w,color:T,fontWeight:600},children:"Active"}),b.jsx("span",{style:{padding:"2px 10px",borderRadius:999,border:"1px solid #e5e7eb",color:"#6b7280"},children:"Regular"})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:10,marginBottom:10},children:[b.jsxs("div",{style:{background:w,borderRadius:12,padding:8,fontSize:12,color:T,fontWeight:600},children:["Total courses",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:e.length})]}),b.jsxs("div",{style:{background:"#ecfdf5",borderRadius:12,padding:8,fontSize:12,color:"#15803d",fontWeight:600},children:["Enrolled",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:h.length})]}),b.jsxs("div",{style:{background:"#eff6ff",borderRadius:12,padding:8,fontSize:12,color:"#2563eb",fontWeight:600},children:["Completed lessons",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:g})]})]}),b.jsxs("div",{style:{fontSize:12,color:"#4b5563"},children:[b.jsxs("div",{style:{marginBottom:8},children:[b.jsx("div",{style:{marginBottom:2},children:"Active courses"}),b.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:b.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(h.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:T}})})]}),b.jsxs("div",{style:{marginBottom:8},children:[b.jsx("div",{style:{marginBottom:2},children:"Courses not started"}),b.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:b.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(m.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:"#f97316"}})})]})]})]})]}),b.jsxs("div",{style:{marginBottom:20},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Enrolled courses"}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[h.length," enrolled"]})]}),h.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"You haven't enrolled in any courses yet."}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:14},children:h.map(C=>b.jsxs("div",{style:{background:"white",borderRadius:16,padding:14,border:`1px solid ${w}`,boxShadow:"0 8px 20px rgba(109,40,217,0.08)"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:700,marginBottom:4,color:"#111827"},children:C.title||"Untitled course"}),b.jsxs("div",{style:{fontSize:12,color:"#4b5563",marginBottom:8},children:[C.description?.slice(0,80)||"No description yet.",C.description&&C.description.length>80?"...":""]}),b.jsx("button",{onClick:()=>E(C.id),style:{marginTop:4,padding:"8px 12px",width:"100%",borderRadius:999,border:"1px solid transparent",background:T,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Continue course"})]},C.id))})]}),b.jsxs("div",{children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"All courses"}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[e.length," total"]})]}),e.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No courses yet."}):b.jsx("div",{style:{background:"white",borderRadius:18,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",padding:10},children:e.map(C=>{const L=!!s[C.id];return b.jsxs("div",{className:"sd-course-row",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 6px",borderBottom:"1px solid #f3f4f6"},children:[b.jsxs("div",{className:"sd-course-row-left",children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:C.title||"Untitled course"}),b.jsxs("div",{style:{fontSize:12,color:"#6b7280",maxWidth:380},children:[C.description?.slice(0,120)||"No description yet.",C.description&&C.description.length>120?"...":""]})]}),b.jsxs("div",{className:"sd-course-row-right",style:{display:"flex",alignItems:"center",gap:8},children:[b.jsx("span",{style:{fontSize:11,padding:"3px 10px",borderRadius:999,background:L?"#ecfdf5":"#fef9c3",color:L?"#15803d":"#92400e",border:"1px solid #e5e7eb"},children:L?"Enrolled":"Not started"}),b.jsx("button",{onClick:()=>E(C.id),style:{padding:"7px 12px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:L?T:"#16a34a",color:"white",cursor:"pointer",whiteSpace:"nowrap"},children:L?"Go to course":"Start course"})]})]},C.id)})})]})]})})}function CO({user:r}){const[e,n]=P.useState([]),[s,o]=P.useState(""),[u,h]=P.useState(""),[m,p]=P.useState(null),[g,E]=P.useState(""),[T,w]=P.useState(""),[C,L]=P.useState(null),[G,j]=P.useState(""),[ne,ie]=P.useState([]),[re,de]=P.useState(""),[be,Te]=P.useState(""),[D,R]=P.useState(""),[I,k]=P.useState(""),[O,U]=P.useState(""),[x,Je]=P.useState(""),[_t,X]=P.useState(""),[se,me]=P.useState(null),[Me,Be]=P.useState(""),[V,J]=P.useState(""),[oe,ue]=P.useState(""),[_e,Se]=P.useState(""),[De,ft]=P.useState(""),[Ze,ai]=P.useState(""),[tr,wi]=P.useState(""),[zr,bn]=P.useState([]),[nr,oi]=P.useState(""),[ir,rr]=P.useState(["","","",""]),[dt,mt]=P.useState(0),[Sn,jr]=P.useState(null),[qs,Ut]=P.useState(""),[li,sr]=P.useState(["","","",""]),[Br,Un]=P.useState(0),[Na,Hs]=P.useState(null),[Fs,Gs]=P.useState([]),qt="#6d28d9",zt="#f5f3ff";P.useEffect(()=>{const K=No(vi(gt,"courses"),Oo("createdAt","desc"));return Mo(K,qe=>{n(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[]),P.useEffect(()=>{if(!C)return ie([]);const K=No(vi(gt,"courses",C,"lessons"),Oo("createdAt","asc"));return Mo(K,qe=>{ie(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[C]),P.useEffect(()=>{if(!C||!se)return bn([]);const K=No(vi(gt,"courses",C,"lessons",se,"quizzes"),Oo("createdAt","asc"));return Mo(K,qe=>{bn(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[C,se]);const cn=K=>{L(K.id),j(K.title),de(""),Te(""),R(""),k(""),U(""),Je(""),X(""),me(null),Be(""),J(""),ue(""),Se(""),ft(""),ai(""),wi(""),oi(""),rr(["","","",""]),mt(0),jr(null),Ut(""),sr(["","","",""]),Un(0)},pt=async K=>{K.preventDefault(),s.trim()&&(await zm(vi(gt,"courses"),{title:s.trim(),description:u.trim(),createdBy:r.uid,createdByEmail:r.email,createdAt:jm()}),o(""),h(""))},Oa=K=>{p(K.id),E(K.title),w(K.description||"")},qr=async K=>{K.preventDefault(),m&&(await Pm(kn(gt,"courses",m),{title:g.trim(),description:T.trim()}),p(null),E(""),w(""))},Ma=async K=>{await Um(kn(gt,"courses",K)),C===K&&(L(null),ie([]))},zn=async K=>{if(K.preventDefault(),!C||!re.trim())return;const qe=x?x.split(",").map(Ge=>Ge.trim()).filter(Boolean):[];await zm(vi(gt,"courses",C,"lessons"),{title:re.trim(),description:be.trim(),content:D.trim(),youtubeUrl:I.trim()||null,pdfUrl:O.trim()||null,imageUrls:qe,duration:_t.trim()||null,createdAt:jm()}),de(""),Te(""),R(""),k(""),U(""),Je(""),X("")},ar=K=>{me(K.id),Be(K.title),J(K.description||""),ue(K.content||""),Se(K.youtubeUrl||""),ft(K.pdfUrl||""),wi(K.duration||""),ai(Array.isArray(K.imageUrls)?K.imageUrls.join(", "):"")},vt=async K=>{if(K.preventDefault(),!C||!se)return;const qe=Ze?Ze.split(",").map(Ge=>Ge.trim()).filter(Boolean):[];await Pm(kn(gt,"courses",C,"lessons",se),{title:Me.trim(),description:V.trim(),content:oe.trim(),youtubeUrl:_e.trim()||null,pdfUrl:De.trim()||null,imageUrls:qe,duration:tr.trim()||null}),me(null)},jn=async K=>{C&&(await Um(kn(gt,"courses",C,"lessons",K)),se===K&&me(null))},Bn=async K=>{K.preventDefault(),!(!C||!se)&&nr.trim()&&(await zm(vi(gt,"courses",C,"lessons",se,"quizzes"),{question:nr.trim(),options:ir.map(qe=>qe.trim()),correctIndex:dt,createdAt:jm()}),oi(""),rr(["","","",""]),mt(0))},An=K=>{jr(K.id),Ut(K.question),sr(K.options||["","","",""]),Un(K.correctIndex??0)},$o=async K=>{K.preventDefault(),!(!C||!se||!Sn)&&(await Pm(kn(gt,"courses",C,"lessons",se,"quizzes",Sn),{question:qs.trim(),options:li.map(qe=>qe.trim()),correctIndex:Br}),jr(null))},Va=async K=>{!C||!se||(await Um(kn(gt,"courses",C,"lessons",se,"quizzes",K)),Sn===K&&jr(null))},qn=async K=>{Hs(K),Gs([]);const Ge=(await w1(vi(gt,"users"))).docs.map(hn=>({id:hn.id,...hn.data()})),Et=[];for(const hn of Ge){const or=kn(gt,"users",hn.id,"progress",K.id),Hn=await Tu(or);Hn.exists()&&Et.push({email:hn.email,...Hn.data()})}Gs(Et)};return b.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:zt,minHeight:"100%"},children:b.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[b.jsx("div",{style:{marginBottom:18,display:"flex",justifyContent:"space-between",alignItems:"center"},children:b.jsxs("div",{children:[b.jsx("h2",{style:{margin:0,fontSize:20,fontWeight:700,color:"#111827"},children:"Instructor Studio"}),b.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Welcome, ",r.email]})]})}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.4fr) minmax(0, 2fr)",gap:18,alignItems:"flex-start"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[b.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.06)"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827",marginBottom:10},children:"Create a new course"}),b.jsxs("form",{onSubmit:pt,children:[b.jsx("input",{placeholder:"Course title",value:s,onChange:K=>o(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:14}}),b.jsx("textarea",{placeholder:"Short description",value:u,onChange:K=>h(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,resize:"vertical"}}),b.jsx("button",{type:"submit",style:{padding:"8px 14px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Add course"})]})]}),b.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.05)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Your courses"}),b.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:`${e.length} total`})]}),e.length===0&&b.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No courses yet."}),b.jsx("div",{style:{marginTop:6},children:e.map(K=>{const qe=C===K.id;return b.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #eef2ff",marginBottom:8,background:qe?"#eef2ff":"#f9fafb"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:K.title}),b.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:K.description||"No description."}),b.jsxs("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:6},children:[b.jsx("button",{onClick:()=>cn(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:qe?qt:"#e5e7eb",color:qe?"white":"#111827",cursor:"pointer"},children:"Lessons"}),b.jsx("button",{onClick:()=>Oa(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit"}),b.jsx("button",{onClick:()=>Ma(K.id),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"}),b.jsx("button",{onClick:()=>qn(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fef9c3",color:"#92400e",cursor:"pointer"},children:"Analytics"})]})]},K.id)})}),m&&b.jsxs("div",{style:{marginTop:12,padding:10,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[b.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Edit course"}),b.jsxs("form",{onSubmit:qr,children:[b.jsx("input",{value:g,onChange:K=>E(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{value:T,onChange:K=>w(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("button",{type:"submit",style:{padding:"6px 12px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save"}),b.jsx("button",{type:"button",onClick:()=>p(null),style:{padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,marginLeft:8,cursor:"pointer"},children:"Cancel"})]})]})]}),Na&&b.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[b.jsxs("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:6},children:[" Analytics: ",Na.title]}),Fs.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No student progress yet."}):Fs.map((K,qe)=>{const Ge=K.completedLessons?.length||0,Et=ne.length||0,hn=Et===0?0:Math.round(Ge/Et*100);return b.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginTop:8,background:"#f9fafb"},children:[b.jsx("b",{style:{fontSize:13},children:K.email}),b.jsx("div",{style:{width:"100%",background:"#e5e7eb",height:6,borderRadius:999,marginTop:4},children:b.jsx("div",{style:{width:`${hn}%`,height:"100%",borderRadius:999,background:"#16a34a"}})}),b.jsxs("div",{style:{fontSize:12,marginTop:4,color:"#4b5563"},children:[Ge,"/",Et," lessons (",hn,"%)"]})]},qe)}),b.jsx("button",{onClick:()=>Hs(null),style:{marginTop:10,padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Close analytics"})]})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:C?b.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[b.jsxs("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:["Lessons in ",G]}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[ne.length," lesson",ne.length===1?"":"s"]})]}),b.jsxs("form",{onSubmit:zn,style:{marginBottom:12},children:[b.jsx("input",{placeholder:"Lesson title",value:re,onChange:K=>de(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Short summary (Overview tab)",value:be,onChange:K=>Te(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Full theory / explanation",value:D,onChange:K=>R(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"YouTube URL (unlisted / private link)",value:I,onChange:K=>k(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"PDF URL (optional)",value:O,onChange:K=>U(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Image URLs (comma separated)",value:x,onChange:K=>Je(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"Duration in minutes (optional)",value:_t,onChange:K=>X(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("button",{type:"submit",style:{padding:"7px 12px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add lesson"})]}),b.jsx("div",{children:ne.map(K=>b.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #e5e7eb",marginTop:8,background:se===K.id?"#eef2ff":"#f9fafb"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:K.title}),b.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:K.description||K.content}),K.duration&&b.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[K.duration," min"]}),b.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,flexWrap:"wrap"},children:[b.jsx("button",{onClick:()=>ar(K),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit lesson / quiz"}),b.jsx("button",{onClick:()=>jn(K.id),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},K.id))}),se&&b.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[b.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Edit lesson"}),b.jsxs("form",{onSubmit:vt,children:[b.jsx("input",{value:Me,onChange:K=>Be(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{value:V,onChange:K=>J(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Short summary (Overview)"}),b.jsx("textarea",{value:oe,onChange:K=>ue(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Full theory"}),b.jsx("input",{value:_e,onChange:K=>Se(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"YouTube URL"}),b.jsx("input",{value:De,onChange:K=>ft(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"PDF URL"}),b.jsx("textarea",{value:Ze,onChange:K=>ai(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Image URLs (comma separated)"}),b.jsx("input",{value:tr,onChange:K=>wi(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Duration in minutes"}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save lesson"})]}),b.jsx("h4",{style:{margin:"16px 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Quiz questions"}),b.jsxs("form",{onSubmit:Bn,children:[b.jsx("input",{placeholder:"Quiz question",value:nr,onChange:K=>oi(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),ir.map((K,qe)=>b.jsx("input",{placeholder:`Option ${qe+1}`,value:K,onChange:Ge=>{const Et=[...ir];Et[qe]=Ge.target.value,rr(Et)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},qe)),b.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),b.jsxs("select",{value:dt,onChange:K=>mt(Number(K.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[b.jsx("option",{value:0,children:"Option 1"}),b.jsx("option",{value:1,children:"Option 2"}),b.jsx("option",{value:2,children:"Option 3"}),b.jsx("option",{value:3,children:"Option 4"})]}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:"#16a34a",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add question"})]}),zr.map((K,qe)=>b.jsxs("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid #e5e7eb",fontSize:13},children:[b.jsxs("b",{children:["Q",qe+1,": ",K.question]}),K.options?.map((Ge,Et)=>b.jsxs("div",{style:{fontSize:12},children:[Et+1,". ",Ge," ",K.correctIndex===Et&&b.jsx("strong",{children:"(correct)"})]},Et)),b.jsxs("div",{style:{marginTop:4,display:"flex",gap:6},children:[b.jsx("button",{onClick:()=>An(K),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#e5e7eb",cursor:"pointer"},children:"Edit"}),b.jsx("button",{onClick:()=>Va(K.id),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},K.id)),Sn&&b.jsxs("form",{onSubmit:$o,style:{marginTop:14,padding:10,background:"#f3f4f6",borderRadius:10},children:[b.jsx("h5",{style:{margin:"0 0 6px",fontSize:13,fontWeight:600,color:"#111827"},children:"Edit quiz question"}),b.jsx("input",{value:qs,onChange:K=>Ut(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),li.map((K,qe)=>b.jsx("input",{value:K,onChange:Ge=>{const Et=[...li];Et[qe]=Ge.target.value,sr(Et)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},qe)),b.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),b.jsxs("select",{value:Br,onChange:K=>Un(Number(K.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[b.jsx("option",{value:0,children:"Option 1"}),b.jsx("option",{value:1,children:"Option 2"}),b.jsx("option",{value:2,children:"Option 3"}),b.jsx("option",{value:3,children:"Option 4"})]}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save quiz"})]})]})]}):b.jsx("div",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",fontSize:13,color:"#6b7280"},children:"Select a course on the left to manage lessons and quizzes."})})]})]})})}function IO(r){if(!r)return null;try{const e=new URL(r),n=e.searchParams.get("v");if(n)return`https://www.youtube-nocookie.com/embed/${n}`;if(e.hostname==="youtu.be"){const s=e.pathname.replace("/","");if(s)return`https://www.youtube-nocookie.com/embed/${s}`}}catch{}return null}function xO({user:r}){const{courseId:e}=X0(),[n,s]=P.useState(null),[o,u]=P.useState([]),[h,m]=P.useState(null),[p,g]=P.useState("overview"),E="#6d28d9";P.useEffect(()=>{async function L(){const G=kn(gt,"courses",e),j=await Tu(G);j.exists()&&s({id:j.id,...j.data()})}L()},[e]),P.useEffect(()=>{async function L(){const G=vi(gt,"courses",e,"lessons"),j=No(G,Oo("createdAt","asc")),ie=(await w1(j)).docs.map(re=>({id:re.id,...re.data()}));u(ie),ie.length>0&&m(ie[0])}L()},[e]);const T=L=>{m(L),g("overview")},w=IO(h?.youtubeUrl),C=h?.description||n?.description||"This lesson description will appear here.";return b.jsxs("div",{className:"cp-root",style:{display:"flex",height:"calc(100vh - 56px)",background:"#111827",color:"white"},children:[b.jsxs("div",{className:"cp-left",style:{flex:1,display:"flex",flexDirection:"column",background:"#0b1120",borderRight:"1px solid #020617"},children:[b.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",background:"black"},children:h?w?b.jsx("iframe",{src:w,title:h.title||"Lesson video",style:{position:"absolute",inset:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):b.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},children:[b.jsx("div",{style:{marginBottom:12,fontSize:18,fontWeight:600},children:h.title||"Lesson"}),b.jsx("button",{style:{width:82,height:82,borderRadius:"999px",border:"none",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default"},children:b.jsx("div",{style:{marginLeft:5,width:0,height:0,borderTop:"14px solid transparent",borderBottom:"14px solid transparent",borderLeft:"24px solid #111827"}})}),b.jsx("div",{style:{marginTop:8,fontSize:12,color:"#e5e7eb"},children:"No YouTube link set for this lesson."})]}):b.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"Select a lesson on the right"})}),b.jsxs("div",{style:{background:"#f9fafb",color:"#111827",flex:1,overflowY:"auto"},children:[b.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",background:"white",padding:"0 16px"},children:[{id:"overview",label:"Overview"},{id:"theory",label:"Theory"},{id:"resources",label:"Resources"}].map(L=>b.jsx("button",{onClick:()=>g(L.id),style:{border:"none",background:"transparent",padding:"12px 14px",cursor:"pointer",fontSize:14,borderBottom:p===L.id?`2px solid ${E}`:"2px solid transparent",color:p===L.id?E:"#6b7280",fontWeight:p===L.id?600:500},children:L.label},L.id))}),b.jsxs("div",{style:{padding:"16px 20px",fontSize:14},children:[p==="overview"&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{style:{margin:"0 0 6px",fontSize:20,fontWeight:700},children:h?.title||n?.title||"Lesson overview"}),b.jsx("p",{style:{margin:"0 0 10px",color:"#4b5563"},children:C}),b.jsxs("p",{style:{margin:"12px 0 0",fontSize:13,color:"#6b7280"},children:["Course:"," ",b.jsx("span",{style:{fontWeight:600},children:n?.title||"Course"})]}),h?.duration&&b.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Duration: ",h.duration," min"]})]}),p==="theory"&&b.jsx("div",{style:{fontSize:14,color:"#374151",lineHeight:1.6},children:h?.content||"Detailed theory/content for this lesson will go here."}),p==="resources"&&b.jsxs("div",{style:{fontSize:14,color:"#4b5563",display:"flex",flexDirection:"column",gap:16},children:[h?.pdfUrl?b.jsxs("div",{children:[b.jsx("p",{style:{marginBottom:6},children:"PDF resource for this lesson:"}),b.jsx("a",{href:h.pdfUrl,target:"_blank",rel:"noreferrer",style:{fontSize:14,color:E,fontWeight:600},children:" Open PDF in new tab"}),b.jsx("div",{style:{marginTop:10,border:"1px solid #e5e7eb",borderRadius:8,overflow:"hidden",height:400,background:"white"},children:b.jsx("iframe",{src:h.pdfUrl,title:"Lesson PDF",style:{width:"100%",height:"100%",border:"none"}})})]}):b.jsx("p",{style:{color:"#6b7280",margin:0},children:"No PDF attached for this lesson."}),h?.imageUrls&&Array.isArray(h.imageUrls)&&h.imageUrls.length>0&&b.jsxs("div",{children:[b.jsx("p",{style:{marginBottom:6},children:"Images for this lesson:"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:h.imageUrls.map((L,G)=>b.jsx("div",{style:{borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb",background:"white"},children:b.jsx("img",{src:L,alt:`Resource ${G+1}`,style:{width:"100%",height:120,objectFit:"cover",display:"block"}})},G))})]})]})]})]})]}),b.jsxs("aside",{className:"cp-right",style:{width:360,background:"#f9fafb",borderLeft:"1px solid #e5e7eb",display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",background:"white"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:n?.title||"Course content"}),b.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:[o.length," lesson",o.length===1?"":"s"]})]}),b.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[o.map((L,G)=>{const j=h?.id===L.id;return b.jsxs("button",{onClick:()=>T(L),style:{width:"100%",textAlign:"left",border:"none",background:j?"#e5e7eb":"transparent",padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"flex-start",gap:10,fontSize:13},children:[b.jsxs("span",{style:{marginTop:2,fontSize:11,color:"#6b7280"},children:[G+1,"."]}),b.jsxs("div",{children:[b.jsx("div",{style:{fontWeight:600,color:"#111827",marginBottom:2},children:L.title||"Lesson"}),L.duration&&b.jsxs("div",{style:{fontSize:11,color:"#6b7280"},children:[L.duration," min"]})]})]},L.id)}),o.length===0&&b.jsx("div",{style:{padding:14,fontSize:13,color:"#6b7280"},children:"No lessons created for this course yet."})]})]})]})}function DO({user:r}){const{courseId:e,lessonId:n}=X0(),[s,o]=P.useState(null),[u,h]=P.useState([]),[m,p]=P.useState({}),[g,E]=P.useState(!1);P.useEffect(()=>{Tu(kn(gt,"courses",e,"lessons",n)).then(C=>{C.exists()&&o(C.data())})},[e,n]),P.useEffect(()=>{const C=No(vi(gt,"courses",e,"lessons",n,"quizzes"),Oo("createdAt","asc"));return Mo(C,L=>{h(L.docs.map(G=>({id:G.id,...G.data()})))})},[]);const T=async()=>{const C=kn(gt,"users",r.uid,"progress",e),L=await Tu(C),G=L.exists()?L.data():{completedLessons:[]};await R1(C,{...G,completedLessons:[...G.completedLessons,n]})},w=()=>{E(!0)};return b.jsx("div",{style:{padding:20},children:s&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{children:s.title}),b.jsx("p",{children:s.content}),s.fileUrl&&b.jsxs("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[" ",s.fileName]}),b.jsx("h3",{style:{marginTop:20},children:"Quiz"}),u.map((C,L)=>b.jsxs("div",{style:{marginBottom:12},children:[b.jsxs("b",{children:["Q",L+1,". ",C.question]}),C.options.map((G,j)=>b.jsx("div",{children:b.jsxs("label",{children:[b.jsx("input",{type:"radio",name:C.id,disabled:g,onChange:()=>p({...m,[C.id]:j})})," ",G]})},j))]},C.id)),!g&&u.length>0&&b.jsx("button",{onClick:w,style:{padding:"6px 10px",background:"#16a34a",color:"white",border:"none",borderRadius:6},children:"Submit Quiz"}),g&&b.jsx("button",{onClick:T,style:{marginTop:10,padding:"6px 10px",background:"#2563eb",color:"white",border:"none",borderRadius:6},children:"Mark Lesson Complete"})]})})}function fh({children:r}){const e=Ur(),n=Ho(),[s,o]=P.useState(!1),u=e.pathname.startsWith("/instructor"),h=u?"/instructor":"/student",m=async()=>{try{await bf.signOut(),n("/login")}catch(C){console.error(C)}},p={display:"flex",alignItems:"center",gap:10,padding:"10px 16px",fontSize:14,cursor:"pointer"},g={width:18,textAlign:"center",fontSize:16},E={whiteSpace:"nowrap"},T=e.pathname===h||e.pathname===`${h}/`,w=()=>o(!1);return b.jsxs("div",{className:"layout-root",style:{display:"flex",minHeight:"100vh",background:"#f3f4f6",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:[s&&b.jsx("div",{className:"layout-backdrop",onClick:w,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.35)",zIndex:15}}),b.jsxs("aside",{className:`layout-sidebar ${s?"sidebar-open":"sidebar-closed"}`,style:{width:220,background:"#5b21b6",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:20},children:[b.jsxs("div",{children:[b.jsx("div",{className:"sidebar-logo",style:{padding:"18px 12px 14px",display:"flex",justifyContent:"center",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:b.jsx("div",{style:{width:72,height:72,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,color:"#5b21b6",boxShadow:"0 4px 10px rgba(0,0,0,0.18)"},children:"LOGO"})}),b.jsxs("nav",{className:"sidebar-nav",style:{marginTop:10},children:[b.jsxs("div",{style:{...p,backgroundColor:T?"white":"transparent",color:T?"#5b21b6":"white",borderRadius:"0 20px 20px 0",marginRight:8},onClick:()=>{n(h),w()},children:[b.jsx("span",{style:g,children:""}),b.jsx("span",{style:E,children:"Dashboard"})]}),b.jsxs("div",{style:p,children:[b.jsx("span",{style:g,children:""}),b.jsx("span",{style:E,children:"History"})]}),b.jsxs("div",{style:p,children:[b.jsx("span",{style:g,children:""}),b.jsx("span",{style:E,children:"Semester"})]}),b.jsxs("div",{style:p,children:[b.jsx("span",{style:g,children:""}),b.jsx("span",{style:E,children:"Payment"})]}),b.jsxs("div",{style:p,children:[b.jsx("span",{style:g,children:""}),b.jsx("span",{style:E,children:"Results"})]})]})]}),b.jsx("div",{className:"sidebar-help",style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.12)"},children:b.jsxs("div",{style:{...p,padding:"8px 10px",justifyContent:"center",borderRadius:999,border:"1px solid rgba(255,255,255,0.6)",fontSize:13},children:[b.jsx("span",{style:{fontSize:16},children:""}),b.jsx("span",{children:"Help"})]})})]}),b.jsxs("div",{className:"layout-main",style:{flex:1,display:"flex",flexDirection:"column"},children:[b.jsxs("header",{className:"layout-topbar",style:{height:56,background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[b.jsx("button",{className:"hamburger-btn",onClick:()=>o(C=>!C),"aria-label":"Toggle menu",style:{width:34,height:34,borderRadius:999,border:"1px solid #e5e7eb",background:"white",display:"none",alignItems:"center",justifyContent:"center",padding:0,cursor:"pointer"},children:b.jsx("span",{style:{width:16,height:2,background:"#111827",display:"block",boxShadow:"0 5px 0 #111827, 0 -5px 0 #111827"}})}),b.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827"},children:u?"Instructor Panel":"Student Panel"})]}),b.jsx("button",{onClick:m,style:{padding:"6px 12px",fontSize:13,borderRadius:999,border:"1px solid #e5e7eb",background:"#f9fafb",cursor:"pointer"},children:"Logout"})]}),b.jsx("main",{className:"layout-content",style:{flex:1,padding:16,overflow:"auto"},children:r})]})]})}function NO(){const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState(!0);return P.useEffect(()=>{const h=bf.onAuthStateChanged(async m=>{if(m){e(m);const p=kn(gt,"users",m.uid),g=await Tu(p);s(g.exists()?g.data().role:null)}else e(null),s(null);u(!1)});return()=>h()},[]),o?b.jsx("div",{style:{padding:20},children:"Loading..."}):b.jsxs(cw,{children:[b.jsx(Rr,{path:"/",element:r?b.jsx(Vn,{to:n==="instructor"?"/instructor":"/student",replace:!0}):b.jsx(Vn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/login",element:r?b.jsx(Vn,{to:"/",replace:!0}):b.jsx(AO,{})}),b.jsx(Rr,{path:"/signup",element:r?b.jsx(Vn,{to:"/",replace:!0}):b.jsx(wO,{})}),b.jsx(Rr,{path:"/student",element:r?n!=="student"?b.jsx(Vn,{to:"/instructor",replace:!0}):b.jsx(fh,{children:b.jsx(RO,{user:r})}):b.jsx(Vn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/courses/:courseId",element:r?n!=="student"?b.jsx(Vn,{to:"/instructor",replace:!0}):b.jsx(fh,{children:b.jsx(xO,{user:r})}):b.jsx(Vn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/courses/:courseId/lessons/:lessonId",element:r?n!=="student"?b.jsx(Vn,{to:"/instructor",replace:!0}):b.jsx(fh,{children:b.jsx(DO,{user:r})}):b.jsx(Vn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/instructor",element:r?n!=="instructor"?b.jsx(Vn,{to:"/student",replace:!0}):b.jsx(fh,{children:b.jsx(CO,{user:r})}):b.jsx(Vn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"*",element:b.jsx(Vn,{to:"/",replace:!0})})]})}_A.createRoot(document.getElementById("root")).render(b.jsx(cA.StrictMode,{children:b.jsx(Mw,{children:b.jsx(NO,{})})}));
