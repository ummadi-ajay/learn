(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var JD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T1={exports:{}},Ff={};var jv;function XS(){if(jv)return Ff;jv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return Ff.Fragment=t,Ff.jsx=e,Ff.jsxs=e,Ff}var Vv;function JS(){return Vv||(Vv=1,T1.exports=XS()),T1.exports}var $=JS(),x1={exports:{}},nn={};var Bv;function ZS(){if(Bv)return nn;Bv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=T&&X[T]||X["@@iterator"],typeof X=="function"?X:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function V(X,L,Y){this.props=X,this.context=L,this.refs=B,this.updater=Y||O}V.prototype.isReactComponent={},V.prototype.setState=function(X,L){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,L,"setState")},V.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function Z(){}Z.prototype=V.prototype;function et(X,L,Y){this.props=X,this.context=L,this.refs=B,this.updater=Y||O}var nt=et.prototype=new Z;nt.constructor=et,M(nt,V.prototype),nt.isPureReactComponent=!0;var _t=Array.isArray;function Ot(){}var H={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function I(X,L,Y){var J=Y.ref;return{$$typeof:n,type:X,key:L,ref:J!==void 0?J:null,props:Y}}function q(X,L){return I(X.type,L,X.props)}function N(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function k(X){var L={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Y){return L[Y]})}var D=/\/+/g;function lt(X,L){return typeof X=="object"&&X!==null&&X.key!=null?k(""+X.key):L.toString(36)}function xt(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Ot,Ot):(X.status="pending",X.then(function(L){X.status==="pending"&&(X.status="fulfilled",X.value=L)},function(L){X.status==="pending"&&(X.status="rejected",X.reason=L)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function at(X,L,Y,J,ot){var ut=typeof X;(ut==="undefined"||ut==="boolean")&&(X=null);var gt=!1;if(X===null)gt=!0;else switch(ut){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(X.$$typeof){case n:case t:gt=!0;break;case v:return gt=X._init,at(gt(X._payload),L,Y,J,ot)}}if(gt)return ot=ot(X),gt=J===""?"."+lt(X,0):J,_t(ot)?(Y="",gt!=null&&(Y=gt.replace(D,"$&/")+"/"),at(ot,L,Y,"",function(Vt){return Vt})):ot!=null&&(N(ot)&&(ot=q(ot,Y+(ot.key==null||X&&X.key===ot.key?"":(""+ot.key).replace(D,"$&/")+"/")+gt)),L.push(ot)),1;gt=0;var Lt=J===""?".":J+":";if(_t(X))for(var Ct=0;Ct<X.length;Ct++)J=X[Ct],ut=Lt+lt(J,Ct),gt+=at(J,L,Y,ut,ot);else if(Ct=b(X),typeof Ct=="function")for(X=Ct.call(X),Ct=0;!(J=X.next()).done;)J=J.value,ut=Lt+lt(J,Ct++),gt+=at(J,L,Y,ut,ot);else if(ut==="object"){if(typeof X.then=="function")return at(xt(X),L,Y,J,ot);throw L=String(X),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return gt}function pt(X,L,Y){if(X==null)return X;var J=[],ot=0;return at(X,J,"","",function(ut){return L.call(Y,ut,ot++)}),J}function ft(X){if(X._status===-1){var L=X._result;L=L(),L.then(function(Y){(X._status===0||X._status===-1)&&(X._status=1,X._result=Y)},function(Y){(X._status===0||X._status===-1)&&(X._status=2,X._result=Y)}),X._status===-1&&(X._status=0,X._result=L)}if(X._status===1)return X._result.default;throw X._result}var Nt=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ht={map:pt,forEach:function(X,L,Y){pt(X,function(){L.apply(this,arguments)},Y)},count:function(X){var L=0;return pt(X,function(){L++}),L},toArray:function(X){return pt(X,function(L){return L})||[]},only:function(X){if(!N(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return nn.Activity=A,nn.Children=Ht,nn.Component=V,nn.Fragment=e,nn.Profiler=a,nn.PureComponent=et,nn.StrictMode=i,nn.Suspense=f,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,nn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return H.H.useMemoCache(X)}},nn.cache=function(X){return function(){return X.apply(null,arguments)}},nn.cacheSignal=function(){return null},nn.cloneElement=function(X,L,Y){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var J=M({},X.props),ot=X.key;if(L!=null)for(ut in L.key!==void 0&&(ot=""+L.key),L)!P.call(L,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&L.ref===void 0||(J[ut]=L[ut]);var ut=arguments.length-2;if(ut===1)J.children=Y;else if(1<ut){for(var gt=Array(ut),Lt=0;Lt<ut;Lt++)gt[Lt]=arguments[Lt+2];J.children=gt}return I(X.type,ot,J)},nn.createContext=function(X){return X={$$typeof:u,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},nn.createElement=function(X,L,Y){var J,ot={},ut=null;if(L!=null)for(J in L.key!==void 0&&(ut=""+L.key),L)P.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=L[J]);var gt=arguments.length-2;if(gt===1)ot.children=Y;else if(1<gt){for(var Lt=Array(gt),Ct=0;Ct<gt;Ct++)Lt[Ct]=arguments[Ct+2];ot.children=Lt}if(X&&X.defaultProps)for(J in gt=X.defaultProps,gt)ot[J]===void 0&&(ot[J]=gt[J]);return I(X,ut,ot)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(X){return{$$typeof:h,render:X}},nn.isValidElement=N,nn.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:ft}},nn.memo=function(X,L){return{$$typeof:d,type:X,compare:L===void 0?null:L}},nn.startTransition=function(X){var L=H.T,Y={};H.T=Y;try{var J=X(),ot=H.S;ot!==null&&ot(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ot,Nt)}catch(ut){Nt(ut)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),H.T=L}},nn.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},nn.use=function(X){return H.H.use(X)},nn.useActionState=function(X,L,Y){return H.H.useActionState(X,L,Y)},nn.useCallback=function(X,L){return H.H.useCallback(X,L)},nn.useContext=function(X){return H.H.useContext(X)},nn.useDebugValue=function(){},nn.useDeferredValue=function(X,L){return H.H.useDeferredValue(X,L)},nn.useEffect=function(X,L){return H.H.useEffect(X,L)},nn.useEffectEvent=function(X){return H.H.useEffectEvent(X)},nn.useId=function(){return H.H.useId()},nn.useImperativeHandle=function(X,L,Y){return H.H.useImperativeHandle(X,L,Y)},nn.useInsertionEffect=function(X,L){return H.H.useInsertionEffect(X,L)},nn.useLayoutEffect=function(X,L){return H.H.useLayoutEffect(X,L)},nn.useMemo=function(X,L){return H.H.useMemo(X,L)},nn.useOptimistic=function(X,L){return H.H.useOptimistic(X,L)},nn.useReducer=function(X,L,Y){return H.H.useReducer(X,L,Y)},nn.useRef=function(X){return H.H.useRef(X)},nn.useState=function(X){return H.H.useState(X)},nn.useSyncExternalStore=function(X,L,Y){return H.H.useSyncExternalStore(X,L,Y)},nn.useTransition=function(){return H.H.useTransition()},nn.version="19.2.0",nn}var Fv;function a2(){return Fv||(Fv=1,x1.exports=ZS()),x1.exports}var wt=a2();const t6=Qw(wt);var N1={exports:{}},zf={},R1={exports:{}},C1={};var zv;function e6(){return zv||(zv=1,(function(n){function t(at,pt){var ft=at.length;at.push(pt);t:for(;0<ft;){var Nt=ft-1>>>1,Ht=at[Nt];if(0<a(Ht,pt))at[Nt]=pt,at[ft]=Ht,ft=Nt;else break t}}function e(at){return at.length===0?null:at[0]}function i(at){if(at.length===0)return null;var pt=at[0],ft=at.pop();if(ft!==pt){at[0]=ft;t:for(var Nt=0,Ht=at.length,X=Ht>>>1;Nt<X;){var L=2*(Nt+1)-1,Y=at[L],J=L+1,ot=at[J];if(0>a(Y,ft))J<Ht&&0>a(ot,Y)?(at[Nt]=ot,at[J]=ft,Nt=J):(at[Nt]=Y,at[L]=ft,Nt=L);else if(J<Ht&&0>a(ot,ft))at[Nt]=ot,at[J]=ft,Nt=J;else break t}}return pt}function a(at,pt){var ft=at.sortIndex-pt.sortIndex;return ft!==0?ft:at.id-pt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],v=1,A=null,T=3,b=!1,O=!1,M=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function nt(at){for(var pt=e(d);pt!==null;){if(pt.callback===null)i(d);else if(pt.startTime<=at)i(d),pt.sortIndex=pt.expirationTime,t(f,pt);else break;pt=e(d)}}function _t(at){if(M=!1,nt(at),!O)if(e(f)!==null)O=!0,Ot||(Ot=!0,k());else{var pt=e(d);pt!==null&&xt(_t,pt.startTime-at)}}var Ot=!1,H=-1,P=5,I=-1;function q(){return B?!0:!(n.unstable_now()-I<P)}function N(){if(B=!1,Ot){var at=n.unstable_now();I=at;var pt=!0;try{t:{O=!1,M&&(M=!1,Z(H),H=-1),b=!0;var ft=T;try{e:{for(nt(at),A=e(f);A!==null&&!(A.expirationTime>at&&q());){var Nt=A.callback;if(typeof Nt=="function"){A.callback=null,T=A.priorityLevel;var Ht=Nt(A.expirationTime<=at);if(at=n.unstable_now(),typeof Ht=="function"){A.callback=Ht,nt(at),pt=!0;break e}A===e(f)&&i(f),nt(at)}else i(f);A=e(f)}if(A!==null)pt=!0;else{var X=e(d);X!==null&&xt(_t,X.startTime-at),pt=!1}}break t}finally{A=null,T=ft,b=!1}pt=void 0}}finally{pt?k():Ot=!1}}}var k;if(typeof et=="function")k=function(){et(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,lt=D.port2;D.port1.onmessage=N,k=function(){lt.postMessage(null)}}else k=function(){V(N,0)};function xt(at,pt){H=V(function(){at(n.unstable_now())},pt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(at){switch(T){case 1:case 2:case 3:var pt=3;break;default:pt=T}var ft=T;T=pt;try{return at()}finally{T=ft}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(at,pt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var ft=T;T=at;try{return pt()}finally{T=ft}},n.unstable_scheduleCallback=function(at,pt,ft){var Nt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Nt+ft:Nt):ft=Nt,at){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,at={id:v++,callback:pt,priorityLevel:at,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Nt?(at.sortIndex=ft,t(d,at),e(f)===null&&at===e(d)&&(M?(Z(H),H=-1):M=!0,xt(_t,ft-Nt))):(at.sortIndex=Ht,t(f,at),O||b||(O=!0,Ot||(Ot=!0,k()))),at},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(at){var pt=T;return function(){var ft=T;T=pt;try{return at.apply(this,arguments)}finally{T=ft}}}})(C1)),C1}var qv;function n6(){return qv||(qv=1,R1.exports=e6()),R1.exports}var I1={exports:{}},ds={};var Hv;function i6(){if(Hv)return ds;Hv=1;var n=a2();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ds.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,v)},ds.flushSync=function(f){var d=u.T,v=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=v,i.d.f()}},ds.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},ds.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ds.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:b}):v==="script"&&i.d.X(f,{crossOrigin:A,integrity:T,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ds.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},ds.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);i.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ds.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},ds.requestFormReset=function(f){i.d.r(f)},ds.unstable_batchedUpdates=function(f,d){return f(d)},ds.useFormState=function(f,d,v){return u.H.useFormState(f,d,v)},ds.useFormStatus=function(){return u.H.useHostTransitionStatus()},ds.version="19.2.0",ds}var Gv;function r6(){if(Gv)return I1.exports;Gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),I1.exports=i6(),I1.exports}var Yv;function s6(){if(Yv)return zf;Yv=1;var n=n6(),t=a2(),e=r6();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),r;if(_===c)return f(g),s;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=g,c=_;else{for(var R=!1,G=g.child;G;){if(G===l){R=!0,l=g,c=_;break}if(G===c){R=!0,c=g,l=_;break}G=G.sibling}if(!R){for(G=_.child;G;){if(G===l){R=!0,l=_,c=g;break}if(G===c){R=!0,c=_,l=g;break}G=G.sibling}if(!R)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),et=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function lt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case _t:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case et:return r.displayName||"Context";case Z:return(r._context.displayName||"Context")+".Consumer";case nt:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:lt(r.type)||"Memo";case P:s=r._payload,r=r._init;try{return lt(r(s))}catch{}}return null}var xt=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Nt=[],Ht=-1;function X(r){return{current:r}}function L(r){0>Ht||(r.current=Nt[Ht],Nt[Ht]=null,Ht--)}function Y(r,s){Ht++,Nt[Ht]=r.current,r.current=s}var J=X(null),ot=X(null),ut=X(null),gt=X(null);function Lt(r,s){switch(Y(ut,s),Y(ot,r),Y(J,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ov(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ov(s),r=lv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(J),Y(J,r)}function Ct(){L(J),L(ot),L(ut)}function Vt(r){r.memoizedState!==null&&Y(gt,r);var s=J.current,l=lv(s,r.type);s!==l&&(Y(ot,r),Y(J,l))}function Xt(r){ot.current===r&&(L(J),L(ot)),gt.current===r&&(L(gt),Uf._currentValue=ft)}var re,ie;function he(r){if(re===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",ie=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+r+ie}var tt=!1;function ee(r,s){if(!r||tt)return"";tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Kt=function(){throw Error()};if(Object.defineProperty(Kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Kt,[])}catch(Mt){var Pt=Mt}Reflect.construct(r,[],Kt)}else{try{Kt.call()}catch(Mt){Pt=Mt}r.call(Kt.prototype)}}else{try{throw Error()}catch(Mt){Pt=Mt}(Kt=r())&&typeof Kt.catch=="function"&&Kt.catch(function(){})}}catch(Mt){if(Mt&&Pt&&typeof Mt.stack=="string")return[Mt.stack,Pt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),R=_[0],G=_[1];if(R&&G){var ct=R.split(`
`),kt=G.split(`
`);for(g=c=0;c<ct.length&&!ct[c].includes("DetermineComponentFrameRoot");)c++;for(;g<kt.length&&!kt[g].includes("DetermineComponentFrameRoot");)g++;if(c===ct.length||g===kt.length)for(c=ct.length-1,g=kt.length-1;1<=c&&0<=g&&ct[c]!==kt[g];)g--;for(;1<=c&&0<=g;c--,g--)if(ct[c]!==kt[g]){if(c!==1||g!==1)do if(c--,g--,0>g||ct[c]!==kt[g]){var Ft=`
`+ct[c].replace(" at new "," at ");return r.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",r.displayName)),Ft}while(1<=c&&0<=g);break}}}finally{tt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?he(l):""}function Ge(r,s){switch(r.tag){case 26:case 27:case 5:return he(r.type);case 16:return he("Lazy");case 13:return r.child!==s&&s!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return ee(r.type,!1);case 11:return ee(r.type.render,!1);case 1:return ee(r.type,!0);case 31:return he("Activity");default:return""}}function Ee(r){try{var s="",l=null;do s+=Ge(r,l),l=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var zt=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,se=n.unstable_cancelCallback,Te=n.unstable_shouldYield,be=n.unstable_requestPaint,Ye=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Fe=n.unstable_ImmediatePriority,an=n.unstable_UserBlockingPriority,We=n.unstable_NormalPriority,St=n.unstable_LowPriority,le=n.unstable_IdlePriority,te=n.log,Je=n.unstable_setDisableYieldValue,Ue=null,_e=null;function xe(r){if(typeof te=="function"&&Je(r),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Ue,r)}catch{}}var Ze=Math.clz32?Math.clz32:je,Ne=Math.log,In=Math.LN2;function je(r){return r>>>=0,r===0?32:31-(Ne(r)/In|0)|0}var Ve=256,On=262144,Se=4194304;function we(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ln(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var g=0,_=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var G=c&134217727;return G!==0?(c=G&~_,c!==0?g=we(c):(R&=G,R!==0?g=we(R):l||(l=G&~r,l!==0&&(g=we(l))))):(G=c&~_,G!==0?g=we(G):R!==0?g=we(R):l||(l=c&~r,l!==0&&(g=we(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function pr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ir(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var r=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),r}function Ki(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Re(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function sa(r,s,l,c,g,_){var R=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var G=r.entanglements,ct=r.expirationTimes,kt=r.hiddenUpdates;for(l=R&~l;0<l;){var Ft=31-Ze(l),Kt=1<<Ft;G[Ft]=0,ct[Ft]=-1;var Pt=kt[Ft];if(Pt!==null)for(kt[Ft]=null,Ft=0;Ft<Pt.length;Ft++){var Mt=Pt[Ft];Mt!==null&&(Mt.lane&=-536870913)}l&=~Kt}c!==0&&qr(r,c,0),_!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=_&~(R&~s))}function qr(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ze(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function Rr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-Ze(l),g=1<<c;g&s|r[c]&s&&(r[c]|=s),l&=~g}}function Cr(r,s){var l=s&-s;return l=(l&42)!==0?1:zn(l),(l&(r.suspendedLanes|s))!==0?0:l}function zn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Di(){var r=pt.p;return r!==0?r:(r=window.event,r===void 0?32:Lv(r.type))}function mr(r,s){var l=pt.p;try{return pt.p=r,s()}finally{pt.p=l}}var rr=Math.random().toString(36).slice(2),Dn="__reactFiber$"+rr,Gn="__reactProps$"+rr,Pi="__reactContainer$"+rr,Ir="__reactEvents$"+rr,as="__reactListeners$"+rr,Ta="__reactHandles$"+rr,As="__reactResources$"+rr,Lr="__reactMarker$"+rr;function aa(r){delete r[Dn],delete r[Gn],delete r[Ir],delete r[as],delete r[Ta]}function Hr(r){var s=r[Dn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Pi]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=mv(r);r!==null;){if(l=r[Dn])return l;r=mv(r)}return s}r=l,l=r.parentNode}return null}function gr(r){if(r=r[Dn]||r[Pi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Gr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function os(r){var s=r[As];return s||(s=r[As]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function hi(r){r[Lr]=!0}var xo=new Set,kr={};function ls(r,s){Es(r,s),Es(r+"Capture",s)}function Es(r,s){for(kr[r]=s,r=0;r<s.length;r++)xo.add(s[r])}var $a=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Ro={};function ul(r){return zt.call(Ro,r)?!0:zt.call(No,r)?!1:$a.test(r)?Ro[r]=!0:(No[r]=!0,!1)}function Yr(r,s,l){if(ul(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function sr(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function vi(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}function fn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oa(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function us(r,s,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return g.call(this)},set:function(R){l=""+R,_.call(this,R)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function vn(r){if(!r._valueTracker){var s=oa(r)?"checked":"value";r._valueTracker=us(r,s,""+r[s])}}function xa(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=oa(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Ni(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var si=/[\n"\\]/g;function _i(r){return r.replace(si,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qa(r,s,l,c,g,_,R,G){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),s!=null?R==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+fn(s)):r.value!==""+fn(s)&&(r.value=""+fn(s)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),s!=null?cl(r,R,fn(s)):l!=null?cl(r,R,fn(l)):c!=null&&r.removeAttribute("value"),g==null&&_!=null&&(r.defaultChecked=!!_),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?r.name=""+fn(G):r.removeAttribute("name")}function Xl(r,s,l,c,g,_,R,G){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){vn(r);return}l=l!=null?""+fn(l):"",s=s!=null?""+fn(s):l,G||s===r.value||(r.value=s),r.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=G?r.checked:!!c,r.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R),vn(r)}function cl(r,s,l){s==="number"&&Ni(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function yr(r,s,l,c){if(r=r.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=s.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&c&&(r[l].defaultSelected=!0)}else{for(l=""+fn(l),s=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,c&&(r[g].defaultSelected=!0);return}s!==null||r[g].disabled||(s=r[g])}s!==null&&(s.selected=!0)}}function hl(r,s,l){if(s!=null&&(s=""+fn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+fn(l):""}function la(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(xt(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=fn(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),vn(r)}function Wi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||Na.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function dl(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&l[g]!==c&&fl(r,g,c)}else for(var _ in s)s.hasOwnProperty(_)&&fl(r,_,s[_])}function Co(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return ua.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ss(){}var ca=null;function Dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ra=null,Le=null;function Xa(r){var s=gr(r);if(s&&(r=s.stateNode)){var l=r[Gn]||null;t:switch(r=s.stateNode,s.type){case"input":if(Qa(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_i(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var g=c[Gn]||null;if(!g)throw Error(i(90));Qa(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&xa(c)}break t;case"textarea":hl(r,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&yr(r,!!l.multiple,s,!1)}}}var Lo=!1;function Ca(r,s,l){if(Lo)return r(s,l);Lo=!0;try{var c=r(s);return c}finally{if(Lo=!1,(Ra!==null||Le!==null)&&(lp(),Ra&&(s=Ra,r=Le,Le=Ra=null,Xa(s),r)))for(s=0;s<r.length;s++)Xa(r[s])}}function $i(r,s){var l=r.stateNode;if(l===null)return null;var c=l[Gn]||null;if(c===null)return null;l=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Mi)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ja=!1}var Kr=null,Za=null,Ts=null;function pl(){if(Ts)return Ts;var r,s=Za,l=s.length,c,g="value"in Kr?Kr.value:Kr.textContent,_=g.length;for(r=0;r<l&&s[r]===g[r];r++);var R=l-r;for(c=1;c<=R&&s[l-c]===g[_-c];c++);return Ts=g.slice(r,1<c?1-c:void 0)}function Wr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ha(){return!0}function $r(){return!1}function Ri(r){function s(l,c,g,_,R){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(l=r[G],this[G]=l?l(_):_[G]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ha:$r,this.isPropagationStopped=$r,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),s}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Ri(Ds),Ps=A({},Ds,{view:0,detail:0}),Ia=Ri(Ps),Ms,Us,cs,to=A({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oe,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cs&&(cs&&r.type==="mousemove"?(Ms=r.screenX-cs.screenX,Us=r.screenY-cs.screenY):Us=Ms=0,cs=r),Ms)},movementY:function(r){return"movementY"in r?r.movementY:Us}}),ko=Ri(to),Qr=A({},to,{dataTransfer:0}),js=Ri(Qr),ml=A({},Ps,{relatedTarget:0}),xs=Ri(ml),Oo=A({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Ri(Oo),U=A({},Ds,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rt=Ri(U),ht=A({},Ds,{data:0}),vt=Ri(ht),Bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fe[r])?!!s[r]:!1}function Oe(){return ge}var Ce=A({},Ps,{key:function(r){if(r.key){var s=Bt[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Wr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$t[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oe,charCode:function(r){return r.type==="keypress"?Wr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dn=Ri(Ce),Jn=A({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Ri(Jn),m=A({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oe}),S=Ri(m),C=A({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=Ri(C),At=A({},to,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=Ri(At),Zt=A({},Ds,{newState:0,oldState:0}),Ke=Ri(Zt),Zn=[9,13,27,32],cn=Mi&&"CompositionEvent"in window,Mn=null;Mi&&"documentMode"in document&&(Mn=document.documentMode);var or=Mi&&"TextEvent"in window&&!Mn,vr=Mi&&(!cn||Mn&&8<Mn&&11>=Mn),Yn=" ",_r=!1;function Ns(r,s){switch(r){case"keyup":return Zn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ka=!1;function Xr(r,s){switch(r){case"compositionend":return La(s);case"keypress":return s.which!==32?null:(_r=!0,Yn);case"textInput":return r=s.data,r===Yn&&_r?null:r;default:return null}}function eo(r,s){if(ka)return r==="compositionend"||!cn&&Ns(r,s)?(r=pl(),Ts=Za=Kr=null,ka=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vr&&s.locale!=="ko"?null:s.data;default:return null}}var Jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Jl[r.type]:s==="textarea"}function Rs(r,s,l,c){Ra?Le?Le.push(c):Le=[c]:Ra=c,s=mp(s,"onChange"),0<s.length&&(l=new ar("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var fa=null,no=null;function nc(r){ev(r,0)}function da(r){var s=Gr(r);if(xa(s))return r}function Do(r,s){if(r==="change")return s}var hs=!1;if(Mi){var Jr;if(Mi){var Oa="oninput"in document;if(!Oa){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Oa=typeof Da.oninput=="function"}Jr=Oa}else Jr=!1;hs=Jr&&(!document.documentMode||9<document.documentMode)}function io(){fa&&(fa.detachEvent("onpropertychange",Zl),no=fa=null)}function Zl(r){if(r.propertyName==="value"&&da(no)){var s=[];Rs(s,no,r,Dr(r)),Ca(nc,s)}}function tu(r,s,l){r==="focusin"?(io(),fa=s,no=l,fa.attachEvent("onpropertychange",Zl)):r==="focusout"&&io()}function Ci(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return da(no)}function zc(r,s){if(r==="click")return da(s)}function Pa(r,s){if(r==="input"||r==="change")return da(s)}function Ma(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var br=typeof Object.is=="function"?Object.is:Ma;function ro(r,s){if(br(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!zt.call(s,g)||!br(r[g],s[g]))return!1}return!0}function eu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function nu(r,s){var l=eu(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=eu(l)}}function so(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?so(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ao(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ni(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ni(r.document)}return s}function Ua(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var gl=Mi&&"documentMode"in document&&11>=document.documentMode,Cs=null,oo=null,Pr=null,Vs=!1;function Ln(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vs||Cs==null||Cs!==Ni(c)||(c=Cs,"selectionStart"in c&&Ua(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pr&&ro(Pr,c)||(Pr=c,c=mp(oo,"onSelect"),0<c.length&&(s=new ar("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=Cs)))}function Sn(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ti={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionrun:Sn("Transition","TransitionRun"),transitionstart:Sn("Transition","TransitionStart"),transitioncancel:Sn("Transition","TransitionCancel"),transitionend:Sn("Transition","TransitionEnd")},Ii={},ja={};Mi&&(ja=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function pa(r){if(Ii[r])return Ii[r];if(!ti[r])return r;var s=ti[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ja)return Ii[r]=s[l];return r}var yl=pa("animationend"),ic=pa("animationiteration"),af=pa("animationstart"),jd=pa("transitionrun"),Vd=pa("transitionstart"),Bd=pa("transitioncancel"),of=pa("transitionend"),lf=new Map,vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vl.push("scrollEnd");function Bs(r,s){lf.set(r,s),ls(s,[r])}var rc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Is=[],_l=0,qc=0;function sc(){for(var r=_l,s=qc=_l=0;s<r;){var l=Is[s];Is[s++]=null;var c=Is[s];Is[s++]=null;var g=Is[s];Is[s++]=null;var _=Is[s];if(Is[s++]=null,c!==null&&g!==null){var R=c.pending;R===null?g.next=g:(g.next=R.next,R.next=g),c.pending=g}_!==0&&oc(l,g,_)}}function ac(r,s,l,c){Is[_l++]=r,Is[_l++]=s,Is[_l++]=l,Is[_l++]=c,qc|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Hc(r,s,l,c){return ac(r,s,l,c),Mr(r)}function lo(r,s){return ac(r,null,null,s),Mr(r)}function oc(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var g=!1,_=r.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(g=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,g&&s!==null&&(g=31-Ze(l),r=_.hiddenUpdates,c=r[g],c===null?r[g]=[s]:c.push(s),s.lane=l|536870912),_):null}function Mr(r){if(50<If)throw If=0,$g=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var wr={};function Gc(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(r,s,l,c){return new Gc(r,s,l,c)}function Yc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fs(r,s){var l=r.alternate;return l===null?(l=Ur(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function lc(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function iu(r,s,l,c,g,_){var R=0;if(c=r,typeof r=="function")Yc(r)&&(R=1);else if(typeof r=="string")R=VS(r,l,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Ur(31,l,s,g),r.elementType=I,r.lanes=_,r;case M:return Po(l.children,g,_,s);case B:R=8,g|=24;break;case V:return r=Ur(12,l,s,g|2),r.elementType=V,r.lanes=_,r;case _t:return r=Ur(13,l,s,g),r.elementType=_t,r.lanes=_,r;case Ot:return r=Ur(19,l,s,g),r.elementType=Ot,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case et:R=10;break t;case Z:R=9;break t;case nt:R=11;break t;case H:R=14;break t;case P:R=16,c=null;break t}R=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Ur(R,l,s,g),s.elementType=r,s.type=c,s.lanes=_,s}function Po(r,s,l,c){return r=Ur(7,r,c,s),r.lanes=l,r}function uc(r,s,l){return r=Ur(6,r,null,s),r.lanes=l,r}function Kc(r){var s=Ur(18,null,null,0);return s.stateNode=r,s}function ru(r,s,l){return s=Ur(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Wc=new WeakMap;function zs(r,s){if(typeof r=="object"&&r!==null){var l=Wc.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Ee(s)},Wc.set(r,s),s)}return{value:r,source:s,stack:Ee(s)}}var su=[],bl=0,$c=null,cc=0,qs=[],Hs=0,Mo=null,Gs=1,Ys="";function Ls(r,s){su[bl++]=cc,su[bl++]=$c,$c=r,cc=s}function Fd(r,s,l){qs[Hs++]=Gs,qs[Hs++]=Ys,qs[Hs++]=Mo,Mo=r;var c=Gs;r=Ys;var g=32-Ze(c)-1;c&=~(1<<g),l+=1;var _=32-Ze(s)+g;if(30<_){var R=g-g%5;_=(c&(1<<R)-1).toString(32),c>>=R,g-=R,Gs=1<<32-Ze(s)+g|l<<g|c,Ys=_+r}else Gs=1<<_|l<<g|c,Ys=r}function uf(r){r.return!==null&&(Ls(r,1),Fd(r,1,0))}function Qc(r){for(;r===$c;)$c=su[--bl],su[bl]=null,cc=su[--bl],su[bl]=null;for(;r===Mo;)Mo=qs[--Hs],qs[Hs]=null,Ys=qs[--Hs],qs[Hs]=null,Gs=qs[--Hs],qs[Hs]=null}function zd(r,s){qs[Hs++]=Gs,qs[Hs++]=Ys,qs[Hs++]=Mo,Gs=s.id,Ys=s.overflow,Mo=r}var Ar=null,ai=null,mn=!1,Zr=null,bi=!1,ma=Error(i(519));function Uo(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(zs(s,r)),ma}function cf(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[Dn]=r,s[Gn]=c,l){case"dialog":yn("cancel",s),yn("close",s);break;case"iframe":case"object":case"embed":yn("load",s);break;case"video":case"audio":for(l=0;l<kf.length;l++)yn(kf[l],s);break;case"source":yn("error",s);break;case"img":case"image":case"link":yn("error",s),yn("load",s);break;case"details":yn("toggle",s);break;case"input":yn("invalid",s),Xl(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":yn("invalid",s);break;case"textarea":yn("invalid",s),la(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||sv(s.textContent,l)?(c.popover!=null&&(yn("beforetoggle",s),yn("toggle",s)),c.onScroll!=null&&yn("scroll",s),c.onScrollEnd!=null&&yn("scrollend",s),c.onClick!=null&&(s.onclick=Ss),s=!0):s=!1,s||Uo(r,!0)}function uo(r){for(Ar=r.return;Ar;)switch(Ar.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Ar=Ar.return}}function Er(r){if(r!==Ar)return!1;if(!mn)return uo(r),mn=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||c1(r.type,r.memoizedProps)),l=!l),l&&ai&&Uo(r),uo(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ai=pv(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ai=pv(r)}else s===27?(s=ai,bu(r.type)?(r=m1,m1=null,ai=r):ai=s):ai=Ar?za(r.stateNode.nextSibling):null;return!0}function wl(){ai=Ar=null,mn=!1}function hf(){var r=Zr;return r!==null&&(Js===null?Js=r:Js.push.apply(Js,r),Zr=null),r}function au(r){Zr===null?Zr=[r]:Zr.push(r)}var Xc=X(null),jo=null,Va=null;function Vo(r,s,l){Y(Xc,s._currentValue),s._currentValue=l}function Ks(r){r._currentValue=Xc.current,L(Xc)}function ou(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Al(r,s,l,c){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var _=g.dependencies;if(_!==null){var R=g.child;_=_.firstContext;t:for(;_!==null;){var G=_;_=g;for(var ct=0;ct<s.length;ct++)if(G.context===s[ct]){_.lanes|=l,G=_.alternate,G!==null&&(G.lanes|=l),ou(_.return,l,r),c||(R=null);break t}_=G.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(i(341));R.lanes|=l,_=R.alternate,_!==null&&(_.lanes|=l),ou(R,l,r),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===r){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function Bo(r,s,l,c){r=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var G=g.type;br(g.pendingProps.value,R.value)||(r!==null?r.push(G):r=[G])}}else if(g===gt.current){if(R=g.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Uf):r=[Uf])}g=g.return}r!==null&&Al(s,r,l,c),s.flags|=262144}function Jc(r){for(r=r.firstContext;r!==null;){if(!br(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fo(r){jo=r,Va=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sr(r){return qd(jo,r)}function Zc(r,s){return jo===null&&Fo(r),qd(r,s)}function qd(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Va===null){if(r===null)throw Error(i(308));Va=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Va=Va.next=s;return l}var pg=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},mg=n.unstable_scheduleCallback,gg=n.unstable_NormalPriority,Li={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new pg,data:new Map,refCount:0}}function hc(r){r.refCount--,r.refCount===0&&mg(gg,function(){r.controller.abort()})}var fc=null,th=0,p=0,y=null;function E(r,s){if(fc===null){var l=fc=[];th=0,p=e1(),y={status:"pending",value:void 0,then:function(c){l.push(c)}}}return th++,s.then(x,x),s}function x(){if(--th===0&&fc!==null){y!==null&&(y.status="fulfilled");var r=fc;fc=null,p=0,y=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function j(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var F=at.S;at.S=function(r,s){C5=Ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&E(r,s),F!==null&&F(r,s)};var z=X(null);function K(){var r=z.current;return r!==null?r:li.pooledCache}function Q(r,s){s===null?Y(z,z.current):Y(z,s.pool)}function st(){var r=K();return r===null?null:{parent:Li._currentValue,pool:r}}var dt=Error(i(460)),Rt=Error(i(474)),it=Error(i(542)),yt={then:function(){}};function Et(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jt(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Ss,Ss),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Jt(r),r;default:if(typeof s.status=="string")s.then(Ss,Ss);else{if(r=li,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Jt(r),r}throw Ut=s,dt}}function Tt(r){try{var s=r._init;return s(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ut=l,dt):l}}var Ut=null;function qt(){if(Ut===null)throw Error(i(459));var r=Ut;return Ut=null,r}function Jt(r){if(r===dt||r===it)throw Error(i(483))}var Wt=null,ye=0;function ue(r){var s=ye;return ye+=1,Wt===null&&(Wt=[]),jt(Wt,r,s)}function $e(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function pe(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function pn(r){function s(bt,mt){if(r){var It=bt.deletions;It===null?(bt.deletions=[mt],bt.flags|=16):It.push(mt)}}function l(bt,mt){if(!r)return null;for(;mt!==null;)s(bt,mt),mt=mt.sibling;return null}function c(bt){for(var mt=new Map;bt!==null;)bt.key!==null?mt.set(bt.key,bt):mt.set(bt.index,bt),bt=bt.sibling;return mt}function g(bt,mt){return bt=Fs(bt,mt),bt.index=0,bt.sibling=null,bt}function _(bt,mt,It){return bt.index=It,r?(It=bt.alternate,It!==null?(It=It.index,It<mt?(bt.flags|=67108866,mt):It):(bt.flags|=67108866,mt)):(bt.flags|=1048576,mt)}function R(bt){return r&&bt.alternate===null&&(bt.flags|=67108866),bt}function G(bt,mt,It,Gt){return mt===null||mt.tag!==6?(mt=uc(It,bt.mode,Gt),mt.return=bt,mt):(mt=g(mt,It),mt.return=bt,mt)}function ct(bt,mt,It,Gt){var Pe=It.type;return Pe===M?Ft(bt,mt,It.props.children,Gt,It.key):mt!==null&&(mt.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===P&&Tt(Pe)===mt.type)?(mt=g(mt,It.props),$e(mt,It),mt.return=bt,mt):(mt=iu(It.type,It.key,It.props,null,bt.mode,Gt),$e(mt,It),mt.return=bt,mt)}function kt(bt,mt,It,Gt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==It.containerInfo||mt.stateNode.implementation!==It.implementation?(mt=ru(It,bt.mode,Gt),mt.return=bt,mt):(mt=g(mt,It.children||[]),mt.return=bt,mt)}function Ft(bt,mt,It,Gt,Pe){return mt===null||mt.tag!==7?(mt=Po(It,bt.mode,Gt,Pe),mt.return=bt,mt):(mt=g(mt,It),mt.return=bt,mt)}function Kt(bt,mt,It){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=uc(""+mt,bt.mode,It),mt.return=bt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return It=iu(mt.type,mt.key,mt.props,null,bt.mode,It),$e(It,mt),It.return=bt,It;case O:return mt=ru(mt,bt.mode,It),mt.return=bt,mt;case P:return mt=Tt(mt),Kt(bt,mt,It)}if(xt(mt)||k(mt))return mt=Po(mt,bt.mode,It,null),mt.return=bt,mt;if(typeof mt.then=="function")return Kt(bt,ue(mt),It);if(mt.$$typeof===et)return Kt(bt,Zc(bt,mt),It);pe(bt,mt)}return null}function Pt(bt,mt,It,Gt){var Pe=mt!==null?mt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint")return Pe!==null?null:G(bt,mt,""+It,Gt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case b:return It.key===Pe?ct(bt,mt,It,Gt):null;case O:return It.key===Pe?kt(bt,mt,It,Gt):null;case P:return It=Tt(It),Pt(bt,mt,It,Gt)}if(xt(It)||k(It))return Pe!==null?null:Ft(bt,mt,It,Gt,null);if(typeof It.then=="function")return Pt(bt,mt,ue(It),Gt);if(It.$$typeof===et)return Pt(bt,mt,Zc(bt,It),Gt);pe(bt,It)}return null}function Mt(bt,mt,It,Gt,Pe){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return bt=bt.get(It)||null,G(mt,bt,""+Gt,Pe);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case b:return bt=bt.get(Gt.key===null?It:Gt.key)||null,ct(mt,bt,Gt,Pe);case O:return bt=bt.get(Gt.key===null?It:Gt.key)||null,kt(mt,bt,Gt,Pe);case P:return Gt=Tt(Gt),Mt(bt,mt,It,Gt,Pe)}if(xt(Gt)||k(Gt))return bt=bt.get(It)||null,Ft(mt,bt,Gt,Pe,null);if(typeof Gt.then=="function")return Mt(bt,mt,It,ue(Gt),Pe);if(Gt.$$typeof===et)return Mt(bt,mt,It,Zc(mt,Gt),Pe);pe(mt,Gt)}return null}function me(bt,mt,It,Gt){for(var Pe=null,Un=null,Ae=mt,un=mt=0,bn=null;Ae!==null&&un<It.length;un++){Ae.index>un?(bn=Ae,Ae=null):bn=Ae.sibling;var jn=Pt(bt,Ae,It[un],Gt);if(jn===null){Ae===null&&(Ae=bn);break}r&&Ae&&jn.alternate===null&&s(bt,Ae),mt=_(jn,mt,un),Un===null?Pe=jn:Un.sibling=jn,Un=jn,Ae=bn}if(un===It.length)return l(bt,Ae),mn&&Ls(bt,un),Pe;if(Ae===null){for(;un<It.length;un++)Ae=Kt(bt,It[un],Gt),Ae!==null&&(mt=_(Ae,mt,un),Un===null?Pe=Ae:Un.sibling=Ae,Un=Ae);return mn&&Ls(bt,un),Pe}for(Ae=c(Ae);un<It.length;un++)bn=Mt(Ae,bt,un,It[un],Gt),bn!==null&&(r&&bn.alternate!==null&&Ae.delete(bn.key===null?un:bn.key),mt=_(bn,mt,un),Un===null?Pe=bn:Un.sibling=bn,Un=bn);return r&&Ae.forEach(function(Tu){return s(bt,Tu)}),mn&&Ls(bt,un),Pe}function ze(bt,mt,It,Gt){if(It==null)throw Error(i(151));for(var Pe=null,Un=null,Ae=mt,un=mt=0,bn=null,jn=It.next();Ae!==null&&!jn.done;un++,jn=It.next()){Ae.index>un?(bn=Ae,Ae=null):bn=Ae.sibling;var Tu=Pt(bt,Ae,jn.value,Gt);if(Tu===null){Ae===null&&(Ae=bn);break}r&&Ae&&Tu.alternate===null&&s(bt,Ae),mt=_(Tu,mt,un),Un===null?Pe=Tu:Un.sibling=Tu,Un=Tu,Ae=bn}if(jn.done)return l(bt,Ae),mn&&Ls(bt,un),Pe;if(Ae===null){for(;!jn.done;un++,jn=It.next())jn=Kt(bt,jn.value,Gt),jn!==null&&(mt=_(jn,mt,un),Un===null?Pe=jn:Un.sibling=jn,Un=jn);return mn&&Ls(bt,un),Pe}for(Ae=c(Ae);!jn.done;un++,jn=It.next())jn=Mt(Ae,bt,un,jn.value,Gt),jn!==null&&(r&&jn.alternate!==null&&Ae.delete(jn.key===null?un:jn.key),mt=_(jn,mt,un),Un===null?Pe=jn:Un.sibling=jn,Un=jn);return r&&Ae.forEach(function(QS){return s(bt,QS)}),mn&&Ls(bt,un),Pe}function ri(bt,mt,It,Gt){if(typeof It=="object"&&It!==null&&It.type===M&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case b:t:{for(var Pe=It.key;mt!==null;){if(mt.key===Pe){if(Pe=It.type,Pe===M){if(mt.tag===7){l(bt,mt.sibling),Gt=g(mt,It.props.children),Gt.return=bt,bt=Gt;break t}}else if(mt.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===P&&Tt(Pe)===mt.type){l(bt,mt.sibling),Gt=g(mt,It.props),$e(Gt,It),Gt.return=bt,bt=Gt;break t}l(bt,mt);break}else s(bt,mt);mt=mt.sibling}It.type===M?(Gt=Po(It.props.children,bt.mode,Gt,It.key),Gt.return=bt,bt=Gt):(Gt=iu(It.type,It.key,It.props,null,bt.mode,Gt),$e(Gt,It),Gt.return=bt,bt=Gt)}return R(bt);case O:t:{for(Pe=It.key;mt!==null;){if(mt.key===Pe)if(mt.tag===4&&mt.stateNode.containerInfo===It.containerInfo&&mt.stateNode.implementation===It.implementation){l(bt,mt.sibling),Gt=g(mt,It.children||[]),Gt.return=bt,bt=Gt;break t}else{l(bt,mt);break}else s(bt,mt);mt=mt.sibling}Gt=ru(It,bt.mode,Gt),Gt.return=bt,bt=Gt}return R(bt);case P:return It=Tt(It),ri(bt,mt,It,Gt)}if(xt(It))return me(bt,mt,It,Gt);if(k(It)){if(Pe=k(It),typeof Pe!="function")throw Error(i(150));return It=Pe.call(It),ze(bt,mt,It,Gt)}if(typeof It.then=="function")return ri(bt,mt,ue(It),Gt);if(It.$$typeof===et)return ri(bt,mt,Zc(bt,It),Gt);pe(bt,It)}return typeof It=="string"&&It!==""||typeof It=="number"||typeof It=="bigint"?(It=""+It,mt!==null&&mt.tag===6?(l(bt,mt.sibling),Gt=g(mt,It),Gt.return=bt,bt=Gt):(l(bt,mt),Gt=uc(It,bt.mode,Gt),Gt.return=bt,bt=Gt),R(bt)):l(bt,mt)}return function(bt,mt,It,Gt){try{ye=0;var Pe=ri(bt,mt,It,Gt);return Wt=null,Pe}catch(Ae){if(Ae===dt||Ae===it)throw Ae;var Un=Ur(29,Ae,null,bt.mode);return Un.lanes=Gt,Un.return=bt,Un}finally{}}}var oi=pn(!0),en=pn(!1),ce=!1;function ne(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fi(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Be(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function on(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Fn&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=Mr(r),oc(r,null,l),s}return ac(r,c,s,l),Mr(r)}function Vn(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Rr(r,l)}}function Qi(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=R:_=_.next=R,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Tr=!1;function ei(){if(Tr){var r=y;if(r!==null)throw r}}function Ui(r,s,l,c){Tr=!1;var g=r.updateQueue;ce=!1;var _=g.firstBaseUpdate,R=g.lastBaseUpdate,G=g.shared.pending;if(G!==null){g.shared.pending=null;var ct=G,kt=ct.next;ct.next=null,R===null?_=kt:R.next=kt,R=ct;var Ft=r.alternate;Ft!==null&&(Ft=Ft.updateQueue,G=Ft.lastBaseUpdate,G!==R&&(G===null?Ft.firstBaseUpdate=kt:G.next=kt,Ft.lastBaseUpdate=ct))}if(_!==null){var Kt=g.baseState;R=0,Ft=kt=ct=null,G=_;do{var Pt=G.lane&-536870913,Mt=Pt!==G.lane;if(Mt?(_n&Pt)===Pt:(c&Pt)===Pt){Pt!==0&&Pt===p&&(Tr=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var me=r,ze=G;Pt=s;var ri=l;switch(ze.tag){case 1:if(me=ze.payload,typeof me=="function"){Kt=me.call(ri,Kt,Pt);break t}Kt=me;break t;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ze.payload,Pt=typeof me=="function"?me.call(ri,Kt,Pt):me,Pt==null)break t;Kt=A({},Kt,Pt);break t;case 2:ce=!0}}Pt=G.callback,Pt!==null&&(r.flags|=64,Mt&&(r.flags|=8192),Mt=g.callbacks,Mt===null?g.callbacks=[Pt]:Mt.push(Pt))}else Mt={lane:Pt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ft===null?(kt=Ft=Mt,ct=Kt):Ft=Ft.next=Mt,R|=Pt;if(G=G.next,G===null){if(G=g.shared.pending,G===null)break;Mt=G,G=Mt.next,Mt.next=null,g.lastBaseUpdate=Mt,g.shared.pending=null}}while(!0);Ft===null&&(ct=Kt),g.baseState=ct,g.firstBaseUpdate=kt,g.lastBaseUpdate=Ft,_===null&&(g.shared.lanes=0),mu|=R,r.lanes=R,r.memoizedState=Kt}}function jr(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ji(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)jr(l[r],s)}var hn=X(null),xn=X(0);function di(r,s){r=kl,Y(xn,r),Y(hn,s),kl=r|s.baseLanes}function kn(){Y(xn,kl),Y(hn,hn.current)}function Xi(){kl=xn.current,L(hn),L(xn)}var pi=X(null),Nn=null;function ki(r){var s=r.alternate;Y(Tn,Tn.current&1),Y(pi,r),Nn===null&&(s===null||hn.current!==null||s.memoizedState!==null)&&(Nn=r)}function Bn(r){Y(Tn,Tn.current),Y(pi,r),Nn===null&&(Nn=r)}function Vi(r){r.tag===22?(Y(Tn,Tn.current),Y(pi,r),Nn===null&&(Nn=r)):Bi()}function Bi(){Y(Tn,Tn.current),Y(pi,pi.current)}function Kn(r){L(pi),Nn===r&&(Nn=null),L(Tn)}var Tn=X(0);function Vr(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||d1(l)||p1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wi=0,ke=null,De=null,Rn=null,fs=!1,Ws=!1,ts=!1,Fi=0,zo=0,qo=null,eh=0;function ni(){throw Error(i(321))}function ff(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!br(r[l],s[l]))return!1;return!0}function df(r,s,l,c,g,_){return wi=_,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,at.H=r===null||r.memoizedState===null?By:Sg,ts=!1,_=l(c,g),ts=!1,Ws&&(_=co(s,l,c,g)),nh(r),_}function nh(r){at.H=wf;var s=De!==null&&De.next!==null;if(wi=0,Rn=De=ke=null,fs=!1,zo=0,qo=null,s)throw Error(i(300));r===null||ur||(r=r.dependencies,r!==null&&Jc(r)&&(ur=!0))}function co(r,s,l,c){ke=r;var g=0;do{if(Ws&&(qo=null),zo=0,Ws=!1,25<=g)throw Error(i(301));if(g+=1,Rn=De=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}at.H=Fy,_=s(l,c)}while(Ws);return _}function yg(){var r=at.H,s=r.useState()[0];return s=typeof s.then=="function"?Ho(s):s,r=r.useState()[0],(De!==null?De.memoizedState:null)!==r&&(ke.flags|=1024),s}function pf(){var r=Fi!==0;return Fi=0,r}function mf(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function ih(r){if(fs){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fs=!1}wi=0,Rn=De=ke=null,Ws=!1,zo=Fi=0,qo=null}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?ke.memoizedState=Rn=r:Rn=Rn.next=r,Rn}function Ai(){if(De===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=De.next;var s=Rn===null?ke.memoizedState:Rn.next;if(s!==null)Rn=s,De=r;else{if(r===null)throw ke.alternate===null?Error(i(467)):Error(i(310));De=r,r={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Rn===null?ke.memoizedState=Rn=r:Rn=Rn.next=r}return Rn}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(r){var s=zo;return zo+=1,qo===null&&(qo=[]),r=jt(qo,r,s),s=ke,(Rn===null?s.memoizedState:Rn.next)===null&&(s=s.alternate,at.H=s===null||s.memoizedState===null?By:Sg),r}function uu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ho(r);if(r.$$typeof===et)return Sr(r)}throw Error(i(438,String(r)))}function El(r){var s=null,l=ke.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=dc(),ke.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=q;return s.index++,l}function Ba(r,s){return typeof s=="function"?s(r):s}function rh(r){var s=Ai();return cu(s,De,r)}function cu(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var g=r.baseQueue,_=c.pending;if(_!==null){if(g!==null){var R=g.next;g.next=_.next,_.next=R}s.baseQueue=g=_,c.pending=null}if(_=r.baseState,g===null)r.memoizedState=_;else{s=g.next;var G=R=null,ct=null,kt=s,Ft=!1;do{var Kt=kt.lane&-536870913;if(Kt!==kt.lane?(_n&Kt)===Kt:(wi&Kt)===Kt){var Pt=kt.revertLane;if(Pt===0)ct!==null&&(ct=ct.next={lane:0,revertLane:0,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),Kt===p&&(Ft=!0);else if((wi&Pt)===Pt){kt=kt.next,Pt===p&&(Ft=!0);continue}else Kt={lane:0,revertLane:kt.revertLane,gesture:null,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},ct===null?(G=ct=Kt,R=_):ct=ct.next=Kt,ke.lanes|=Pt,mu|=Pt;Kt=kt.action,ts&&l(_,Kt),_=kt.hasEagerState?kt.eagerState:l(_,Kt)}else Pt={lane:Kt,revertLane:kt.revertLane,gesture:kt.gesture,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},ct===null?(G=ct=Pt,R=_):ct=ct.next=Pt,ke.lanes|=Kt,mu|=Kt;kt=kt.next}while(kt!==null&&kt!==s);if(ct===null?R=_:ct.next=G,!br(_,r.memoizedState)&&(ur=!0,Ft&&(l=y,l!==null)))throw l;r.memoizedState=_,r.baseState=R,r.baseQueue=ct,c.lastRenderedState=_}return g===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function sh(r){var s=Ai(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do _=r(_,R.action),R=R.next;while(R!==g);br(_,s.memoizedState)||(ur=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,c]}function ah(r,s,l){var c=ke,g=Ai(),_=mn;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var R=!br((De||g).memoizedState,l);if(R&&(g.memoizedState=l,ur=!0),g=g.queue,vg(yf.bind(null,c,g,r),[r]),g.getSnapshot!==s||R||Rn!==null&&Rn.memoizedState.tag&1){if(c.flags|=2048,Tl(9,{destroy:void 0},gf.bind(null,c,g,l,s),null),li===null)throw Error(i(349));_||(wi&127)!==0||ho(c,s,l)}return l}function ho(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ke.updateQueue,s===null?(s=dc(),ke.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function gf(r,s,l,c){s.value=l,s.getSnapshot=c,Hd(s)&&vf(r)}function yf(r,s,l){return l(function(){Hd(s)&&vf(r)})}function Hd(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!br(r,l)}catch{return!0}}function vf(r){var s=lo(r,2);s!==null&&Zs(s,r,2)}function Go(r){var s=lr();if(typeof r=="function"){var l=r;if(r=l(),ts){xe(!0);try{l()}finally{xe(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:r},s}function Gd(r,s,l,c){return r.baseState=l,cu(r,De,typeof c=="function"?c:Ba)}function Yd(r,s,l,c,g){if(Qd(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};at.T!==null?l(!0):_.isTransition=!1,c(_),l=s.pending,l===null?(_.next=s.pending=_,Kd(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Kd(r,s){var l=s.action,c=s.payload,g=r.state;if(s.isTransition){var _=at.T,R={};at.T=R;try{var G=l(g,c),ct=at.S;ct!==null&&ct(R,G),_f(r,s,G)}catch(kt){Sl(r,s,kt)}finally{_!==null&&R.types!==null&&(_.types=R.types),at.T=_}}else try{_=l(g,c),_f(r,s,_)}catch(kt){Sl(r,s,kt)}}function _f(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Wd(r,s,c)},function(c){return Sl(r,s,c)}):Wd(r,s,l)}function Wd(r,s,l){s.status="fulfilled",s.value=l,oh(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Kd(r,l)))}function Sl(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,oh(s),s=s.next;while(s!==c)}r.action=null}function oh(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function pc(r,s){return s}function Fa(r,s){if(mn){var l=li.formState;if(l!==null){t:{var c=ke;if(mn){if(ai){e:{for(var g=ai,_=bi;g.nodeType!==8;){if(!_){g=null;break e}if(g=za(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){ai=za(g.nextSibling),c=g.data==="F!";break t}}Uo(c)}c=!1}c&&(s=l[0])}}return l=lr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:s},l.queue=c,l=Uy.bind(null,ke,c),c.dispatch=l,c=Go(!1),_=Eg.bind(null,ke,!1,c.queue),c=lr(),g={state:s,dispatch:null,action:r,pending:null},c.queue=g,l=Yd.bind(null,ke,g,_,l),g.dispatch=l,c.memoizedState=r,[s,l,!1]}function fo(r){var s=Ai();return po(s,De,r)}function po(r,s,l){if(s=cu(r,s,pc)[0],r=rh(Ba)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ho(s)}catch(R){throw R===dt?it:R}else c=s;s=Ai();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(ke.flags|=2048,Tl(9,{destroy:void 0},lh.bind(null,g,l),null)),[c,_,r]}function lh(r,s){r.action=s}function uh(r){var s=Ai(),l=De;if(l!==null)return po(s,l,r);Ai(),s=s.memoizedState,l=Ai();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function Tl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=ke.updateQueue,s===null&&(s=dc(),ke.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function $d(){return Ai().memoizedState}function hu(r,s,l,c){var g=lr();ke.flags|=r,g.memoizedState=Tl(1|s,{destroy:void 0},l,c===void 0?null:c)}function fu(r,s,l,c){var g=Ai();c=c===void 0?null:c;var _=g.memoizedState.inst;De!==null&&c!==null&&ff(c,De.memoizedState.deps)?g.memoizedState=Tl(s,_,l,c):(ke.flags|=r,g.memoizedState=Tl(1|s,_,l,c))}function Ey(r,s){hu(8390656,8,r,s)}function vg(r,s){fu(2048,8,r,s)}function HE(r){ke.flags|=4;var s=ke.updateQueue;if(s===null)s=dc(),ke.updateQueue=s,s.events=[r];else{var l=s.events;l===null?s.events=[r]:l.push(r)}}function Sy(r){var s=Ai().memoizedState;return HE({ref:s,nextImpl:r}),function(){if((Fn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Ty(r,s){return fu(4,2,r,s)}function xy(r,s){return fu(4,4,r,s)}function Ny(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ry(r,s,l){l=l!=null?l.concat([r]):null,fu(4,4,Ny.bind(null,s,r),l)}function _g(){}function Cy(r,s){var l=Ai();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&ff(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function Iy(r,s){var l=Ai();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&ff(s,c[1]))return c[0];if(c=r(),ts){xe(!0);try{r()}finally{xe(!1)}}return l.memoizedState=[c,s],c}function bg(r,s,l){return l===void 0||(wi&1073741824)!==0&&(_n&261930)===0?r.memoizedState=s:(r.memoizedState=l,r=L5(),ke.lanes|=r,mu|=r,l)}function Ly(r,s,l,c){return br(l,s)?l:hn.current!==null?(r=bg(r,l,c),br(r,s)||(ur=!0),r):(wi&42)===0||(wi&1073741824)!==0&&(_n&261930)===0?(ur=!0,r.memoizedState=l):(r=L5(),ke.lanes|=r,mu|=r,s)}function ky(r,s,l,c,g){var _=pt.p;pt.p=_!==0&&8>_?_:8;var R=at.T,G={};at.T=G,Eg(r,!1,s,l);try{var ct=g(),kt=at.S;if(kt!==null&&kt(G,ct),ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var Ft=j(ct,c);bf(r,s,Ft,va(r))}else bf(r,s,c,va(r))}catch(Kt){bf(r,s,{then:function(){},status:"rejected",reason:Kt},va())}finally{pt.p=_,R!==null&&G.types!==null&&(R.types=G.types),at.T=R}}function GE(){}function wg(r,s,l,c){if(r.tag!==5)throw Error(i(476));var g=Oy(r).queue;ky(r,g,s,ft,l===null?GE:function(){return Dy(r),l(c)})}function Oy(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:ft},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Dy(r){var s=Oy(r);s.next===null&&(s=r.alternate.memoizedState),bf(r,s.next.queue,{},va())}function Ag(){return Sr(Uf)}function Py(){return Ai().memoizedState}function My(){return Ai().memoizedState}function YE(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=va();r=Be(l);var c=on(s,r,l);c!==null&&(Zs(c,s,l),Vn(c,s,l)),s={cache:lu()},r.payload=s;return}s=s.return}}function KE(r,s,l){var c=va();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qd(r)?jy(s,l):(l=Hc(r,s,l,c),l!==null&&(Zs(l,r,c),Vy(l,s,c)))}function Uy(r,s,l){var c=va();bf(r,s,l,c)}function bf(r,s,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qd(r))jy(s,g);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var R=s.lastRenderedState,G=_(R,l);if(g.hasEagerState=!0,g.eagerState=G,br(G,R))return ac(r,s,g,0),li===null&&sc(),!1}catch{}finally{}if(l=Hc(r,s,g,c),l!==null)return Zs(l,r,c),Vy(l,s,c),!0}return!1}function Eg(r,s,l,c){if(c={lane:2,revertLane:e1(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qd(r)){if(s)throw Error(i(479))}else s=Hc(r,l,c,2),s!==null&&Zs(s,r,2)}function Qd(r){var s=r.alternate;return r===ke||s!==null&&s===ke}function jy(r,s){Ws=fs=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Vy(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Rr(r,l)}}var wf={readContext:Sr,use:uu,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni,useHostTransitionStatus:ni,useFormState:ni,useActionState:ni,useOptimistic:ni,useMemoCache:ni,useCacheRefresh:ni};wf.useEffectEvent=ni;var By={readContext:Sr,use:uu,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Sr,useEffect:Ey,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,hu(4194308,4,Ny.bind(null,s,r),l)},useLayoutEffect:function(r,s){return hu(4194308,4,r,s)},useInsertionEffect:function(r,s){hu(4,2,r,s)},useMemo:function(r,s){var l=lr();s=s===void 0?null:s;var c=r();if(ts){xe(!0);try{r()}finally{xe(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=lr();if(l!==void 0){var g=l(s);if(ts){xe(!0);try{l(s)}finally{xe(!1)}}}else g=s;return c.memoizedState=c.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},c.queue=r,r=r.dispatch=KE.bind(null,ke,r),[c.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:function(r){r=Go(r);var s=r.queue,l=Uy.bind(null,ke,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:_g,useDeferredValue:function(r,s){var l=lr();return bg(l,r,s)},useTransition:function(){var r=Go(!1);return r=ky.bind(null,ke,r.queue,!0,!1),lr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=ke,g=lr();if(mn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),li===null)throw Error(i(349));(_n&127)!==0||ho(c,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,Ey(yf.bind(null,c,_,r),[r]),c.flags|=2048,Tl(9,{destroy:void 0},gf.bind(null,c,_,l,s),null),l},useId:function(){var r=lr(),s=li.identifierPrefix;if(mn){var l=Ys,c=Gs;l=(c&~(1<<32-Ze(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Fi++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=eh++,s="_"+s+"r_"+l.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Ag,useFormState:Fa,useActionState:Fa,useOptimistic:function(r){var s=lr();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Eg.bind(null,ke,!0,l),l.dispatch=s,[r,s]},useMemoCache:El,useCacheRefresh:function(){return lr().memoizedState=YE.bind(null,ke)},useEffectEvent:function(r){var s=lr(),l={impl:r};return s.memoizedState=l,function(){if((Fn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Sg={readContext:Sr,use:uu,useCallback:Cy,useContext:Sr,useEffect:vg,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Iy,useReducer:rh,useRef:$d,useState:function(){return rh(Ba)},useDebugValue:_g,useDeferredValue:function(r,s){var l=Ai();return Ly(l,De.memoizedState,r,s)},useTransition:function(){var r=rh(Ba)[0],s=Ai().memoizedState;return[typeof r=="boolean"?r:Ho(r),s]},useSyncExternalStore:ah,useId:Py,useHostTransitionStatus:Ag,useFormState:fo,useActionState:fo,useOptimistic:function(r,s){var l=Ai();return Gd(l,De,r,s)},useMemoCache:El,useCacheRefresh:My};Sg.useEffectEvent=Sy;var Fy={readContext:Sr,use:uu,useCallback:Cy,useContext:Sr,useEffect:vg,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Iy,useReducer:sh,useRef:$d,useState:function(){return sh(Ba)},useDebugValue:_g,useDeferredValue:function(r,s){var l=Ai();return De===null?bg(l,r,s):Ly(l,De.memoizedState,r,s)},useTransition:function(){var r=sh(Ba)[0],s=Ai().memoizedState;return[typeof r=="boolean"?r:Ho(r),s]},useSyncExternalStore:ah,useId:Py,useHostTransitionStatus:Ag,useFormState:uh,useActionState:uh,useOptimistic:function(r,s){var l=Ai();return De!==null?Gd(l,De,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:El,useCacheRefresh:My};Fy.useEffectEvent=Sy;function Tg(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:A({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var xg={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=va(),g=Be(c);g.payload=s,l!=null&&(g.callback=l),s=on(r,g,c),s!==null&&(Zs(s,r,c),Vn(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=va(),g=Be(c);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=on(r,g,c),s!==null&&(Zs(s,r,c),Vn(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=va(),c=Be(l);c.tag=2,s!=null&&(c.callback=s),s=on(r,c,l),s!==null&&(Zs(s,r,l),Vn(s,r,l))}};function zy(r,s,l,c,g,_,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,_,R):s.prototype&&s.prototype.isPureReactComponent?!ro(l,c)||!ro(g,_):!0}function qy(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&xg.enqueueReplaceState(s,s.state,null)}function mc(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=A({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function Hy(r){rc(r)}function Gy(r){console.error(r)}function Yy(r){rc(r)}function Xd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Ky(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ng(r,s,l){return l=Be(l),l.tag=3,l.payload={element:null},l.callback=function(){Xd(r,s)},l}function Wy(r){return r=Be(r),r.tag=3,r}function $y(r,s,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=c.value;r.payload=function(){return g(_)},r.callback=function(){Ky(s,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){Ky(s,l,c),typeof g!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})})}function WE(r,s,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Bo(s,l,g,!0),l=pi.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?up():l.alternate===null&&zi===0&&(zi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===yt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Jg(r,c,g)),!1;case 22:return l.flags|=65536,c===yt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Jg(r,c,g)),!1}throw Error(i(435,l.tag))}return Jg(r,c,g),up(),!1}if(mn)return s=pi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==ma&&(r=Error(i(422),{cause:c}),au(zs(r,l)))):(c!==ma&&(s=Error(i(423),{cause:c}),au(zs(s,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,c=zs(c,l),g=Ng(r.stateNode,c,g),Qi(r,g),zi!==4&&(zi=2)),!1;var _=Error(i(520),{cause:c});if(_=zs(_,l),Cf===null?Cf=[_]:Cf.push(_),zi!==4&&(zi=2),s===null)return!0;c=zs(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Ng(l.stateNode,c,r),Qi(l,r),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gu===null||!gu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Wy(g),$y(g,r,l,c),Qi(l,g),!1}l=l.return}while(l!==null);return!1}var Rg=Error(i(461)),ur=!1;function es(r,s,l,c){s.child=r===null?en(s,null,l,c):oi(s,r.child,l,c)}function Qy(r,s,l,c,g){l=l.render;var _=s.ref;if("ref"in c){var R={};for(var G in c)G!=="ref"&&(R[G]=c[G])}else R=c;return Fo(s),c=df(r,s,l,R,_,g),G=pf(),r!==null&&!ur?(mf(r,s,g),xl(r,s,g)):(mn&&G&&uf(s),s.flags|=1,es(r,s,c,g),s.child)}function Xy(r,s,l,c,g){if(r===null){var _=l.type;return typeof _=="function"&&!Yc(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Jy(r,s,_,c,g)):(r=iu(l.type,null,c,s,s.mode,g),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!Mg(r,g)){var R=_.memoizedProps;if(l=l.compare,l=l!==null?l:ro,l(R,c)&&r.ref===s.ref)return xl(r,s,g)}return s.flags|=1,r=Fs(_,c),r.ref=s.ref,r.return=s,s.child=r}function Jy(r,s,l,c,g){if(r!==null){var _=r.memoizedProps;if(ro(_,c)&&r.ref===s.ref)if(ur=!1,s.pendingProps=c=_,Mg(r,g))(r.flags&131072)!==0&&(ur=!0);else return s.lanes=r.lanes,xl(r,s,g)}return Cg(r,s,l,c,g)}function Zy(r,s,l,c){var g=c.children,_=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,r!==null){for(c=s.child=r.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~_}else c=0,s.child=null;return t5(r,s,_,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Q(s,_!==null?_.cachePool:null),_!==null?di(s,_):kn(),Vi(s);else return c=s.lanes=536870912,t5(r,s,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(Q(s,_.cachePool),di(s,_),Bi(),s.memoizedState=null):(r!==null&&Q(s,null),kn(),Bi());return es(r,s,g,l),s.child}function Af(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function t5(r,s,l,c,g){var _=K();return _=_===null?null:{parent:Li._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},r!==null&&Q(s,null),kn(),Vi(s),r!==null&&Bo(r,s,c,!0),s.childLanes=g,null}function Jd(r,s){return s=tp({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function e5(r,s,l){return oi(s,r.child,null,l),r=Jd(s,s.pendingProps),r.flags|=2,Kn(s),s.memoizedState=null,r}function $E(r,s,l){var c=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(mn){if(c.mode==="hidden")return r=Jd(s,c),s.lanes=536870912,Af(null,r);if(Bn(s),(r=ai)?(r=dv(r,bi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Mo!==null?{id:Gs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=Kc(r),l.return=s,s.child=l,Ar=s,ai=null)):r=null,r===null)throw Uo(s);return s.lanes=536870912,null}return Jd(s,c)}var _=r.memoizedState;if(_!==null){var R=_.dehydrated;if(Bn(s),g)if(s.flags&256)s.flags&=-257,s=e5(r,s,l);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(ur||Bo(r,s,l,!1),g=(l&r.childLanes)!==0,ur||g){if(c=li,c!==null&&(R=Cr(c,l),R!==0&&R!==_.retryLane))throw _.retryLane=R,lo(r,R),Zs(c,r,R),Rg;up(),s=e5(r,s,l)}else r=_.treeContext,ai=za(R.nextSibling),Ar=s,mn=!0,Zr=null,bi=!1,r!==null&&zd(s,r),s=Jd(s,c),s.flags|=4096;return s}return r=Fs(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Zd(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Cg(r,s,l,c,g){return Fo(s),l=df(r,s,l,c,void 0,g),c=pf(),r!==null&&!ur?(mf(r,s,g),xl(r,s,g)):(mn&&c&&uf(s),s.flags|=1,es(r,s,l,g),s.child)}function n5(r,s,l,c,g,_){return Fo(s),s.updateQueue=null,l=co(s,c,l,g),nh(r),c=pf(),r!==null&&!ur?(mf(r,s,_),xl(r,s,_)):(mn&&c&&uf(s),s.flags|=1,es(r,s,l,_),s.child)}function i5(r,s,l,c,g){if(Fo(s),s.stateNode===null){var _=wr,R=l.contextType;typeof R=="object"&&R!==null&&(_=Sr(R)),_=new l(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=xg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},ne(s),R=l.contextType,_.context=typeof R=="object"&&R!==null?Sr(R):wr,_.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Tg(s,l,R,c),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&xg.enqueueReplaceState(_,_.state,null),Ui(s,c,_,g),ei(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){_=s.stateNode;var G=s.memoizedProps,ct=mc(l,G);_.props=ct;var kt=_.context,Ft=l.contextType;R=wr,typeof Ft=="object"&&Ft!==null&&(R=Sr(Ft));var Kt=l.getDerivedStateFromProps;Ft=typeof Kt=="function"||typeof _.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Ft||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(G||kt!==R)&&qy(s,_,c,R),ce=!1;var Pt=s.memoizedState;_.state=Pt,Ui(s,c,_,g),ei(),kt=s.memoizedState,G||Pt!==kt||ce?(typeof Kt=="function"&&(Tg(s,l,Kt,c),kt=s.memoizedState),(ct=ce||zy(s,l,ct,c,Pt,kt,R))?(Ft||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=kt),_.props=c,_.state=kt,_.context=R,c=ct):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,fi(r,s),R=s.memoizedProps,Ft=mc(l,R),_.props=Ft,Kt=s.pendingProps,Pt=_.context,kt=l.contextType,ct=wr,typeof kt=="object"&&kt!==null&&(ct=Sr(kt)),G=l.getDerivedStateFromProps,(kt=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Kt||Pt!==ct)&&qy(s,_,c,ct),ce=!1,Pt=s.memoizedState,_.state=Pt,Ui(s,c,_,g),ei();var Mt=s.memoizedState;R!==Kt||Pt!==Mt||ce||r!==null&&r.dependencies!==null&&Jc(r.dependencies)?(typeof G=="function"&&(Tg(s,l,G,c),Mt=s.memoizedState),(Ft=ce||zy(s,l,Ft,c,Pt,Mt,ct)||r!==null&&r.dependencies!==null&&Jc(r.dependencies))?(kt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Mt,ct),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Mt,ct)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&Pt===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Pt===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Mt),_.props=c,_.state=Mt,_.context=ct,c=Ft):(typeof _.componentDidUpdate!="function"||R===r.memoizedProps&&Pt===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Pt===r.memoizedState||(s.flags|=1024),c=!1)}return _=c,Zd(r,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&c?(s.child=oi(s,r.child,null,g),s.child=oi(s,null,l,g)):es(r,s,l,g),s.memoizedState=_.state,r=s.child):r=xl(r,s,g),r}function r5(r,s,l,c){return wl(),s.flags|=256,es(r,s,l,c),s.child}var Ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lg(r){return{baseLanes:r,cachePool:st()}}function kg(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=ya),r}function s5(r,s,l){var c=s.pendingProps,g=!1,_=(s.flags&128)!==0,R;if((R=_)||(R=r!==null&&r.memoizedState===null?!1:(Tn.current&2)!==0),R&&(g=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,r===null){if(mn){if(g?ki(s):Bi(),(r=ai)?(r=dv(r,bi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Mo!==null?{id:Gs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=Kc(r),l.return=s,s.child=l,Ar=s,ai=null)):r=null,r===null)throw Uo(s);return p1(r)?s.lanes=32:s.lanes=536870912,null}var G=c.children;return c=c.fallback,g?(Bi(),g=s.mode,G=tp({mode:"hidden",children:G},g),c=Po(c,g,l,null),G.return=s,c.return=s,G.sibling=c,s.child=G,c=s.child,c.memoizedState=Lg(l),c.childLanes=kg(r,R,l),s.memoizedState=Ig,Af(null,c)):(ki(s),Og(s,G))}var ct=r.memoizedState;if(ct!==null&&(G=ct.dehydrated,G!==null)){if(_)s.flags&256?(ki(s),s.flags&=-257,s=Dg(r,s,l)):s.memoizedState!==null?(Bi(),s.child=r.child,s.flags|=128,s=null):(Bi(),G=c.fallback,g=s.mode,c=tp({mode:"visible",children:c.children},g),G=Po(G,g,l,null),G.flags|=2,c.return=s,G.return=s,c.sibling=G,s.child=c,oi(s,r.child,null,l),c=s.child,c.memoizedState=Lg(l),c.childLanes=kg(r,R,l),s.memoizedState=Ig,s=Af(null,c));else if(ki(s),p1(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var kt=R.dgst;R=kt,c=Error(i(419)),c.stack="",c.digest=R,au({value:c,source:null,stack:null}),s=Dg(r,s,l)}else if(ur||Bo(r,s,l,!1),R=(l&r.childLanes)!==0,ur||R){if(R=li,R!==null&&(c=Cr(R,l),c!==0&&c!==ct.retryLane))throw ct.retryLane=c,lo(r,c),Zs(R,r,c),Rg;d1(G)||up(),s=Dg(r,s,l)}else d1(G)?(s.flags|=192,s.child=r.child,s=null):(r=ct.treeContext,ai=za(G.nextSibling),Ar=s,mn=!0,Zr=null,bi=!1,r!==null&&zd(s,r),s=Og(s,c.children),s.flags|=4096);return s}return g?(Bi(),G=c.fallback,g=s.mode,ct=r.child,kt=ct.sibling,c=Fs(ct,{mode:"hidden",children:c.children}),c.subtreeFlags=ct.subtreeFlags&65011712,kt!==null?G=Fs(kt,G):(G=Po(G,g,l,null),G.flags|=2),G.return=s,c.return=s,c.sibling=G,s.child=c,Af(null,c),c=s.child,G=r.child.memoizedState,G===null?G=Lg(l):(g=G.cachePool,g!==null?(ct=Li._currentValue,g=g.parent!==ct?{parent:ct,pool:ct}:g):g=st(),G={baseLanes:G.baseLanes|l,cachePool:g}),c.memoizedState=G,c.childLanes=kg(r,R,l),s.memoizedState=Ig,Af(r.child,c)):(ki(s),l=r.child,r=l.sibling,l=Fs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(R=s.deletions,R===null?(s.deletions=[r],s.flags|=16):R.push(r)),s.child=l,s.memoizedState=null,l)}function Og(r,s){return s=tp({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function tp(r,s){return r=Ur(22,r,null,s),r.lanes=0,r}function Dg(r,s,l){return oi(s,r.child,null,l),r=Og(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function a5(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),ou(r.return,s,l)}function Pg(r,s,l,c,g,_){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:_}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=c,R.tail=l,R.tailMode=g,R.treeForkCount=_)}function o5(r,s,l){var c=s.pendingProps,g=c.revealOrder,_=c.tail;c=c.children;var R=Tn.current,G=(R&2)!==0;if(G?(R=R&1|2,s.flags|=128):R&=1,Y(Tn,R),es(r,s,c,l),c=mn?cc:0,!G&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a5(r,l,s);else if(r.tag===19)a5(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)r=l.alternate,r!==null&&Vr(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Pg(s,!1,g,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(r=g.alternate,r!==null&&Vr(r)===null){s.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Pg(s,!0,l,null,_,c);break;case"together":Pg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function xl(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),mu|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Bo(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Fs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Fs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Mg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Jc(r)))}function QE(r,s,l){switch(s.tag){case 3:Lt(s,s.stateNode.containerInfo),Vo(s,Li,r.memoizedState.cache),wl();break;case 27:case 5:Vt(s);break;case 4:Lt(s,s.stateNode.containerInfo);break;case 10:Vo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bn(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ki(s),s.flags|=128,null):(l&s.child.childLanes)!==0?s5(r,s,l):(ki(s),r=xl(r,s,l),r!==null?r.sibling:null);ki(s);break;case 19:var g=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Bo(r,s,l,!1),c=(l&s.childLanes)!==0),g){if(c)return o5(r,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(Tn,Tn.current),c)break;return null;case 22:return s.lanes=0,Zy(r,s,l,s.pendingProps);case 24:Vo(s,Li,r.memoizedState.cache)}return xl(r,s,l)}function l5(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)ur=!0;else{if(!Mg(r,l)&&(s.flags&128)===0)return ur=!1,QE(r,s,l);ur=(r.flags&131072)!==0}else ur=!1,mn&&(s.flags&1048576)!==0&&Fd(s,cc,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(r=Tt(s.elementType),s.type=r,typeof r=="function")Yc(r)?(c=mc(r,c),s.tag=1,s=i5(null,s,r,c,l)):(s.tag=0,s=Cg(null,s,r,c,l));else{if(r!=null){var g=r.$$typeof;if(g===nt){s.tag=11,s=Qy(null,s,r,c,l);break t}else if(g===H){s.tag=14,s=Xy(null,s,r,c,l);break t}}throw s=lt(r)||r,Error(i(306,s,""))}}return s;case 0:return Cg(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,g=mc(c,s.pendingProps),i5(r,s,c,g,l);case 3:t:{if(Lt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var _=s.memoizedState;g=_.element,fi(r,s),Ui(s,c,null,l);var R=s.memoizedState;if(c=R.cache,Vo(s,Li,c),c!==_.cache&&Al(s,[Li],l,!0),ei(),c=R.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=r5(r,s,c,l);break t}else if(c!==g){g=zs(Error(i(424)),s),au(g),s=r5(r,s,c,l);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ai=za(r.firstChild),Ar=s,mn=!0,Zr=null,bi=!0,l=en(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wl(),c===g){s=xl(r,s,l);break t}es(r,s,c,l)}s=s.child}return s;case 26:return Zd(r,s),r===null?(l=_v(s.type,null,s.pendingProps,null))?s.memoizedState=l:mn||(l=s.type,r=s.pendingProps,c=gp(ut.current).createElement(l),c[Dn]=s,c[Gn]=r,ns(c,l,r),hi(c),s.stateNode=c):s.memoizedState=_v(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Vt(s),r===null&&mn&&(c=s.stateNode=gv(s.type,s.pendingProps,ut.current),Ar=s,bi=!0,g=ai,bu(s.type)?(m1=g,ai=za(c.firstChild)):ai=g),es(r,s,s.pendingProps.children,l),Zd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&mn&&((g=c=ai)&&(c=xS(c,s.type,s.pendingProps,bi),c!==null?(s.stateNode=c,Ar=s,ai=za(c.firstChild),bi=!1,g=!0):g=!1),g||Uo(s)),Vt(s),g=s.type,_=s.pendingProps,R=r!==null?r.memoizedProps:null,c=_.children,c1(g,_)?c=null:R!==null&&c1(g,R)&&(s.flags|=32),s.memoizedState!==null&&(g=df(r,s,yg,null,null,l),Uf._currentValue=g),Zd(r,s),es(r,s,c,l),s.child;case 6:return r===null&&mn&&((r=l=ai)&&(l=NS(l,s.pendingProps,bi),l!==null?(s.stateNode=l,Ar=s,ai=null,r=!0):r=!1),r||Uo(s)),null;case 13:return s5(r,s,l);case 4:return Lt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=oi(s,null,c,l):es(r,s,c,l),s.child;case 11:return Qy(r,s,s.type,s.pendingProps,l);case 7:return es(r,s,s.pendingProps,l),s.child;case 8:return es(r,s,s.pendingProps.children,l),s.child;case 12:return es(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Vo(s,s.type,c.value),es(r,s,c.children,l),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,Fo(s),g=Sr(g),c=c(g),s.flags|=1,es(r,s,c,l),s.child;case 14:return Xy(r,s,s.type,s.pendingProps,l);case 15:return Jy(r,s,s.type,s.pendingProps,l);case 19:return o5(r,s,l);case 31:return $E(r,s,l);case 22:return Zy(r,s,l,s.pendingProps);case 24:return Fo(s),c=Sr(Li),r===null?(g=K(),g===null&&(g=li,_=lu(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:c,cache:g},ne(s),Vo(s,Li,g)):((r.lanes&l)!==0&&(fi(r,s),Ui(s,null,null,l),ei()),g=r.memoizedState,_=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Vo(s,Li,c)):(c=_.cache,Vo(s,Li,c),c!==g.cache&&Al(s,[Li],l,!0))),es(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Nl(r){r.flags|=4}function Ug(r,s,l,c,g){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(P5())r.flags|=8192;else throw Ut=yt,Rt}else r.flags&=-16777217}function u5(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Sv(s))if(P5())r.flags|=8192;else throw Ut=yt,Rt}function ep(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Os():536870912,r.lanes|=s,dh|=s)}function Ef(r,s){if(!mn)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function mi(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function XE(r,s,l){var c=s.pendingProps;switch(Qc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(s),null;case 1:return mi(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ks(Li),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Er(s)?Nl(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hf())),mi(s),null;case 26:var g=s.type,_=s.memoizedState;return r===null?(Nl(s),_!==null?(mi(s),u5(s,_)):(mi(s),Ug(s,g,null,c,l))):_?_!==r.memoizedState?(Nl(s),mi(s),u5(s,_)):(mi(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Nl(s),mi(s),Ug(s,g,r,c,l)),null;case 27:if(Xt(s),l=ut.current,g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Nl(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return mi(s),null}r=J.current,Er(s)?cf(s):(r=gv(g,c,l),s.stateNode=r,Nl(s))}return mi(s),null;case 5:if(Xt(s),g=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Nl(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return mi(s),null}if(_=J.current,Er(s))cf(s);else{var R=gp(ut.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?R.createElement("select",{is:c.is}):R.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?R.createElement(g,{is:c.is}):R.createElement(g)}}_[Dn]=s,_[Gn]=c;t:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break t;for(;R.sibling===null;){if(R.return===null||R.return===s)break t;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=_;t:switch(ns(_,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Nl(s)}}return mi(s),Ug(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,l),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Nl(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ut.current,Er(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,g=Ar,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}r[Dn]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||sv(r.nodeValue,l)),r||Uo(s,!0)}else r=gp(r).createTextNode(c),r[Dn]=s,s.stateNode=r}return mi(s),null;case 31:if(l=s.memoizedState,r===null||r.memoizedState!==null){if(c=Er(s),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Dn]=s}else wl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mi(s),r=!1}else l=hf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return s.flags&256?(Kn(s),s):(Kn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return mi(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Er(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Dn]=s}else wl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mi(s),g=!1}else g=hf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Kn(s),s):(Kn(s),null)}return Kn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==g&&(c.flags|=2048)),l!==r&&l&&(s.child.flags|=8192),ep(s,s.updateQueue),mi(s),null);case 4:return Ct(),r===null&&s1(s.stateNode.containerInfo),mi(s),null;case 10:return Ks(s.type),mi(s),null;case 19:if(L(Tn),c=s.memoizedState,c===null)return mi(s),null;if(g=(s.flags&128)!==0,_=c.rendering,_===null)if(g)Ef(c,!1);else{if(zi!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Vr(r),_!==null){for(s.flags|=128,Ef(c,!1),r=_.updateQueue,s.updateQueue=r,ep(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)lc(l,r),l=l.sibling;return Y(Tn,Tn.current&1|2),mn&&Ls(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Ye()>ap&&(s.flags|=128,g=!0,Ef(c,!1),s.lanes=4194304)}else{if(!g)if(r=Vr(_),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,ep(s,r),Ef(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!mn)return mi(s),null}else 2*Ye()-c.renderingStartTime>ap&&l!==536870912&&(s.flags|=128,g=!0,Ef(c,!1),s.lanes=4194304);c.isBackwards?(_.sibling=s.child,s.child=_):(r=c.last,r!==null?r.sibling=_:s.child=_,c.last=_)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Ye(),r.sibling=null,l=Tn.current,Y(Tn,g?l&1|2:l&1),mn&&Ls(s,c.treeForkCount),r):(mi(s),null);case 22:case 23:return Kn(s),Xi(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(mi(s),s.subtreeFlags&6&&(s.flags|=8192)):mi(s),l=s.updateQueue,l!==null&&ep(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&L(z),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ks(Li),mi(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function JE(r,s){switch(Qc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ks(Li),Ct(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Xt(s),null;case 31:if(s.memoizedState!==null){if(Kn(s),s.alternate===null)throw Error(i(340));wl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Kn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return L(Tn),null;case 4:return Ct(),null;case 10:return Ks(s.type),null;case 22:case 23:return Kn(s),Xi(),r!==null&&L(z),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ks(Li),null;case 25:return null;default:return null}}function c5(r,s){switch(Qc(s),s.tag){case 3:Ks(Li),Ct();break;case 26:case 27:case 5:Xt(s);break;case 4:Ct();break;case 31:s.memoizedState!==null&&Kn(s);break;case 13:Kn(s);break;case 19:L(Tn);break;case 10:Ks(s.type);break;case 22:case 23:Kn(s),Xi(),r!==null&&L(z);break;case 24:Ks(Li)}}function Sf(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&r)===r){c=void 0;var _=l.create,R=l.inst;c=_(),R.destroy=c}l=l.next}while(l!==g)}}catch(G){$n(s,s.return,G)}}function du(r,s,l){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var _=g.next;c=_;do{if((c.tag&r)===r){var R=c.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,g=s;var ct=l,kt=G;try{kt()}catch(Ft){$n(g,ct,Ft)}}}c=c.next}while(c!==_)}}catch(Ft){$n(s,s.return,Ft)}}function h5(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{ji(s,l)}catch(c){$n(r,r.return,c)}}}function f5(r,s,l){l.props=mc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){$n(r,s,c)}}function Tf(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(g){$n(r,s,g)}}function Yo(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){$n(r,s,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){$n(r,s,g)}else l.current=null}function d5(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){$n(r,r.return,g)}}function jg(r,s,l){try{var c=r.stateNode;bS(c,r.type,l,s),c[Gn]=s}catch(g){$n(r,r.return,g)}}function p5(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bu(r.type)||r.tag===4}function Vg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||p5(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bu(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bg(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ss));else if(c!==4&&(c===27&&bu(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Bg(r,s,l),r=r.sibling;r!==null;)Bg(r,s,l),r=r.sibling}function np(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&bu(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(np(r,s,l),r=r.sibling;r!==null;)np(r,s,l),r=r.sibling}function m5(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ns(s,c,l),s[Dn]=r,s[Gn]=l}catch(_){$n(r,r.return,_)}}var Rl=!1,cr=!1,Fg=!1,g5=typeof WeakSet=="function"?WeakSet:Set,Br=null;function ZE(r,s){if(r=r.containerInfo,l1=Ep,r=ao(r),Ua(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else t:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var R=0,G=-1,ct=-1,kt=0,Ft=0,Kt=r,Pt=null;e:for(;;){for(var Mt;Kt!==l||g!==0&&Kt.nodeType!==3||(G=R+g),Kt!==_||c!==0&&Kt.nodeType!==3||(ct=R+c),Kt.nodeType===3&&(R+=Kt.nodeValue.length),(Mt=Kt.firstChild)!==null;)Pt=Kt,Kt=Mt;for(;;){if(Kt===r)break e;if(Pt===l&&++kt===g&&(G=R),Pt===_&&++Ft===c&&(ct=R),(Mt=Kt.nextSibling)!==null)break;Kt=Pt,Pt=Kt.parentNode}Kt=Mt}l=G===-1||ct===-1?null:{start:G,end:ct}}else l=null}l=l||{start:0,end:0}}else l=null;for(u1={focusedElem:r,selectionRange:l},Ep=!1,Br=s;Br!==null;)if(s=Br,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Br=r;else for(;Br!==null;){switch(s=Br,_=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var me=mc(l.type,g);r=c.getSnapshotBeforeUpdate(me,_),c.__reactInternalSnapshotBeforeUpdate=r}catch(ze){$n(l,l.return,ze)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)f1(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":f1(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Br=r;break}Br=s.return}}function y5(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Il(r,l),c&4&&Sf(5,l);break;case 1:if(Il(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(R){$n(l,l.return,R)}else{var g=mc(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(g,s,r.__reactInternalSnapshotBeforeUpdate)}catch(R){$n(l,l.return,R)}}c&64&&h5(l),c&512&&Tf(l,l.return);break;case 3:if(Il(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ji(r,s)}catch(R){$n(l,l.return,R)}}break;case 27:s===null&&c&4&&m5(l);case 26:case 5:Il(r,l),s===null&&c&4&&d5(l),c&512&&Tf(l,l.return);break;case 12:Il(r,l);break;case 31:Il(r,l),c&4&&b5(r,l);break;case 13:Il(r,l),c&4&&w5(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=lS.bind(null,l),RS(r,l))));break;case 22:if(c=l.memoizedState!==null||Rl,!c){s=s!==null&&s.memoizedState!==null||cr,g=Rl;var _=cr;Rl=c,(cr=s)&&!_?Ll(r,l,(l.subtreeFlags&8772)!==0):Il(r,l),Rl=g,cr=_}break;case 30:break;default:Il(r,l)}}function v5(r){var s=r.alternate;s!==null&&(r.alternate=null,v5(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&aa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ei=null,$s=!1;function Cl(r,s,l){for(l=l.child;l!==null;)_5(r,s,l),l=l.sibling}function _5(r,s,l){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Ue,l)}catch{}switch(l.tag){case 26:cr||Yo(l,s),Cl(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:cr||Yo(l,s);var c=Ei,g=$s;bu(l.type)&&(Ei=l.stateNode,$s=!1),Cl(r,s,l),Df(l.stateNode),Ei=c,$s=g;break;case 5:cr||Yo(l,s);case 6:if(c=Ei,g=$s,Ei=null,Cl(r,s,l),Ei=c,$s=g,Ei!==null)if($s)try{(Ei.nodeType===9?Ei.body:Ei.nodeName==="HTML"?Ei.ownerDocument.body:Ei).removeChild(l.stateNode)}catch(_){$n(l,s,_)}else try{Ei.removeChild(l.stateNode)}catch(_){$n(l,s,_)}break;case 18:Ei!==null&&($s?(r=Ei,hv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),wh(r)):hv(Ei,l.stateNode));break;case 4:c=Ei,g=$s,Ei=l.stateNode.containerInfo,$s=!0,Cl(r,s,l),Ei=c,$s=g;break;case 0:case 11:case 14:case 15:du(2,l,s),cr||du(4,l,s),Cl(r,s,l);break;case 1:cr||(Yo(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&f5(l,s,c)),Cl(r,s,l);break;case 21:Cl(r,s,l);break;case 22:cr=(c=cr)||l.memoizedState!==null,Cl(r,s,l),cr=c;break;default:Cl(r,s,l)}}function b5(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{wh(r)}catch(l){$n(s,s.return,l)}}}function w5(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wh(r)}catch(l){$n(s,s.return,l)}}function tS(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new g5),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new g5),s;default:throw Error(i(435,r.tag))}}function ip(r,s){var l=tS(r);s.forEach(function(c){if(!l.has(c)){l.add(c);var g=uS.bind(null,r,c);c.then(g,g)}})}function Qs(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],_=r,R=s,G=R;t:for(;G!==null;){switch(G.tag){case 27:if(bu(G.type)){Ei=G.stateNode,$s=!1;break t}break;case 5:Ei=G.stateNode,$s=!1;break t;case 3:case 4:Ei=G.stateNode.containerInfo,$s=!0;break t}G=G.return}if(Ei===null)throw Error(i(160));_5(_,R,g),Ei=null,$s=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)A5(s,r),s=s.sibling}var mo=null;function A5(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qs(s,r),Xs(r),c&4&&(du(3,r,r.return),Sf(3,r),du(5,r,r.return));break;case 1:Qs(s,r),Xs(r),c&512&&(cr||l===null||Yo(l,l.return)),c&64&&Rl&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=mo;if(Qs(s,r),Xs(r),c&512&&(cr||l===null||Yo(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){t:{c=r.type,l=r.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Lr]||_[Dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(c),g.head.insertBefore(_,g.querySelector("head > title"))),ns(_,c,l),_[Dn]=r,hi(_),c=_;break t;case"link":var R=Av("link","href",g).get(c+(l.href||""));if(R){for(var G=0;G<R.length;G++)if(_=R[G],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(G,1);break e}}_=g.createElement(c),ns(_,c,l),g.head.appendChild(_);break;case"meta":if(R=Av("meta","content",g).get(c+(l.content||""))){for(G=0;G<R.length;G++)if(_=R[G],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(G,1);break e}}_=g.createElement(c),ns(_,c,l),g.head.appendChild(_);break;default:throw Error(i(468,c))}_[Dn]=r,hi(_),c=_}r.stateNode=c}else Ev(g,r.type,r.stateNode);else r.stateNode=wv(g,c,r.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?Ev(g,r.type,r.stateNode):wv(g,c,r.memoizedProps)):c===null&&r.stateNode!==null&&jg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Qs(s,r),Xs(r),c&512&&(cr||l===null||Yo(l,l.return)),l!==null&&c&4&&jg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Qs(s,r),Xs(r),c&512&&(cr||l===null||Yo(l,l.return)),r.flags&32){g=r.stateNode;try{Wi(g,"")}catch(me){$n(r,r.return,me)}}c&4&&r.stateNode!=null&&(g=r.memoizedProps,jg(r,g,l!==null?l.memoizedProps:g)),c&1024&&(Fg=!0);break;case 6:if(Qs(s,r),Xs(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(me){$n(r,r.return,me)}}break;case 3:if(_p=null,g=mo,mo=yp(s.containerInfo),Qs(s,r),mo=g,Xs(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{wh(s.containerInfo)}catch(me){$n(r,r.return,me)}Fg&&(Fg=!1,E5(r));break;case 4:c=mo,mo=yp(r.stateNode.containerInfo),Qs(s,r),Xs(r),mo=c;break;case 12:Qs(s,r),Xs(r);break;case 31:Qs(s,r),Xs(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ip(r,c)));break;case 13:Qs(s,r),Xs(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sp=Ye()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ip(r,c)));break;case 22:g=r.memoizedState!==null;var ct=l!==null&&l.memoizedState!==null,kt=Rl,Ft=cr;if(Rl=kt||g,cr=Ft||ct,Qs(s,r),cr=Ft,Rl=kt,Xs(r),c&8192)t:for(s=r.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ct||Rl||cr||gc(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){ct=l=s;try{if(_=ct.stateNode,g)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=ct.stateNode;var Kt=ct.memoizedProps.style,Pt=Kt!=null&&Kt.hasOwnProperty("display")?Kt.display:null;G.style.display=Pt==null||typeof Pt=="boolean"?"":(""+Pt).trim()}}catch(me){$n(ct,ct.return,me)}}}else if(s.tag===6){if(l===null){ct=s;try{ct.stateNode.nodeValue=g?"":ct.memoizedProps}catch(me){$n(ct,ct.return,me)}}}else if(s.tag===18){if(l===null){ct=s;try{var Mt=ct.stateNode;g?fv(Mt,!0):fv(ct.stateNode,!1)}catch(me){$n(ct,ct.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ip(r,l))));break;case 19:Qs(s,r),Xs(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,ip(r,c)));break;case 30:break;case 21:break;default:Qs(s,r),Xs(r)}}function Xs(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(p5(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,_=Vg(r);np(r,_,g);break;case 5:var R=l.stateNode;l.flags&32&&(Wi(R,""),l.flags&=-33);var G=Vg(r);np(r,G,R);break;case 3:case 4:var ct=l.stateNode.containerInfo,kt=Vg(r);Bg(r,kt,ct);break;default:throw Error(i(161))}}catch(Ft){$n(r,r.return,Ft)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function E5(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;E5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Il(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y5(r,s.alternate,s),s=s.sibling}function gc(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:du(4,s,s.return),gc(s);break;case 1:Yo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&f5(s,s.return,l),gc(s);break;case 27:Df(s.stateNode);case 26:case 5:Yo(s,s.return),gc(s);break;case 22:s.memoizedState===null&&gc(s);break;case 30:gc(s);break;default:gc(s)}r=r.sibling}}function Ll(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=r,_=s,R=_.flags;switch(_.tag){case 0:case 11:case 15:Ll(g,_,l),Sf(4,_);break;case 1:if(Ll(g,_,l),c=_,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(kt){$n(c,c.return,kt)}if(c=_,g=c.updateQueue,g!==null){var G=c.stateNode;try{var ct=g.shared.hiddenCallbacks;if(ct!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ct.length;g++)jr(ct[g],G)}catch(kt){$n(c,c.return,kt)}}l&&R&64&&h5(_),Tf(_,_.return);break;case 27:m5(_);case 26:case 5:Ll(g,_,l),l&&c===null&&R&4&&d5(_),Tf(_,_.return);break;case 12:Ll(g,_,l);break;case 31:Ll(g,_,l),l&&R&4&&b5(g,_);break;case 13:Ll(g,_,l),l&&R&4&&w5(g,_);break;case 22:_.memoizedState===null&&Ll(g,_,l),Tf(_,_.return);break;case 30:break;default:Ll(g,_,l)}s=s.sibling}}function zg(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&hc(l))}function qg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hc(r))}function go(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S5(r,s,l,c),s=s.sibling}function S5(r,s,l,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:go(r,s,l,c),g&2048&&Sf(9,s);break;case 1:go(r,s,l,c);break;case 3:go(r,s,l,c),g&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hc(r)));break;case 12:if(g&2048){go(r,s,l,c),r=s.stateNode;try{var _=s.memoizedProps,R=_.id,G=_.onPostCommit;typeof G=="function"&&G(R,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ct){$n(s,s.return,ct)}}else go(r,s,l,c);break;case 31:go(r,s,l,c);break;case 13:go(r,s,l,c);break;case 23:break;case 22:_=s.stateNode,R=s.alternate,s.memoizedState!==null?_._visibility&2?go(r,s,l,c):xf(r,s):_._visibility&2?go(r,s,l,c):(_._visibility|=2,ch(r,s,l,c,(s.subtreeFlags&10256)!==0||!1)),g&2048&&zg(R,s);break;case 24:go(r,s,l,c),g&2048&&qg(s.alternate,s);break;default:go(r,s,l,c)}}function ch(r,s,l,c,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=r,R=s,G=l,ct=c,kt=R.flags;switch(R.tag){case 0:case 11:case 15:ch(_,R,G,ct,g),Sf(8,R);break;case 23:break;case 22:var Ft=R.stateNode;R.memoizedState!==null?Ft._visibility&2?ch(_,R,G,ct,g):xf(_,R):(Ft._visibility|=2,ch(_,R,G,ct,g)),g&&kt&2048&&zg(R.alternate,R);break;case 24:ch(_,R,G,ct,g),g&&kt&2048&&qg(R.alternate,R);break;default:ch(_,R,G,ct,g)}s=s.sibling}}function xf(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,g=c.flags;switch(c.tag){case 22:xf(l,c),g&2048&&zg(c.alternate,c);break;case 24:xf(l,c),g&2048&&qg(c.alternate,c);break;default:xf(l,c)}s=s.sibling}}var Nf=8192;function hh(r,s,l){if(r.subtreeFlags&Nf)for(r=r.child;r!==null;)T5(r,s,l),r=r.sibling}function T5(r,s,l){switch(r.tag){case 26:hh(r,s,l),r.flags&Nf&&r.memoizedState!==null&&BS(l,mo,r.memoizedState,r.memoizedProps);break;case 5:hh(r,s,l);break;case 3:case 4:var c=mo;mo=yp(r.stateNode.containerInfo),hh(r,s,l),mo=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Nf,Nf=16777216,hh(r,s,l),Nf=c):hh(r,s,l));break;default:hh(r,s,l)}}function x5(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Rf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Br=c,R5(c,r)}x5(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N5(r),r=r.sibling}function N5(r){switch(r.tag){case 0:case 11:case 15:Rf(r),r.flags&2048&&du(9,r,r.return);break;case 3:Rf(r);break;case 12:Rf(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,rp(r)):Rf(r);break;default:Rf(r)}}function rp(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Br=c,R5(c,r)}x5(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:du(8,s,s.return),rp(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,rp(s));break;default:rp(s)}r=r.sibling}}function R5(r,s){for(;Br!==null;){var l=Br;switch(l.tag){case 0:case 11:case 15:du(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:hc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Br=c;else t:for(l=r;Br!==null;){c=Br;var g=c.sibling,_=c.return;if(v5(c),c===l){Br=null;break t}if(g!==null){g.return=_,Br=g;break t}Br=_}}}var eS={getCacheForType:function(r){var s=Sr(Li),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l},cacheSignal:function(){return Sr(Li).controller.signal}},nS=typeof WeakMap=="function"?WeakMap:Map,Fn=0,li=null,gn=null,_n=0,Wn=0,ga=null,pu=!1,fh=!1,Hg=!1,kl=0,zi=0,mu=0,yc=0,Gg=0,ya=0,dh=0,Cf=null,Js=null,Yg=!1,sp=0,C5=0,ap=1/0,op=null,gu=null,xr=0,yu=null,ph=null,Ol=0,Kg=0,Wg=null,I5=null,If=0,$g=null;function va(){return(Fn&2)!==0&&_n!==0?_n&-_n:at.T!==null?e1():Di()}function L5(){if(ya===0)if((_n&536870912)===0||mn){var r=On;On<<=1,(On&3932160)===0&&(On=262144),ya=r}else ya=536870912;return r=pi.current,r!==null&&(r.flags|=32),ya}function Zs(r,s,l){(r===li&&(Wn===2||Wn===9)||r.cancelPendingCommit!==null)&&(mh(r,0),vu(r,_n,ya,!1)),Re(r,l),((Fn&2)===0||r!==li)&&(r===li&&((Fn&2)===0&&(yc|=l),zi===4&&vu(r,_n,ya,!1)),Ko(r))}function k5(r,s,l){if((Fn&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&r.expiredLanes)===0||pr(r,s),g=c?sS(r,s):Xg(r,s,!0),_=c;do{if(g===0){fh&&!c&&vu(r,s,0,!1);break}else{if(l=r.current.alternate,_&&!iS(l)){g=Xg(r,s,!1),_=!1;continue}if(g===2){if(_=s,r.errorRecoveryDisabledLanes&_)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;t:{var G=r;g=Cf;var ct=G.current.memoizedState.isDehydrated;if(ct&&(mh(G,R).flags|=256),R=Xg(G,R,!1),R!==2){if(Hg&&!ct){G.errorRecoveryDisabledLanes|=_,yc|=_,g=4;break t}_=Js,Js=g,_!==null&&(Js===null?Js=_:Js.push.apply(Js,_))}g=R}if(_=!1,g!==2)continue}}if(g===1){mh(r,0),vu(r,s,0,!0);break}t:{switch(c=r,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:vu(c,s,ya,!pu);break t;case 2:Js=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=sp+300-Ye(),10<g)){if(vu(c,s,ya,!pu),ln(c,0,!0)!==0)break t;Ol=s,c.timeoutHandle=uv(O5.bind(null,c,l,Js,op,Yg,s,ya,yc,dh,pu,_,"Throttled",-0,0),g);break t}O5(c,l,Js,op,Yg,s,ya,yc,dh,pu,_,null,-0,0)}}break}while(!0);Ko(r)}function O5(r,s,l,c,g,_,R,G,ct,kt,Ft,Kt,Pt,Mt){if(r.timeoutHandle=-1,Kt=s.subtreeFlags,Kt&8192||(Kt&16785408)===16785408){Kt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},T5(s,_,Kt);var me=(_&62914560)===_?sp-Ye():(_&4194048)===_?C5-Ye():0;if(me=FS(Kt,me),me!==null){Ol=_,r.cancelPendingCommit=me(F5.bind(null,r,s,_,l,c,g,R,G,ct,Ft,Kt,null,Pt,Mt)),vu(r,_,R,!kt);return}}F5(r,s,_,l,c,g,R,G,ct)}function iS(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],_=g.getSnapshot;g=g.value;try{if(!br(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vu(r,s,l,c){s&=~Gg,s&=~yc,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var g=s;0<g;){var _=31-Ze(g),R=1<<_;c[_]=-1,g&=~R}l!==0&&qr(r,l,s)}function lp(){return(Fn&6)===0?(Lf(0),!1):!0}function Qg(){if(gn!==null){if(Wn===0)var r=gn.return;else r=gn,Va=jo=null,ih(r),Wt=null,ye=0,r=gn;for(;r!==null;)c5(r.alternate,r),r=r.return;gn=null}}function mh(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,ES(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ol=0,Qg(),li=r,gn=l=Fs(r.current,null),_n=s,Wn=0,ga=null,pu=!1,fh=pr(r,s),Hg=!1,dh=ya=Gg=yc=mu=zi=0,Js=Cf=null,Yg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var g=31-Ze(c),_=1<<g;s|=r[g],c&=~_}return kl=s,sc(),l}function D5(r,s){ke=null,at.H=wf,s===dt||s===it?(s=qt(),Wn=3):s===Rt?(s=qt(),Wn=4):Wn=s===Rg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ga=s,gn===null&&(zi=1,Xd(r,zs(s,r.current)))}function P5(){var r=pi.current;return r===null?!0:(_n&4194048)===_n?Nn===null:(_n&62914560)===_n||(_n&536870912)!==0?r===Nn:!1}function M5(){var r=at.H;return at.H=wf,r===null?wf:r}function U5(){var r=at.A;return at.A=eS,r}function up(){zi=4,pu||(_n&4194048)!==_n&&pi.current!==null||(fh=!0),(mu&134217727)===0&&(yc&134217727)===0||li===null||vu(li,_n,ya,!1)}function Xg(r,s,l){var c=Fn;Fn|=2;var g=M5(),_=U5();(li!==r||_n!==s)&&(op=null,mh(r,s)),s=!1;var R=zi;t:do try{if(Wn!==0&&gn!==null){var G=gn,ct=ga;switch(Wn){case 8:Qg(),R=6;break t;case 3:case 2:case 9:case 6:pi.current===null&&(s=!0);var kt=Wn;if(Wn=0,ga=null,gh(r,G,ct,kt),l&&fh){R=0;break t}break;default:kt=Wn,Wn=0,ga=null,gh(r,G,ct,kt)}}rS(),R=zi;break}catch(Ft){D5(r,Ft)}while(!0);return s&&r.shellSuspendCounter++,Va=jo=null,Fn=c,at.H=g,at.A=_,gn===null&&(li=null,_n=0,sc()),R}function rS(){for(;gn!==null;)j5(gn)}function sS(r,s){var l=Fn;Fn|=2;var c=M5(),g=U5();li!==r||_n!==s?(op=null,ap=Ye()+500,mh(r,s)):fh=pr(r,s);t:do try{if(Wn!==0&&gn!==null){s=gn;var _=ga;e:switch(Wn){case 1:Wn=0,ga=null,gh(r,s,_,1);break;case 2:case 9:if(Et(_)){Wn=0,ga=null,V5(s);break}s=function(){Wn!==2&&Wn!==9||li!==r||(Wn=7),Ko(r)},_.then(s,s);break t;case 3:Wn=7;break t;case 4:Wn=5;break t;case 7:Et(_)?(Wn=0,ga=null,V5(s)):(Wn=0,ga=null,gh(r,s,_,7));break;case 5:var R=null;switch(gn.tag){case 26:R=gn.memoizedState;case 5:case 27:var G=gn;if(R?Sv(R):G.stateNode.complete){Wn=0,ga=null;var ct=G.sibling;if(ct!==null)gn=ct;else{var kt=G.return;kt!==null?(gn=kt,cp(kt)):gn=null}break e}}Wn=0,ga=null,gh(r,s,_,5);break;case 6:Wn=0,ga=null,gh(r,s,_,6);break;case 8:Qg(),zi=6;break t;default:throw Error(i(462))}}aS();break}catch(Ft){D5(r,Ft)}while(!0);return Va=jo=null,at.H=c,at.A=g,Fn=l,gn!==null?0:(li=null,_n=0,sc(),zi)}function aS(){for(;gn!==null&&!Te();)j5(gn)}function j5(r){var s=l5(r.alternate,r,kl);r.memoizedProps=r.pendingProps,s===null?cp(r):gn=s}function V5(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=n5(l,s,s.pendingProps,s.type,void 0,_n);break;case 11:s=n5(l,s,s.pendingProps,s.type.render,s.ref,_n);break;case 5:ih(s);default:c5(l,s),s=gn=lc(s,kl),s=l5(l,s,kl)}r.memoizedProps=r.pendingProps,s===null?cp(r):gn=s}function gh(r,s,l,c){Va=jo=null,ih(s),Wt=null,ye=0;var g=s.return;try{if(WE(r,g,s,l,_n)){zi=1,Xd(r,zs(l,r.current)),gn=null;return}}catch(_){if(g!==null)throw gn=g,_;zi=1,Xd(r,zs(l,r.current)),gn=null;return}s.flags&32768?(mn||c===1?r=!0:fh||(_n&536870912)!==0?r=!1:(pu=r=!0,(c===2||c===9||c===3||c===6)&&(c=pi.current,c!==null&&c.tag===13&&(c.flags|=16384))),B5(s,r)):cp(s)}function cp(r){var s=r;do{if((s.flags&32768)!==0){B5(s,pu);return}r=s.return;var l=XE(s.alternate,s,kl);if(l!==null){gn=l;return}if(s=s.sibling,s!==null){gn=s;return}gn=s=r}while(s!==null);zi===0&&(zi=5)}function B5(r,s){do{var l=JE(r.alternate,r);if(l!==null){l.flags&=32767,gn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){gn=r;return}gn=r=l}while(r!==null);zi=6,gn=null}function F5(r,s,l,c,g,_,R,G,ct){r.cancelPendingCommit=null;do hp();while(xr!==0);if((Fn&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=qc,sa(r,l,_,R,G,ct),r===li&&(gn=li=null,_n=0),ph=s,yu=r,Ol=l,Kg=_,Wg=g,I5=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,cS(We,function(){return Y5(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,g=pt.p,pt.p=2,R=Fn,Fn|=4;try{ZE(r,s,l)}finally{Fn=R,pt.p=g,at.T=c}}xr=1,z5(),q5(),H5()}}function z5(){if(xr===1){xr=0;var r=yu,s=ph,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=at.T,at.T=null;var c=pt.p;pt.p=2;var g=Fn;Fn|=4;try{A5(s,r);var _=u1,R=ao(r.containerInfo),G=_.focusedElem,ct=_.selectionRange;if(R!==G&&G&&G.ownerDocument&&so(G.ownerDocument.documentElement,G)){if(ct!==null&&Ua(G)){var kt=ct.start,Ft=ct.end;if(Ft===void 0&&(Ft=kt),"selectionStart"in G)G.selectionStart=kt,G.selectionEnd=Math.min(Ft,G.value.length);else{var Kt=G.ownerDocument||document,Pt=Kt&&Kt.defaultView||window;if(Pt.getSelection){var Mt=Pt.getSelection(),me=G.textContent.length,ze=Math.min(ct.start,me),ri=ct.end===void 0?ze:Math.min(ct.end,me);!Mt.extend&&ze>ri&&(R=ri,ri=ze,ze=R);var bt=nu(G,ze),mt=nu(G,ri);if(bt&&mt&&(Mt.rangeCount!==1||Mt.anchorNode!==bt.node||Mt.anchorOffset!==bt.offset||Mt.focusNode!==mt.node||Mt.focusOffset!==mt.offset)){var It=Kt.createRange();It.setStart(bt.node,bt.offset),Mt.removeAllRanges(),ze>ri?(Mt.addRange(It),Mt.extend(mt.node,mt.offset)):(It.setEnd(mt.node,mt.offset),Mt.addRange(It))}}}}for(Kt=[],Mt=G;Mt=Mt.parentNode;)Mt.nodeType===1&&Kt.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Kt.length;G++){var Gt=Kt[G];Gt.element.scrollLeft=Gt.left,Gt.element.scrollTop=Gt.top}}Ep=!!l1,u1=l1=null}finally{Fn=g,pt.p=c,at.T=l}}r.current=s,xr=2}}function q5(){if(xr===2){xr=0;var r=yu,s=ph,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=at.T,at.T=null;var c=pt.p;pt.p=2;var g=Fn;Fn|=4;try{y5(r,s.alternate,s)}finally{Fn=g,pt.p=c,at.T=l}}xr=3}}function H5(){if(xr===4||xr===3){xr=0,be();var r=yu,s=ph,l=Ol,c=I5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xr=5:(xr=0,ph=yu=null,G5(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(gu=null),Xn(l),s=s.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Ue,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=at.T,g=pt.p,pt.p=2,at.T=null;try{for(var _=r.onRecoverableError,R=0;R<c.length;R++){var G=c[R];_(G.value,{componentStack:G.stack})}}finally{at.T=s,pt.p=g}}(Ol&3)!==0&&hp(),Ko(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===$g?If++:(If=0,$g=r):If=0,Lf(0)}}function G5(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,hc(s)))}function hp(){return z5(),q5(),H5(),Y5()}function Y5(){if(xr!==5)return!1;var r=yu,s=Kg;Kg=0;var l=Xn(Ol),c=at.T,g=pt.p;try{pt.p=32>l?32:l,at.T=null,l=Wg,Wg=null;var _=yu,R=Ol;if(xr=0,ph=yu=null,Ol=0,(Fn&6)!==0)throw Error(i(331));var G=Fn;if(Fn|=4,N5(_.current),S5(_,_.current,R,l),Fn=G,Lf(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Ue,_)}catch{}return!0}finally{pt.p=g,at.T=c,G5(r,s)}}function K5(r,s,l){s=zs(l,s),s=Ng(r.stateNode,s,2),r=on(r,s,2),r!==null&&(Re(r,2),Ko(r))}function $n(r,s,l){if(r.tag===3)K5(r,r,l);else for(;s!==null;){if(s.tag===3){K5(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gu===null||!gu.has(c))){r=zs(l,r),l=Wy(2),c=on(s,l,2),c!==null&&($y(l,c,s,r),Re(c,2),Ko(c));break}}s=s.return}}function Jg(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new nS;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(l)||(Hg=!0,g.add(l),r=oS.bind(null,r,s,l),s.then(r,r))}function oS(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,li===r&&(_n&l)===l&&(zi===4||zi===3&&(_n&62914560)===_n&&300>Ye()-sp?(Fn&2)===0&&mh(r,0):Gg|=l,dh===_n&&(dh=0)),Ko(r)}function W5(r,s){s===0&&(s=Os()),r=lo(r,s),r!==null&&(Re(r,s),Ko(r))}function lS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),W5(r,l)}function uS(r,s){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),W5(r,l)}function cS(r,s){return ae(r,s)}var fp=null,yh=null,Zg=!1,dp=!1,t1=!1,_u=0;function Ko(r){r!==yh&&r.next===null&&(yh===null?fp=yh=r:yh=yh.next=r),dp=!0,Zg||(Zg=!0,fS())}function Lf(r,s){if(!t1&&dp){t1=!0;do for(var l=!1,c=fp;c!==null;){if(r!==0){var g=c.pendingLanes;if(g===0)var _=0;else{var R=c.suspendedLanes,G=c.pingedLanes;_=(1<<31-Ze(42|r)+1)-1,_&=g&~(R&~G),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,J5(c,_))}else _=_n,_=ln(c,c===li?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||pr(c,_)||(l=!0,J5(c,_));c=c.next}while(l);t1=!1}}function hS(){$5()}function $5(){dp=Zg=!1;var r=0;_u!==0&&AS()&&(r=_u);for(var s=Ye(),l=null,c=fp;c!==null;){var g=c.next,_=Q5(c,s);_===0?(c.next=null,l===null?fp=g:l.next=g,g===null&&(yh=l)):(l=c,(r!==0||(_&3)!==0)&&(dp=!0)),c=g}xr!==0&&xr!==5||Lf(r),_u!==0&&(_u=0)}function Q5(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,g=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var R=31-Ze(_),G=1<<R,ct=g[R];ct===-1?((G&l)===0||(G&c)!==0)&&(g[R]=ir(G,s)):ct<=s&&(r.expiredLanes|=G),_&=~G}if(s=li,l=_n,l=ln(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(Wn===2||Wn===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&se(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||pr(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&se(c),Xn(l)){case 2:case 8:l=an;break;case 32:l=We;break;case 268435456:l=le;break;default:l=We}return c=X5.bind(null,r),l=ae(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&se(c),r.callbackPriority=2,r.callbackNode=null,2}function X5(r,s){if(xr!==0&&xr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(hp()&&r.callbackNode!==l)return null;var c=_n;return c=ln(r,r===li?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(k5(r,c,s),Q5(r,Ye()),r.callbackNode!=null&&r.callbackNode===l?X5.bind(null,r):null)}function J5(r,s){if(hp())return null;k5(r,s,!0)}function fS(){SS(function(){(Fn&6)!==0?ae(Fe,hS):$5()})}function e1(){if(_u===0){var r=p;r===0&&(r=Ve,Ve<<=1,(Ve&261888)===0&&(Ve=256)),_u=r}return _u}function Z5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function tv(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function dS(r,s,l,c,g){if(s==="submit"&&l&&l.stateNode===g){var _=Z5((g[Gn]||null).action),R=c.submitter;R&&(s=(s=R[Gn]||null)?Z5(s.formAction):R.getAttribute("formAction"),s!==null&&(_=s,R=null));var G=new ar("action","action",null,c,g);r.push({event:G,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_u!==0){var ct=R?tv(g,R):new FormData(g);wg(l,{pending:!0,data:ct,method:g.method,action:_},null,ct)}}else typeof _=="function"&&(G.preventDefault(),ct=R?tv(g,R):new FormData(g),wg(l,{pending:!0,data:ct,method:g.method,action:_},_,ct))},currentTarget:g}]})}}for(var n1=0;n1<vl.length;n1++){var i1=vl[n1],pS=i1.toLowerCase(),mS=i1[0].toUpperCase()+i1.slice(1);Bs(pS,"on"+mS)}Bs(yl,"onAnimationEnd"),Bs(ic,"onAnimationIteration"),Bs(af,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(jd,"onTransitionRun"),Bs(Vd,"onTransitionStart"),Bs(Bd,"onTransitionCancel"),Bs(of,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kf));function ev(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],g=c.event;c=c.listeners;t:{var _=void 0;if(s)for(var R=c.length-1;0<=R;R--){var G=c[R],ct=G.instance,kt=G.currentTarget;if(G=G.listener,ct!==_&&g.isPropagationStopped())break t;_=G,g.currentTarget=kt;try{_(g)}catch(Ft){rc(Ft)}g.currentTarget=null,_=ct}else for(R=0;R<c.length;R++){if(G=c[R],ct=G.instance,kt=G.currentTarget,G=G.listener,ct!==_&&g.isPropagationStopped())break t;_=G,g.currentTarget=kt;try{_(g)}catch(Ft){rc(Ft)}g.currentTarget=null,_=ct}}}}function yn(r,s){var l=s[Ir];l===void 0&&(l=s[Ir]=new Set);var c=r+"__bubble";l.has(c)||(nv(s,r,2,!1),l.add(c))}function r1(r,s,l){var c=0;s&&(c|=4),nv(l,r,c,s)}var pp="_reactListening"+Math.random().toString(36).slice(2);function s1(r){if(!r[pp]){r[pp]=!0,xo.forEach(function(l){l!=="selectionchange"&&(gS.has(l)||r1(l,!1,r),r1(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[pp]||(s[pp]=!0,r1("selectionchange",!1,s))}}function nv(r,s,l,c){switch(Lv(s)){case 2:var g=HS;break;case 8:g=GS;break;default:g=b1}l=g.bind(null,s,l,r),g=void 0,!Ja||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?r.addEventListener(s,l,{capture:!0,passive:g}):r.addEventListener(s,l,!0):g!==void 0?r.addEventListener(s,l,{passive:g}):r.addEventListener(s,l,!1)}function a1(r,s,l,c,g){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var G=c.stateNode.containerInfo;if(G===g)break;if(R===4)for(R=c.return;R!==null;){var ct=R.tag;if((ct===3||ct===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;G!==null;){if(R=Hr(G),R===null)return;if(ct=R.tag,ct===5||ct===6||ct===26||ct===27){c=_=R;continue t}G=G.parentNode}}c=c.return}Ca(function(){var kt=_,Ft=Dr(l),Kt=[];t:{var Pt=lf.get(r);if(Pt!==void 0){var Mt=ar,me=r;switch(r){case"keypress":if(Wr(l)===0)break t;case"keydown":case"keyup":Mt=dn;break;case"focusin":me="focus",Mt=xs;break;case"focusout":me="blur",Mt=xs;break;case"beforeblur":case"afterblur":Mt=xs;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=js;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=S;break;case yl:case ic:case af:Mt=w;break;case of:Mt=W;break;case"scroll":case"scrollend":Mt=Ia;break;case"wheel":Mt=Dt;break;case"copy":case"cut":case"paste":Mt=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=qn;break;case"toggle":case"beforetoggle":Mt=Ke}var ze=(s&4)!==0,ri=!ze&&(r==="scroll"||r==="scrollend"),bt=ze?Pt!==null?Pt+"Capture":null:Pt;ze=[];for(var mt=kt,It;mt!==null;){var Gt=mt;if(It=Gt.stateNode,Gt=Gt.tag,Gt!==5&&Gt!==26&&Gt!==27||It===null||bt===null||(Gt=$i(mt,bt),Gt!=null&&ze.push(Of(mt,Gt,It))),ri)break;mt=mt.return}0<ze.length&&(Pt=new Mt(Pt,me,null,l,Ft),Kt.push({event:Pt,listeners:ze}))}}if((s&7)===0){t:{if(Pt=r==="mouseover"||r==="pointerover",Mt=r==="mouseout"||r==="pointerout",Pt&&l!==ca&&(me=l.relatedTarget||l.fromElement)&&(Hr(me)||me[Pi]))break t;if((Mt||Pt)&&(Pt=Ft.window===Ft?Ft:(Pt=Ft.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,Mt?(me=l.relatedTarget||l.toElement,Mt=kt,me=me?Hr(me):null,me!==null&&(ri=o(me),ze=me.tag,me!==ri||ze!==5&&ze!==27&&ze!==6)&&(me=null)):(Mt=null,me=kt),Mt!==me)){if(ze=ko,Gt="onMouseLeave",bt="onMouseEnter",mt="mouse",(r==="pointerout"||r==="pointerover")&&(ze=qn,Gt="onPointerLeave",bt="onPointerEnter",mt="pointer"),ri=Mt==null?Pt:Gr(Mt),It=me==null?Pt:Gr(me),Pt=new ze(Gt,mt+"leave",Mt,l,Ft),Pt.target=ri,Pt.relatedTarget=It,Gt=null,Hr(Ft)===kt&&(ze=new ze(bt,mt+"enter",me,l,Ft),ze.target=It,ze.relatedTarget=ri,Gt=ze),ri=Gt,Mt&&me)e:{for(ze=yS,bt=Mt,mt=me,It=0,Gt=bt;Gt;Gt=ze(Gt))It++;Gt=0;for(var Pe=mt;Pe;Pe=ze(Pe))Gt++;for(;0<It-Gt;)bt=ze(bt),It--;for(;0<Gt-It;)mt=ze(mt),Gt--;for(;It--;){if(bt===mt||mt!==null&&bt===mt.alternate){ze=bt;break e}bt=ze(bt),mt=ze(mt)}ze=null}else ze=null;Mt!==null&&iv(Kt,Pt,Mt,ze,!1),me!==null&&ri!==null&&iv(Kt,ri,me,ze,!0)}}t:{if(Pt=kt?Gr(kt):window,Mt=Pt.nodeName&&Pt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Pt.type==="file")var Un=Do;else if(ec(Pt))if(hs)Un=Pa;else{Un=Ci;var Ae=tu}else Mt=Pt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Pt.type!=="checkbox"&&Pt.type!=="radio"?kt&&Co(kt.elementType)&&(Un=Do):Un=zc;if(Un&&(Un=Un(r,kt))){Rs(Kt,Un,l,Ft);break t}Ae&&Ae(r,Pt,kt),r==="focusout"&&kt&&Pt.type==="number"&&kt.memoizedProps.value!=null&&cl(Pt,"number",Pt.value)}switch(Ae=kt?Gr(kt):window,r){case"focusin":(ec(Ae)||Ae.contentEditable==="true")&&(Cs=Ae,oo=kt,Pr=null);break;case"focusout":Pr=oo=Cs=null;break;case"mousedown":Vs=!0;break;case"contextmenu":case"mouseup":case"dragend":Vs=!1,Ln(Kt,l,Ft);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Ln(Kt,l,Ft)}var un;if(cn)t:{switch(r){case"compositionstart":var bn="onCompositionStart";break t;case"compositionend":bn="onCompositionEnd";break t;case"compositionupdate":bn="onCompositionUpdate";break t}bn=void 0}else ka?Ns(r,l)&&(bn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(bn="onCompositionStart");bn&&(vr&&l.locale!=="ko"&&(ka||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&ka&&(un=pl()):(Kr=Ft,Za="value"in Kr?Kr.value:Kr.textContent,ka=!0)),Ae=mp(kt,bn),0<Ae.length&&(bn=new vt(bn,r,null,l,Ft),Kt.push({event:bn,listeners:Ae}),un?bn.data=un:(un=La(l),un!==null&&(bn.data=un)))),(un=or?Xr(r,l):eo(r,l))&&(bn=mp(kt,"onBeforeInput"),0<bn.length&&(Ae=new vt("onBeforeInput","beforeinput",null,l,Ft),Kt.push({event:Ae,listeners:bn}),Ae.data=un)),dS(Kt,r,kt,l,Ft)}ev(Kt,s)})}function Of(r,s,l){return{instance:r,listener:s,currentTarget:l}}function mp(r,s){for(var l=s+"Capture",c=[];r!==null;){var g=r,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=$i(r,l),g!=null&&c.unshift(Of(r,g,_)),g=$i(r,s),g!=null&&c.push(Of(r,g,_))),r.tag===3)return c;r=r.return}return[]}function yS(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function iv(r,s,l,c,g){for(var _=s._reactName,R=[];l!==null&&l!==c;){var G=l,ct=G.alternate,kt=G.stateNode;if(G=G.tag,ct!==null&&ct===c)break;G!==5&&G!==26&&G!==27||kt===null||(ct=kt,g?(kt=$i(l,_),kt!=null&&R.unshift(Of(l,kt,ct))):g||(kt=$i(l,_),kt!=null&&R.push(Of(l,kt,ct)))),l=l.return}R.length!==0&&r.push({event:s,listeners:R})}var vS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function rv(r){return(typeof r=="string"?r:""+r).replace(vS,`
`).replace(_S,"")}function sv(r,s){return s=rv(s),rv(r)===s}function ii(r,s,l,c,g,_){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Wi(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Wi(r,""+c);break;case"className":sr(r,"class",c);break;case"tabIndex":sr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(r,l,c);break;case"style":dl(r,c,_);break;case"data":if(s!=="object"){sr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Or(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ii(r,s,"name",g.name,g,null),ii(r,s,"formEncType",g.formEncType,g,null),ii(r,s,"formMethod",g.formMethod,g,null),ii(r,s,"formTarget",g.formTarget,g,null)):(ii(r,s,"encType",g.encType,g,null),ii(r,s,"method",g.method,g,null),ii(r,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Or(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Ss);break;case"onScroll":c!=null&&yn("scroll",r);break;case"onScrollEnd":c!=null&&yn("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Or(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":yn("beforetoggle",r),yn("toggle",r),Yr(r,"popover",c);break;case"xlinkActuate":vi(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":vi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":vi(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":vi(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":vi(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":vi(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":vi(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":vi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":vi(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yr(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Io.get(l)||l,Yr(r,l,c))}}function o1(r,s,l,c,g,_){switch(l){case"style":dl(r,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Wi(r,c):(typeof c=="number"||typeof c=="bigint")&&Wi(r,""+c);break;case"onScroll":c!=null&&yn("scroll",r);break;case"onScrollEnd":c!=null&&yn("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=r[Gn]||null,_=_!=null?_[l]:null,typeof _=="function"&&r.removeEventListener(s,_,g),typeof c=="function")){typeof _!="function"&&_!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,g);break t}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Yr(r,l,c)}}}function ns(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",r),yn("load",r);var c=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var R=l[_];if(R!=null)switch(_){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ii(r,s,_,R,l,null)}}g&&ii(r,s,"srcSet",l.srcSet,l,null),c&&ii(r,s,"src",l.src,l,null);return;case"input":yn("invalid",r);var G=_=R=g=null,ct=null,kt=null;for(c in l)if(l.hasOwnProperty(c)){var Ft=l[c];if(Ft!=null)switch(c){case"name":g=Ft;break;case"type":R=Ft;break;case"checked":ct=Ft;break;case"defaultChecked":kt=Ft;break;case"value":_=Ft;break;case"defaultValue":G=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(i(137,s));break;default:ii(r,s,c,Ft,l,null)}}Xl(r,_,G,ct,kt,R,g,!1);return;case"select":yn("invalid",r),c=R=_=null;for(g in l)if(l.hasOwnProperty(g)&&(G=l[g],G!=null))switch(g){case"value":_=G;break;case"defaultValue":R=G;break;case"multiple":c=G;default:ii(r,s,g,G,l,null)}s=_,l=R,r.multiple=!!c,s!=null?yr(r,!!c,s,!1):l!=null&&yr(r,!!c,l,!0);return;case"textarea":yn("invalid",r),_=g=c=null;for(R in l)if(l.hasOwnProperty(R)&&(G=l[R],G!=null))switch(R){case"value":c=G;break;case"defaultValue":g=G;break;case"children":_=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:ii(r,s,R,G,l,null)}la(r,c,g,_);return;case"option":for(ct in l)if(l.hasOwnProperty(ct)&&(c=l[ct],c!=null))switch(ct){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ii(r,s,ct,c,l,null)}return;case"dialog":yn("beforetoggle",r),yn("toggle",r),yn("cancel",r),yn("close",r);break;case"iframe":case"object":yn("load",r);break;case"video":case"audio":for(c=0;c<kf.length;c++)yn(kf[c],r);break;case"image":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"embed":case"source":case"link":yn("error",r),yn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in l)if(l.hasOwnProperty(kt)&&(c=l[kt],c!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ii(r,s,kt,c,l,null)}return;default:if(Co(s)){for(Ft in l)l.hasOwnProperty(Ft)&&(c=l[Ft],c!==void 0&&o1(r,s,Ft,c,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(c=l[G],c!=null&&ii(r,s,G,c,l,null))}function bS(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,R=null,G=null,ct=null,kt=null,Ft=null;for(Mt in l){var Kt=l[Mt];if(l.hasOwnProperty(Mt)&&Kt!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":ct=Kt;default:c.hasOwnProperty(Mt)||ii(r,s,Mt,null,c,Kt)}}for(var Pt in c){var Mt=c[Pt];if(Kt=l[Pt],c.hasOwnProperty(Pt)&&(Mt!=null||Kt!=null))switch(Pt){case"type":_=Mt;break;case"name":g=Mt;break;case"checked":kt=Mt;break;case"defaultChecked":Ft=Mt;break;case"value":R=Mt;break;case"defaultValue":G=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(i(137,s));break;default:Mt!==Kt&&ii(r,s,Pt,Mt,c,Kt)}}Qa(r,R,G,ct,kt,Ft,_,g);return;case"select":Mt=R=G=Pt=null;for(_ in l)if(ct=l[_],l.hasOwnProperty(_)&&ct!=null)switch(_){case"value":break;case"multiple":Mt=ct;default:c.hasOwnProperty(_)||ii(r,s,_,null,c,ct)}for(g in c)if(_=c[g],ct=l[g],c.hasOwnProperty(g)&&(_!=null||ct!=null))switch(g){case"value":Pt=_;break;case"defaultValue":G=_;break;case"multiple":R=_;default:_!==ct&&ii(r,s,g,_,c,ct)}s=G,l=R,c=Mt,Pt!=null?yr(r,!!l,Pt,!1):!!c!=!!l&&(s!=null?yr(r,!!l,s,!0):yr(r,!!l,l?[]:"",!1));return;case"textarea":Mt=Pt=null;for(G in l)if(g=l[G],l.hasOwnProperty(G)&&g!=null&&!c.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:ii(r,s,G,null,c,g)}for(R in c)if(g=c[R],_=l[R],c.hasOwnProperty(R)&&(g!=null||_!=null))switch(R){case"value":Pt=g;break;case"defaultValue":Mt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&ii(r,s,R,g,c,_)}hl(r,Pt,Mt);return;case"option":for(var me in l)if(Pt=l[me],l.hasOwnProperty(me)&&Pt!=null&&!c.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:ii(r,s,me,null,c,Pt)}for(ct in c)if(Pt=c[ct],Mt=l[ct],c.hasOwnProperty(ct)&&Pt!==Mt&&(Pt!=null||Mt!=null))switch(ct){case"selected":r.selected=Pt&&typeof Pt!="function"&&typeof Pt!="symbol";break;default:ii(r,s,ct,Pt,c,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)Pt=l[ze],l.hasOwnProperty(ze)&&Pt!=null&&!c.hasOwnProperty(ze)&&ii(r,s,ze,null,c,Pt);for(kt in c)if(Pt=c[kt],Mt=l[kt],c.hasOwnProperty(kt)&&Pt!==Mt&&(Pt!=null||Mt!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(i(137,s));break;default:ii(r,s,kt,Pt,c,Mt)}return;default:if(Co(s)){for(var ri in l)Pt=l[ri],l.hasOwnProperty(ri)&&Pt!==void 0&&!c.hasOwnProperty(ri)&&o1(r,s,ri,void 0,c,Pt);for(Ft in c)Pt=c[Ft],Mt=l[Ft],!c.hasOwnProperty(Ft)||Pt===Mt||Pt===void 0&&Mt===void 0||o1(r,s,Ft,Pt,c,Mt);return}}for(var bt in l)Pt=l[bt],l.hasOwnProperty(bt)&&Pt!=null&&!c.hasOwnProperty(bt)&&ii(r,s,bt,null,c,Pt);for(Kt in c)Pt=c[Kt],Mt=l[Kt],!c.hasOwnProperty(Kt)||Pt===Mt||Pt==null&&Mt==null||ii(r,s,Kt,Pt,c,Mt)}function av(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],_=g.transferSize,R=g.initiatorType,G=g.duration;if(_&&G&&av(R)){for(R=0,G=g.responseEnd,c+=1;c<l.length;c++){var ct=l[c],kt=ct.startTime;if(kt>G)break;var Ft=ct.transferSize,Kt=ct.initiatorType;Ft&&av(Kt)&&(ct=ct.responseEnd,R+=Ft*(ct<G?1:(G-kt)/(ct-kt)))}if(--c,s+=8*(_+R)/(g.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var l1=null,u1=null;function gp(r){return r.nodeType===9?r:r.ownerDocument}function ov(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function c1(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var h1=null;function AS(){var r=window.event;return r&&r.type==="popstate"?r===h1?!1:(h1=r,!0):(h1=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(r){return cv.resolve(null).then(r).catch(TS)}:uv;function TS(r){setTimeout(function(){throw r})}function bu(r){return r==="head"}function hv(r,s){var l=s,c=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(g),wh(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Df(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Df(l);for(var _=l.firstChild;_;){var R=_.nextSibling,G=_.nodeName;_[Lr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=R}}else l==="body"&&Df(r.ownerDocument.body);l=g}while(l);wh(s)}function fv(r,s){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function f1(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":f1(l),aa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function xS(r,s,l,c){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Lr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=za(r.nextSibling),r===null)break}return null}function NS(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=za(r.nextSibling),r===null))return null;return r}function dv(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=za(r.nextSibling),r===null))return null;return r}function d1(r){return r.data==="$?"||r.data==="$~"}function p1(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function RS(r,s){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function za(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var m1=null;function pv(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(s===0)return za(r.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}r=r.nextSibling}return null}function mv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return r;s--}else l!=="/$"&&l!=="/&"||s++}r=r.previousSibling}return null}function gv(r,s,l){switch(s=gp(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Df(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);aa(r)}var qa=new Map,yv=new Set;function yp(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Dl=pt.d;pt.d={f:CS,r:IS,D:LS,C:kS,L:OS,m:DS,X:MS,S:PS,M:US};function CS(){var r=Dl.f(),s=lp();return r||s}function IS(r){var s=gr(r);s!==null&&s.tag===5&&s.type==="form"?Dy(s):Dl.r(r)}var vh=typeof document>"u"?null:document;function vv(r,s,l){var c=vh;if(c&&typeof s=="string"&&s){var g=_i(s);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),yv.has(g)||(yv.add(g),r={rel:r,crossOrigin:l,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),ns(s,"link",r),hi(s),c.head.appendChild(s)))}}function LS(r){Dl.D(r),vv("dns-prefetch",r,null)}function kS(r,s){Dl.C(r,s),vv("preconnect",r,s)}function OS(r,s,l){Dl.L(r,s,l);var c=vh;if(c&&r&&s){var g='link[rel="preload"][as="'+_i(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_i(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_i(l.imageSizes)+'"]')):g+='[href="'+_i(r)+'"]';var _=g;switch(s){case"style":_=_h(r);break;case"script":_=bh(r)}qa.has(_)||(r=A({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),qa.set(_,r),c.querySelector(g)!==null||s==="style"&&c.querySelector(Pf(_))||s==="script"&&c.querySelector(Mf(_))||(s=c.createElement("link"),ns(s,"link",r),hi(s),c.head.appendChild(s)))}}function DS(r,s){Dl.m(r,s);var l=vh;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+_i(c)+'"][href="'+_i(r)+'"]',_=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=bh(r)}if(!qa.has(_)&&(r=A({rel:"modulepreload",href:r},s),qa.set(_,r),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mf(_)))return}c=l.createElement("link"),ns(c,"link",r),hi(c),l.head.appendChild(c)}}}function PS(r,s,l){Dl.S(r,s,l);var c=vh;if(c&&r){var g=os(c).hoistableStyles,_=_h(r);s=s||"default";var R=g.get(_);if(!R){var G={loading:0,preload:null};if(R=c.querySelector(Pf(_)))G.loading=5;else{r=A({rel:"stylesheet",href:r,"data-precedence":s},l),(l=qa.get(_))&&g1(r,l);var ct=R=c.createElement("link");hi(ct),ns(ct,"link",r),ct._p=new Promise(function(kt,Ft){ct.onload=kt,ct.onerror=Ft}),ct.addEventListener("load",function(){G.loading|=1}),ct.addEventListener("error",function(){G.loading|=2}),G.loading|=4,vp(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:G},g.set(_,R)}}}function MS(r,s){Dl.X(r,s);var l=vh;if(l&&r){var c=os(l).hoistableScripts,g=bh(r),_=c.get(g);_||(_=l.querySelector(Mf(g)),_||(r=A({src:r,async:!0},s),(s=qa.get(g))&&y1(r,s),_=l.createElement("script"),hi(_),ns(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function US(r,s){Dl.M(r,s);var l=vh;if(l&&r){var c=os(l).hoistableScripts,g=bh(r),_=c.get(g);_||(_=l.querySelector(Mf(g)),_||(r=A({src:r,async:!0,type:"module"},s),(s=qa.get(g))&&y1(r,s),_=l.createElement("script"),hi(_),ns(_,"link",r),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function _v(r,s,l,c){var g=(g=ut.current)?yp(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=_h(l.href),l=os(g).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=_h(l.href);var _=os(g).hoistableStyles,R=_.get(r);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,R),(_=g.querySelector(Pf(r)))&&!_._p&&(R.instance=_,R.state.loading=5),qa.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qa.set(r,l),_||jS(g,r,l,R.state))),s&&c===null)throw Error(i(528,""));return R}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bh(l),l=os(g).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _h(r){return'href="'+_i(r)+'"'}function Pf(r){return'link[rel="stylesheet"]['+r+"]"}function bv(r){return A({},r,{"data-precedence":r.precedence,precedence:null})}function jS(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ns(s,"link",l),hi(s),r.head.appendChild(s))}function bh(r){return'[src="'+_i(r)+'"]'}function Mf(r){return"script[async]"+r}function wv(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+_i(l.href)+'"]');if(c)return s.instance=c,hi(c),c;var g=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),hi(c),ns(c,"style",g),vp(c,l.precedence,r),s.instance=c;case"stylesheet":g=_h(l.href);var _=r.querySelector(Pf(g));if(_)return s.state.loading|=4,s.instance=_,hi(_),_;c=bv(l),(g=qa.get(g))&&g1(c,g),_=(r.ownerDocument||r).createElement("link"),hi(_);var R=_;return R._p=new Promise(function(G,ct){R.onload=G,R.onerror=ct}),ns(_,"link",c),s.state.loading|=4,vp(_,l.precedence,r),s.instance=_;case"script":return _=bh(l.src),(g=r.querySelector(Mf(_)))?(s.instance=g,hi(g),g):(c=l,(g=qa.get(_))&&(c=A({},l),y1(c,g)),r=r.ownerDocument||r,g=r.createElement("script"),hi(g),ns(g,"link",c),r.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,vp(c,l.precedence,r));return s.instance}function vp(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,_=g,R=0;R<c.length;R++){var G=c[R];if(G.dataset.precedence===s)_=G;else if(_!==g)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function g1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function y1(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var _p=null;function Av(r,s,l){if(_p===null){var c=new Map,g=_p=new Map;g.set(l,c)}else g=_p,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var _=l[g];if(!(_[Lr]||_[Dn]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(s)||"";R=r+R;var G=c.get(R);G?G.push(_):c.set(R,[_])}}return c}function Ev(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function VS(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Sv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function BS(r,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=_h(c.href),_=s.querySelector(Pf(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=bp.bind(r),s.then(r,r)),l.state.loading|=4,l.instance=_,hi(_);return}_=s.ownerDocument||s,c=bv(c),(g=qa.get(g))&&g1(c,g),_=_.createElement("link"),hi(_);var R=_;R._p=new Promise(function(G,ct){R.onload=G,R.onerror=ct}),ns(_,"link",c),l.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=bp.bind(r),s.addEventListener("load",l),s.addEventListener("error",l))}}var v1=0;function FS(r,s){return r.stylesheets&&r.count===0&&Ap(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Ap(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+s);0<r.imgBytes&&v1===0&&(v1=62500*wS());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ap(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>v1?50:800)+s);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function bp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var wp=null;function Ap(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,wp=new Map,s.forEach(zS,r),wp=null,bp.call(r))}function zS(r,s){if(!(s.state.loading&4)){var l=wp.get(r);if(l)var c=l.get(null);else{l=new Map,wp.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var R=g[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}g=s.instance,R=g.getAttribute("data-precedence"),_=l.get(R)||c,_===c&&l.set(null,g),l.set(R,g),this.count++,c=bp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),_?_.parentNode.insertBefore(g,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),s.state.loading|=4}}var Uf={$$typeof:et,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function qS(r,s,l,c,g,_,R,G,ct){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ct,this.incompleteTransitions=new Map}function Tv(r,s,l,c,g,_,R,G,ct,kt,Ft,Kt){return r=new qS(r,s,l,R,ct,kt,Ft,Kt,G),s=1,_===!0&&(s|=24),_=Ur(3,null,null,s),r.current=_,_.stateNode=r,s=lu(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:s},ne(_),r}function xv(r){return r?(r=wr,r):wr}function Nv(r,s,l,c,g,_){g=xv(g),c.context===null?c.context=g:c.pendingContext=g,c=Be(s),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=on(r,c,s),l!==null&&(Zs(l,r,s),Vn(l,r,s))}function Rv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _1(r,s){Rv(r,s),(r=r.alternate)&&Rv(r,s)}function Cv(r){if(r.tag===13||r.tag===31){var s=lo(r,67108864);s!==null&&Zs(s,r,67108864),_1(r,67108864)}}function Iv(r){if(r.tag===13||r.tag===31){var s=va();s=zn(s);var l=lo(r,s);l!==null&&Zs(l,r,s),_1(r,s)}}var Ep=!0;function HS(r,s,l,c){var g=at.T;at.T=null;var _=pt.p;try{pt.p=2,b1(r,s,l,c)}finally{pt.p=_,at.T=g}}function GS(r,s,l,c){var g=at.T;at.T=null;var _=pt.p;try{pt.p=8,b1(r,s,l,c)}finally{pt.p=_,at.T=g}}function b1(r,s,l,c){if(Ep){var g=w1(c);if(g===null)a1(r,s,c,Sp,l),kv(r,c);else if(KS(g,r,s,l,c))c.stopPropagation();else if(kv(r,c),s&4&&-1<YS.indexOf(r)){for(;g!==null;){var _=gr(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=we(_.pendingLanes);if(R!==0){var G=_;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var ct=1<<31-Ze(R);G.entanglements[1]|=ct,R&=~ct}Ko(_),(Fn&6)===0&&(ap=Ye()+500,Lf(0))}}break;case 31:case 13:G=lo(_,2),G!==null&&Zs(G,_,2),lp(),_1(_,2)}if(_=w1(c),_===null&&a1(r,s,c,Sp,l),_===g)break;g=_}g!==null&&c.stopPropagation()}else a1(r,s,c,null,l)}}function w1(r){return r=Dr(r),A1(r)}var Sp=null;function A1(r){if(Sp=null,r=Hr(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===31){if(r=h(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Sp=r,null}function Lv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Fe:return 2;case an:return 8;case We:case St:return 32;case le:return 268435456;default:return 32}default:return 32}}var E1=!1,wu=null,Au=null,Eu=null,jf=new Map,Vf=new Map,Su=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(r,s){switch(r){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":Au=null;break;case"mouseover":case"mouseout":Eu=null;break;case"pointerover":case"pointerout":jf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(s.pointerId)}}function Bf(r,s,l,c,g,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},s!==null&&(s=gr(s),s!==null&&Cv(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),r)}function KS(r,s,l,c,g){switch(s){case"focusin":return wu=Bf(wu,r,s,l,c,g),!0;case"dragenter":return Au=Bf(Au,r,s,l,c,g),!0;case"mouseover":return Eu=Bf(Eu,r,s,l,c,g),!0;case"pointerover":var _=g.pointerId;return jf.set(_,Bf(jf.get(_)||null,r,s,l,c,g)),!0;case"gotpointercapture":return _=g.pointerId,Vf.set(_,Bf(Vf.get(_)||null,r,s,l,c,g)),!0}return!1}function Ov(r){var s=Hr(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,mr(r.priority,function(){Iv(l)});return}}else if(s===31){if(s=h(l),s!==null){r.blockedOn=s,mr(r.priority,function(){Iv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tp(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=w1(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);ca=c,l.target.dispatchEvent(c),ca=null}else return s=gr(l),s!==null&&Cv(s),r.blockedOn=l,!1;s.shift()}return!0}function Dv(r,s,l){Tp(r)&&l.delete(s)}function WS(){E1=!1,wu!==null&&Tp(wu)&&(wu=null),Au!==null&&Tp(Au)&&(Au=null),Eu!==null&&Tp(Eu)&&(Eu=null),jf.forEach(Dv),Vf.forEach(Dv)}function xp(r,s){r.blockedOn===s&&(r.blockedOn=null,E1||(E1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WS)))}var Np=null;function Pv(r){Np!==r&&(Np=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Np===r&&(Np=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],g=r[s+2];if(typeof c!="function"){if(A1(c||l)===null)continue;break}var _=gr(l);_!==null&&(r.splice(s,3),s-=3,wg(_,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function wh(r){function s(ct){return xp(ct,r)}wu!==null&&xp(wu,r),Au!==null&&xp(Au,r),Eu!==null&&xp(Eu,r),jf.forEach(s),Vf.forEach(s);for(var l=0;l<Su.length;l++){var c=Su[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Su.length&&(l=Su[0],l.blockedOn===null);)Ov(l),l.blockedOn===null&&Su.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],_=l[c+1],R=g[Gn]||null;if(typeof _=="function")R||Pv(l);else if(R){var G=null;if(_&&_.hasAttribute("formAction")){if(g=_,R=_[Gn]||null)G=R.formAction;else if(A1(g)!==null)continue}else G=R.action;typeof G=="function"?l[c+1]=G:(l.splice(c,3),c-=3),Pv(l)}}}function Mv(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return g=R})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function S1(r){this._internalRoot=r}Rp.prototype.render=S1.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=va();Nv(l,c,r,s,null,null)},Rp.prototype.unmount=S1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Nv(r.current,2,null,r,null,null),lp(),s[Pi]=null}};function Rp(r){this._internalRoot=r}Rp.prototype.unstable_scheduleHydration=function(r){if(r){var s=Di();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Su.length&&s!==0&&s<Su[l].priority;l++);Su.splice(l,0,r),l===0&&Ov(r)}};var Uv=t.version;if(Uv!=="19.2.0")throw Error(i(527,Uv,"19.2.0"));pt.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var $S={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{Ue=Cp.inject($S),_e=Cp}catch{}}return zf.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",g=Hy,_=Gy,R=Yy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=Tv(r,1,!1,null,null,l,c,null,g,_,R,Mv),r[Pi]=s.current,s1(r),new S1(s)},zf.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,g="",_=Hy,R=Gy,G=Yy,ct=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(ct=l.formState)),s=Tv(r,1,!0,s,l??null,c,g,ct,_,R,G,Mv),s.context=xv(null),l=s.current,c=va(),c=zn(c),g=Be(c),g.callback=null,on(l,g,c),l=c,s.current.lanes=l,Re(s,l),Ko(s),r[Pi]=s.current,s1(r),new Rp(s)},zf.version="19.2.0",zf}var Kv;function a6(){if(Kv)return N1.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),N1.exports=s6(),N1.exports}var o6=a6();const l6=Qw(o6);var Wv="popstate";function u6(n={}){function t(i,a){let{pathname:o,search:u,hash:h}=i.location;return _0("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:ld(a)}return h6(t,e,null,n)}function xi(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ya(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c6(){return Math.random().toString(36).substring(2,10)}function $v(n,t){return{usr:n.state,key:n.key,idx:t}}function _0(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?$h(t):t,state:e,key:t&&t.key||i||c6()}}function ld({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function $h(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function h6(n,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",f=null,d=v();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function v(){return(u.state||{idx:null}).idx}function A(){h="POP";let B=v(),V=B==null?null:B-d;d=B,f&&f({action:h,location:M.location,delta:V})}function T(B,V){h="PUSH";let Z=_0(M.location,B,V);d=v()+1;let et=$v(Z,d),nt=M.createHref(Z);try{u.pushState(et,"",nt)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;a.location.assign(nt)}o&&f&&f({action:h,location:M.location,delta:1})}function b(B,V){h="REPLACE";let Z=_0(M.location,B,V);d=v();let et=$v(Z,d),nt=M.createHref(Z);u.replaceState(et,"",nt),o&&f&&f({action:h,location:M.location,delta:0})}function O(B){return f6(B)}let M={get action(){return h},get location(){return n(a,u)},listen(B){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Wv,A),f=B,()=>{a.removeEventListener(Wv,A),f=null}},createHref(B){return t(a,B)},createURL:O,encodeLocation(B){let V=O(B);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:b,go(B){return u.go(B)}};return M}function f6(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),xi(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:ld(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Xw(n,t,e="/"){return d6(n,t,e,!1)}function d6(n,t,e,i){let a=typeof t=="string"?$h(t):t,o=Hl(a.pathname||"/",e);if(o==null)return null;let u=Jw(n);p6(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=T6(o);h=E6(u[f],d,i)}return h}function Jw(n,t=[],e=[],i="",a=!1){let o=(u,h,f=a,d)=>{let v={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;xi(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let A=Fl([i,v.relativePath]),T=e.concat(v);u.children&&u.children.length>0&&(xi(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Jw(u.children,t,T,A,f)),!(u.path==null&&!u.index)&&t.push({path:A,score:w6(A,u.index),routesMeta:T})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of Zw(u.path))o(u,h,!0,f)}),t}function Zw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=Zw(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function p6(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:A6(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var m6=/^:[\w-]+$/,g6=3,y6=2,v6=1,_6=10,b6=-2,Qv=n=>n==="*";function w6(n,t){let e=n.split("/"),i=e.length;return e.some(Qv)&&(i+=b6),t&&(i+=y6),e.filter(a=>!Qv(a)).reduce((a,o)=>a+(m6.test(o)?g6:o===""?v6:_6),i)}function A6(n,t){return n.length===t.length&&n.slice(0,-1).every((i,a)=>i===t[a])?n[n.length-1]-t[t.length-1]:0}function E6(n,t,e=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,v=o==="/"?t:t.slice(o.length)||"/",A=dm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},v),T=f.route;if(!A&&d&&e&&!i[i.length-1].route.index&&(A=dm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!A)return null;Object.assign(a,A.params),u.push({params:a,pathname:Fl([o,A.pathname]),pathnameBase:I6(Fl([o,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(o=Fl([o,A.pathnameBase]))}return u}function dm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=S6(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((d,{paramName:v,isOptional:A},T)=>{if(v==="*"){let O=h[T]||"";u=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const b=h[T];return A&&!b?d[v]=void 0:d[v]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function S6(n,t=!1,e=!0){Ya(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function T6(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ya(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Hl(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var x6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N6=n=>x6.test(n);function R6(n,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof n=="string"?$h(n):n,o;if(e)if(N6(e))o=e;else{if(e.includes("//")){let u=e;e=e.replace(/\/\/+/g,"/"),Ya(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${e}`)}e.startsWith("/")?o=Xv(e.substring(1),"/"):o=Xv(e,t)}else o=t;return{pathname:o,search:L6(i),hash:k6(a)}}function Xv(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function L1(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C6(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function o2(n){let t=C6(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function l2(n,t,e,i=!1){let a;typeof n=="string"?a=$h(n):(a={...n},xi(!a.pathname||!a.pathname.includes("?"),L1("?","pathname","search",a)),xi(!a.pathname||!a.pathname.includes("#"),L1("#","pathname","hash",a)),xi(!a.search||!a.search.includes("#"),L1("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=e;else{let A=t.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),A-=1;a.pathname=T.join("/")}h=A>=0?t[A]:"/"}let f=R6(a,h),d=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||v)&&(f.pathname+="/"),f}var Fl=n=>n.join("/").replace(/\/\/+/g,"/"),I6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),L6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,k6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function O6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function D6(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var t4=["POST","PUT","PATCH","DELETE"];new Set(t4);var P6=["GET",...t4];new Set(P6);var Qh=wt.createContext(null);Qh.displayName="DataRouter";var Um=wt.createContext(null);Um.displayName="DataRouterState";wt.createContext(!1);var e4=wt.createContext({isTransitioning:!1});e4.displayName="ViewTransition";var M6=wt.createContext(new Map);M6.displayName="Fetchers";var U6=wt.createContext(null);U6.displayName="Await";var Wa=wt.createContext(null);Wa.displayName="Navigation";var Ed=wt.createContext(null);Ed.displayName="Location";var Eo=wt.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var u2=wt.createContext(null);u2.displayName="RouteError";function j6(n,{relative:t}={}){xi(Xh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=wt.useContext(Wa),{hash:a,pathname:o,search:u}=Sd(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Fl([e,o])),i.createHref({pathname:h,search:u,hash:a})}function Xh(){return wt.useContext(Ed)!=null}function Ql(){return xi(Xh(),"useLocation() may be used only in the context of a <Router> component."),wt.useContext(Ed).location}var n4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i4(n){wt.useContext(Wa).static||wt.useLayoutEffect(n)}function Pc(){let{isDataRoute:n}=wt.useContext(Eo);return n?X6():V6()}function V6(){xi(Xh(),"useNavigate() may be used only in the context of a <Router> component.");let n=wt.useContext(Qh),{basename:t,navigator:e}=wt.useContext(Wa),{matches:i}=wt.useContext(Eo),{pathname:a}=Ql(),o=JSON.stringify(o2(i)),u=wt.useRef(!1);return i4(()=>{u.current=!0}),wt.useCallback((f,d={})=>{if(Ya(u.current,n4),!u.current)return;if(typeof f=="number"){e.go(f);return}let v=l2(f,JSON.parse(o),a,d.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Fl([t,v.pathname])),(d.replace?e.replace:e.push)(v,d.state,d)},[t,e,o,a,n])}wt.createContext(null);function r4(){let{matches:n}=wt.useContext(Eo),t=n[n.length-1];return t?t.params:{}}function Sd(n,{relative:t}={}){let{matches:e}=wt.useContext(Eo),{pathname:i}=Ql(),a=JSON.stringify(o2(e));return wt.useMemo(()=>l2(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function B6(n,t){return s4(n,t)}function s4(n,t,e,i,a){xi(Xh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=wt.useContext(Wa),{matches:u}=wt.useContext(Eo),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",v=h?h.pathnameBase:"/",A=h&&h.route;{let Z=A&&A.path||"";a4(d,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=Ql(),b;if(t){let Z=typeof t=="string"?$h(t):t;xi(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),b=Z}else b=T;let O=b.pathname||"/",M=O;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(Z.length).join("/")}let B=Xw(n,{pathname:M});Ya(A||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ya(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=G6(B&&B.map(Z=>Object.assign({},Z,{params:Object.assign({},f,Z.params),pathname:Fl([v,o.encodeLocation?o.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Fl([v,o.encodeLocation?o.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),u,e,i,a);return t&&V?wt.createElement(Ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function F6(){let n=Q6(),t=O6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=wt.createElement(wt.Fragment,null,wt.createElement("p",null," Hey developer "),wt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",wt.createElement("code",{style:o},"ErrorBoundary")," or"," ",wt.createElement("code",{style:o},"errorElement")," prop on your route.")),wt.createElement(wt.Fragment,null,wt.createElement("h2",null,"Unexpected Application Error!"),wt.createElement("h3",{style:{fontStyle:"italic"}},t),e?wt.createElement("pre",{style:a},e):null,u)}var z6=wt.createElement(F6,null),q6=class extends wt.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?wt.createElement(Eo.Provider,{value:this.props.routeContext},wt.createElement(u2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H6({routeContext:n,match:t,children:e}){let i=wt.useContext(Qh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),wt.createElement(Eo.Provider,{value:n},e)}function G6(n,t=[],e=null,i=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,u=e?.errors;if(u!=null){let v=o.findIndex(A=>A.route.id&&u?.[A.route.id]!==void 0);xi(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,f=-1;if(e)for(let v=0;v<o.length;v++){let A=o[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(f=v),A.route.id){let{loaderData:T,errors:b}=e,O=A.route.loader&&!T.hasOwnProperty(A.route.id)&&(!b||b[A.route.id]===void 0);if(A.route.lazy||O){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(v,A)=>{i(v,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:D6(e.matches),errorInfo:A})}:void 0;return o.reduceRight((v,A,T)=>{let b,O=!1,M=null,B=null;e&&(b=u&&A.route.id?u[A.route.id]:void 0,M=A.route.errorElement||z6,h&&(f<0&&T===0?(a4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,B=null):f===T&&(O=!0,B=A.route.hydrateFallbackElement||null)));let V=t.concat(o.slice(0,T+1)),Z=()=>{let et;return b?et=M:O?et=B:A.route.Component?et=wt.createElement(A.route.Component,null):A.route.element?et=A.route.element:et=v,wt.createElement(H6,{match:A,routeContext:{outlet:v,matches:V,isDataRoute:e!=null},children:et})};return e&&(A.route.ErrorBoundary||A.route.errorElement||T===0)?wt.createElement(q6,{location:e.location,revalidation:e.revalidation,component:M,error:b,children:Z(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:d}):Z()},null)}function c2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y6(n){let t=wt.useContext(Qh);return xi(t,c2(n)),t}function K6(n){let t=wt.useContext(Um);return xi(t,c2(n)),t}function W6(n){let t=wt.useContext(Eo);return xi(t,c2(n)),t}function h2(n){let t=W6(n),e=t.matches[t.matches.length-1];return xi(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function $6(){return h2("useRouteId")}function Q6(){let n=wt.useContext(u2),t=K6("useRouteError"),e=h2("useRouteError");return n!==void 0?n:t.errors?.[e]}function X6(){let{router:n}=Y6("useNavigate"),t=h2("useNavigate"),e=wt.useRef(!1);return i4(()=>{e.current=!0}),wt.useCallback(async(a,o={})=>{Ya(e.current,n4),e.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...o}))},[n,t])}var Jv={};function a4(n,t,e){!t&&!Jv[n]&&(Jv[n]=!0,Ya(!1,e))}wt.memo(J6);function J6({routes:n,future:t,state:e,unstable_onError:i}){return s4(n,void 0,e,i,t)}function _a({to:n,replace:t,state:e,relative:i}){xi(Xh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=wt.useContext(Wa);Ya(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=wt.useContext(Eo),{pathname:u}=Ql(),h=Pc(),f=l2(n,o2(o),u,i==="path"),d=JSON.stringify(f);return wt.useEffect(()=>{h(JSON.parse(d),{replace:t,state:e,relative:i})},[h,d,i,t,e]),null}function Ul(n){xi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z6({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){xi(!Xh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=wt.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof e=="string"&&(e=$h(e));let{pathname:d="/",search:v="",hash:A="",state:T=null,key:b="default"}=e,O=wt.useMemo(()=>{let M=Hl(d,h);return M==null?null:{location:{pathname:M,search:v,hash:A,state:T,key:b},navigationType:i}},[h,d,v,A,T,b,i]);return Ya(O!=null,`<Router basename="${h}"> is not able to match the URL "${d}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:wt.createElement(Wa.Provider,{value:f},wt.createElement(Ed.Provider,{children:t,value:O}))}function tT({children:n,location:t}){return B6(b0(n),t)}function b0(n,t=[]){let e=[];return wt.Children.forEach(n,(i,a)=>{if(!wt.isValidElement(i))return;let o=[...t,a];if(i.type===wt.Fragment){e.push.apply(e,b0(i.props.children,o));return}xi(i.type===Ul,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=b0(i.props.children,o)),e.push(u)}),e}var $p="get",Qp="application/x-www-form-urlencoded";function jm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function eT(n){return jm(n)&&n.tagName.toLowerCase()==="button"}function nT(n){return jm(n)&&n.tagName.toLowerCase()==="form"}function iT(n){return jm(n)&&n.tagName.toLowerCase()==="input"}function rT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sT(n,t){return n.button===0&&(!t||t==="_self")&&!rT(n)}var Ip=null;function aT(){if(Ip===null)try{new FormData(document.createElement("form"),0),Ip=!1}catch{Ip=!0}return Ip}var oT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k1(n){return n!=null&&!oT.has(n)?(Ya(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qp}"`),null):n}function lT(n,t){let e,i,a,o,u;if(nT(n)){let h=n.getAttribute("action");i=h?Hl(h,t):null,e=n.getAttribute("method")||$p,a=k1(n.getAttribute("enctype"))||Qp,o=new FormData(n)}else if(eT(n)||iT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Hl(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||$p,a=k1(n.getAttribute("formenctype"))||k1(h.getAttribute("enctype"))||Qp,o=new FormData(h,n),!aT()){let{name:d,type:v,value:A}=n;if(v==="image"){let T=d?`${d}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else d&&o.append(d,A)}}else{if(jm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=$p,i=null,a=Qp,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f2(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function uT(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Hl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function cT(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fT(n,t,e){let i=await Promise.all(n.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await cT(o,e);return u.links?u.links():[]}return[]}));return gT(i.flat(1).filter(hT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Zv(n,t,e,i,a,o){let u=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let A=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function dT(n,t,{includeHydrateFallback:e}={}){return pT(n.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function pT(n){return[...new Set(n)]}function mT(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function gT(n,t){let e=new Set;return new Set(t),n.reduce((i,a)=>{let o=JSON.stringify(mT(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}function o4(){let n=wt.useContext(Qh);return f2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yT(){let n=wt.useContext(Um);return f2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var d2=wt.createContext(void 0);d2.displayName="FrameworkContext";function l4(){let n=wt.useContext(d2);return f2(n,"You must render this element inside a <HydratedRouter> element"),n}function vT(n,t){let e=wt.useContext(d2),[i,a]=wt.useState(!1),[o,u]=wt.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:v,onTouchStart:A}=t,T=wt.useRef(null);wt.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=V=>{V.forEach(Z=>{u(Z.isIntersecting)})},B=new IntersectionObserver(M,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[n]),wt.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let b=()=>{a(!0)},O=()=>{a(!1),u(!1)};return e?n!=="intent"?[o,T,{}]:[o,T,{onFocus:qf(h,b),onBlur:qf(f,O),onMouseEnter:qf(d,b),onMouseLeave:qf(v,O),onTouchStart:qf(A,b)}]:[!1,T,{}]}function qf(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function _T({page:n,...t}){let{router:e}=o4(),i=wt.useMemo(()=>Xw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?wt.createElement(wT,{page:n,matches:i,...t}):null}function bT(n){let{manifest:t,routeModules:e}=l4(),[i,a]=wt.useState([]);return wt.useEffect(()=>{let o=!1;return fT(n,t,e).then(u=>{o||a(u)}),()=>{o=!0}},[n,t,e]),i}function wT({page:n,matches:t,...e}){let i=Ql(),{manifest:a,routeModules:o}=l4(),{basename:u}=o4(),{loaderData:h,matches:f}=yT(),d=wt.useMemo(()=>Zv(n,t,f,a,i,"data"),[n,t,f,a,i]),v=wt.useMemo(()=>Zv(n,t,f,a,i,"assets"),[n,t,f,a,i]),A=wt.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,M=!1;if(t.forEach(V=>{let Z=a.routes[V.route.id];!Z||!Z.hasLoader||(!d.some(et=>et.route.id===V.route.id)&&V.route.id in h&&o[V.route.id]?.shouldRevalidate||Z.hasClientLoader?M=!0:O.add(V.route.id))}),O.size===0)return[];let B=uT(n,u,"data");return M&&O.size>0&&B.searchParams.set("_routes",t.filter(V=>O.has(V.route.id)).map(V=>V.route.id).join(",")),[B.pathname+B.search]},[u,h,i,a,d,t,n,o]),T=wt.useMemo(()=>dT(v,a),[v,a]),b=bT(v);return wt.createElement(wt.Fragment,null,A.map(O=>wt.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...e})),T.map(O=>wt.createElement("link",{key:O,rel:"modulepreload",href:O,...e})),b.map(({key:O,link:M})=>wt.createElement("link",{key:O,nonce:e.nonce,...M})))}function AT(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var u4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u4&&(window.__reactRouterVersion="7.10.0")}catch{}function ET({basename:n,children:t,unstable_useTransitions:e,window:i}){let a=wt.useRef();a.current==null&&(a.current=u6({window:i,v5Compat:!0}));let o=a.current,[u,h]=wt.useState({action:o.action,location:o.location}),f=wt.useCallback(d=>{e===!1?h(d):wt.startTransition(()=>h(d))},[e]);return wt.useLayoutEffect(()=>o.listen(f),[o,f]),wt.createElement(Z6,{basename:n,children:t,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:e===!0})}var c4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vm=wt.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:v,viewTransition:A,...T},b){let{basename:O,unstable_useTransitions:M}=wt.useContext(Wa),B=typeof d=="string"&&c4.test(d),V,Z=!1;if(typeof d=="string"&&B&&(V=d,u4))try{let q=new URL(window.location.href),N=d.startsWith("//")?new URL(q.protocol+d):new URL(d),k=Hl(N.pathname,O);N.origin===q.origin&&k!=null?d=k+N.search+N.hash:Z=!0}catch{Ya(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=j6(d,{relative:a}),[nt,_t,Ot]=vT(i,T),H=NT(d,{replace:u,state:h,target:f,preventScrollReset:v,relative:a,viewTransition:A,unstable_useTransitions:M});function P(q){t&&t(q),q.defaultPrevented||H(q)}let I=wt.createElement("a",{...T,...Ot,href:V||et,onClick:Z||o?t:P,ref:AT(b,_t),target:f,"data-discover":!B&&e==="render"?"true":void 0});return nt&&!B?wt.createElement(wt.Fragment,null,I,wt.createElement(_T,{page:et})):I});Vm.displayName="Link";var ST=wt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...d},v){let A=Sd(u,{relative:d.relative}),T=Ql(),b=wt.useContext(Um),{navigator:O,basename:M}=wt.useContext(Wa),B=b!=null&&kT(A)&&h===!0,V=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,Z=T.pathname,et=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(Z=Z.toLowerCase(),et=et?et.toLowerCase():null,V=V.toLowerCase()),et&&M&&(et=Hl(et,M)||et);const nt=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let _t=Z===V||!a&&Z.startsWith(V)&&Z.charAt(nt)==="/",Ot=et!=null&&(et===V||!a&&et.startsWith(V)&&et.charAt(V.length)==="/"),H={isActive:_t,isPending:Ot,isTransitioning:B},P=_t?t:void 0,I;typeof i=="function"?I=i(H):I=[i,_t?"active":null,Ot?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(H):o;return wt.createElement(Vm,{...d,"aria-current":P,className:I,ref:v,style:q,to:u,viewTransition:h},typeof f=="function"?f(H):f)});ST.displayName="NavLink";var TT=wt.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:u=$p,action:h,onSubmit:f,relative:d,preventScrollReset:v,viewTransition:A,...T},b)=>{let{unstable_useTransitions:O}=wt.useContext(Wa),M=IT(),B=LT(h,{relative:d}),V=u.toLowerCase()==="get"?"get":"post",Z=typeof h=="string"&&c4.test(h),et=nt=>{if(f&&f(nt),nt.defaultPrevented)return;nt.preventDefault();let _t=nt.nativeEvent.submitter,Ot=_t?.getAttribute("formmethod")||u,H=()=>M(_t||nt.currentTarget,{fetcherKey:t,method:Ot,navigate:e,replace:a,state:o,relative:d,preventScrollReset:v,viewTransition:A});O&&e!==!1?wt.startTransition(()=>H()):H()};return wt.createElement("form",{ref:b,method:V,action:B,onSubmit:i?f:et,...T,"data-discover":!Z&&n==="render"?"true":void 0})});TT.displayName="Form";function xT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h4(n){let t=wt.useContext(Qh);return xi(t,xT(n)),t}function NT(n,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_useTransitions:h}={}){let f=Pc(),d=Ql(),v=Sd(n,{relative:o});return wt.useCallback(A=>{if(sT(A,t)){A.preventDefault();let T=e!==void 0?e:ld(d)===ld(v),b=()=>f(n,{replace:T,state:i,preventScrollReset:a,relative:o,viewTransition:u});h?wt.startTransition(()=>b()):b()}},[d,f,v,e,i,t,n,a,o,u,h])}var RT=0,CT=()=>`__${String(++RT)}__`;function IT(){let{router:n}=h4("useSubmit"),{basename:t}=wt.useContext(Wa),e=$6(),i=n.fetch,a=n.navigate;return wt.useCallback(async(o,u={})=>{let{action:h,method:f,encType:d,formData:v,body:A}=lT(o,t);if(u.navigate===!1){let T=u.fetcherKey||CT();await i(T,e,u.action||h,{preventScrollReset:u.preventScrollReset,formData:v,body:A,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||h,{preventScrollReset:u.preventScrollReset,formData:v,body:A,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,t,e])}function LT(n,{relative:t}={}){let{basename:e}=wt.useContext(Wa),i=wt.useContext(Eo);xi(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Sd(n||".",{relative:t})},u=Ql();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(A=>A).forEach(A=>h.append("index",A));let v=h.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Fl([e,o.pathname])),ld(o)}function kT(n,{relative:t}={}){let e=wt.useContext(e4);xi(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h4("useViewTransitionState"),a=Sd(n,{relative:t});if(!e.isTransitioning)return!1;let o=Hl(e.currentLocation.pathname,i)||e.currentLocation.pathname,u=Hl(e.nextLocation.pathname,i)||e.nextLocation.pathname;return dm(a.pathname,u)!=null||dm(a.pathname,o)!=null}const OT=()=>{};var t_={};const f4=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},DT=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},d4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,b=d&63;f||(b=64,u||(T=64)),i.push(e[v],e[A],e[T],e[b])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(f4(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):DT(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const d=a<n.length?e[n.charAt(a)]:64;++a;const A=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||d==null||A==null)throw new PT;const T=o<<2|h>>4;if(i.push(T),d!==64){const b=h<<4&240|d>>2;if(i.push(b),A!==64){const O=d<<6&192|A;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(n){const t=f4(n);return d4.encodeByteArray(t,!0)},pm=function(n){return MT(n).replace(/\./g,"")},p4=function(n){try{return d4.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function UT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jT=()=>UT().__FIREBASE_DEFAULTS__,VT=()=>{if(typeof process>"u"||typeof t_>"u")return;const n=t_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&p4(n[1]);return t&&JSON.parse(t)},Bm=()=>{try{return OT()||jT()||VT()||BT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m4=n=>Bm()?.emulatorHosts?.[n],g4=n=>{const t=m4(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},y4=()=>Bm()?.config,v4=n=>Bm()?.[`_${n}`];class FT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function $u(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p2(n){return(await fetch(n,{credentials:"include"})).ok}function _4(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pm(JSON.stringify(e)),pm(JSON.stringify(u)),""].join(".")}const Zf={};function zT(){const n={prod:[],emulator:[]};for(const t of Object.keys(Zf))Zf[t]?n.emulator.push(t):n.prod.push(t);return n}function qT(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let e_=!1;function m2(n,t){if(typeof window>"u"||typeof document>"u"||!$u(window.location.host)||Zf[n]===t||Zf[n]||e_)return;Zf[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=zT().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{e_=!0,u()},T}function v(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=qT(i),b=e("text"),O=document.getElementById(b)||document.createElement("span"),M=e("learnmore"),B=document.getElementById(M)||document.createElement("a"),V=e("preprendIcon"),Z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const et=T.element;h(et),v(B,M);const nt=d();f(Z,V),et.append(Z,O,B,nt),document.body.appendChild(et)}o?(O.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function ws(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ws())}function GT(){const n=Bm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $T(){const n=ws();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const ZT="FirebaseError";class ol extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=ZT,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?tx(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ol(a,h,i)}}function tx(n,t){return n.replace(ex,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const ex=/\{\$([^}]+)}/g;function nx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function xc(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],u=t[a];if(n_(o)&&n_(u)){if(!xc(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function n_(n){return n!==null&&typeof n=="object"}function xd(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Kf(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Wf(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function ix(n,t){const e=new rx(n,t);return e.subscribe.bind(e)}class rx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");sx(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=O1),a.error===void 0&&(a.error=O1),a.complete===void 0&&(a.complete=O1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sx(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function O1(){}function nr(n){return n&&n._delegate?n._delegate:n}class Fu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const vc="[DEFAULT]";class ax{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new FT;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lx(t))try{this.getOrInitializeService({instanceIdentifier:vc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=vc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vc){return this.instances.has(t)}getOptions(t=vc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ox(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=vc){return this.component?this.component.multipleInstances?t:vc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ox(n){return n===vc?void 0:n}function lx(n){return n.instantiationMode==="EAGER"}class ux{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ax(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const cx={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},hx=wn.INFO,fx={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},dx=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=fx[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class g2{constructor(t){this.name=t,this._logLevel=hx,this._logHandler=dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...t),this._logHandler(this,wn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...t),this._logHandler(this,wn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...t),this._logHandler(this,wn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...t),this._logHandler(this,wn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...t),this._logHandler(this,wn.ERROR,...t)}}const px=(n,t)=>t.some(e=>n instanceof e);let i_,r_;function mx(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gx(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b4=new WeakMap,w0=new WeakMap,w4=new WeakMap,D1=new WeakMap,y2=new WeakMap;function yx(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Mu(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&b4.set(e,n)}).catch(()=>{}),y2.set(t,n),t}function vx(n){if(w0.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});w0.set(n,t)}let A0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return w0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||w4.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Mu(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function _x(n){A0=n(A0)}function bx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(P1(this),t,...e);return w4.set(i,t.sort?t.sort():[t]),Mu(i)}:gx().includes(n)?function(...t){return n.apply(P1(this),t),Mu(b4.get(this))}:function(...t){return Mu(n.apply(P1(this),t))}}function wx(n){return typeof n=="function"?bx(n):(n instanceof IDBTransaction&&vx(n),px(n,mx())?new Proxy(n,A0):n)}function Mu(n){if(n instanceof IDBRequest)return yx(n);if(D1.has(n))return D1.get(n);const t=wx(n);return t!==n&&(D1.set(n,t),y2.set(t,n)),t}const P1=n=>y2.get(n);function Ax(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),h=Mu(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Mu(u.result),f.oldVersion,f.newVersion,Mu(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const Ex=["get","getKey","getAll","getAllKeys","count"],Sx=["put","add","delete","clear"],M1=new Map;function s_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(M1.get(t))return M1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=Sx.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ex.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),a&&f.done]))[0]};return M1.set(t,o),o}_x(n=>({...n,get:(t,e,i)=>s_(t,e)||n.get(t,e,i),has:(t,e)=>!!s_(t,e)||n.has(t,e)}));class Tx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(xx(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function xx(n){return n.getComponent()?.type==="VERSION"}const E0="@firebase/app",a_="0.14.6";const Gl=new g2("@firebase/app"),Nx="@firebase/app-compat",Rx="@firebase/analytics-compat",Cx="@firebase/analytics",Ix="@firebase/app-check-compat",Lx="@firebase/app-check",kx="@firebase/auth",Ox="@firebase/auth-compat",Dx="@firebase/database",Px="@firebase/data-connect",Mx="@firebase/database-compat",Ux="@firebase/functions",jx="@firebase/functions-compat",Vx="@firebase/installations",Bx="@firebase/installations-compat",Fx="@firebase/messaging",zx="@firebase/messaging-compat",qx="@firebase/performance",Hx="@firebase/performance-compat",Gx="@firebase/remote-config",Yx="@firebase/remote-config-compat",Kx="@firebase/storage",Wx="@firebase/storage-compat",$x="@firebase/firestore",Qx="@firebase/ai",Xx="@firebase/firestore-compat",Jx="firebase",Zx="12.6.0";const S0="[DEFAULT]",tN={[E0]:"fire-core",[Nx]:"fire-core-compat",[Cx]:"fire-analytics",[Rx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Ix]:"fire-app-check-compat",[kx]:"fire-auth",[Ox]:"fire-auth-compat",[Dx]:"fire-rtdb",[Px]:"fire-data-connect",[Mx]:"fire-rtdb-compat",[Ux]:"fire-fn",[jx]:"fire-fn-compat",[Vx]:"fire-iid",[Bx]:"fire-iid-compat",[Fx]:"fire-fcm",[zx]:"fire-fcm-compat",[qx]:"fire-perf",[Hx]:"fire-perf-compat",[Gx]:"fire-rc",[Yx]:"fire-rc-compat",[Kx]:"fire-gcs",[Wx]:"fire-gcs-compat",[$x]:"fire-fst",[Xx]:"fire-fst-compat",[Qx]:"fire-vertex","fire-js":"fire-js",[Jx]:"fire-js-all"};const mm=new Map,eN=new Map,T0=new Map;function o_(n,t){try{n.container.addComponent(t)}catch(e){Gl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Nc(n){const t=n.name;if(T0.has(t))return Gl.debug(`There were multiple attempts to register component ${t}.`),!1;T0.set(t,n);for(const e of mm.values())o_(e,n);for(const e of eN.values())o_(e,n);return!0}function Fm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function wa(n){return n==null?!1:n.settings!==void 0}const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uu=new Td("app","Firebase",nN);class iN{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Uu.create("app-deleted",{appName:this._name})}}const Mc=Zx;function A4(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:S0,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Uu.create("bad-app-name",{appName:String(a)});if(e||(e=y4()),!e)throw Uu.create("no-options");const o=mm.get(a);if(o){if(xc(e,o.options)&&xc(i,o.config))return o;throw Uu.create("duplicate-app",{appName:a})}const u=new ux(a);for(const f of T0.values())u.addComponent(f);const h=new iN(e,i,u);return mm.set(a,h),h}function v2(n=S0){const t=mm.get(n);if(!t&&n===S0&&y4())return A4();if(!t)throw Uu.create("no-app",{appName:n});return t}function Zo(n,t,e){let i=tN[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gl.warn(u.join(" "));return}Nc(new Fu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const rN="firebase-heartbeat-database",sN=1,ud="firebase-heartbeat-store";let U1=null;function E4(){return U1||(U1=Ax(rN,sN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ud)}catch(e){console.warn(e)}}}}).catch(n=>{throw Uu.create("idb-open",{originalErrorMessage:n.message})})),U1}async function aN(n){try{const e=(await E4()).transaction(ud),i=await e.objectStore(ud).get(S4(n));return await e.done,i}catch(t){if(t instanceof ol)Gl.warn(t.message);else{const e=Uu.create("idb-get",{originalErrorMessage:t?.message});Gl.warn(e.message)}}}async function l_(n,t){try{const i=(await E4()).transaction(ud,"readwrite");await i.objectStore(ud).put(t,S4(n)),await i.done}catch(e){if(e instanceof ol)Gl.warn(e.message);else{const i=Uu.create("idb-set",{originalErrorMessage:e?.message});Gl.warn(i.message)}}}function S4(n){return`${n.name}!${n.options.appId}`}const oN=1024,lN=30;class uN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new hN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>lN){const a=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u_(),{heartbeatsToSend:e,unsentEntries:i}=cN(this._heartbeatsCache.heartbeats),a=pm(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gl.warn(t),""}}}function u_(){return new Date().toISOString().substring(0,10)}function cN(n,t=oN){const e=[];let i=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),c_(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),c_(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class hN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await aN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function c_(n){return pm(JSON.stringify({version:2,heartbeats:n})).length}function fN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function dN(n){Nc(new Fu("platform-logger",t=>new Tx(t),"PRIVATE")),Nc(new Fu("heartbeat",t=>new uN(t),"PRIVATE")),Zo(E0,a_,n),Zo(E0,a_,"esm2020"),Zo("fire-js","")}dN("");var pN="firebase",mN="12.6.0";Zo(pN,mN,"app");function T4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=T4,x4=new Td("auth","Firebase",T4());const gm=new g2("@firebase/auth");function yN(n,...t){gm.logLevel<=wn.WARN&&gm.warn(`Auth (${Mc}): ${n}`,...t)}function Xp(n,...t){gm.logLevel<=wn.ERROR&&gm.error(`Auth (${Mc}): ${n}`,...t)}function bo(n,...t){throw _2(n,...t)}function tl(n,...t){return _2(n,...t)}function N4(n,t,e){const i={...gN(),[t]:e};return new Td("auth","Firebase",i).create(t,{appName:n.name})}function zl(n){return N4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return x4.create(n,...t)}function qe(n,t,...e){if(!n)throw _2(t,...e)}function Vl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Xp(t),new Error(t)}function Yl(n,t){n||Vl(t)}function x0(){return typeof self<"u"&&self.location?.href||""}function vN(){return h_()==="http:"||h_()==="https:"}function h_(){return typeof self<"u"&&self.location?.protocol||null}function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||KT()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Yl(e>t,"Short delay should be less than long delay!"),this.isMobile=HT()||WT()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function b2(n,t){Yl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class R4{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new Nd(3e4,6e4);function Qu(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Xu(n,t,e,i,a={}){return C4(n,a,async()=>{let o={},u={};i&&(t==="GET"?u=i:o={body:JSON.stringify(i)});const h=xd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return YT()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$u(n.emulatorConfig.host)&&(d.credentials="include"),R4.fetch()(await I4(n,n.config.apiHost,e,h),d)})}async function C4(n,t,e){n._canInitEmulator=!1;const i={...wN,...t};try{const a=new TN(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Lp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Lp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Lp(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw N4(n,v,d);bo(n,v)}}catch(a){if(a instanceof ol)throw a;bo(n,"network-request-failed",{message:String(a)})}}async function Rd(n,t,e,i,a={}){const o=await Xu(n,t,e,i,a);return"mfaPendingCredential"in o&&bo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function I4(n,t,e,i){const a=`${t}${e}?${i}`,o=n,u=o.config.emulator?b2(n.config,a):`${n.config.apiScheme}://${a}`;return AN.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function SN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(tl(this.auth,"network-request-failed")),EN.get())})}}function Lp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=tl(n,t,i);return a.customData._tokenResponse=e,a}function f_(n){return n!==void 0&&n.enterprise!==void 0}class xN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return SN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(n,t){return Xu(n,"GET","/v2/recaptchaConfig",Qu(n,t))}async function RN(n,t){return Xu(n,"POST","/v1/accounts:delete",t)}async function ym(n,t){return Xu(n,"POST","/v1/accounts:lookup",t)}function td(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CN(n,t=!1){const e=nr(n),i=await e.getIdToken(t),a=w2(i);qe(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:i,authTime:td(j1(a.auth_time)),issuedAtTime:td(j1(a.iat)),expirationTime:td(j1(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function j1(n){return Number(n)*1e3}function w2(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Xp("JWT malformed, contained fewer than 3 sections"),null;try{const a=p4(e);return a?JSON.parse(a):(Xp("Failed to decode base64 JWT payload"),null)}catch(a){return Xp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function d_(n){const t=w2(n);return qe(t,"internal-error"),qe(typeof t.exp<"u","internal-error"),qe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function cd(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ol&&IN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function IN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class LN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class N0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vm(n){const t=n.auth,e=await n.getIdToken(),i=await cd(n,ym(t,{idToken:e}));qe(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?L4(a.providerUserInfo):[],u=ON(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function kN(n){const t=nr(n);await vm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ON(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function L4(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function DN(n,t){const e=await C4(n,{},async()=>{const i=xd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await I4(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&$u(n.emulatorConfig.host)&&(f.credentials="include"),R4.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function PN(n,t){return Xu(n,"POST","/v2/accounts:revokeToken",Qu(n,t))}class Oh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qe(t.idToken,"internal-error"),qe(typeof t.idToken<"u","internal-error"),qe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qe(t.length!==0,"internal-error");const e=d_(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await DN(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,u=new Oh;return i&&(qe(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(qe(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),o&&(qe(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oh,this.toJSON())}_performRefresh(){return Vl("not implemented")}}function xu(n,t){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class _o{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new LN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new N0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await cd(this,this.stsTokenManager.getToken(this.auth,t));return qe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return CN(this,t)}reload(){return kN(this)}_assign(t){this!==t&&(qe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new _o({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await vm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wa(this.auth.app))return Promise.reject(zl(this.auth));const t=await this.getIdToken();return await cd(this,RN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:A,emailVerified:T,isAnonymous:b,providerData:O,stsTokenManager:M}=e;qe(A&&M,t,"internal-error");const B=Oh.fromJSON(this.name,M);qe(typeof A=="string",t,"internal-error"),xu(i,t.name),xu(a,t.name),qe(typeof T=="boolean",t,"internal-error"),qe(typeof b=="boolean",t,"internal-error"),xu(o,t.name),xu(u,t.name),xu(h,t.name),xu(f,t.name),xu(d,t.name),xu(v,t.name);const V=new _o({uid:A,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:B,createdAt:d,lastLoginAt:v});return O&&Array.isArray(O)&&(V.providerData=O.map(Z=>({...Z}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(t,e,i=!1){const a=new Oh;a.updateFromServerResponse(e);const o=new _o({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await vm(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];qe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?L4(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new Oh;h.updateFromIdToken(i);const f=new _o({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new N0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const p_=new Map;function Bl(n){Yl(n instanceof Function,"Expected a class definition");let t=p_.get(n);return t?(Yl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,p_.set(n,t),t)}class k4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}k4.type="NONE";const m_=k4;function Jp(n,t,e){return`firebase:${n}:${t}:${e}`}class Dh{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Jp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Jp("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ym(this.auth,{idToken:t}).catch(()=>{});return e?_o._fromGetAccountInfoResponse(this.auth,e,t):null}return _o._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Dh(Bl(m_),t,i);const a=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Bl(m_);const u=Jp(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const v=await d._get(u);if(v){let A;if(typeof v=="string"){const T=await ym(t,{idToken:v}).catch(()=>{});if(!T)break;A=await _o._fromGetAccountInfoResponse(t,T,v)}else A=_o._fromJSON(t,v);d!==o&&(h=A),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Dh(o,t,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Dh(o,t,i))}}function g_(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(M4(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O4(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j4(t))return"Blackberry";if(V4(t))return"Webos";if(D4(t))return"Safari";if((t.includes("chrome/")||P4(t))&&!t.includes("edge/"))return"Chrome";if(U4(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function O4(n=ws()){return/firefox\//i.test(n)}function D4(n=ws()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P4(n=ws()){return/crios\//i.test(n)}function M4(n=ws()){return/iemobile/i.test(n)}function U4(n=ws()){return/android/i.test(n)}function j4(n=ws()){return/blackberry/i.test(n)}function V4(n=ws()){return/webos/i.test(n)}function A2(n=ws()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function MN(n=ws()){return A2(n)&&!!window.navigator?.standalone}function UN(){return $T()&&document.documentMode===10}function B4(n=ws()){return A2(n)||U4(n)||V4(n)||j4(n)||/windows phone/i.test(n)||M4(n)}function F4(n,t=[]){let e;switch(n){case"Browser":e=g_(ws());break;case"Worker":e=`${g_(ws())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mc}/${i}`}class jN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function VN(n,t={}){return Xu(n,"GET","/v2/passwordPolicy",Qu(n,t))}const BN=6;class FN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??BN,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class zN{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y_(this),this.idTokenSubscription=new y_(this),this.beforeStateQueue=new jN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Bl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ym(this,{idToken:t}),i=await _o._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(wa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wa(this.app))return Promise.reject(zl(this));const e=t?nr(t):null;return e&&qe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wa(this.app)?Promise.reject(zl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wa(this.app)?Promise.reject(zl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VN(this),e=new FN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Td("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await PN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Bl(t)||this._popupRedirectResolver;qe(e,this,"argument-error"),this.redirectPersistenceManager=await Dh.create(this,[Bl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(wa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Uc(n){return nr(n)}class y_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ix(e=>this.observer=e)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(n){zm=n}function z4(n){return zm.loadJS(n)}function HN(){return zm.recaptchaEnterpriseScript}function GN(){return zm.gapiScript}function YN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new WN}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class WN{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const $N="recaptcha-enterprise",q4="NO_RECAPTCHA";class QN{constructor(t){this.type=$N,this.auth=Uc(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{NN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new xN(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;f_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{u(d)}).catch(()=>{u(q4)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!e&&f_(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=HN();f.length!==0&&(f+=h),z4(f).then(()=>{a(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function v_(n,t,e,i=!1,a=!1){const o=new QN(n);let u;if(a)u=q4;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function R0(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await v_(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await v_(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(o)})}function XN(n,t){const e=Fm(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(xc(o,t??{}))return a;bo(a,"already-initialized")}return e.initialize({options:t})}function JN(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Bl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function ZN(n,t,e){const i=Uc(n);qe(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=H4(t),{host:u,port:h}=tR(t),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){qe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),qe(xc(d,i.config.emulator)&&xc(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,$u(u)?(p2(`${o}//${u}${f}`),m2("Auth",!0)):eR()}function H4(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function tR(n){const t=H4(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:__(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:__(u)}}}function __(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function eR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class E2{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Vl("not implemented")}_getIdTokenResponse(t){return Vl("not implemented")}_linkToIdToken(t,e){return Vl("not implemented")}_getReauthenticationResolver(t){return Vl("not implemented")}}async function nR(n,t){return Xu(n,"POST","/v1/accounts:signUp",t)}async function iR(n,t){return Rd(n,"POST","/v1/accounts:signInWithPassword",Qu(n,t))}async function rR(n,t){return Rd(n,"POST","/v1/accounts:signInWithEmailLink",Qu(n,t))}async function sR(n,t){return Rd(n,"POST","/v1/accounts:signInWithEmailLink",Qu(n,t))}class hd extends E2{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new hd(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new hd(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(t,e,"signInWithPassword",iR);case"emailLink":return rR(t,{email:this._email,oobCode:this._password});default:bo(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(t,i,"signUpPassword",nR);case"emailLink":return sR(t,{idToken:e,email:this._email,oobCode:this._password});default:bo(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ph(n,t){return Rd(n,"POST","/v1/accounts:signInWithIdp",Qu(n,t))}const aR="http://localhost";class Rc extends E2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Rc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):bo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const u=new Rc(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Ph(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ph(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ph(t,e)}buildRequest(){const t={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xd(e)}return t}}function oR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lR(n){const t=Kf(Wf(n)).link,e=t?Kf(Wf(t)).deep_link_id:null,i=Kf(Wf(n)).deep_link_id;return(i?Kf(Wf(i)).link:null)||i||e||t||n}class S2{constructor(t){const e=Kf(Wf(t)),i=e.apiKey??null,a=e.oobCode??null,o=oR(e.mode??null);qe(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=lR(t);try{return new S2(e)}catch{return null}}}class Jh{constructor(){this.providerId=Jh.PROVIDER_ID}static credential(t,e){return hd._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=S2.parseLink(e);return qe(i,"argument-error"),hd._fromEmailAndCode(t,i.code,i.tenantId)}}Jh.PROVIDER_ID="password";Jh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class G4{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Cd extends G4{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Cu extends Cd{constructor(){super("facebook.com")}static credential(t){return Rc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cu.credentialFromTaggedObject(t)}static credentialFromError(t){return Cu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cu.credential(t.oauthAccessToken)}catch{return null}}}Cu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cu.PROVIDER_ID="facebook.com";class Iu extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Rc._fromParams({providerId:Iu.PROVIDER_ID,signInMethod:Iu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Iu.credentialFromTaggedObject(t)}static credentialFromError(t){return Iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Iu.credential(e,i)}catch{return null}}}Iu.GOOGLE_SIGN_IN_METHOD="google.com";Iu.PROVIDER_ID="google.com";class Lu extends Cd{constructor(){super("github.com")}static credential(t){return Rc._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lu.credentialFromTaggedObject(t)}static credentialFromError(t){return Lu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lu.credential(t.oauthAccessToken)}catch{return null}}}Lu.GITHUB_SIGN_IN_METHOD="github.com";Lu.PROVIDER_ID="github.com";class ku extends Cd{constructor(){super("twitter.com")}static credential(t,e){return Rc._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ku.credentialFromTaggedObject(t)}static credentialFromError(t){return ku.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ku.credential(e,i)}catch{return null}}}ku.TWITTER_SIGN_IN_METHOD="twitter.com";ku.PROVIDER_ID="twitter.com";async function uR(n,t){return Rd(n,"POST","/v1/accounts:signUp",Qu(n,t))}class Cc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await _o._fromIdTokenResponse(t,i,a),u=b_(i);return new Cc({user:o,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=b_(i);return new Cc({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function b_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class _m extends ol{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new _m(t,e,i,a)}}function Y4(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,o,t,i):o})}async function cR(n,t,e=!1){const i=await cd(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Cc._forOperation(n,"link",i)}async function hR(n,t,e=!1){const{auth:i}=n;if(wa(i.app))return Promise.reject(zl(i));const a="reauthenticate";try{const o=await cd(n,Y4(i,a,t,n),e);qe(o.idToken,i,"internal-error");const u=w2(o.idToken);qe(u,i,"internal-error");const{sub:h}=u;return qe(n.uid===h,i,"user-mismatch"),Cc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&bo(i,"user-mismatch"),o}}async function K4(n,t,e=!1){if(wa(n.app))return Promise.reject(zl(n));const i="signIn",a=await Y4(n,i,t),o=await Cc._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function fR(n,t){return K4(Uc(n),t)}async function W4(n){const t=Uc(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dR(n,t,e){if(wa(n.app))return Promise.reject(zl(n));const i=Uc(n),u=await R0(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&W4(n),f}),h=await Cc._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function pR(n,t,e){return wa(n.app)?Promise.reject(zl(n)):fR(nr(n),Jh.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&W4(n),i})}function mR(n,t,e,i){return nr(n).onIdTokenChanged(t,e,i)}function gR(n,t,e){return nr(n).beforeAuthStateChanged(t,e)}const bm="__sak";class $4{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const yR=1e3,vR=10;class Q4 extends $4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);UN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,vR):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},yR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q4.type="LOCAL";const _R=Q4;class X4 extends $4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}X4.type="SESSION";const J4=X4;function bR(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class qm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new qm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async d=>d(e.origin,o)),f=await bR(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qm.receivers=[];function T2(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class wR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=T2("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(A){const T=A;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function el(){return window}function AR(n){el().location.href=n}function Z4(){return typeof el().WorkerGlobalScope<"u"&&typeof el().importScripts=="function"}async function ER(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){return navigator?.serviceWorker?.controller||null}function TR(){return Z4()?self:null}const t3="firebaseLocalStorageDb",xR=1,wm="firebaseLocalStorage",e3="fbase_key";class Id{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hm(n,t){return n.transaction([wm],t?"readwrite":"readonly").objectStore(wm)}function NR(){const n=indexedDB.deleteDatabase(t3);return new Id(n).toPromise()}function C0(){const n=indexedDB.open(t3,xR);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wm,{keyPath:e3})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wm)?t(i):(i.close(),await NR(),t(await C0()))})})}async function w_(n,t,e){const i=Hm(n,!0).put({[e3]:t,value:e});return new Id(i).toPromise()}async function RR(n,t){const e=Hm(n,!1).get(t),i=await new Id(e).toPromise();return i===void 0?null:i.value}function A_(n,t){const e=Hm(n,!0).delete(t);return new Id(e).toPromise()}const CR=800,IR=3;class n3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>IR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qm._getInstance(TR()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ER(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await C0();return await w_(t,bm,"1"),await A_(t,bm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>w_(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>RR(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>A_(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Hm(a,!1).getAll();return new Id(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n3.type="LOCAL";const LR=n3;new Nd(3e4,6e4);function kR(n,t){return t?Bl(t):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class x2 extends E2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ph(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ph(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ph(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function OR(n){return K4(n.auth,new x2(n),n.bypassAuthState)}function DR(n){const{auth:t,user:e}=n;return qe(e,t,"internal-error"),hR(e,new x2(n),n.bypassAuthState)}async function PR(n){const{auth:t,user:e}=n;return qe(e,t,"internal-error"),cR(e,new x2(n),n.bypassAuthState)}class i3{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:bo(this.auth,"internal-error")}}resolve(t){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MR=new Nd(2e3,1e4);class Lh extends i3{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Lh.currentPopupAction&&Lh.currentPopupAction.cancel(),Lh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qe(t,this.auth,"internal-error"),t}async onExecution(){Yl(this.filter.length===1,"Popup operations only handle one event");const t=T2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lh.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MR.get())};t()}}Lh.currentPopupAction=null;const UR="pendingRedirect",Zp=new Map;class jR extends i3{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Zp.get(this.auth._key());if(!t){try{const i=await VR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Zp.set(this.auth._key(),t)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(n,t){const e=zR(t),i=FR(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function BR(n,t){Zp.set(n._key(),t)}function FR(n){return Bl(n._redirectPersistence)}function zR(n){return Jp(UR,n.config.apiKey,n.name)}async function qR(n,t,e=!1){if(wa(n.app))return Promise.reject(zl(n));const i=Uc(n),a=kR(i,t),u=await new jR(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const HR=600*1e3;class GR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!r3(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(tl(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(t))}saveEventToCache(t){this.cachedEventUids.add(E_(t)),this.lastProcessedEventTime=Date.now()}}function E_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function r3({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function YR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r3(n);default:return!1}}async function KR(n,t={}){return Xu(n,"GET","/v1/projects",t)}const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function QR(n){if(n.config.emulator)return;const{authorizedDomains:t}=await KR(n);for(const e of t)try{if(XR(e))return}catch{}bo(n,"unauthorized-domain")}function XR(n){const t=x0(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!$R.test(e))return!1;if(WR.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const JR=new Nd(3e4,6e4);function S_(){const n=el().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function ZR(n){return new Promise((t,e)=>{function i(){S_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S_(),e(tl(n,"network-request-failed"))},timeout:JR.get()})}if(el().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(el().gapi?.load)i();else{const a=YN("iframefcb");return el()[a]=()=>{gapi.load?i():e(tl(n,"network-request-failed"))},z4(`${GN()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw tm=null,t})}let tm=null;function t8(n){return tm=tm||ZR(n),tm}const e8=new Nd(5e3,15e3),n8="__/auth/iframe",i8="emulator/auth/iframe",r8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a8(n){const t=n.config;qe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?b2(t,i8):`https://${n.config.authDomain}/${n8}`,i={apiKey:t.apiKey,appName:n.name,v:Mc},a=s8.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${xd(i).slice(1)}`}async function o8(n){const t=await t8(n),e=el().gapi;return qe(e,n,"internal-error"),t.open({where:document.body,url:a8(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r8,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=tl(n,"network-request-failed"),h=el().setTimeout(()=>{o(u)},e8.get());function f(){el().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(u)})}))}const l8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u8=500,c8=600,h8="_blank",f8="http://localhost";class T_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d8(n,t,e,i=u8,a=c8){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...l8,width:i.toString(),height:a.toString(),top:o,left:u},d=ws().toLowerCase();e&&(h=P4(d)?h8:e),O4(d)&&(t=t||f8,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[b,O])=>`${T}${b}=${O},`,"");if(MN(d)&&h!=="_self")return p8(t||"",h),new T_(null);const A=window.open(t||"",h,v);qe(A,n,"popup-blocked");try{A.focus()}catch{}return new T_(A)}function p8(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const m8="__/auth/handler",g8="emulator/auth/handler",y8=encodeURIComponent("fac");async function x_(n,t,e,i,a,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Mc,eventId:a};if(t instanceof G4){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",nx(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(t instanceof Cd){const v=t.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),d=f?`#${y8}=${encodeURIComponent(f)}`:"";return`${v8(n)}?${xd(h).slice(1)}${d}`}function v8({config:n}){return n.emulator?b2(n,g8):`https://${n.authDomain}/${m8}`}const V1="webStorageSupport";class _8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J4,this._completeRedirectFn=qR,this._overrideRedirectResult=BR}async _openPopup(t,e,i,a){Yl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await x_(t,e,i,x0(),a);return d8(t,o,T2())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await x_(t,e,i,x0(),a);return AR(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Yl(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await o8(t),i=new GR(t);return e.register("authEvent",a=>(qe(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(V1,{type:V1},a=>{const o=a?.[0]?.[V1];o!==void 0&&e(!!o),bo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=QR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return B4()||D4()||A2()}}const b8=_8;var N_="@firebase/auth",R_="1.11.1";class w8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function A8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E8(n){Nc(new Fu("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F4(n)},d=new zN(i,a,o,f);return JN(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Nc(new Fu("auth-internal",t=>{const e=Uc(t.getProvider("auth").getImmediate());return(i=>new w8(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(N_,R_,A8(n)),Zo(N_,R_,"esm2020")}const S8=300,T8=v4("authIdTokenMaxAge")||S8;let C_=null;const x8=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>T8)return;const a=e?.token;C_!==a&&(C_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function N8(n=v2()){const t=Fm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=XN(n,{popupRedirectResolver:b8,persistence:[LR,_R,J4]}),i=v4("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=x8(o.toString());gR(e,u,()=>u(e.currentUser)),mR(e,h=>u(h))}}const a=m4("auth");return a&&ZN(e,`http://${a}`),e}function R8(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=tl("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",R8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E8("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ju,s3;(function(){var n;function t(H,P){function I(){}I.prototype=P.prototype,H.F=P.prototype,H.prototype=new I,H.prototype.constructor=H,H.D=function(q,N,k){for(var D=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)D[lt-2]=arguments[lt];return P.prototype[N].apply(q,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(H,P,I){I||(I=0);const q=Array(16);if(typeof P=="string")for(var N=0;N<16;++N)q[N]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(N=0;N<16;++N)q[N]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=H.g[0],I=H.g[1],N=H.g[2];let k=H.g[3],D;D=P+(k^I&(N^k))+q[0]+3614090360&4294967295,P=I+(D<<7&4294967295|D>>>25),D=k+(N^P&(I^N))+q[1]+3905402710&4294967295,k=P+(D<<12&4294967295|D>>>20),D=N+(I^k&(P^I))+q[2]+606105819&4294967295,N=k+(D<<17&4294967295|D>>>15),D=I+(P^N&(k^P))+q[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=P+(k^I&(N^k))+q[4]+4118548399&4294967295,P=I+(D<<7&4294967295|D>>>25),D=k+(N^P&(I^N))+q[5]+1200080426&4294967295,k=P+(D<<12&4294967295|D>>>20),D=N+(I^k&(P^I))+q[6]+2821735955&4294967295,N=k+(D<<17&4294967295|D>>>15),D=I+(P^N&(k^P))+q[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=P+(k^I&(N^k))+q[8]+1770035416&4294967295,P=I+(D<<7&4294967295|D>>>25),D=k+(N^P&(I^N))+q[9]+2336552879&4294967295,k=P+(D<<12&4294967295|D>>>20),D=N+(I^k&(P^I))+q[10]+4294925233&4294967295,N=k+(D<<17&4294967295|D>>>15),D=I+(P^N&(k^P))+q[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=P+(k^I&(N^k))+q[12]+1804603682&4294967295,P=I+(D<<7&4294967295|D>>>25),D=k+(N^P&(I^N))+q[13]+4254626195&4294967295,k=P+(D<<12&4294967295|D>>>20),D=N+(I^k&(P^I))+q[14]+2792965006&4294967295,N=k+(D<<17&4294967295|D>>>15),D=I+(P^N&(k^P))+q[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=P+(N^k&(I^N))+q[1]+4129170786&4294967295,P=I+(D<<5&4294967295|D>>>27),D=k+(I^N&(P^I))+q[6]+3225465664&4294967295,k=P+(D<<9&4294967295|D>>>23),D=N+(P^I&(k^P))+q[11]+643717713&4294967295,N=k+(D<<14&4294967295|D>>>18),D=I+(k^P&(N^k))+q[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=P+(N^k&(I^N))+q[5]+3593408605&4294967295,P=I+(D<<5&4294967295|D>>>27),D=k+(I^N&(P^I))+q[10]+38016083&4294967295,k=P+(D<<9&4294967295|D>>>23),D=N+(P^I&(k^P))+q[15]+3634488961&4294967295,N=k+(D<<14&4294967295|D>>>18),D=I+(k^P&(N^k))+q[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=P+(N^k&(I^N))+q[9]+568446438&4294967295,P=I+(D<<5&4294967295|D>>>27),D=k+(I^N&(P^I))+q[14]+3275163606&4294967295,k=P+(D<<9&4294967295|D>>>23),D=N+(P^I&(k^P))+q[3]+4107603335&4294967295,N=k+(D<<14&4294967295|D>>>18),D=I+(k^P&(N^k))+q[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=P+(N^k&(I^N))+q[13]+2850285829&4294967295,P=I+(D<<5&4294967295|D>>>27),D=k+(I^N&(P^I))+q[2]+4243563512&4294967295,k=P+(D<<9&4294967295|D>>>23),D=N+(P^I&(k^P))+q[7]+1735328473&4294967295,N=k+(D<<14&4294967295|D>>>18),D=I+(k^P&(N^k))+q[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=P+(I^N^k)+q[5]+4294588738&4294967295,P=I+(D<<4&4294967295|D>>>28),D=k+(P^I^N)+q[8]+2272392833&4294967295,k=P+(D<<11&4294967295|D>>>21),D=N+(k^P^I)+q[11]+1839030562&4294967295,N=k+(D<<16&4294967295|D>>>16),D=I+(N^k^P)+q[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=P+(I^N^k)+q[1]+2763975236&4294967295,P=I+(D<<4&4294967295|D>>>28),D=k+(P^I^N)+q[4]+1272893353&4294967295,k=P+(D<<11&4294967295|D>>>21),D=N+(k^P^I)+q[7]+4139469664&4294967295,N=k+(D<<16&4294967295|D>>>16),D=I+(N^k^P)+q[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=P+(I^N^k)+q[13]+681279174&4294967295,P=I+(D<<4&4294967295|D>>>28),D=k+(P^I^N)+q[0]+3936430074&4294967295,k=P+(D<<11&4294967295|D>>>21),D=N+(k^P^I)+q[3]+3572445317&4294967295,N=k+(D<<16&4294967295|D>>>16),D=I+(N^k^P)+q[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=P+(I^N^k)+q[9]+3654602809&4294967295,P=I+(D<<4&4294967295|D>>>28),D=k+(P^I^N)+q[12]+3873151461&4294967295,k=P+(D<<11&4294967295|D>>>21),D=N+(k^P^I)+q[15]+530742520&4294967295,N=k+(D<<16&4294967295|D>>>16),D=I+(N^k^P)+q[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=P+(N^(I|~k))+q[0]+4096336452&4294967295,P=I+(D<<6&4294967295|D>>>26),D=k+(I^(P|~N))+q[7]+1126891415&4294967295,k=P+(D<<10&4294967295|D>>>22),D=N+(P^(k|~I))+q[14]+2878612391&4294967295,N=k+(D<<15&4294967295|D>>>17),D=I+(k^(N|~P))+q[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=P+(N^(I|~k))+q[12]+1700485571&4294967295,P=I+(D<<6&4294967295|D>>>26),D=k+(I^(P|~N))+q[3]+2399980690&4294967295,k=P+(D<<10&4294967295|D>>>22),D=N+(P^(k|~I))+q[10]+4293915773&4294967295,N=k+(D<<15&4294967295|D>>>17),D=I+(k^(N|~P))+q[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=P+(N^(I|~k))+q[8]+1873313359&4294967295,P=I+(D<<6&4294967295|D>>>26),D=k+(I^(P|~N))+q[15]+4264355552&4294967295,k=P+(D<<10&4294967295|D>>>22),D=N+(P^(k|~I))+q[6]+2734768916&4294967295,N=k+(D<<15&4294967295|D>>>17),D=I+(k^(N|~P))+q[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=P+(N^(I|~k))+q[4]+4149444226&4294967295,P=I+(D<<6&4294967295|D>>>26),D=k+(I^(P|~N))+q[11]+3174756917&4294967295,k=P+(D<<10&4294967295|D>>>22),D=N+(P^(k|~I))+q[2]+718787259&4294967295,N=k+(D<<15&4294967295|D>>>17),D=I+(k^(N|~P))+q[9]+3951481745&4294967295,H.g[0]=H.g[0]+P&4294967295,H.g[1]=H.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,H.g[2]=H.g[2]+N&4294967295,H.g[3]=H.g[3]+k&4294967295}i.prototype.v=function(H,P){P===void 0&&(P=H.length);const I=P-this.blockSize,q=this.C;let N=this.h,k=0;for(;k<P;){if(N==0)for(;k<=I;)a(this,H,k),k+=this.blockSize;if(typeof H=="string"){for(;k<P;)if(q[N++]=H.charCodeAt(k++),N==this.blockSize){a(this,q),N=0;break}}else for(;k<P;)if(q[N++]=H[k++],N==this.blockSize){a(this,q),N=0;break}}this.h=N,this.o+=P},i.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var P=1;P<H.length-8;++P)H[P]=0;P=this.o*8;for(var I=H.length-8;I<H.length;++I)H[I]=P&255,P/=256;for(this.v(H),H=Array(16),P=0,I=0;I<4;++I)for(let q=0;q<32;q+=8)H[P++]=this.g[I]>>>q&255;return H};function o(H,P){var I=h;return Object.prototype.hasOwnProperty.call(I,H)?I[H]:I[H]=P(H)}function u(H,P){this.h=P;const I=[];let q=!0;for(let N=H.length-1;N>=0;N--){const k=H[N]|0;q&&k==P||(I[N]=k,q=!1)}this.g=I}var h={};function f(H){return-128<=H&&H<128?o(H,function(P){return new u([P|0],P<0?-1:0)}):new u([H|0],H<0?-1:0)}function d(H){if(isNaN(H)||!isFinite(H))return A;if(H<0)return B(d(-H));const P=[];let I=1;for(let q=0;H>=I;q++)P[q]=H/I|0,I*=4294967296;return new u(P,0)}function v(H,P){if(H.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(H.charAt(0)=="-")return B(v(H.substring(1),P));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(P,8));let q=A;for(let k=0;k<H.length;k+=8){var N=Math.min(8,H.length-k);const D=parseInt(H.substring(k,k+N),P);N<8?(N=d(Math.pow(P,N)),q=q.j(N).add(d(D))):(q=q.j(I),q=q.add(d(D)))}return q}var A=f(0),T=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-B(this).m();let H=0,P=1;for(let I=0;I<this.g.length;I++){const q=this.i(I);H+=(q>=0?q:4294967296+q)*P,P*=4294967296}return H},n.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(O(this))return"0";if(M(this))return"-"+B(this).toString(H);const P=d(Math.pow(H,6));var I=this;let q="";for(;;){const N=nt(I,P).g;I=V(I,N.j(P));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(H);if(I=N,O(I))return k+q;for(;k.length<6;)k="0"+k;q=k+q}},n.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function O(H){if(H.h!=0)return!1;for(let P=0;P<H.g.length;P++)if(H.g[P]!=0)return!1;return!0}function M(H){return H.h==-1}n.l=function(H){return H=V(this,H),M(H)?-1:O(H)?0:1};function B(H){const P=H.g.length,I=[];for(let q=0;q<P;q++)I[q]=~H.g[q];return new u(I,~H.h).add(T)}n.abs=function(){return M(this)?B(this):this},n.add=function(H){const P=Math.max(this.g.length,H.g.length),I=[];let q=0;for(let N=0;N<=P;N++){let k=q+(this.i(N)&65535)+(H.i(N)&65535),D=(k>>>16)+(this.i(N)>>>16)+(H.i(N)>>>16);q=D>>>16,k&=65535,D&=65535,I[N]=D<<16|k}return new u(I,I[I.length-1]&-2147483648?-1:0)};function V(H,P){return H.add(B(P))}n.j=function(H){if(O(this)||O(H))return A;if(M(this))return M(H)?B(this).j(B(H)):B(B(this).j(H));if(M(H))return B(this.j(B(H)));if(this.l(b)<0&&H.l(b)<0)return d(this.m()*H.m());const P=this.g.length+H.g.length,I=[];for(var q=0;q<2*P;q++)I[q]=0;for(q=0;q<this.g.length;q++)for(let N=0;N<H.g.length;N++){const k=this.i(q)>>>16,D=this.i(q)&65535,lt=H.i(N)>>>16,xt=H.i(N)&65535;I[2*q+2*N]+=D*xt,Z(I,2*q+2*N),I[2*q+2*N+1]+=k*xt,Z(I,2*q+2*N+1),I[2*q+2*N+1]+=D*lt,Z(I,2*q+2*N+1),I[2*q+2*N+2]+=k*lt,Z(I,2*q+2*N+2)}for(H=0;H<P;H++)I[H]=I[2*H+1]<<16|I[2*H];for(H=P;H<2*P;H++)I[H]=0;return new u(I,0)};function Z(H,P){for(;(H[P]&65535)!=H[P];)H[P+1]+=H[P]>>>16,H[P]&=65535,P++}function et(H,P){this.g=H,this.h=P}function nt(H,P){if(O(P))throw Error("division by zero");if(O(H))return new et(A,A);if(M(H))return P=nt(B(H),P),new et(B(P.g),B(P.h));if(M(P))return P=nt(H,B(P)),new et(B(P.g),P.h);if(H.g.length>30){if(M(H)||M(P))throw Error("slowDivide_ only works with positive integers.");for(var I=T,q=P;q.l(H)<=0;)I=_t(I),q=_t(q);var N=Ot(I,1),k=Ot(q,1);for(q=Ot(q,2),I=Ot(I,2);!O(q);){var D=k.add(q);D.l(H)<=0&&(N=N.add(I),k=D),q=Ot(q,1),I=Ot(I,1)}return P=V(H,N.j(P)),new et(N,P)}for(N=A;H.l(P)>=0;){for(I=Math.max(1,Math.floor(H.m()/P.m())),q=Math.ceil(Math.log(I)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),k=d(I),D=k.j(P);M(D)||D.l(H)>0;)I-=q,k=d(I),D=k.j(P);O(k)&&(k=T),N=N.add(k),H=V(H,D)}return new et(N,H)}n.B=function(H){return nt(this,H).h},n.and=function(H){const P=Math.max(this.g.length,H.g.length),I=[];for(let q=0;q<P;q++)I[q]=this.i(q)&H.i(q);return new u(I,this.h&H.h)},n.or=function(H){const P=Math.max(this.g.length,H.g.length),I=[];for(let q=0;q<P;q++)I[q]=this.i(q)|H.i(q);return new u(I,this.h|H.h)},n.xor=function(H){const P=Math.max(this.g.length,H.g.length),I=[];for(let q=0;q<P;q++)I[q]=this.i(q)^H.i(q);return new u(I,this.h^H.h)};function _t(H){const P=H.g.length+1,I=[];for(let q=0;q<P;q++)I[q]=H.i(q)<<1|H.i(q-1)>>>31;return new u(I,H.h)}function Ot(H,P){const I=P>>5;P%=32;const q=H.g.length-I,N=[];for(let k=0;k<q;k++)N[k]=P>0?H.i(k+I)>>>P|H.i(k+I+1)<<32-P:H.i(k+I);return new u(N,H.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,s3=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=v,ju=u}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var a3,$f,o3,em,I0,l3,u3,c3;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var S=0;S<m.length;++S){var C=m[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=e(this);function a(m,S){if(S)t:{var C=i;m=m.split(".");for(var W=0;W<m.length-1;W++){var At=m[W];if(!(At in C))break t;C=C[At]}m=m[m.length-1],W=C[m],S=S(W),S!=W&&S!=null&&t(C,m,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(S){var C=[],W;for(W in S)Object.prototype.hasOwnProperty.call(S,W)&&C.push([W,S[W]]);return C}});var o=o||{},u=this||self;function h(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,C){return m.call.apply(m.bind,arguments)}function d(m,S,C){return d=f,d.apply(null,arguments)}function v(m,S){var C=Array.prototype.slice.call(arguments,1);return function(){var W=C.slice();return W.push.apply(W,arguments),m.apply(this,W)}}function A(m,S){function C(){}C.prototype=S.prototype,m.Z=S.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(W,At,Dt){for(var Zt=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)Zt[Ke-2]=arguments[Ke];return S.prototype[At].apply(W,Zt)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const S=m.length;if(S>0){const C=Array(S);for(let W=0;W<S;W++)C[W]=m[W];return C}return[]}function O(m,S){for(let W=1;W<arguments.length;W++){const At=arguments[W];var C=typeof At;if(C=C!="object"?C:At?Array.isArray(At)?"array":C:"null",C=="array"||C=="object"&&typeof At.length=="number"){C=m.length||0;const Dt=At.length||0;m.length=C+Dt;for(let Zt=0;Zt<Dt;Zt++)m[C+Zt]=At[Zt]}else m.push(At)}}class M{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function B(m){u.setTimeout(()=>{throw m},0)}function V(){var m=H;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,C){const W=et.get();W.set(S,C),this.h?this.h.next=W:this.g=W,this.h=W}}var et=new M(()=>new nt,m=>m.reset());class nt{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Ot=!1,H=new Z,P=()=>{const m=Promise.resolve(void 0);_t=()=>{m.then(I)}};function I(){for(var m;m=V();){try{m.h.call(m.g)}catch(C){B(C)}var S=et;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}Ot=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return m})();function D(m){return/^[\s\xa0]*$/.test(m)}function lt(m,S){N.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}A(lt,N),lt.prototype.init=function(m,S){const C=this.type=m.type,W=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(C=="mouseover"?S=m.fromElement:C=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),at=0;function pt(m,S,C,W,At){this.listener=m,this.proxy=null,this.src=S,this.type=C,this.capture=!!W,this.ha=At,this.key=++at,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Nt(m,S,C){for(const W in m)S.call(C,m[W],W,m)}function Ht(m,S){for(const C in m)S.call(void 0,m[C],C,m)}function X(m){const S={};for(const C in m)S[C]=m[C];return S}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(m,S){let C,W;for(let At=1;At<arguments.length;At++){W=arguments[At];for(C in W)m[C]=W[C];for(let Dt=0;Dt<L.length;Dt++)C=L[Dt],Object.prototype.hasOwnProperty.call(W,C)&&(m[C]=W[C])}}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,S,C,W,At){const Dt=m.toString();m=this.g[Dt],m||(m=this.g[Dt]=[],this.h++);const Zt=ut(m,S,W,At);return Zt>-1?(S=m[Zt],C||(S.fa=!1)):(S=new pt(S,this.src,Dt,!!W,At),S.fa=C,m.push(S)),S};function ot(m,S){const C=S.type;if(C in m.g){var W=m.g[C],At=Array.prototype.indexOf.call(W,S,void 0),Dt;(Dt=At>=0)&&Array.prototype.splice.call(W,At,1),Dt&&(ft(S),m.g[C].length==0&&(delete m.g[C],m.h--))}}function ut(m,S,C,W){for(let At=0;At<m.length;++At){const Dt=m[At];if(!Dt.da&&Dt.listener==S&&Dt.capture==!!C&&Dt.ha==W)return At}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),Lt={};function Ct(m,S,C,W,At){if(Array.isArray(S)){for(let Dt=0;Dt<S.length;Dt++)Ct(m,S[Dt],C,W,At);return null}return C=Ee(C),m&&m[xt]?m.J(S,C,h(W)?!!W.capture:!1,At):Vt(m,S,C,!1,W,At)}function Vt(m,S,C,W,At,Dt){if(!S)throw Error("Invalid event type");const Zt=h(At)?!!At.capture:!!At;let Ke=ee(m);if(Ke||(m[gt]=Ke=new J(m)),C=Ke.add(S,C,W,Zt,Dt),C.proxy)return C;if(W=Xt(),C.proxy=W,W.src=m,W.listener=C,m.addEventListener)k||(At=Zt),At===void 0&&(At=!1),m.addEventListener(S.toString(),W,At);else if(m.attachEvent)m.attachEvent(he(S.toString()),W);else if(m.addListener&&m.removeListener)m.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Xt(){function m(C){return S.call(m.src,m.listener,C)}const S=tt;return m}function re(m,S,C,W,At){if(Array.isArray(S))for(var Dt=0;Dt<S.length;Dt++)re(m,S[Dt],C,W,At);else W=h(W)?!!W.capture:!!W,C=Ee(C),m&&m[xt]?(m=m.i,Dt=String(S).toString(),Dt in m.g&&(S=m.g[Dt],C=ut(S,C,W,At),C>-1&&(ft(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete m.g[Dt],m.h--)))):m&&(m=ee(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ut(S,C,W,At)),(C=m>-1?S[m]:null)&&ie(C))}function ie(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[xt])ot(S.i,m);else{var C=m.type,W=m.proxy;S.removeEventListener?S.removeEventListener(C,W,m.capture):S.detachEvent?S.detachEvent(he(C),W):S.addListener&&S.removeListener&&S.removeListener(W),(C=ee(S))?(ot(C,m),C.h==0&&(C.src=null,S[gt]=null)):ft(m)}}}function he(m){return m in Lt?Lt[m]:Lt[m]="on"+m}function tt(m,S){if(m.da)m=!0;else{S=new lt(S,this);const C=m.listener,W=m.ha||m.src;m.fa&&ie(m),m=C.call(W,S)}return m}function ee(m){return m=m[gt],m instanceof J?m:null}var Ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ee(m){return typeof m=="function"?m:(m[Ge]||(m[Ge]=function(S){return m.handleEvent(S)}),m[Ge])}function zt(){q.call(this),this.i=new J(this),this.M=this,this.G=null}A(zt,q),zt.prototype[xt]=!0,zt.prototype.removeEventListener=function(m,S,C,W){re(this,m,S,C,W)};function ae(m,S){var C,W=m.G;if(W)for(C=[];W;W=W.G)C.push(W);if(m=m.M,W=S.type||S,typeof S=="string")S=new N(S,m);else if(S instanceof N)S.target=S.target||m;else{var At=S;S=new N(W,m),Y(S,At)}At=!0;let Dt,Zt;if(C)for(Zt=C.length-1;Zt>=0;Zt--)Dt=S.g=C[Zt],At=se(Dt,W,!0,S)&&At;if(Dt=S.g=m,At=se(Dt,W,!0,S)&&At,At=se(Dt,W,!1,S)&&At,C)for(Zt=0;Zt<C.length;Zt++)Dt=S.g=C[Zt],At=se(Dt,W,!1,S)&&At}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const C=m.g[S];for(let W=0;W<C.length;W++)ft(C[W]);delete m.g[S],m.h--}}this.G=null},zt.prototype.J=function(m,S,C,W){return this.i.add(String(m),S,!1,C,W)},zt.prototype.K=function(m,S,C,W){return this.i.add(String(m),S,!0,C,W)};function se(m,S,C,W){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let At=!0;for(let Dt=0;Dt<S.length;++Dt){const Zt=S[Dt];if(Zt&&!Zt.da&&Zt.capture==C){const Ke=Zt.listener,Zn=Zt.ha||Zt.src;Zt.fa&&ot(m.i,Zt),At=Ke.call(Zn,W)!==!1&&At}}return At&&!W.defaultPrevented}function Te(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(m,S||0)}function be(m){m.g=Te(()=>{m.g=null,m.i&&(m.i=!1,be(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Ye extends q{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(m){q.call(this),this.h=m,this.g={}}A(Xe,q);var Fe=[];function an(m){Nt(m.g,function(S,C){this.g.hasOwnProperty(C)&&ie(S)},m),m.g={}}Xe.prototype.N=function(){Xe.Z.N.call(this),an(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var We=u.JSON.stringify,St=u.JSON.parse,le=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function te(){}function Je(){}var Ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _e(){N.call(this,"d")}A(_e,N);function xe(){N.call(this,"c")}A(xe,N);var Ze={},Ne=null;function In(){return Ne=Ne||new zt}Ze.Ia="serverreachability";function je(m){N.call(this,Ze.Ia,m)}A(je,N);function Ve(m){const S=In();ae(S,new je(S))}Ze.STAT_EVENT="statevent";function On(m,S){N.call(this,Ze.STAT_EVENT,m),this.stat=S}A(On,N);function Se(m){const S=In();ae(S,new On(S,m))}Ze.Ja="timingevent";function we(m,S){N.call(this,Ze.Ja,m),this.size=S}A(we,N);function ln(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function pr(){this.g=!0}pr.prototype.ua=function(){this.g=!1};function ir(m,S,C,W,At,Dt){m.info(function(){if(m.g)if(Dt){var Zt="",Ke=Dt.split("&");for(let cn=0;cn<Ke.length;cn++){var Zn=Ke[cn].split("=");if(Zn.length>1){const Mn=Zn[0];Zn=Zn[1];const or=Mn.split("_");Zt=or.length>=2&&or[1]=="type"?Zt+(Mn+"="+Zn+"&"):Zt+(Mn+"=redacted&")}}}else Zt=null;else Zt=Dt;return"XMLHTTP REQ ("+W+") [attempt "+At+"]: "+S+`
`+C+`
`+Zt})}function Os(m,S,C,W,At,Dt,Zt){m.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+At+"]: "+S+`
`+C+`
`+Dt+" "+Zt})}function Ki(m,S,C,W){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+sa(m,C)+(W?" "+W:"")})}function Re(m,S){m.info(function(){return"TIMEOUT: "+S})}pr.prototype.info=function(){};function sa(m,S){if(!m.g)return S;if(!S)return null;try{const Dt=JSON.parse(S);if(Dt){for(m=0;m<Dt.length;m++)if(Array.isArray(Dt[m])){var C=Dt[m];if(!(C.length<2)){var W=C[1];if(Array.isArray(W)&&!(W.length<1)){var At=W[0];if(At!="noop"&&At!="stop"&&At!="close")for(let Zt=1;Zt<W.length;Zt++)W[Zt]=""}}}}return We(Dt)}catch{return S}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function zn(){}A(zn,te),zn.prototype.g=function(){return new XMLHttpRequest},Cr=new zn;function Xn(m){return encodeURIComponent(String(m))}function Di(m){var S=1;m=m.split(":");const C=[];for(;S>0&&m.length;)C.push(m.shift()),S--;return m.length&&C.push(m.join(":")),C}function mr(m,S,C,W){this.j=m,this.i=S,this.l=C,this.S=W||1,this.V=new Xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var Dn={},Gn={};function Pi(m,S,C){m.M=1,m.A=xa(vi(S)),m.u=C,m.R=!0,Ir(m,null)}function Ir(m,S){m.F=Date.now(),Lr(m),m.B=vi(m.A);var C=m.B,W=m.S;Array.isArray(W)||(W=[String(W)]),Co(C.i,"t",W),m.C=0,C=m.j.L,m.h=new rr,m.g=fe(m.j,C?S:null,!m.u),m.P>0&&(m.O=new Ye(d(m.Y,m,m.g),m.P)),S=m.V,C=m.g,W=m.ba;var At="readystatechange";Array.isArray(At)||(At&&(Fe[0]=At.toString()),At=Fe);for(let Dt=0;Dt<At.length;Dt++){const Zt=Ct(C,At[Dt],W||S.handleEvent,!1,S.h||S);if(!Zt)break;S.g[Zt.key]=Zt}S=m.J?X(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Ve(),ir(m.i,m.v,m.B,m.l,m.S,m.u)}mr.prototype.ba=function(m){m=m.target;const S=this.O;S&&$r(m)==3?S.j():this.Y(m)},mr.prototype.Y=function(m){try{if(m==this.g)t:{const Ke=$r(this.g),Zn=this.g.ya(),cn=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Ri(this.g)))){this.K||Ke!=4||Zn==7||(Zn==8||cn<=0?Ve(3):Ve(2)),Hr(this);var S=this.g.ca();this.X=S;var C=as(this);if(this.o=S==200,Os(this.i,this.v,this.B,this.l,this.S,Ke,S),this.o){if(this.U&&!this.L){e:{if(this.g){var W,At=this.g;if((W=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(W)){var Dt=W;break e}}Dt=null}if(m=Dt)Ki(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,m);else{this.o=!1,this.m=3,Se(12),Gr(this),gr(this);break t}}if(this.R){m=!0;let Mn;for(;!this.K&&this.C<C.length;)if(Mn=As(this,C),Mn==Gn){Ke==4&&(this.m=4,Se(14),m=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Dn){this.m=4,Se(15),Ki(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else Ki(this.i,this.l,Mn,null),os(this,Mn);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||C.length!=0||this.h.h||(this.m=1,Se(16),m=!1),this.o=this.o&&m,!m)Ki(this.i,this.l,C,"[Invalid Chunked Response]"),Gr(this),gr(this);else if(C.length>0&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.aa&&!Zt.P&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Oo(Zt),Zt.P=!0,Se(11))}}else Ki(this.i,this.l,C,null),os(this,C);Ke==4&&Gr(this),this.o&&!this.K&&(Ke==4?rt(this.j,this):(this.o=!1,Lr(this)))}else Ds(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Gr(this),gr(this)}}}catch{}finally{}};function as(m){if(!Ta(m))return m.g.la();const S=Ri(m.g);if(S==="")return"";let C="";const W=S.length,At=$r(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gr(m),gr(m),"";m.h.i=new u.TextDecoder}for(let Dt=0;Dt<W;Dt++)m.h.h=!0,C+=m.h.i.decode(S[Dt],{stream:!(At&&Dt==W-1)});return S.length=0,m.h.g+=C,m.C=0,m.h.g}function Ta(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function As(m,S){var C=m.C,W=S.indexOf(`
`,C);return W==-1?Gn:(C=Number(S.substring(C,W)),isNaN(C)?Dn:(W+=1,W+C>S.length?Gn:(S=S.slice(W,W+C),m.C=W+C,S)))}mr.prototype.cancel=function(){this.K=!0,Gr(this)};function Lr(m){m.T=Date.now()+m.H,aa(m,m.H)}function aa(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ln(d(m.aa,m),S)}function Hr(m){m.D&&(u.clearTimeout(m.D),m.D=null)}mr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Re(this.i,this.B),this.M!=2&&(Ve(),Se(17)),Gr(this),this.m=2,gr(this)):aa(this,this.T-m)};function gr(m){m.j.I==0||m.K||rt(m.j,m)}function Gr(m){Hr(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,an(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function os(m,S){try{var C=m.j;if(C.I!=0&&(C.g==m||Es(C.h,m))){if(!m.L&&Es(C.h,m)&&C.I==3){try{var W=C.Ba.g.parse(S)}catch{W=null}if(Array.isArray(W)&&W.length==3){var At=W;if(At[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)U(C),Ms(C);else break t;xs(C),Se(18)}}else C.xa=At[1],0<C.xa-C.K&&At[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=ln(d(C.Va,C),6e3));ls(C.h)<=1&&C.ta&&(C.ta=void 0)}else vt(C,11)}else if((m.L||C.g==m)&&U(C),!D(S))for(At=C.Ba.g.parse(S),S=0;S<At.length;S++){let cn=At[S];const Mn=cn[0];if(!(Mn<=C.K))if(C.K=Mn,cn=cn[1],C.I==2)if(cn[0]=="c"){C.M=cn[1],C.ba=cn[2];const or=cn[3];or!=null&&(C.ka=or,C.j.info("VER="+C.ka));const vr=cn[4];vr!=null&&(C.za=vr,C.j.info("SVER="+C.za));const Yn=cn[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(W=1.5*Yn,C.O=W,C.j.info("backChannelRequestTimeoutMs_="+W)),W=C;const _r=m.g;if(_r){const Ns=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var Dt=W.h;Dt.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&($a(Dt,Dt.h),Dt.h=null))}if(W.G){const La=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(W.wa=La,vn(W.J,W.G,La))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),W=C;var Zt=m;if(W.na=$t(W,W.L?W.ba:null,W.W),Zt.L){No(W.h,Zt);var Ke=Zt,Zn=W.O;Zn&&(Ke.H=Zn),Ke.D&&(Hr(Ke),Lr(Ke)),W.g=Zt}else ml(W);C.i.length>0&&cs(C)}else cn[0]!="stop"&&cn[0]!="close"||vt(C,7);else C.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?vt(C,7):Ia(C):cn[0]!="noop"&&C.l&&C.l.qa(cn),C.A=0)}}Ve(4)}catch{}}var hi=class{constructor(m,S){this.g=m,this.map=S}};function xo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ls(m){return m.h?1:m.g?m.g.size:0}function Es(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function $a(m,S){m.g?m.g.add(S):m.h=S}function No(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}xo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ro(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const C of m.g.values())S=S.concat(C.G);return S}return b(m.i)}var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(m,S){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const W=m[C].indexOf("=");let At,Dt=null;W>=0?(At=m[C].substring(0,W),Dt=m[C].substring(W+1)):At=m[C],S(At,Dt?decodeURIComponent(Dt.replace(/\+/g," ")):"")}}}function sr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof sr?(this.l=m.l,fn(this,m.j),this.o=m.o,this.g=m.g,oa(this,m.u),this.h=m.h,us(this,Io(m.i)),this.m=m.m):m&&(S=String(m).match(ul))?(this.l=!1,fn(this,S[1]||"",!0),this.o=Ni(S[2]||""),this.g=Ni(S[3]||"",!0),oa(this,S[4]),this.h=Ni(S[5]||"",!0),us(this,S[6]||"",!0),this.m=Ni(S[7]||"")):(this.l=!1,this.i=new la(null,this.l))}sr.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(si(S,Qa,!0),":");var C=this.g;return(C||S=="file")&&(m.push("//"),(S=this.o)&&m.push(si(S,Qa,!0),"@"),m.push(Xn(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(si(C,C.charAt(0)=="/"?cl:Xl,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",si(C,hl)),m.join("")},sr.prototype.resolve=function(m){const S=vi(this);let C=!!m.j;C?fn(S,m.j):C=!!m.o,C?S.o=m.o:C=!!m.g,C?S.g=m.g:C=m.u!=null;var W=m.h;if(C)oa(S,m.u);else if(C=!!m.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var At=S.h.lastIndexOf("/");At!=-1&&(W=S.h.slice(0,At+1)+W)}if(At=W,At==".."||At==".")W="";else if(At.indexOf("./")!=-1||At.indexOf("/.")!=-1){W=At.lastIndexOf("/",0)==0,At=At.split("/");const Dt=[];for(let Zt=0;Zt<At.length;){const Ke=At[Zt++];Ke=="."?W&&Zt==At.length&&Dt.push(""):Ke==".."?((Dt.length>1||Dt.length==1&&Dt[0]!="")&&Dt.pop(),W&&Zt==At.length&&Dt.push("")):(Dt.push(Ke),W=!0)}W=Dt.join("/")}else W=At}return C?S.h=W:C=m.i.toString()!=="",C?us(S,Io(m.i)):C=!!m.m,C&&(S.m=m.m),S};function vi(m){return new sr(m)}function fn(m,S,C){m.j=C?Ni(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function oa(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function us(m,S,C){S instanceof la?(m.i=S,Or(m.i,m.l)):(C||(S=si(S,yr)),m.i=new la(S,m.l))}function vn(m,S,C){m.i.set(S,C)}function xa(m){return vn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ni(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function si(m,S,C){return typeof m=="string"?(m=encodeURI(m).replace(S,_i),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function _i(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Qa=/[#\/\?@]/g,Xl=/[#\?:]/g,cl=/[#\?]/g,yr=/[#\?@]/g,hl=/#/g;function la(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Wi(m){m.g||(m.g=new Map,m.h=0,m.i&&Yr(m.i,function(S,C){m.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}n=la.prototype,n.add=function(m,S){Wi(this),this.i=null,m=ua(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(S),this.h+=1,this};function Na(m,S){Wi(m),S=ua(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function fl(m,S){return Wi(m),S=ua(m,S),m.g.has(S)}n.forEach=function(m,S){Wi(this),this.g.forEach(function(C,W){C.forEach(function(At){m.call(S,At,W,this)},this)},this)};function dl(m,S){Wi(m);let C=[];if(typeof S=="string")fl(m,S)&&(C=C.concat(m.g.get(ua(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)C=C.concat(m[S]);return C}n.set=function(m,S){return Wi(this),this.i=null,m=ua(this,m),fl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=dl(this,m),m.length>0?String(m[0]):S):S};function Co(m,S,C){Na(m,S),C.length>0&&(m.i=null,m.g.set(ua(m,S),b(C)),m.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let W=0;W<S.length;W++){var C=S[W];const At=Xn(C);C=dl(this,C);for(let Dt=0;Dt<C.length;Dt++){let Zt=At;C[Dt]!==""&&(Zt+="="+Xn(C[Dt])),m.push(Zt)}}return this.i=m.join("&")};function Io(m){const S=new la;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function ua(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Or(m,S){S&&!m.j&&(Wi(m),m.i=null,m.g.forEach(function(C,W){const At=W.toLowerCase();W!=At&&(Na(this,W),Co(this,At,C))},m)),m.j=S}function Ss(m,S){const C=new pr;if(u.Image){const W=new Image;W.onload=v(Dr,C,"TestLoadImage: loaded",!0,S,W),W.onerror=v(Dr,C,"TestLoadImage: error",!1,S,W),W.onabort=v(Dr,C,"TestLoadImage: abort",!1,S,W),W.ontimeout=v(Dr,C,"TestLoadImage: timeout",!1,S,W),u.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=m}else S(!1)}function ca(m,S){const C=new pr,W=new AbortController,At=setTimeout(()=>{W.abort(),Dr(C,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:W.signal}).then(Dt=>{clearTimeout(At),Dt.ok?Dr(C,"TestPingServer: ok",!0,S):Dr(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(At),Dr(C,"TestPingServer: error",!1,S)})}function Dr(m,S,C,W,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),W(C)}catch{}}function Ra(){this.g=new le}function Le(m){this.i=m.Sb||null,this.h=m.ab||!1}A(Le,te),Le.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(m,S){zt.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Xa,zt),n=Xa.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,$i(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Ca(this):$i(this),this.readyState==3&&Lo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ca(this))},n.Na=function(m){this.g&&(this.response=m,Ca(this))},n.ga=function(){this.g&&Ca(this)};function Ca(m){m.readyState=4,m.l=null,m.j=null,m.B=null,$i(m)}n.setRequestHeader=function(m,S){this.A.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=S.next();return m.join(`\r
`)};function $i(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mi(m){let S="";return Nt(m,function(C,W){S+=W,S+=":",S+=C,S+=`\r
`}),S}function Ja(m,S,C){t:{for(W in C){var W=!1;break t}W=!0}W||(C=Mi(C),typeof m=="string"?C!=null&&Xn(C):vn(m,S,C))}function Pn(m){zt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Pn,zt);var Kr=/^https?$/i,Za=["POST","PUT"];n=Pn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,S,C,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Dt){Ts(this,Dt);return}if(m=C||"",C=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var At in W)C.set(At,W[At]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Dt of W.keys())C.set(Dt,W.get(Dt));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(C.keys()).find(Dt=>Dt.toLowerCase()=="content-type"),At=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Za,S,void 0)>=0)||W||At||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,Zt]of C)this.g.setRequestHeader(Dt,Zt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Dt){Ts(this,Dt)}};function Ts(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,pl(m),ha(m)}function pl(m){m.A||(m.A=!0,ae(m,"complete"),ae(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ae(this,"complete"),ae(this,"abort"),ha(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ha(this,!0)),Pn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Wr(this):this.Xa())},n.Xa=function(){Wr(this)};function Wr(m){if(m.h&&typeof o<"u"){if(m.v&&$r(m)==4)setTimeout(m.Ca.bind(m),0);else if(ae(m,"readystatechange"),$r(m)==4){m.h=!1;try{const Dt=m.ca();t:switch(Dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var C;if(!(C=S)){var W;if(W=Dt===0){let Zt=String(m.D).match(ul)[1]||null;!Zt&&u.self&&u.self.location&&(Zt=u.self.location.protocol.slice(0,-1)),W=!Kr.test(Zt?Zt.toLowerCase():"")}C=W}if(C)ae(m,"complete"),ae(m,"success");else{m.o=6;try{var At=$r(m)>2?m.g.statusText:""}catch{At=""}m.l=At+" ["+m.ca()+"]",pl(m)}}finally{ha(m)}}}}function ha(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,S||ae(m,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(m){return m.g?m.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),St(S)}};function Ri(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ds(m){const S={};m=(m.g&&$r(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<m.length;W++){if(D(m[W]))continue;var C=Di(m[W]);const At=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Dt=S[At]||[];S[At]=Dt,Dt.push(C)}Ht(S,function(W){return W.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(m,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||S}function Ps(m){this.za=0,this.i=[],this.j=new pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,m),this.Za=ar("retryDelaySeedMs",1e4,m),this.Ta=ar("forwardChannelMaxRetries",2,m),this.va=ar("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(m&&m.concurrentRequestLimit),this.Ba=new Ra,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ps.prototype,n.ka=8,n.I=1,n.connect=function(m,S,C,W){Se(0),this.W=m,this.H=S||{},C&&W!==void 0&&(this.H.OSID=C,this.H.OAID=W),this.F=this.X,this.J=$t(this,null,this.W),cs(this)};function Ia(m){if(Us(m),m.I==3){var S=m.V++,C=vi(m.J);if(vn(C,"SID",m.M),vn(C,"RID",S),vn(C,"TYPE","terminate"),Qr(m,C),S=new mr(m,m.j,S),S.M=2,S.A=xa(vi(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.A,C=!0),C||(S.g=fe(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Lr(S)}Bt(m)}function Ms(m){m.g&&(Oo(m),m.g.cancel(),m.g=null)}function Us(m){Ms(m),m.v&&(u.clearTimeout(m.v),m.v=null),U(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function cs(m){if(!kr(m.h)&&!m.m){m.m=!0;var S=m.Ea;_t||P(),Ot||(_t(),Ot=!0),H.add(S,m),m.D=0}}function to(m,S){return ls(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ln(d(m.Ea,m,S),ht(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const At=new mr(this,this.j,m);let Dt=this.o;if(this.U&&(Dt?(Dt=X(Dt),Y(Dt,this.U)):Dt=this.U),this.u!==null||this.R||(At.J=Dt,Dt=null),this.S)t:{for(var S=0,C=0;C<this.i.length;C++){e:{var W=this.i[C];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break e}W=void 0}if(W===void 0)break;if(S+=W,S>4096){S=C;break t}if(S===4096||C===this.i.length-1){S=C+1;break t}}S=1e3}else S=1e3;S=js(this,At,S),C=vi(this.J),vn(C,"RID",m),vn(C,"CVER",22),this.G&&vn(C,"X-HTTP-Session-Id",this.G),Qr(this,C),Dt&&(this.R?S="headers="+Xn(Mi(Dt))+"&"+S:this.u&&Ja(C,this.u,Dt)),$a(this.h,At),this.Ra&&vn(C,"TYPE","init"),this.S?(vn(C,"$req",S),vn(C,"SID","null"),At.U=!0,Pi(At,C,null)):Pi(At,C,S),this.I=2}}else this.I==3&&(m?ko(this,m):this.i.length==0||kr(this.h)||ko(this))};function ko(m,S){var C;S?C=S.l:C=m.V++;const W=vi(m.J);vn(W,"SID",m.M),vn(W,"RID",C),vn(W,"AID",m.K),Qr(m,W),m.u&&m.o&&Ja(W,m.u,m.o),C=new mr(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),S&&(m.i=S.G.concat(m.i)),S=js(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),$a(m.h,C),Pi(C,W,S)}function Qr(m,S){m.H&&Nt(m.H,function(C,W){vn(S,W,C)}),m.l&&Nt({},function(C,W){vn(S,W,C)})}function js(m,S,C){C=Math.min(m.i.length,C);const W=m.l?d(m.l.Ka,m.l,m):null;t:{var At=m.i;let Ke=-1;for(;;){const Zn=["count="+C];Ke==-1?C>0?(Ke=At[0].g,Zn.push("ofs="+Ke)):Ke=0:Zn.push("ofs="+Ke);let cn=!0;for(let Mn=0;Mn<C;Mn++){var Dt=At[Mn].g;const or=At[Mn].map;if(Dt-=Ke,Dt<0)Ke=Math.max(0,At[Mn].g-100),cn=!1;else try{Dt="req"+Dt+"_"||"";try{var Zt=or instanceof Map?or:Object.entries(or);for(const[vr,Yn]of Zt){let _r=Yn;h(Yn)&&(_r=We(Yn)),Zn.push(Dt+vr+"="+encodeURIComponent(_r))}}catch(vr){throw Zn.push(Dt+"type="+encodeURIComponent("_badmap")),vr}}catch{W&&W(or)}}if(cn){Zt=Zn.join("&");break t}}Zt=void 0}return m=m.i.splice(0,C),S.G=m,Zt}function ml(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;_t||P(),Ot||(_t(),Ot=!0),H.add(S,m),m.A=0}}function xs(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ln(d(m.Da,m),ht(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ln(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Ms(this),w(this))};function Oo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function w(m){m.g=new mr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=vi(m.na);vn(S,"RID","rpc"),vn(S,"SID",m.M),vn(S,"AID",m.K),vn(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&vn(S,"TO",m.ia),vn(S,"TYPE","xmlhttp"),Qr(m,S),m.u&&m.o&&Ja(S,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=xa(vi(S)),C.u=null,C.R=!0,Ir(C,m)}n.Va=function(){this.C!=null&&(this.C=null,Ms(this),xs(this),Se(19))};function U(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function rt(m,S){var C=null;if(m.g==S){U(m),Oo(m),m.g=null;var W=2}else if(Es(m.h,S))C=S.G,No(m.h,S),W=1;else return;if(m.I!=0){if(S.o)if(W==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var At=m.D;W=In(),ae(W,new we(W,C)),cs(m)}else ml(m);else if(At=S.m,At==3||At==0&&S.X>0||!(W==1&&to(m,S)||W==2&&xs(m)))switch(C&&C.length>0&&(S=m.h,S.i=S.i.concat(C)),At){case 1:vt(m,5);break;case 4:vt(m,10);break;case 3:vt(m,6);break;default:vt(m,2)}}}function ht(m,S){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*S}function vt(m,S){if(m.j.info("Error code "+S),S==2){var C=d(m.bb,m),W=m.Ua;const At=!W;W=new sr(W||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fn(W,"https"),xa(W),At?Ss(W.toString(),C):ca(W.toString(),C)}else Se(2);m.I=0,m.l&&m.l.pa(S),Bt(m),Us(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Bt(m){if(m.I=0,m.ja=[],m.l){const S=Ro(m.h);(S.length!=0||m.i.length!=0)&&(O(m.ja,S),O(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function $t(m,S,C){var W=C instanceof sr?vi(C):new sr(C);if(W.g!="")S&&(W.g=S+"."+W.g),oa(W,W.u);else{var At=u.location;W=At.protocol,S=S?S+"."+At.hostname:At.hostname,At=+At.port;const Dt=new sr(null);W&&fn(Dt,W),S&&(Dt.g=S),At&&oa(Dt,At),C&&(Dt.h=C),W=Dt}return C=m.G,S=m.wa,C&&S&&vn(W,C,S),vn(W,"VER",m.ka),Qr(m,W),W}function fe(m,S,C){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new Pn(new Le({ab:C})):new Pn(m.ma),S.Fa(m.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ge(){}n=ge.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Oe(){}Oe.prototype.g=function(m,S){return new Ce(m,S)};function Ce(m,S){zt.call(this),this.g=new Ps(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!D(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!D(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new qn(this)}A(Ce,zt),Ce.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){Ia(this.g)},Ce.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=We(m),m=C);S.i.push(new hi(S.Ya++,m)),S.I==3&&cs(S)},Ce.prototype.N=function(){this.g.l=null,delete this.j,Ia(this.g),delete this.g,Ce.Z.N.call(this)};function dn(m){_e.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){t:{for(const C in S){m=C;break t}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}A(dn,_e);function Jn(){xe.call(this),this.status=1}A(Jn,xe);function qn(m){this.g=m}A(qn,ge),qn.prototype.ra=function(){ae(this.g,"a")},qn.prototype.qa=function(m){ae(this.g,new dn(m))},qn.prototype.pa=function(m){ae(this.g,new Jn)},qn.prototype.oa=function(){ae(this.g,"b")},Oe.prototype.createWebChannel=Oe.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,c3=function(){return new Oe},u3=function(){return In()},l3=Ze,I0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,em=qr,Rr.COMPLETE="complete",o3=Rr,Je.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",zt.prototype.listen=zt.prototype.J,$f=Je,Pn.prototype.listenOnce=Pn.prototype.K,Pn.prototype.getLastError=Pn.prototype.Ha,Pn.prototype.getLastErrorCode=Pn.prototype.ya,Pn.prototype.getStatus=Pn.prototype.ca,Pn.prototype.getResponseJson=Pn.prototype.La,Pn.prototype.getResponseText=Pn.prototype.la,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Fa,a3=Pn}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",k_="4.9.2";class _s{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");let Zh="12.3.0";const Ic=new g2("@firebase/firestore");function Th(){return Ic.logLevel}function de(n,...t){if(Ic.logLevel<=wn.DEBUG){const e=t.map(N2);Ic.debug(`Firestore (${Zh}): ${n}`,...e)}}function Kl(n,...t){if(Ic.logLevel<=wn.ERROR){const e=t.map(N2);Ic.error(`Firestore (${Zh}): ${n}`,...e)}}function qh(n,...t){if(Ic.logLevel<=wn.WARN){const e=t.map(N2);Ic.warn(`Firestore (${Zh}): ${n}`,...e)}}function N2(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function He(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,h3(n,i,e)}function h3(n,t,e){let i=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Kl(i),new Error(i)}function Hn(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||h3(t,a,i)}function sn(n,t){return n}const Yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ol{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ql{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class f3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_s.UNAUTHENTICATED)))}shutdown(){}}class I8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class L8{constructor(t){this.t=t,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hn(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ql,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ql)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Hn(typeof i.accessToken=="string",31837,{l:i}),new f3(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hn(t===null||typeof t=="string",2055,{h:t}),new _s(t)}}class k8{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O8{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new k8(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D8{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wa(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Hn(this.o===void 0,3512);const i=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Hn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new O_(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class R2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=P8(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function An(n,t){return n<t?-1:n>t?1:0}function L0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return B1(a)===B1(o)?An(a,o):B1(a)?1:-1}return An(n.length,t.length)}const M8=55296,U8=57343;function B1(n){const t=n.charCodeAt(0);return t>=M8&&t<=U8}function Hh(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const D_="__name__";class Qo{constructor(t,e,i){e===void 0?e=0:e>t.length&&He(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&He(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Qo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qo?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Qo.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return An(t.length,e.length)}static compareSegments(t,e){const i=Qo.isNumericId(t),a=Qo.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Qo.extractNumericId(t).compare(Qo.extractNumericId(e)):L0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ju.fromString(t.substring(4,t.length-2))}}class ci extends Qo{construct(t,e,i){return new ci(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new oe(Yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new ci(e)}static emptyPath(){return new ci([])}}const j8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends Qo{construct(t,e,i){return new rs(t,e,i)}static isValidIdentifier(t){return j8.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new rs([D_])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new oe(Yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new oe(Yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new oe(Yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new oe(Yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rs(e)}static emptyPath(){return new rs([])}}class Me{constructor(t){this.path=t}static fromPath(t){return new Me(ci.fromString(t))}static fromName(t){return new Me(ci.fromString(t).popFirst(5))}static empty(){return new Me(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ci.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Me(new ci(t.slice()))}}function d3(n,t,e){if(!e)throw new oe(Yt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function V8(n,t,e,i){if(t===!0&&i===!0)throw new oe(Yt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function P_(n){if(!Me.isDocumentKey(n))throw new oe(Yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M_(n){if(Me.isDocumentKey(n))throw new oe(Yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":He(12329,{type:typeof n})}function ia(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new oe(Yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Gm(n);throw new oe(Yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function dr(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ld(n,t){if(!p3(n))throw new oe(Yt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new oe(Yt.INVALID_ARGUMENT,e);return!0}const U_=-62135596800,j_=1e6;class gi{static now(){return gi.fromMillis(Date.now())}static fromDate(t){return gi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*j_);return new gi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new oe(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new oe(Yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<U_)throw new oe(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new oe(Yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(t){return this.seconds===t.seconds?An(this.nanoseconds,t.nanoseconds):An(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ld(t,gi._jsonSchema))return new gi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gi._jsonSchemaVersion="firestore/timestamp/1.0",gi._jsonSchema={type:dr("string",gi._jsonSchemaVersion),seconds:dr("number"),nanoseconds:dr("number")};class tn{static fromTimestamp(t){return new tn(t)}static min(){return new tn(new gi(0,0))}static max(){return new tn(new gi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fd=-1;function B8(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=tn.fromTimestamp(i===1e9?new gi(e+1,0):new gi(e,i));return new zu(a,Me.empty(),t)}function F8(n){return new zu(n.readTime,n.key,fd)}class zu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zu(tn.min(),Me.empty(),fd)}static max(){return new zu(tn.max(),Me.empty(),fd)}}function z8(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Me.comparator(n.documentKey,t.documentKey),e!==0?e:An(n.largestBatchId,t.largestBatchId))}const q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tf(n){if(n.code!==Yt.FAILED_PRECONDITION||n.message!==q8)throw n;de("LocalStore","Unexpectedly lost primary lease")}class Qt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Qt(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Qt?e:Qt.resolve(e)}catch(e){return Qt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Qt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Qt.reject(e)}static resolve(t){return new Qt(((e,i)=>{e(t)}))}static reject(t){return new Qt(((e,i)=>{i(t)}))}static waitFor(t){return new Qt(((e,i)=>{let a=0,o=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&e()}),(f=>i(f)))})),u=!0,o===a&&e()}))}static or(t){let e=Qt.resolve(!1);for(const i of t)e=e.next((a=>a?Qt.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new Qt(((i,a)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((v=>{u[d]=v,++h,h===o&&i(u)}),(v=>a(v)))}}))}static doWhile(t,e){return new Qt(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function G8(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ef(n){return n.name==="IndexedDbTransactionError"}class Ym{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ym.ce=-1;const C2=-1;function Km(n){return n==null}function Am(n){return n===0&&1/n==-1/0}function Y8(n){return typeof n=="number"&&Number.isInteger(n)&&!Am(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const m3="";function K8(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=V_(t)),t=W8(n.get(e),t);return V_(t)}function W8(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case m3:e+="";break;default:e+=o}}return e}function V_(n){return n+m3+""}function B_(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ju(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function g3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Oi{constructor(t,e){this.comparator=t,this.root=e||is.EMPTY}insert(t,e){return new Oi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,is.BLACK,null,null))}remove(t){return new Oi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,is.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Op(this.root,t,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Op(this.root,t,this.comparator,!0)}}class Op{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class is{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??is.RED,this.left=a??is.EMPTY,this.right=o??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new is(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return is.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw He(27949);return t+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1;is.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new is(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nr{constructor(t){this.comparator=t,this.data=new Oi(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(t){return new F_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Nr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Nr(this.comparator);return e.data=t,e}}class F_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Aa{constructor(t){this.fields=t,t.sort(rs.comparator)}static empty(){return new Aa([])}unionWith(t){let e=new Nr(rs.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Aa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Hh(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ss{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new y3("Invalid base64 string: "+o):o}})(t);return new ss(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(t);return new ss(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return An(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const $8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(n){if(Hn(!!n,39018),typeof n=="string"){let t=0;const e=$8.exec(n);if(Hn(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ji(n.seconds),nanos:Ji(n.nanos)}}function Ji(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hu(n){return typeof n=="string"?ss.fromBase64String(n):ss.fromUint8Array(n)}const v3="server_timestamp",_3="__type__",b3="__previous_value__",w3="__local_write_time__";function I2(n){return(n?.mapValue?.fields||{})[_3]?.stringValue===v3}function Wm(n){const t=n.mapValue.fields[b3];return I2(t)?Wm(t):t}function dd(n){const t=qu(n.mapValue.fields[w3].timestampValue);return new gi(t.seconds,t.nanos)}class Q8{constructor(t,e,i,a,o,u,h,f,d,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v}}const Em="(default)";class pd{constructor(t,e){this.projectId=t,this.database=e||Em}static empty(){return new pd("","")}get isDefaultDatabase(){return this.database===Em}isEqual(t){return t instanceof pd&&t.projectId===this.projectId&&t.database===this.database}}const A3="__type__",X8="__max__",Dp={mapValue:{}},E3="__vector__",Sm="value";function Gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I2(n)?4:Z8(n)?9007199254740991:J8(n)?10:11:He(28295,{value:n})}function al(n,t){if(n===t)return!0;const e=Gu(n);if(e!==Gu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return dd(n).isEqual(dd(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=qu(a.timestampValue),h=qu(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Hu(a.bytesValue).isEqual(Hu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Ji(a.geoPointValue.latitude)===Ji(o.geoPointValue.latitude)&&Ji(a.geoPointValue.longitude)===Ji(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Ji(a.integerValue)===Ji(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Ji(a.doubleValue),h=Ji(o.doubleValue);return u===h?Am(u)===Am(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return Hh(n.arrayValue.values||[],t.arrayValue.values||[],al);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(B_(u)!==B_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!al(u[f],h[f])))return!1;return!0})(n,t);default:return He(52216,{left:n})}}function md(n,t){return(n.values||[]).find((e=>al(e,t)))!==void 0}function Gh(n,t){if(n===t)return 0;const e=Gu(n),i=Gu(t);if(e!==i)return An(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=Ji(o.integerValue||o.doubleValue),f=Ji(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return z_(n.timestampValue,t.timestampValue);case 4:return z_(dd(n),dd(t));case 5:return L0(n.stringValue,t.stringValue);case 6:return(function(o,u){const h=Hu(o),f=Hu(u);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=An(h[d],f[d]);if(v!==0)return v}return An(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=An(Ji(o.latitude),Ji(u.latitude));return h!==0?h:An(Ji(o.longitude),Ji(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return q_(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[Sm]?.arrayValue,v=f[Sm]?.arrayValue,A=An(d?.values?.length||0,v?.values?.length||0);return A!==0?A:q_(d,v)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Dp.mapValue&&u===Dp.mapValue)return 0;if(o===Dp.mapValue)return 1;if(u===Dp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const T=L0(f[A],v[A]);if(T!==0)return T;const b=Gh(h[f[A]],d[v[A]]);if(b!==0)return b}return An(f.length,v.length)})(n.mapValue,t.mapValue);default:throw He(23264,{he:e})}}function z_(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return An(n,t);const e=qu(n),i=qu(t),a=An(e.seconds,i.seconds);return a!==0?a:An(e.nanos,i.nanos)}function q_(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Gh(e[a],i[a]);if(o)return o}return An(e.length,i.length)}function Yh(n){return k0(n)}function k0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=qu(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Hu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Me.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=k0(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${k0(e.fields[u])}`;return a+"}"})(n.mapValue):He(61005,{value:n})}function nm(n){switch(Gu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wm(n);return t?16+nm(t):16;case 5:return 2*n.stringValue.length;case 6:return Hu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+nm(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Ju(i.fields,((o,u)=>{a+=o.length+nm(u)})),a})(n.mapValue);default:throw He(13486,{value:n})}}function H_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function L2(n){return!!n&&"arrayValue"in n}function G_(n){return!!n&&"nullValue"in n}function Y_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function im(n){return!!n&&"mapValue"in n}function J8(n){return(n?.mapValue?.fields||{})[A3]?.stringValue===E3}function ed(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ju(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=ed(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ed(n.arrayValue.values[e]);return t}return{...n}}function Z8(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===X8}class na{constructor(t){this.value=t}static empty(){return new na({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!im(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ed(e)}setAll(t){let e=rs.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=ed(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());im(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return al(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];im(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Ju(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new na(ed(this.value))}}function S3(n){const t=[];return Ju(n.fields,((e,i)=>{const a=new rs([e]);if(im(i)){const o=S3(i.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)})),new Aa(t)}class bs{constructor(t,e,i,a,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new bs(t,0,tn.min(),tn.min(),tn.min(),na.empty(),0)}static newFoundDocument(t,e,i,a){return new bs(t,1,e,tn.min(),i,a,0)}static newNoDocument(t,e){return new bs(t,2,e,tn.min(),tn.min(),na.empty(),0)}static newUnknownDocument(t,e){return new bs(t,3,e,tn.min(),tn.min(),na.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(tn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=na.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=na.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof bs&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new bs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tm{constructor(t,e){this.position=t,this.inclusive=e}}function K_(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(u.referenceValue),e.key):i=Gh(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function W_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!al(n.position[e],t.position[e]))return!1;return!0}class gd{constructor(t,e="asc"){this.field=t,this.dir=e}}function tC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class T3{}class fr extends T3{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new nC(t,e,i):e==="array-contains"?new sC(t,i):e==="in"?new aC(t,i):e==="not-in"?new oC(t,i):e==="array-contains-any"?new lC(t,i):new fr(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new iC(t,i):new rC(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Gh(e,this.value)):e!==null&&Gu(this.value)===Gu(e)&&this.matchesComparison(Gh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wo extends T3{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new wo(t,e)}matches(t){return x3(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x3(n){return n.op==="and"}function N3(n){return eC(n)&&x3(n)}function eC(n){for(const t of n.filters)if(t instanceof wo)return!1;return!0}function D0(n){if(n instanceof fr)return n.field.canonicalString()+n.op.toString()+Yh(n.value);if(N3(n))return n.filters.map((t=>D0(t))).join(",");{const t=n.filters.map((e=>D0(e))).join(",");return`${n.op}(${t})`}}function R3(n,t){return n instanceof fr?(function(i,a){return a instanceof fr&&i.op===a.op&&i.field.isEqual(a.field)&&al(i.value,a.value)})(n,t):n instanceof wo?(function(i,a){return a instanceof wo&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&R3(u,a.filters[h])),!0):!1})(n,t):void He(19439)}function C3(n){return n instanceof fr?(function(e){return`${e.field.canonicalString()} ${e.op} ${Yh(e.value)}`})(n):n instanceof wo?(function(e){return e.op.toString()+" {"+e.getFilters().map(C3).join(" ,")+"}"})(n):"Filter"}class nC extends fr{constructor(t,e,i){super(t,e,i),this.key=Me.fromName(i.referenceValue)}matches(t){const e=Me.comparator(t.key,this.key);return this.matchesComparison(e)}}class iC extends fr{constructor(t,e){super(t,"in",e),this.keys=I3("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class rC extends fr{constructor(t,e){super(t,"not-in",e),this.keys=I3("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function I3(n,t){return(t.arrayValue?.values||[]).map((e=>Me.fromName(e.referenceValue)))}class sC extends fr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return L2(e)&&md(e.arrayValue,this.value)}}class aC extends fr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&md(this.value.arrayValue,e)}}class oC extends fr{constructor(t,e){super(t,"not-in",e)}matches(t){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!md(this.value.arrayValue,e)}}class lC extends fr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!L2(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>md(this.value.arrayValue,i)))}}class uC{constructor(t,e=null,i=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function $_(n,t=null,e=[],i=[],a=null,o=null,u=null){return new uC(n,t,e,i,a,o,u)}function k2(n){const t=sn(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>D0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Km(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Yh(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Yh(i))).join(",")),t.Te=e}return t.Te}function O2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!tC(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!R3(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!W_(n.startAt,t.startAt)&&W_(n.endAt,t.endAt)}function P0(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nf{constructor(t,e=null,i=[],a=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(n,t,e,i,a,o,u,h){return new nf(n,t,e,i,a,o,u,h)}function $m(n){return new nf(n)}function Q_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function L3(n){return n.collectionGroup!==null}function nd(n){const t=sn(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Nr(rs.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new gd(o,i))})),e.has(rs.keyField().canonicalString())||t.Ie.push(new gd(rs.keyField(),i))}return t.Ie}function nl(n){const t=sn(n);return t.Ee||(t.Ee=hC(t,nd(n))),t.Ee}function hC(n,t){if(n.limitType==="F")return $_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new gd(a.field,o)}));const e=n.endAt?new Tm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Tm(n.startAt.position,n.startAt.inclusive):null;return $_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function M0(n,t){const e=n.filters.concat([t]);return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function U0(n,t,e){return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qm(n,t){return O2(nl(n),nl(t))&&n.limitType===t.limitType}function k3(n){return`${k2(nl(n))}|lt:${n.limitType}`}function xh(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>C3(a))).join(", ")}]`),Km(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Yh(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Yh(a))).join(",")),`Target(${i})`})(nl(n))}; limitType=${n.limitType})`}function Xm(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of nd(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,f){const d=K_(u,h,f);return u.inclusive?d<=0:d<0})(i.startAt,nd(i),a)||i.endAt&&!(function(u,h,f){const d=K_(u,h,f);return u.inclusive?d>=0:d>0})(i.endAt,nd(i),a))})(n,t)}function fC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O3(n){return(t,e)=>{let i=!1;for(const a of nd(n)){const o=dC(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function dC(n,t,e){const i=n.field.isKeyField()?Me.comparator(t.key,e.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Gh(f,d):He(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return He(19790,{direction:n.dir})}}class jc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ju(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return g3(this.inner)}size(){return this.innerSize}}const pC=new Oi(Me.comparator);function Wl(){return pC}const D3=new Oi(Me.comparator);function Qf(...n){let t=D3;for(const e of n)t=t.insert(e.key,e);return t}function P3(n){let t=D3;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function wc(){return id()}function M3(){return id()}function id(){return new jc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const mC=new Oi(Me.comparator),gC=new Nr(Me.comparator);function En(...n){let t=gC;for(const e of n)t=t.add(e);return t}const yC=new Nr(An);function vC(){return yC}function D2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Am(t)?"-0":t}}function U3(n){return{integerValue:""+n}}function _C(n,t){return Y8(t)?U3(t):D2(n,t)}class Jm{constructor(){this._=void 0}}function bC(n,t,e){return n instanceof yd?(function(a,o){const u={fields:{[_3]:{stringValue:v3},[w3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&I2(o)&&(o=Wm(o)),o&&(u.fields[b3]=o),{mapValue:u}})(e,t):n instanceof vd?V3(n,t):n instanceof _d?B3(n,t):(function(a,o){const u=j3(a,o),h=X_(u)+X_(a.Ae);return O0(u)&&O0(a.Ae)?U3(h):D2(a.serializer,h)})(n,t)}function wC(n,t,e){return n instanceof vd?V3(n,t):n instanceof _d?B3(n,t):e}function j3(n,t){return n instanceof xm?(function(i){return O0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class yd extends Jm{}class vd extends Jm{constructor(t){super(),this.elements=t}}function V3(n,t){const e=F3(t);for(const i of n.elements)e.some((a=>al(a,i)))||e.push(i);return{arrayValue:{values:e}}}class _d extends Jm{constructor(t){super(),this.elements=t}}function B3(n,t){let e=F3(t);for(const i of n.elements)e=e.filter((a=>!al(a,i)));return{arrayValue:{values:e}}}class xm extends Jm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function X_(n){return Ji(n.integerValue||n.doubleValue)}function F3(n){return L2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class AC{constructor(t,e){this.field=t,this.transform=e}}function EC(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof vd&&a instanceof vd||i instanceof _d&&a instanceof _d?Hh(i.elements,a.elements,al):i instanceof xm&&a instanceof xm?al(i.Ae,a.Ae):i instanceof yd&&a instanceof yd})(n.transform,t.transform)}class SC{constructor(t,e){this.version=t,this.transformResults=e}}class Ga{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ga}static exists(t){return new Ga(void 0,t)}static updateTime(t){return new Ga(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Zm{}function z3(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new P2(n.key,Ga.none()):new kd(n.key,n.data,Ga.none());{const e=n.data,i=na.empty();let a=new Nr(rs.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new Zu(n.key,i,new Aa(a.toArray()),Ga.none())}}function TC(n,t,e){n instanceof kd?(function(a,o,u){const h=a.value.clone(),f=Z_(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Zu?(function(a,o,u){if(!rm(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Z_(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(q3(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function rd(n,t,e,i){return n instanceof kd?(function(o,u,h,f){if(!rm(o.precondition,u))return h;const d=o.value.clone(),v=tb(o.fieldTransforms,f,u);return d.setAll(v),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Zu?(function(o,u,h,f){if(!rm(o.precondition,u))return h;const d=tb(o.fieldTransforms,f,u),v=u.data;return v.setAll(q3(o)),v.setAll(d),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,i):(function(o,u,h){return rm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function xC(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=j3(i.transform,a||null);o!=null&&(e===null&&(e=na.empty()),e.set(i.field,o))}return e||null}function J_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Hh(i,a,((o,u)=>EC(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class kd extends Zm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zu extends Zm{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function q3(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function Z_(n,t,e){const i=new Map;Hn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,h=t.data.field(o.field);i.set(o.field,wC(u,h,e[a]))}return i}function tb(n,t,e){const i=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);i.set(a.field,bC(o,u,t))}return i}class P2 extends Zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Zm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RC{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&TC(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=rd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=rd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=M3();return this.mutations.forEach((a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(a.key)?null:h;const f=z3(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(tn.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),En())}isEqual(t){return this.batchId===t.batchId&&Hh(this.mutations,t.mutations,((e,i)=>J_(e,i)))&&Hh(this.baseMutations,t.baseMutations,((e,i)=>J_(e,i)))}}class M2{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Hn(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return mC})();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new M2(t,e,i,a)}}class CC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IC{constructor(t,e){this.count=t,this.unchangedNames=e}}var hr,Cn;function LC(n){switch(n){case Yt.OK:return He(64938);case Yt.CANCELLED:case Yt.UNKNOWN:case Yt.DEADLINE_EXCEEDED:case Yt.RESOURCE_EXHAUSTED:case Yt.INTERNAL:case Yt.UNAVAILABLE:case Yt.UNAUTHENTICATED:return!1;case Yt.INVALID_ARGUMENT:case Yt.NOT_FOUND:case Yt.ALREADY_EXISTS:case Yt.PERMISSION_DENIED:case Yt.FAILED_PRECONDITION:case Yt.ABORTED:case Yt.OUT_OF_RANGE:case Yt.UNIMPLEMENTED:case Yt.DATA_LOSS:return!0;default:return He(15467,{code:n})}}function H3(n){if(n===void 0)return Kl("GRPC error has no .code"),Yt.UNKNOWN;switch(n){case hr.OK:return Yt.OK;case hr.CANCELLED:return Yt.CANCELLED;case hr.UNKNOWN:return Yt.UNKNOWN;case hr.DEADLINE_EXCEEDED:return Yt.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return Yt.RESOURCE_EXHAUSTED;case hr.INTERNAL:return Yt.INTERNAL;case hr.UNAVAILABLE:return Yt.UNAVAILABLE;case hr.UNAUTHENTICATED:return Yt.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return Yt.INVALID_ARGUMENT;case hr.NOT_FOUND:return Yt.NOT_FOUND;case hr.ALREADY_EXISTS:return Yt.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return Yt.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return Yt.FAILED_PRECONDITION;case hr.ABORTED:return Yt.ABORTED;case hr.OUT_OF_RANGE:return Yt.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return Yt.UNIMPLEMENTED;case hr.DATA_LOSS:return Yt.DATA_LOSS;default:return He(39323,{code:n})}}(Cn=hr||(hr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";function kC(){return new TextEncoder}const OC=new ju([4294967295,4294967295],0);function eb(n){const t=kC().encode(n),e=new s3;return e.update(t),new Uint8Array(e.digest())}function nb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ju([e,i],0),new ju([a,o],0)]}class U2{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Xf(`Invalid padding: ${e}`);if(i<0)throw new Xf(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Xf(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Xf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ju.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(ju.fromNumber(i)));return a.compare(OC)===1&&(a=new ju([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=eb(t),[i,a]=nb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new U2(o,a,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=eb(t),[i,a]=nb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tg{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Od.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new tg(tn.min(),a,new Oi(An),Wl(),En())}}class Od{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Od(i,e,En(),En(),En())}}class sm{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class G3{constructor(t,e){this.targetId=t,this.Ce=e}}class Y3{constructor(t,e,i=ss.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class ib{constructor(){this.ve=0,this.Fe=rb(),this.Me=ss.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=En(),e=En(),i=En();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:He(38017,{changeType:o})}})),new Od(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=rb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wl(),this.Je=Pp(),this.He=Pp(),this.Ye=new Oi(An)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:He(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(P0(o))if(i===0){const u=new Me(o.path);this.et(e,u,bs.newNoDocument(u,tn.min()))}else Hn(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),f=h?this.ct(h,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let u,h;try{u=Hu(i).toUint8Array()}catch(f){if(f instanceof y3)return qh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new U2(u,a,o)}catch(f){return qh(f instanceof Xf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&P0(h.target)){const f=new Me(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,bs.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let i=En();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const a=new tg(t,e,this.Ye,this.je,i);return this.je=Wl(),this.Je=Pp(),this.He=Pp(),this.Ye=new Oi(An),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new ib,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Nr(An),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Nr(An),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||de("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ib),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Pp(){return new Oi(Me.comparator)}function rb(){return new Oi(Me.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},MC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class jC{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function j0(n,t){return n.useProto3Json||Km(t)?t:{value:t}}function Nm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K3(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function VC(n,t){return Nm(n,t.toTimestamp())}function il(n){return Hn(!!n,49232),tn.fromTimestamp((function(e){const i=qu(e);return new gi(i.seconds,i.nanos)})(n))}function j2(n,t){return V0(n,t).canonicalString()}function V0(n,t){const e=(function(a){return new ci(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function W3(n){const t=ci.fromString(n);return Hn(Z3(t),10190,{key:t.toString()}),t}function B0(n,t){return j2(n.databaseId,t.path)}function F1(n,t){const e=W3(t);if(e.get(1)!==n.databaseId.projectId)throw new oe(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new oe(Yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Me(Q3(e))}function $3(n,t){return j2(n.databaseId,t)}function BC(n){const t=W3(n);return t.length===4?ci.emptyPath():Q3(t)}function F0(n){return new ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q3(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sb(n,t,e){return{name:B0(n,t),fields:e.value.mapValue.fields}}function FC(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:He(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(Hn(v===void 0||typeof v=="string",58123),ss.fromBase64String(v||"")):(Hn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ss.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(d){const v=d.code===void 0?Yt.UNKNOWN:H3(d.code);return new oe(v,d.message||"")})(u);e=new Y3(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=F1(n,i.document.name),o=il(i.document.updateTime),u=i.document.createTime?il(i.document.createTime):tn.min(),h=new na({mapValue:{fields:i.document.fields}}),f=bs.newFoundDocument(a,o,u,h),d=i.targetIds||[],v=i.removedTargetIds||[];e=new sm(d,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=F1(n,i.document),o=i.readTime?il(i.readTime):tn.min(),u=bs.newNoDocument(a,o),h=i.removedTargetIds||[];e=new sm([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=F1(n,i.document),o=i.removedTargetIds||[];e=new sm([],o,a,null)}else{if(!("filter"in t))return He(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new IC(a,o),h=i.targetId;e=new G3(h,u)}}return e}function zC(n,t){let e;if(t instanceof kd)e={update:sb(n,t.key,t.value)};else if(t instanceof P2)e={delete:B0(n,t.key)};else if(t instanceof Zu)e={update:sb(n,t.key,t.data),updateMask:XC(t.fieldMask)};else{if(!(t instanceof NC))return He(16599,{Vt:t.type});e={verify:B0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof yd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _d)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xm)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw He(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:VC(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)})(n,t.precondition)),e}function qC(n,t){return n&&n.length>0?(Hn(t!==void 0,14353),n.map((e=>(function(a,o){let u=a.updateTime?il(a.updateTime):il(o);return u.isEqual(tn.min())&&(u=il(o)),new SC(u,a.transformResults||[])})(e,t)))):[]}function HC(n,t){return{documents:[$3(n,t.path)]}}function GC(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=$3(n,a);const o=(function(d){if(d.length!==0)return J3(wo.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((v=>(function(T){return{field:Nh(T.field),direction:WC(T.dir)}})(v)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=j0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:a}}function YC(n){let t=BC(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Hn(i===1,65062);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(A){const T=X3(A);return T instanceof wo&&N3(T)?T.getFilters():[T]})(e.where));let u=[];e.orderBy&&(u=(function(A){return A.map((T=>(function(O){return new gd(Rh(O.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let T;return T=typeof A=="object"?A.value:A,Km(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(A){const T=!!A.before,b=A.values||[];return new Tm(b,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const T=!A.before,b=A.values||[];return new Tm(b,T)})(e.endAt)),cC(t,a,u,o,h,"F",f,d)}function KC(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function X3(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Rh(e.unaryFilter.field);return fr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Rh(e.unaryFilter.field);return fr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rh(e.unaryFilter.field);return fr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rh(e.unaryFilter.field);return fr.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(n):n.fieldFilter!==void 0?(function(e){return fr.create(Rh(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return wo.create(e.compositeFilter.filters.map((i=>X3(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(e.compositeFilter.op))})(n):He(30097,{filter:n})}function WC(n){return PC[n]}function $C(n){return MC[n]}function QC(n){return UC[n]}function Nh(n){return{fieldPath:n.canonicalString()}}function Rh(n){return rs.fromServerFormat(n.fieldPath)}function J3(n){return n instanceof fr?(function(e){if(e.op==="=="){if(Y_(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NAN"}};if(G_(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Y_(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NAN"}};if(G_(e.value))return{unaryFilter:{field:Nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nh(e.field),op:$C(e.op),value:e.value}}})(n):n instanceof wo?(function(e){const i=e.getFilters().map((a=>J3(a)));return i.length===1?i[0]:{compositeFilter:{op:QC(e.op),filters:i}}})(n):He(54877,{filter:n})}function XC(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Z3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Du{constructor(t,e,i,a,o=tn.min(),u=tn.min(),h=ss.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Du(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class JC{constructor(t){this.yt=t}}function ZC(n){const t=YC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?U0(t,t.limit,"L"):t}class tI{constructor(){this.Cn=new eI}addToCollectionParentIndex(t,e){return this.Cn.add(e),Qt.resolve()}getCollectionParents(t,e){return Qt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Qt.resolve()}deleteFieldIndex(t,e){return Qt.resolve()}deleteAllFieldIndexes(t){return Qt.resolve()}createTargetIndexes(t,e){return Qt.resolve()}getDocumentsMatchingTarget(t,e){return Qt.resolve(null)}getIndexType(t,e){return Qt.resolve(0)}getFieldIndexes(t,e){return Qt.resolve([])}getNextCollectionGroupToUpdate(t){return Qt.resolve(null)}getMinOffset(t,e){return Qt.resolve(zu.min())}getMinOffsetFromCollectionGroup(t,e){return Qt.resolve(zu.min())}updateCollectionGroup(t,e,i){return Qt.resolve()}updateIndexEntries(t,e){return Qt.resolve()}}class eI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Nr(ci.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Nr(ci.comparator)).toArray()}}const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040;class ta{static withCacheSize(t){return new ta(t,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(tA,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);class Kh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Kh(0)}static cr(){return new Kh(-1)}}const ob="LruGarbageCollector",nI=1048576;function lb([n,t],[e,i]){const a=An(n,e);return a===0?An(t,i):a}class iI{constructor(t){this.Ir=t,this.buffer=new Nr(lb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();lb(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){de(ob,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ef(e)?de(ob,"Ignoring IndexedDB error during garbage collection: ",e):await tf(e)}await this.Vr(3e5)}))}}class sI{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Qt.resolve(Ym.ce);const i=new iI(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Qt.resolve(ab)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,u,h,f,d;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(t,a)))).next((A=>(i=A,h=Date.now(),this.removeTargets(t,i,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((A=>(d=Date.now(),Th()<=wn.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Qt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A}))))}}function aI(n,t){return new sI(n,t)}class oI{constructor(){this.changes=new jc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,bs.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Qt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class uI{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&rd(i.mutation,a,Aa.empty(),gi.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,En()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=En()){const a=wc();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let u=Qf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=wc();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,En())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,a){let o=Wl();const u=id(),h=(function(){return id()})();return e.forEach(((f,d)=>{const v=i.get(d.key);a.has(d.key)&&(v===void 0||v.mutation instanceof Zu)?o=o.insert(d.key,d):v!==void 0?(u.set(d.key,v.mutation.getFieldMask()),rd(v.mutation,d,v.mutation.getFieldMask(),gi.now())):u.set(d.key,Aa.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,v)=>u.set(d,v))),e.forEach(((d,v)=>h.set(d,new lI(v,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=id();let a=new Oi(((u,h)=>u-h)),o=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let v=i.get(f)||Aa.empty();v=h.applyToLocalView(d,v),i.set(f,v);const A=(a.get(h.batchId)||En()).add(f);a=a.insert(h.batchId,A)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=M3();v.forEach((T=>{if(!o.has(T)){const b=z3(e.get(T),i.get(T));b!==null&&A.set(T,b),o=o.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,A))}return Qt.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):L3(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):Qt.resolve(wc());let h=fd,f=o;return u.next((d=>Qt.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Qt.resolve():this.remoteDocumentCache.getEntry(t,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,En()))).next((v=>({batchId:h,changes:P3(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Me(e)).next((i=>{let a=Qf();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let u=Qf();return this.indexManager.getCollectionParents(t,o).next((h=>Qt.forEach(h,(f=>{const d=(function(A,T){return new nf(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,a).next((v=>{v.forEach(((A,T)=>{u=u.insert(A,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((u=>{o.forEach(((f,d)=>{const v=d.getKey();u.get(v)===null&&(u=u.insert(v,bs.newInvalidDocument(v)))}));let h=Qf();return u.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&rd(v.mutation,d,Aa.empty(),gi.now()),Xm(e,d)&&(h=h.insert(f,d))})),h}))}}class cI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Qt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:il(a.createTime)}})(e)),Qt.resolve()}getNamedQuery(t,e){return Qt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:ZC(a.bundledQuery),readTime:il(a.readTime)}})(e)),Qt.resolve()}}class hI{constructor(){this.overlays=new Oi(Me.comparator),this.qr=new Map}getOverlay(t,e){return Qt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wc();return Qt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),Qt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),Qt.resolve()}getOverlaysForCollection(t,e,i){const a=wc(),o=e.length+1,u=new Me(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return Qt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Oi(((d,v)=>d-v));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let v=o.get(d.largestBatchId);v===null&&(v=wc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=wc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=a)););return Qt.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new CC(e,i));let o=this.qr.get(e);o===void 0&&(o=En(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class fI{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(t){return Qt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Qt.resolve()}}class V2{constructor(){this.Qr=new Nr(Fr.$r),this.Ur=new Nr(Fr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Fr(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Fr(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Me(new ci([])),i=new Fr(e,t),a=new Fr(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Me(new ci([])),i=new Fr(e,t),a=new Fr(e,t+1);let o=En();return this.Ur.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Fr(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fr{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Me.comparator(t.key,e.key)||An(t.Yr,e.Yr)}static Kr(t,e){return An(t.Yr,e.Yr)||Me.comparator(t.key,e.key)}}class dI{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Nr(Fr.$r)}checkEmpty(t){return Qt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RC(o,e,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Fr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Qt.resolve(u)}lookupMutationBatch(t,e){return Qt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return Qt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qt.resolve(this.mutationQueue.length===0?C2:this.tr-1)}getAllMutationBatches(t){return Qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fr(e,0),a=new Fr(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Qt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Nr(An);return e.forEach((a=>{const o=new Fr(a,0),u=new Fr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),Qt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;Me.isDocumentKey(o)||(o=o.child(""));const u=new Fr(new Me(o),0);let h=new Nr(An);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===a&&(h=h.add(f.Yr)),!0)}),u),Qt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Hn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Qt.forEach(e.mutations,(a=>{const o=new Fr(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Fr(e,0),a=this.Zr.firstAfterOrEqual(i);return Qt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Qt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class pI{constructor(t){this.ri=t,this.docs=(function(){return new Oi(Me.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Qt.resolve(i?i.document.mutableCopy():bs.newInvalidDocument(e))}getEntries(t,e){let i=Wl();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():bs.newInvalidDocument(a))})),Qt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Wl();const u=e.path,h=new Me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||z8(F8(v),i)<=0||(a.has(v.key)||Xm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Qt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){He(9500)}ii(t,e){return Qt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new mI(this)}getSize(t){return Qt.resolve(this.size)}}class mI extends oI{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),Qt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class gI{constructor(t){this.persistence=t,this.si=new jc((e=>k2(e)),O2),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.oi=0,this._i=new V2,this.targetCount=0,this.ai=Kh.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),Qt.resolve()}getLastRemoteSnapshotVersion(t){return Qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Qt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Qt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Qt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Kh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Qt.resolve()}updateTargetData(t,e){return this.Pr(e),Qt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Qt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),Qt.waitFor(o).next((()=>a))}getTargetCount(t){return Qt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Qt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Qt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((u=>{o.push(a.markPotentiallyOrphaned(t,u))})),Qt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Qt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Qt.resolve(i)}containsKey(t,e){return Qt.resolve(this._i.containsKey(e))}}class eA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ym(0),this.li=!1,this.li=!0,this.hi=new fI,this.referenceDelegate=t(this),this.Pi=new gI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(a){return new pI(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new JC(e),this.Ii=new cI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new hI,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new dI(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){de("MemoryPersistence","Starting transaction:",t);const a=new yI(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return Qt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class yI extends H8{constructor(t){super(),this.currentSequenceNumber=t}}class B2{constructor(t){this.persistence=t,this.Ri=new V2,this.Vi=null}static mi(t){return new B2(t)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Qt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Qt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Qt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qt.forEach(this.fi,(i=>{const a=Me.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,tn.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Qt.or([()=>Qt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Rm{constructor(t,e){this.persistence=t,this.pi=new jc((i=>K8(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=aI(this,e)}static mi(t,e){return new Rm(t,e)}Ei(){}di(t){return Qt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return Qt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?Qt.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,e).next((h=>{h||(i++,o.removeEntry(u,tn.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Qt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Qt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Qt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Qt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=nm(t.data.value)),e}br(t,e,i){return Qt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Qt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class F2{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=En(),a=En();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new F2(t,e.fromCache,i,a)}}class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QT()?8:G8(ws())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new vI;return this.Ss(t,e,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Th()<=wn.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",xh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qt.resolve()):(Th()<=wn.DEBUG&&de("QueryEngine","Query:",xh(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Th()<=wn.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",xh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nl(e))):Qt.resolve())}ys(t,e){if(Q_(e))return Qt.resolve(null);let i=nl(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=U0(e,null,"F"),i=nl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const u=En(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,u,f.readTime)?this.ys(t,U0(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,a){return Q_(e)||a.isEqual(tn.min())?Qt.resolve(null):this.ps.getDocuments(t,i).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,i,a)?Qt.resolve(null):(Th()<=wn.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xh(e)),this.vs(t,u,e,B8(a,fd)).next((h=>h)))}))}Ds(t,e){let i=new Nr(O3(t));return e.forEach(((a,o)=>{Xm(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return Th()<=wn.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",xh(e)),this.ps.getDocumentsMatchingQuery(t,e,zu.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const z2="LocalStore",bI=3e8;class wI{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Oi(An),this.xs=new jc((o=>k2(o)),O2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function AI(n,t,e,i){return new wI(n,t,e,i)}async function nA(n,t){const e=sn(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let f=En();for(const d of a){u.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function EI(n,t){const e=sn(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,T=A.keys();let b=Qt.resolve();return T.forEach((O=>{b=b.next((()=>v.getEntry(f,O))).next((M=>{const B=d.docVersions.get(O);Hn(B!==null,48541),M.version.compareTo(B)<0&&(A.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),v.addEntry(M)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=En();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function iA(n){const t=sn(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function SI(n,t){const e=sn(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((v,A)=>{const T=a.get(A);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,A).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,A))));let b=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?b=b.withResumeToken(ss.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,i)),a=a.insert(A,b),(function(M,B,V){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=bI?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(T,b,v)&&h.push(e.Pi.updateTargetData(o,b))}));let f=Wl(),d=En();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(TI(o,u,t.documentUpdates).next((v=>{f=v.ks,d=v.qs}))),!i.isEqual(tn.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((A=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(v)}return Qt.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function TI(n,t,e){let i=En(),a=En();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let u=Wl();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(tn.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):de(z2,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function xI(n,t){const e=sn(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=C2),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function NI(n,t){const e=sn(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,Qt.resolve(a)):e.Pi.allocateTargetId(i).next((u=>(a=new Du(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function z0(n,t,e){const i=sn(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ef(u))throw u;de(z2,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function ub(n,t,e){const i=sn(n);let a=tn.min(),o=En();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,v){const A=sn(f),T=A.xs.get(v);return T!==void 0?Qt.resolve(A.Ms.get(T)):A.Pi.getTargetData(d,v)})(i,u,nl(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,e?a:tn.min(),e?o:En()))).next((h=>(RI(i,fC(t),h),{documents:h,Qs:o})))))}function RI(n,t,e){let i=n.Os.get(t)||tn.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class cb{constructor(){this.activeTargetIds=vC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CI{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class II{Oo(t){}shutdown(){}}const hb="ConnectivityMonitor";class fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(hb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){de(hb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mp=null;function q0(){return Mp===null?Mp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mp++,"0x"+Mp.toString(16)}const z1="RestConnection",LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Em?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const u=q0(),h=this.zo(t,e.toUriEncodedString());de(z1,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(h),v=$u(d);return this.Jo(t,h,f,i,v).then((A=>(de(z1,`Received RPC '${t}' ${u}: `,A),A)),(A=>{throw qh(z1,`RPC '${t}' ${u} failed with error: `,A,"url: ",h,"request:",i),A}))}Ho(t,e,i,a,o,u){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=LI[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class OI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ps="WebChannelConnection";class DI extends kI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const u=q0();return new Promise(((h,f)=>{const d=new a3;d.setWithCredentials(!0),d.listenOnce(o3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case em.NO_ERROR:const A=d.getResponseJson();de(ps,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),h(A);break;case em.TIMEOUT:de(ps,`RPC '${t}' ${u} timed out`),f(new oe(Yt.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const T=d.getStatus();if(de(ps,`RPC '${t}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const O=b?.error;if(O&&O.status&&O.message){const M=(function(V){const Z=V.toLowerCase().replace(/_/g,"-");return Object.values(Yt).indexOf(Z)>=0?Z:Yt.UNKNOWN})(O.status);f(new oe(M,O.message))}else f(new oe(Yt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new oe(Yt.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{de(ps,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(a);de(ps,`RPC '${t}' ${u} sending request:`,a),d.send(e,"POST",v,i,15)}))}T_(t,e,i){const a=q0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=c3(),h=u3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const v=o.join("");de(ps,`Creating RPC '${t}' stream ${a}: ${v}`,f);const A=u.createWebChannel(v,f);this.I_(A);let T=!1,b=!1;const O=new OI({Yo:B=>{b?de(ps,`Not sending because RPC '${t}' stream ${a} is closed:`,B):(T||(de(ps,`Opening RPC '${t}' stream ${a} transport.`),A.open(),T=!0),de(ps,`RPC '${t}' stream ${a} sending:`,B),A.send(B))},Zo:()=>A.close()}),M=(B,V,Z)=>{B.listen(V,(et=>{try{Z(et)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return M(A,$f.EventType.OPEN,(()=>{b||(de(ps,`RPC '${t}' stream ${a} transport opened.`),O.o_())})),M(A,$f.EventType.CLOSE,(()=>{b||(b=!0,de(ps,`RPC '${t}' stream ${a} transport closed`),O.a_(),this.E_(A))})),M(A,$f.EventType.ERROR,(B=>{b||(b=!0,qh(ps,`RPC '${t}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),O.a_(new oe(Yt.UNAVAILABLE,"The operation could not be completed")))})),M(A,$f.EventType.MESSAGE,(B=>{if(!b){const V=B.data[0];Hn(!!V,16349);const Z=V,et=Z?.error||Z[0]?.error;if(et){de(ps,`RPC '${t}' stream ${a} received error:`,et);const nt=et.status;let _t=(function(P){const I=hr[P];if(I!==void 0)return H3(I)})(nt),Ot=et.message;_t===void 0&&(_t=Yt.INTERNAL,Ot="Unknown error status: "+nt+" with message "+et.message),b=!0,O.a_(new oe(_t,Ot)),A.close()}else de(ps,`RPC '${t}' stream ${a} received:`,V),O.u_(V)}})),M(h,l3.STAT_EVENT,(B=>{B.stat===I0.PROXY?de(ps,`RPC '${t}' stream ${a} detected buffering proxy`):B.stat===I0.NOPROXY&&de(ps,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function q1(){return typeof document<"u"?document:null}function eg(n){return new jC(n,!0)}class rA{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const db="PersistentStream";class sA{constructor(t,e,i,a,o,u,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Yt.RESOURCE_EXHAUSTED?(Kl(e.toString()),Kl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new oe(Yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return de(db,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(de(db,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends sA{constructor(t,e,i,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=FC(this.serializer,t),i=(function(o){if(!("targetChange"in o))return tn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?tn.min():u.readTime?il(u.readTime):tn.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=F0(this.serializer),e.addTarget=(function(o,u){let h;const f=u.target;if(h=P0(f)?{documents:HC(o,f)}:{query:GC(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=K3(o,u.resumeToken);const d=j0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(tn.min())>0){h.readTime=Nm(o,u.snapshotVersion.toTimestamp());const d=j0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=KC(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=F0(this.serializer),e.removeTarget=t,this.q_(e)}}class MI extends sA{constructor(t,e,i,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Hn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Hn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Hn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=qC(t.writeResults,t.commitTime),i=il(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=F0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>zC(this.serializer,i)))};this.q_(e)}}class UI{}class jI extends UI{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new oe(Yt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,V0(e,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(Yt.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,V0(e,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(Yt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kl(e),this.aa=!1):de("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Lc="RemoteStore";class BI{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Vc(this)&&(de(Lc,"Restarting streams for network reachability change."),await(async function(f){const d=sn(f);d.Ea.add(4),await Dd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ng(d)})(this))}))})),this.Ra=new VI(i,a)}}async function ng(n){if(Vc(n))for(const t of n.da)await t(!0)}async function Dd(n){for(const t of n.da)await t(!1)}function aA(n,t){const e=sn(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Y2(e)?G2(e):rf(e).O_()&&H2(e,t))}function q2(n,t){const e=sn(n),i=rf(e);e.Ia.delete(t),i.O_()&&oA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Vc(e)&&e.Ra.set("Unknown"))}function H2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}rf(n).Y_(t)}function oA(n,t){n.Va.Ue(t),rf(n).Z_(t)}function G2(n){n.Va=new DC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),rf(n).start(),n.Ra.ua()}function Y2(n){return Vc(n)&&!rf(n).x_()&&n.Ia.size>0}function Vc(n){return sn(n).Ea.size===0}function lA(n){n.Va=void 0}async function FI(n){n.Ra.set("Online")}async function zI(n){n.Ia.forEach(((t,e)=>{H2(n,t)}))}async function qI(n,t){lA(n),Y2(n)?(n.Ra.ha(t),G2(n)):n.Ra.set("Unknown")}async function HI(n,t,e){if(n.Ra.set("Online"),t instanceof Y3&&t.state===2&&t.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){de(Lc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Cm(n,i)}else if(t instanceof sm?n.Va.Ze(t):t instanceof G3?n.Va.st(t):n.Va.tt(t),!e.isEqual(tn.min()))try{const i=await iA(n.localStore);e.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ss.EMPTY_BYTE_STRING,v.snapshotVersion)),oA(o,f);const A=new Du(v.target,f,d,v.sequenceNumber);H2(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){de(Lc,"Failed to raise snapshot:",i),await Cm(n,i)}}async function Cm(n,t,e){if(!ef(t))throw t;n.Ea.add(1),await Dd(n),n.Ra.set("Offline"),e||(e=()=>iA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Lc,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ng(n)}))}function uA(n,t){return t().catch((e=>Cm(n,e,t)))}async function ig(n){const t=sn(n),e=Yu(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:C2;for(;GI(t);)try{const a=await xI(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,YI(t,a)}catch(a){await Cm(t,a)}cA(t)&&hA(t)}function GI(n){return Vc(n)&&n.Ta.length<10}function YI(n,t){n.Ta.push(t);const e=Yu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function cA(n){return Vc(n)&&!Yu(n).x_()&&n.Ta.length>0}function hA(n){Yu(n).start()}async function KI(n){Yu(n).ra()}async function WI(n){const t=Yu(n);for(const e of n.Ta)t.ea(e.mutations)}async function $I(n,t,e){const i=n.Ta.shift(),a=M2.from(i,t,e);await uA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await ig(n)}async function QI(n,t){t&&Yu(n).X_&&await(async function(i,a){if((function(u){return LC(u)&&u!==Yt.ABORTED})(a.code)){const o=i.Ta.shift();Yu(i).B_(),await uA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await ig(i)}})(n,t),cA(n)&&hA(n)}async function pb(n,t){const e=sn(n);e.asyncQueue.verifyOperationInProgress(),de(Lc,"RemoteStore received new credentials");const i=Vc(e);e.Ea.add(3),await Dd(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ng(e)}async function XI(n,t){const e=sn(n);t?(e.Ea.delete(2),await ng(e)):t||(e.Ea.add(2),await Dd(e),e.Ra.set("Unknown"))}function rf(n){return n.ma||(n.ma=(function(e,i,a){const o=sn(e);return o.sa(),new PI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:FI.bind(null,n),t_:zI.bind(null,n),r_:qI.bind(null,n),H_:HI.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Y2(n)?G2(n):n.Ra.set("Unknown")):(await n.ma.stop(),lA(n))}))),n.ma}function Yu(n){return n.fa||(n.fa=(function(e,i,a){const o=sn(e);return o.sa(),new MI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KI.bind(null,n),r_:QI.bind(null,n),ta:WI.bind(null,n),na:$I.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await ig(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class K2{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const u=Date.now()+i,h=new K2(t,e,u,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W2(n,t){if(Kl("AsyncQueue",`${t}: ${n}`),ef(n))return new oe(Yt.UNAVAILABLE,`${t}: ${n}`);throw n}class Mh{static emptySet(t){return new Mh(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Me.comparator(e.key,i.key):(e,i)=>Me.comparator(e.key,i.key),this.keyedMap=Qf(),this.sortedSet=new Oi(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Mh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Mh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class mb{constructor(){this.ga=new Oi(Me.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):He(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Wh{constructor(t,e,i,a,o,u,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,a,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Wh(t,e,Mh.emptySet(e),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class JI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ZI{constructor(){this.queries=gb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=sn(e),o=a.queries;a.queries=gb(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new oe(Yt.ABORTED,"Firestore shutting down"))}}function gb(){return new jc((n=>k3(n)),Qm)}async function $2(n,t){const e=sn(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new JI,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=W2(u,`Initialization of query '${xh(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&X2(e)}async function Q2(n,t){const e=sn(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function tL(n,t){const e=sn(n);let i=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&X2(e)}function eL(n,t,e){const i=sn(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function X2(n){n.Ca.forEach((t=>{t.next()}))}var H0,yb;(yb=H0||(H0={})).Ma="default",yb.Cache="cache";class J2{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Wh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Wh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==H0.Cache}}class fA{constructor(t){this.key=t}}class dA{constructor(t){this.key=t}}class nL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=En(),this.mutatedKeys=En(),this.eu=O3(t),this.tu=new Mh(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new mb,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((v,A)=>{const T=a.get(v),b=Xm(this.query,A)?A:null,O=!!T&&this.mutatedKeys.has(T.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;T&&b?T.data.isEqual(b.data)?O!==M&&(i.track({type:3,doc:b}),B=!0):this.su(T,b)||(i.track({type:2,doc:b}),B=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(h=!0)):!T&&b?(i.track({type:0,doc:b}),B=!0):T&&!b&&(i.track({type:1,doc:T}),B=!0,(f||d)&&(h=!0)),B&&(b?(u=u.add(b),o=M?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((v,A)=>(function(b,O){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:B})}};return M(b)-M(O)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Wh(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=En(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new dA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new fA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=En();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Wh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Z2="SyncEngine";class iL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class rL{constructor(t){this.key=t,this.hu=!1}}class sL{constructor(t,e,i,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new jc((h=>k3(h)),Qm),this.Iu=new Map,this.Eu=new Set,this.du=new Oi(Me.comparator),this.Au=new Map,this.Ru=new V2,this.Vu={},this.mu=new Map,this.fu=Kh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aL(n,t,e=!0){const i=_A(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await pA(i,t,e,!0),a}async function oL(n,t){const e=_A(n);await pA(e,t,!0,!1)}async function pA(n,t,e,i){const a=await NI(n.localStore,nl(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await lL(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&aA(n.remoteStore,a),h}async function lL(n,t,e,i,a){n.pu=(A,T,b)=>(async function(M,B,V,Z){let et=B.view.ru(V);et.Cs&&(et=await ub(M.localStore,B.query,!1).then((({documents:H})=>B.view.ru(H,et))));const nt=Z&&Z.targetChanges.get(B.targetId),_t=Z&&Z.targetMismatches.get(B.targetId)!=null,Ot=B.view.applyChanges(et,M.isPrimaryClient,nt,_t);return _b(M,B.targetId,Ot.au),Ot.snapshot})(n,A,T,b);const o=await ub(n.localStore,t,!0),u=new nL(t,o.Qs),h=u.ru(o.documents),f=Od.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),d=u.applyChanges(h,n.isPrimaryClient,f);_b(n,e,d.au);const v=new iL(t,e,u);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function uL(n,t,e){const i=sn(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!Qm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await z0(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&q2(i.remoteStore,a.targetId),G0(i,a.targetId)})).catch(tf)):(G0(i,a.targetId),await z0(i.localStore,a.targetId,!0))}async function cL(n,t){const e=sn(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),q2(e.remoteStore,i.targetId))}async function hL(n,t,e){const i=vL(n);try{const a=await(function(u,h){const f=sn(u),d=gi.now(),v=h.reduce(((b,O)=>b.add(O.key)),En());let A,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let O=Wl(),M=En();return f.Ns.getEntries(b,v).next((B=>{O=B,O.forEach(((V,Z)=>{Z.isValidDocument()||(M=M.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,O))).next((B=>{A=B;const V=[];for(const Z of h){const et=xC(Z,A.get(Z.key).overlayedDocument);et!=null&&V.push(new Zu(Z.key,et,S3(et.value.mapValue),Ga.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,V,h)})).next((B=>{T=B;const V=B.applyToLocalDocumentSet(A,M);return f.documentOverlayCache.saveOverlays(b,B.batchId,V)}))})).then((()=>({batchId:T.batchId,changes:P3(A)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Oi(An)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(i,a.batchId,e),await Pd(i,a.changes),await ig(i.remoteStore)}catch(a){const o=W2(a,"Failed to persist write");e.reject(o)}}async function mA(n,t){const e=sn(n);try{const i=await SI(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const u=e.Au.get(o);u&&(Hn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Hn(u.hu,14607):a.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Pd(e,i,t)}catch(i){await tf(i)}}function vb(n,t,e){const i=sn(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=sn(u);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const T of A.Sa)T.va(h)&&(d=!0)})),d&&X2(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function fL(n,t,e){const i=sn(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let u=new Oi(Me.comparator);u=u.insert(o,bs.newNoDocument(o,tn.min()));const h=En().add(o),f=new tg(tn.min(),new Map,new Oi(An),u,h);await mA(i,f),i.du=i.du.remove(o),i.Au.delete(t),ty(i)}else await z0(i.localStore,t,!1).then((()=>G0(i,t,e))).catch(tf)}async function dL(n,t){const e=sn(n),i=t.batch.batchId;try{const a=await EI(e.localStore,t);yA(e,i,null),gA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Pd(e,a)}catch(a){await tf(a)}}async function pL(n,t,e){const i=sn(n);try{const a=await(function(u,h){const f=sn(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Hn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(i.localStore,t);yA(i,t,e),gA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Pd(i,a)}catch(a){await tf(a)}}function gA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function yA(n,t,e){const i=sn(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function G0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||vA(n,i)}))}function vA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(q2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),ty(n))}function _b(n,t,e){for(const i of e)i instanceof fA?(n.Ru.addReference(i.key,t),mL(n,i)):i instanceof dA?(de(Z2,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||vA(n,i.key)):He(19791,{wu:i})}function mL(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(de(Z2,"New document in limbo: "+e),n.Eu.add(i),ty(n))}function ty(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Me(ci.fromString(t)),i=n.fu.next();n.Au.set(i,new rL(e)),n.du=n.du.insert(e,i),aA(n.remoteStore,new Du(nl($m(e.path)),i,"TargetPurposeLimboResolution",Ym.ce))}}async function Pd(n,t,e){const i=sn(n),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{u.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const v=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){a.push(d);const v=F2.As(f.targetId,d);o.push(v)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(f,d){const v=sn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Qt.forEach(d,(T=>Qt.forEach(T.Es,(b=>v.persistence.referenceDelegate.addReference(A,T.targetId,b))).next((()=>Qt.forEach(T.ds,(b=>v.persistence.referenceDelegate.removeReference(A,T.targetId,b)))))))))}catch(A){if(!ef(A))throw A;de(z2,"Failed to update sequence numbers: "+A)}for(const A of d){const T=A.targetId;if(!A.fromCache){const b=v.Ms.get(T),O=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(T,M)}}})(i.localStore,o))}async function gL(n,t){const e=sn(n);if(!e.currentUser.isEqual(t)){de(Z2,"User change. New user:",t.toKey());const i=await nA(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new oe(Yt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Pd(e,i.Ls)}}function yL(n,t){const e=sn(n),i=e.Au.get(t);if(i&&i.hu)return En().add(i.key);{let a=En();const o=e.Iu.get(t);if(!o)return a;for(const u of o){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function _A(n){const t=sn(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fL.bind(null,t),t.Pu.H_=tL.bind(null,t.eventManager),t.Pu.yu=eL.bind(null,t.eventManager),t}function vL(n){const t=sn(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pL.bind(null,t),t}class Im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=eg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return AI(this.persistence,new _I,t.initialUser,this.serializer)}Cu(t){return new eA(B2.mi,this.serializer)}Du(t){return new CI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Im.provider={build:()=>new Im};class _L extends Im{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Hn(this.persistence.referenceDelegate instanceof Rm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rI(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new eA((i=>Rm.mi(i,e)),this.serializer)}}class Y0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gL.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZI})()}createDatastore(t){const e=eg(t.databaseInfo.databaseId),i=(function(o){return new DI(o)})(t.databaseInfo);return(function(o,u,h,f){return new jI(o,u,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,u,h){return new BI(i,a,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>vb(this.syncEngine,e,0)),(function(){return fb.v()?new fb:new II})())}createSyncEngine(t,e){return(function(a,o,u,h,f,d,v){const A=new sL(a,o,u,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=sn(e);de(Lc,"RemoteStore shutting down."),i.Ea.add(5),await Dd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Y0.provider={build:()=>new Y0};class ey{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Kl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Ku="FirestoreClient";class bL{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=_s.UNAUTHENTICATED,this.clientId=R2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{de(Ku,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(de(Ku,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=W2(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function H1(n,t){n.asyncQueue.verifyOperationInProgress(),de(Ku,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await nA(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function bb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await wL(n);de(Ku,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>pb(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>pb(t.remoteStore,a))),n._onlineComponents=t}async function wL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ku,"Using user provided OfflineComponentProvider");try{await H1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Yt.FAILED_PRECONDITION||a.code===Yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;qh("Error using user provided cache. Falling back to memory cache: "+e),await H1(n,new Im)}}else de(Ku,"Using default OfflineComponentProvider"),await H1(n,new _L(void 0));return n._offlineComponents}async function bA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ku,"Using user provided OnlineComponentProvider"),await bb(n,n._uninitializedComponentsProvider._online)):(de(Ku,"Using default OnlineComponentProvider"),await bb(n,new Y0))),n._onlineComponents}function AL(n){return bA(n).then((t=>t.syncEngine))}async function Lm(n){const t=await bA(n),e=t.eventManager;return e.onListen=aL.bind(null,t.syncEngine),e.onUnlisten=uL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=oL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=cL.bind(null,t.syncEngine),e}function EL(n,t,e={}){const i=new ql;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new ey({next:T=>{v.Nu(),u.enqueueAndForget((()=>Q2(o,A)));const b=T.docs.has(h);!b&&T.fromCache?d.reject(new oe(Yt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&f&&f.source==="server"?d.reject(new oe(Yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),A=new J2($m(h.path),v,{includeMetadataChanges:!0,qa:!0});return $2(o,A)})(await Lm(n),n.asyncQueue,t,e,i))),i.promise}function SL(n,t,e={}){const i=new ql;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new ey({next:T=>{v.Nu(),u.enqueueAndForget((()=>Q2(o,A))),T.fromCache&&f.source==="server"?d.reject(new oe(Yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),A=new J2(h,v,{includeMetadataChanges:!0,qa:!0});return $2(o,A)})(await Lm(n),n.asyncQueue,t,e,i))),i.promise}function wA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const wb=new Map;const AA="firestore.googleapis.com",Ab=!0;class Eb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new oe(Yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=Ab}else this.host=t.host,this.ssl=t.ssl??Ab;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nI)throw new oe(Yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(Yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rg{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new oe(Yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new C8;switch(i.type){case"firstParty":return new O8(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(Yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=wb.get(e);i&&(de("ComponentProvider","Removing Datastore"),wb.delete(e),i.terminate())})(this),Promise.resolve()}}function TL(n,t,e,i={}){n=ia(n,rg);const a=$u(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(p2(`https://${h}`),m2("Firestore",!0)),o.host!==AA&&o.host!==h&&qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!xc(f,u)&&(n._setSettings(f),i.mockUserToken)){let d,v;if(typeof i.mockUserToken=="string")d=i.mockUserToken,v=_s.MOCK_USER;else{d=_4(i.mockUserToken,n._app?.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new oe(Yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new _s(A)}n._authCredentials=new I8(new f3(d,v))}}class tc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new tc(this.firestore,t,this._query)}}class Hi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hi(this.firestore,t,this._key)}toJSON(){return{type:Hi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Ld(e,Hi._jsonSchema))return new Hi(t,i||null,new Me(ci.fromString(e.referencePath)))}}Hi._jsonSchemaVersion="firestore/documentReference/1.0",Hi._jsonSchema={type:dr("string",Hi._jsonSchemaVersion),referencePath:dr("string")};class Vu extends tc{constructor(t,e,i){super(t,e,$m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hi(this.firestore,null,new Me(t))}withConverter(t){return new Vu(this.firestore,t,this._path)}}function vo(n,t,...e){if(n=nr(n),d3("collection","path",t),n instanceof rg){const i=ci.fromString(t,...e);return M_(i),new Vu(n,null,i)}{if(!(n instanceof Hi||n instanceof Vu))throw new oe(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return M_(i),new Vu(n.firestore,null,i)}}function ea(n,t,...e){if(n=nr(n),arguments.length===1&&(t=R2.newId()),d3("doc","path",t),n instanceof rg){const i=ci.fromString(t,...e);return P_(i),new Hi(n,null,new Me(i))}{if(!(n instanceof Hi||n instanceof Vu))throw new oe(Yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ci.fromString(t,...e));return P_(i),new Hi(n.firestore,n instanceof Vu?n.converter:null,new Me(i))}}const Sb="AsyncQueue";class Tb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rA(this,"async_queue_retry"),this._c=()=>{const i=q1();i&&de(Sb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=q1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=q1();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ql;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ef(t))throw t;de(Sb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Kl("INTERNAL UNHANDLED ERROR: ",xb(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=K2.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&He(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function Nb(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class $l extends rg{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Tb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tb(t),this._firestoreClient=void 0,await t}}}function xL(n,t){const e=typeof n=="object"?n:v2(),i=typeof n=="string"?n:Em,a=Fm(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=g4("firestore");o&&TL(a,...o)}return a}function sg(n){if(n._terminated)throw new oe(Yt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NL(n),n._firestoreClient}function NL(n){const t=n._freezeSettings(),e=(function(a,o,u,h){return new Q8(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new bL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(ss.fromBase64String(t))}catch(e){throw new oe(Yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ha(ss.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ha._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ld(t,Ha._jsonSchema))return Ha.fromBase64String(t.bytes)}}Ha._jsonSchemaVersion="firestore/bytes/1.0",Ha._jsonSchema={type:dr("string",Ha._jsonSchemaVersion),bytes:dr("string")};class ag{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new oe(Yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class og{constructor(t){this._methodName=t}}class rl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new oe(Yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new oe(Yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return An(this._lat,t._lat)||An(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rl._jsonSchemaVersion}}static fromJSON(t){if(Ld(t,rl._jsonSchema))return new rl(t.latitude,t.longitude)}}rl._jsonSchemaVersion="firestore/geoPoint/1.0",rl._jsonSchema={type:dr("string",rl._jsonSchemaVersion),latitude:dr("number"),longitude:dr("number")};class sl{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:sl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ld(t,sl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new sl(t.vectorValues);throw new oe(Yt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sl._jsonSchemaVersion="firestore/vectorValue/1.0",sl._jsonSchema={type:dr("string",sl._jsonSchemaVersion),vectorValues:dr("object")};const RL=/^__.*__$/;class CL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Zu(t,this.data,this.fieldMask,e,this.fieldTransforms):new kd(t,this.data,e,this.fieldTransforms)}}class EA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Zu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:n})}}class ny{constructor(t,e,i,a,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ny({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return km(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(SA(this.Ac)&&RL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||eg(t)}Cc(t,e,i,a=!1){return new ny({Ac:t,methodName:e,Dc:i,path:rs.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(n){const t=n._freezeSettings(),e=eg(n._databaseId);return new IL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function TA(n,t,e,i,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);ry("Data must be an object, but it was:",u,i);const h=xA(i,u);let f,d;if(o.merge)f=new Aa(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const T=K0(t,A,e);if(!u.contains(T))throw new oe(Yt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);RA(v,T)||v.push(T)}f=new Aa(v),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new CL(new na(h),f,d)}class ug extends og{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ug}}class iy extends og{_toFieldTransform(t){return new AC(t.path,new yd)}isEqual(t){return t instanceof iy}}function LL(n,t,e,i){const a=n.Cc(1,t,e);ry("Data must be an object, but it was:",a,i);const o=[],u=na.empty();Ju(i,((f,d)=>{const v=sy(t,f,e);d=nr(d);const A=a.yc(v);if(d instanceof ug)o.push(v);else{const T=Md(d,A);T!=null&&(o.push(v),u.set(v,T))}}));const h=new Aa(o);return new EA(u,h,a.fieldTransforms)}function kL(n,t,e,i,a,o){const u=n.Cc(1,t,e),h=[K0(t,i,e)],f=[a];if(o.length%2!=0)throw new oe(Yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(K0(t,o[T])),f.push(o[T+1]);const d=[],v=na.empty();for(let T=h.length-1;T>=0;--T)if(!RA(d,h[T])){const b=h[T];let O=f[T];O=nr(O);const M=u.yc(b);if(O instanceof ug)d.push(b);else{const B=Md(O,M);B!=null&&(d.push(b),v.set(b,B))}}const A=new Aa(d);return new EA(v,A,u.fieldTransforms)}function OL(n,t,e,i=!1){return Md(e,n.Cc(i?4:3,t))}function Md(n,t){if(NA(n=nr(n)))return ry("Unsupported field value:",t,n),xA(n,t);if(n instanceof og)return(function(i,a){if(!SA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let f=Md(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=nr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _C(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=gi.fromDate(i);return{timestampValue:Nm(a.serializer,o)}}if(i instanceof gi){const o=new gi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nm(a.serializer,o)}}if(i instanceof rl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ha)return{bytesValue:K3(a.serializer,i._byteString)};if(i instanceof Hi){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j2(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof sl)return(function(u,h){return{mapValue:{fields:{[A3]:{stringValue:E3},[Sm]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return D2(h.serializer,d)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Gm(i)}`)})(n,t)}function xA(n,t){const e={};return g3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ju(n,((i,a)=>{const o=Md(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function NA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gi||n instanceof rl||n instanceof Ha||n instanceof Hi||n instanceof og||n instanceof sl)}function ry(n,t,e){if(!NA(e)||!p3(e)){const i=Gm(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function K0(n,t,e){if((t=nr(t))instanceof ag)return t._internalPath;if(typeof t=="string")return sy(n,t);throw km("Field path arguments must be of type string or ",n,!1,void 0,e)}const DL=new RegExp("[~\\*/\\[\\]]");function sy(n,t,e){if(t.search(DL)>=0)throw km(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ag(...t.split("."))._internalPath}catch{throw km(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function km(n,t,e,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new oe(Yt.INVALID_ARGUMENT,h+n+f)}function RA(n,t){return n.some((e=>e.isEqual(t)))}class CA{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ay("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class PL extends CA{data(){return super.data()}}function ay(n,t){return typeof t=="string"?sy(n,t):t instanceof ag?t._internalPath:t._delegate._internalPath}function IA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(Yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class LA extends oy{}function Uh(n,t,...e){let i=[];t instanceof oy&&i.push(t),i=i.concat(e),(function(o){const u=o.filter((f=>f instanceof uy)).length,h=o.filter((f=>f instanceof ly)).length;if(u>1||u>0&&h>0)throw new oe(Yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class ly extends LA{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ly(t,e,i)}_apply(t){const e=this._parse(t);return kA(t._query,e),new tc(t.firestore,t.converter,M0(t._query,e))}_parse(t){const e=lg(t.firestore);return(function(o,u,h,f,d,v,A){let T;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(Yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Cb(A,v);const O=[];for(const M of A)O.push(Rb(f,o,M));T={arrayValue:{values:O}}}else T=Rb(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Cb(A,v),T=OL(h,u,A,v==="in"||v==="not-in");return fr.create(d,v,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class uy extends oy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new uy(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:wo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)kA(u,f),u=M0(u,f)})(t._query,e),new tc(t.firestore,t.converter,M0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends LA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new cy(t,e)}_apply(t){const e=(function(a,o,u){if(a.startAt!==null)throw new oe(Yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new oe(Yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gd(o,u)})(t._query,this._field,this._direction);return new tc(t.firestore,t.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new nf(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function jh(n,t="asc"){const e=t,i=ay("orderBy",n);return cy._create(i,e)}function Rb(n,t,e){if(typeof(e=nr(e))=="string"){if(e==="")throw new oe(Yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L3(t)&&e.indexOf("/")!==-1)throw new oe(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ci.fromString(e));if(!Me.isDocumentKey(i))throw new oe(Yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return H_(n,new Me(i))}if(e instanceof Hi)return H_(n,e._key);throw new oe(Yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gm(e)}.`)}function Cb(n,t){if(!Array.isArray(n)||n.length===0)throw new oe(Yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kA(n,t){const e=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new oe(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new oe(Yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ML{convertValue(t,e="none"){switch(Gu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw He(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ju(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Sm].arrayValue?.values?.map((i=>Ji(i.doubleValue)));return new sl(e)}convertGeoPoint(t){return new rl(Ji(t.latitude),Ji(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Wm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(dd(t));default:return null}}convertTimestamp(t){const e=qu(t);return new gi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ci.fromString(t);Hn(Z3(i),9688,{name:t});const a=new pd(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return a.isEqual(e)||Kl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function OA(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Jf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ac extends CA{constructor(t,e,i,a,o,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ay("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Yt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ac._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ac._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ac._jsonSchema={type:dr("string",Ac._jsonSchemaVersion),bundleSource:dr("string","DocumentSnapshot"),bundleName:dr("string"),bundle:dr("string")};class am extends Ac{data(t={}){return super.data(t)}}class Ec{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Jf(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new am(this._firestore,this._userDataWriter,i.key,i,new Jf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new oe(Yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new am(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new am(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,v=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:UL(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Yt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ec._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=R2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:n})}}function bd(n){n=ia(n,Hi);const t=ia(n.firestore,$l);return EL(sg(t),n._key).then((e=>PA(t,n,e)))}Ec._jsonSchemaVersion="firestore/querySnapshot/1.0",Ec._jsonSchema={type:dr("string",Ec._jsonSchemaVersion),bundleSource:dr("string","QuerySnapshot"),bundleName:dr("string"),bundle:dr("string")};class hy extends ML{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,e)}}function jL(n){n=ia(n,tc);const t=ia(n.firestore,$l),e=sg(t),i=new hy(t);return IA(n._query),SL(e,n._query).then((a=>new Ec(t,i,n,a)))}function DA(n,t,e){n=ia(n,Hi);const i=ia(n.firestore,$l),a=OA(n.converter,t);return cg(i,[TA(lg(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Ga.none())])}function G1(n,t,e,...i){n=ia(n,Hi);const a=ia(n.firestore,$l),o=lg(a);let u;return u=typeof(t=nr(t))=="string"||t instanceof ag?kL(o,"updateDoc",n._key,t,e,i):LL(o,"updateDoc",n._key,t),cg(a,[u.toMutation(n._key,Ga.exists(!0))])}function Y1(n){return cg(ia(n.firestore,$l),[new P2(n._key,Ga.none())])}function K1(n,t){const e=ia(n.firestore,$l),i=ea(n),a=OA(n.converter,t);return cg(e,[TA(lg(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Ga.exists(!1))]).then((()=>i))}function Bu(n,...t){n=nr(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Nb(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Nb(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof Hi)u=ia(n.firestore,$l),h=$m(n._key.path),o={next:f=>{t[i]&&t[i](PA(u,n,f))},error:t[i+1],complete:t[i+2]};else{const f=ia(n,tc);u=ia(f.firestore,$l),h=f._query;const d=new hy(u);o={next:v=>{t[i]&&t[i](new Ec(u,d,f,v))},error:t[i+1],complete:t[i+2]},IA(n._query)}return(function(d,v,A,T){const b=new ey(T),O=new J2(v,b,A);return d.asyncQueue.enqueueAndForget((async()=>$2(await Lm(d),O))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>Q2(await Lm(d),O)))}})(sg(u),h,a,o)}function cg(n,t){return(function(i,a){const o=new ql;return i.asyncQueue.enqueueAndForget((async()=>hL(await AL(i),a,o))),o.promise})(sg(n),t)}function PA(n,t,e){const i=e.docs.get(t._key),a=new hy(n);return new Ac(n,a,t._key,i,new Jf(e.hasPendingWrites,e.fromCache),t.converter)}function W1(){return new iy("serverTimestamp")}(function(t,e=!0){(function(a){Zh=a})(Mc),Nc(new Fu("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new $l(new L8(i.getProvider("auth-internal")),new D8(u,i.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe(Yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pd(d.options.projectId,v)})(u,a),u);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Zo(L_,k_,t),Zo(L_,k_,"esm2020")})();const MA="firebasestorage.googleapis.com",UA="storageBucket",VL=120*1e3,BL=600*1e3;class Yi extends ol{constructor(t,e,i=0){super($1(t),`Firebase Storage: ${e} (${$1(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function $1(n){return"storage/"+n}function fy(){const n="An unknown error occurred, please check the error payload for server response.";return new Yi(Gi.UNKNOWN,n)}function FL(n){return new Yi(Gi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function zL(n){return new Yi(Gi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Yi(Gi.UNAUTHENTICATED,n)}function HL(){return new Yi(Gi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GL(n){return new Yi(Gi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function YL(){return new Yi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KL(){return new Yi(Gi.CANCELED,"User canceled the upload/download.")}function WL(n){return new Yi(Gi.INVALID_URL,"Invalid URL '"+n+"'.")}function $L(n){return new Yi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function QL(){return new Yi(Gi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UA+"' property when initializing the app?")}function XL(){return new Yi(Gi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JL(){return new Yi(Gi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZL(n){return new Yi(Gi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function W0(n){return new Yi(Gi.INVALID_ARGUMENT,n)}function jA(){return new Yi(Gi.APP_DELETED,"The Firebase app was deleted.")}function t7(n){return new Yi(Gi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sd(n,t){return new Yi(Gi.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Hf(n){throw new Yi(Gi.INTERNAL_ERROR,"Internal error: "+n)}class Ea{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Ea.makeFromUrl(t,e)}catch{return new Ea(t,"")}if(i.path==="")return i;throw $L(t)}static makeFromUrl(t,e){let i=null;const a="([A-Za-z0-9.\\-_]+)";function o(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function d(nt){nt.path_=decodeURIComponent(nt.path)}const v="v[A-Za-z0-9_]+",A=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",b=new RegExp(`^https?://${A}/${v}/b/${a}/o${T}`,"i"),O={bucket:1,path:3},M=e===MA?"(?:storage.googleapis.com|storage.cloud.google.com)":e,B="([^?#]*)",V=new RegExp(`^https?://${M}/${a}/${B}`,"i"),et=[{regex:h,indices:f,postModify:o},{regex:b,indices:O,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let nt=0;nt<et.length;nt++){const _t=et[nt],Ot=_t.regex.exec(t);if(Ot){const H=Ot[_t.indices.bucket];let P=Ot[_t.indices.path];P||(P=""),i=new Ea(H,P),_t.postModify(i);break}}if(i==null)throw WL(t);return i}}class e7{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function n7(n,t,e){let i=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function v(...B){d||(d=!0,t.apply(null,B))}function A(B){a=setTimeout(()=>{a=null,n(b,f())},B)}function T(){o&&clearTimeout(o)}function b(B,...V){if(d){T();return}if(B){T(),v.call(null,B,...V);return}if(f()||u){T(),v.call(null,B,...V);return}i<64&&(i*=2);let et;h===1?(h=2,et=0):et=(i+Math.random())*1e3,A(et)}let O=!1;function M(B){O||(O=!0,T(),!d&&(a!==null?(B||(h=2),clearTimeout(a),A(0)):B||(h=1)))}return A(0),o=setTimeout(()=>{u=!0,M(!0)},e),M}function i7(n){n(!1)}function r7(n){return n!==void 0}function s7(n){return typeof n=="object"&&!Array.isArray(n)}function dy(n){return typeof n=="string"||n instanceof String}function Ib(n){return py()&&n instanceof Blob}function py(){return typeof Blob<"u"}function Lb(n,t,e,i){if(i<t)throw W0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw W0(`Invalid value for '${n}'. Expected ${e} or less.`)}function my(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function VA(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const a=t(i)+"="+t(n[i]);e=e+a+"&"}return e=e.slice(0,-1),e}var Sc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sc||(Sc={}));function a7(n,t){const e=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||a||o}class o7{constructor(t,e,i,a,o,u,h,f,d,v,A,T=!0,b=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,M)=>{this.resolve_=O,this.reject_=M,this.start_()})}start_(){const t=(i,a)=>{if(a){i(!1,new Up(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Sc.NO_ERROR,f=o.getStatus();if(!h||a7(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Sc.ABORT;i(!1,new Up(!1,null,v));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new Up(d,o))})},e=(i,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());r7(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=fy();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?jA():KL();u(f)}else{const f=YL();u(f)}};this.canceled_?e(!1,new Up(!1,null,!0)):this.backoffId_=n7(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&i7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Up{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function l7(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function u7(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function c7(n,t){t&&(n["X-Firebase-GMPID"]=t)}function h7(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function f7(n,t,e,i,a,o,u=!0,h=!1){const f=VA(n.urlParams),d=n.url+f,v=Object.assign({},n.headers);return c7(v,t),l7(v,e),u7(v,o),h7(v,i),new o7(d,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}function d7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function p7(...n){const t=d7();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(py())return new Blob(n);throw new Yi(Gi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m7(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function g7(n){if(typeof atob>"u")throw ZL("base-64");return atob(n)}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Q1{constructor(t,e){this.data=t,this.contentType=e||null}}function y7(n,t){switch(n){case Xo.RAW:return new Q1(BA(t));case Xo.BASE64:case Xo.BASE64URL:return new Q1(FA(n,t));case Xo.DATA_URL:return new Q1(_7(t),b7(t))}throw fy()}function BA(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=i,u=n.charCodeAt(++e);i=65536|(o&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function v7(n){let t;try{t=decodeURIComponent(n)}catch{throw sd(Xo.DATA_URL,"Malformed data URL.")}return BA(t)}function FA(n,t){switch(n){case Xo.BASE64:{const a=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(a||o)throw sd(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const a=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(a||o)throw sd(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=g7(t)}catch(a){throw a.message.includes("polyfill")?a:sd(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}class zA{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw sd(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=w7(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function _7(n){const t=new zA(n);return t.base64?FA(Xo.BASE64,t.rest):v7(t.rest)}function b7(n){return new zA(n).contentType}function w7(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class Ou{constructor(t,e){let i=0,a="";Ib(t)?(this.data_=t,i=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(Ib(this.data_)){const i=this.data_,a=m7(i,t,e);return a===null?null:new Ou(a)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Ou(i,!0)}}static getBlob(...t){if(py()){const e=t.map(i=>i instanceof Ou?i.data_:i);return new Ou(p7.apply(null,e))}else{const e=t.map(u=>dy(u)?y7(Xo.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const a=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)a[o++]=u[h]}),new Ou(a,!0)}}uploadData(){return this.data_}}function qA(n){let t;try{t=JSON.parse(n)}catch{return null}return s7(t)?t:null}function A7(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function E7(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function HA(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function S7(n,t){return t}class ks{constructor(t,e,i,a){this.server=t,this.local=e||t,this.writable=!!i,this.xform=a||S7}}let jp=null;function T7(n){return!dy(n)||n.length<2?n:HA(n)}function GA(){if(jp)return jp;const n=[];n.push(new ks("bucket")),n.push(new ks("generation")),n.push(new ks("metageneration")),n.push(new ks("name","fullPath",!0));function t(o,u){return T7(u)}const e=new ks("name");e.xform=t,n.push(e);function i(o,u){return u!==void 0?Number(u):u}const a=new ks("size");return a.xform=i,n.push(a),n.push(new ks("timeCreated")),n.push(new ks("updated")),n.push(new ks("md5Hash",null,!0)),n.push(new ks("cacheControl",null,!0)),n.push(new ks("contentDisposition",null,!0)),n.push(new ks("contentEncoding",null,!0)),n.push(new ks("contentLanguage",null,!0)),n.push(new ks("contentType",null,!0)),n.push(new ks("metadata","customMetadata",!0)),jp=n,jp}function x7(n,t){function e(){const i=n.bucket,a=n.fullPath,o=new Ea(i,a);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function N7(n,t,e){const i={};i.type="file";const a=e.length;for(let o=0;o<a;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return x7(i,n),i}function YA(n,t,e){const i=qA(t);return i===null?null:N7(n,i,e)}function R7(n,t,e,i){const a=qA(t);if(a===null||!dy(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(d=>{const v=n.bucket,A=n.fullPath,T="/b/"+u(v)+"/o/"+u(A),b=my(T,e,i),O=VA({alt:"media",token:d});return b+O})[0]}function C7(n,t){const e={},i=t.length;for(let a=0;a<i;a++){const o=t[a];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class KA{constructor(t,e,i,a){this.url=t,this.method=e,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function WA(n){if(!n)throw fy()}function I7(n,t){function e(i,a){const o=YA(n,a,t);return WA(o!==null),o}return e}function L7(n,t){function e(i,a){const o=YA(n,a,t);return WA(o!==null),R7(o,a,n.host,n._protocol)}return e}function $A(n){function t(e,i){let a;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?a=HL():a=qL():e.getStatus()===402?a=zL(n.bucket):e.getStatus()===403?a=GL(n.path):a=i,a.status=e.getStatus(),a.serverResponse=i.serverResponse,a}return t}function k7(n){const t=$A(n);function e(i,a){let o=t(i,a);return i.getStatus()===404&&(o=FL(n.path)),o.serverResponse=a.serverResponse,o}return e}function O7(n,t,e){const i=t.fullServerUrl(),a=my(i,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new KA(a,o,L7(n,e),u);return h.errorHandler=k7(t),h}function D7(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function P7(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=D7(null,t)),i}function M7(n,t,e,i,a){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let et="";for(let nt=0;nt<2;nt++)et=et+Math.random().toString().slice(2);return et}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=P7(t,i,a),v=C7(d,e),A="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,T=`\r
--`+f+"--",b=Ou.getBlob(A,i,T);if(b===null)throw XL();const O={name:d.fullPath},M=my(o,n.host,n._protocol),B="POST",V=n.maxUploadRetryTime,Z=new KA(M,B,I7(n,e),V);return Z.urlParams=O,Z.headers=u,Z.body=b.uploadData(),Z.errorHandler=$A(t),Z}class U7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sc.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sc.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sc.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,a,o){if(this.sent_)throw Hf("cannot .send() more than once");if($u(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class j7 extends U7{initXhr(){this.xhr_.responseType="text"}}function QA(){return new j7}class kc{constructor(t,e){this._service=t,e instanceof Ea?this._location=e:this._location=Ea.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new kc(t,e)}get root(){const t=new Ea(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HA(this._location.path)}get storage(){return this._service}get parent(){const t=A7(this._location.path);if(t===null)return null;const e=new Ea(this._location.bucket,t);return new kc(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw t7(t)}}function V7(n,t,e){n._throwIfRoot("uploadBytes");const i=M7(n.storage,n._location,GA(),new Ou(t,!0),e);return n.storage.makeRequestWithTokens(i,QA).then(a=>({metadata:a,ref:n}))}function B7(n){n._throwIfRoot("getDownloadURL");const t=O7(n.storage,n._location,GA());return n.storage.makeRequestWithTokens(t,QA).then(e=>{if(e===null)throw JL();return e})}function F7(n,t){const e=E7(n._location.path,t),i=new Ea(n._location.bucket,e);return new kc(n.storage,i)}function z7(n){return/^[A-Za-z]+:\/\//.test(n)}function q7(n,t){return new kc(n,t)}function XA(n,t){if(n instanceof gy){const e=n;if(e._bucket==null)throw QL();const i=new kc(e,e._bucket);return t!=null?XA(i,t):i}else return t!==void 0?F7(n,t):n}function H7(n,t){if(t&&z7(t)){if(n instanceof gy)return q7(n,t);throw W0("To use ref(service, url), the first argument must be a Storage instance.")}else return XA(n,t)}function kb(n,t){const e=t?.[UA];return e==null?null:Ea.makeFromBucketSpec(e,n)}function G7(n,t,e,i={}){n.host=`${t}:${e}`;const a=$u(t);a&&(p2(`https://${n.host}/b`),m2("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:_4(o,n.app.options.projectId))}class gy{constructor(t,e,i,a,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=MA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VL,this._maxUploadRetryTime=BL,this._requests=new Set,a!=null?this._bucket=Ea.makeFromBucketSpec(a,this._host):this._bucket=kb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ea.makeFromBucketSpec(this._url,t):this._bucket=kb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Lb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Lb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(wa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new kc(this,t)}_makeRequest(t,e,i,a,o=!0){if(this._deleted)return new e7(jA());{const u=f7(t,this._appId,i,a,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,a).getPromise()}}const Ob="@firebase/storage",Db="0.14.0";const JA="storage";function Y7(n,t,e){return n=nr(n),V7(n,t,e)}function K7(n){return n=nr(n),B7(n)}function W7(n,t){return n=nr(n),H7(n,t)}function $7(n=v2(),t){n=nr(n);const i=Fm(n,JA).getImmediate({identifier:t}),a=g4("storage");return a&&Q7(i,...a),i}function Q7(n,t,e,i={}){G7(n,t,e,i)}function X7(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new gy(e,i,a,t,Mc)}function J7(){Nc(new Fu(JA,X7,"PUBLIC").setMultipleInstances(!0)),Zo(Ob,Db,""),Zo(Ob,Db,"esm2020")}J7();const Z7={apiKey:"AIzaSyAsCmzOUFyOeBBKu-Dcf2DojSJ7VpDgl38",authDomain:"makerworks-31c33.firebaseapp.com",projectId:"makerworks-31c33",storageBucket:"makerworks-31c33.firebasestorage.app",messagingSenderId:"247985134020",appId:"1:247985134020:web:1ef8a8fb162a540ee92c91",measurementId:"G-TX2YPY4ZSV"},yy=A4(Z7),hg=N8(yy),Ti=xL(yy),tk=$7(yy);function ek(){const[n,t]=wt.useState(""),[e,i]=wt.useState(""),[a,o]=wt.useState(!1),[u,h]=wt.useState(""),f=Pc(),d=async v=>{v.preventDefault(),h(""),o(!0);try{await pR(hg,n,e),f("/",{replace:!0})}catch(A){console.error(A),h(A.message||"Login failed")}finally{o(!1)}};return $.jsx("div",{className:"auth-page",children:$.jsxs("div",{className:"auth-shell",children:[$.jsx("div",{className:"auth-illustration",children:$.jsxs("div",{className:"auth-illu-card",children:[$.jsx("div",{className:"auth-illu-badge",children:$.jsx("span",{children:" MakerWorks LMS"})}),$.jsx("div",{className:"auth-illu-avatar",children:""}),$.jsx("h2",{children:"Welcome back"}),$.jsx("p",{children:"Login to continue learning, track your progress, and complete your courses."}),$.jsxs("ul",{className:"auth-illu-list",children:[$.jsx("li",{children:" Progress tracking per lesson"}),$.jsx("li",{children:" Quizzes & certificates"}),$.jsx("li",{children:" Separate student / instructor views"})]})]})}),$.jsxs("div",{className:"auth-panel",children:[$.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),$.jsx("h1",{className:"auth-title",children:"Login"}),$.jsx("p",{className:"auth-subtitle",children:"Enter your account details to access your dashboard."}),$.jsxs("form",{className:"auth-form",onSubmit:d,children:[$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"email",children:"Email"}),$.jsx("input",{id:"email",type:"email",autoComplete:"email",value:n,onChange:v=>t(v.target.value),required:!0})]}),$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"password",children:"Password"}),$.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:e,onChange:v=>i(v.target.value),required:!0})]}),$.jsx("div",{className:"auth-actions-row",children:$.jsx("span",{className:"tiny-text",style:{color:"#9ca3af"},children:"Use the test account you created"})}),$.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:a,children:a?"Logging in...":"Login"})]}),$.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Don't have an account?"," ",$.jsx(Vm,{to:"/signup",className:"auth-link-small",children:"Sign up"})]}),u&&$.jsx("p",{className:"auth-message error",style:{marginTop:8},children:u})]})]})})}function nk(){const[n,t]=wt.useState(""),[e,i]=wt.useState("student"),[a,o]=wt.useState(""),[u,h]=wt.useState(""),[f,d]=wt.useState(!1),[v,A]=wt.useState(""),T=Pc(),b=async O=>{if(O.preventDefault(),A(""),a!==u){A("Passwords do not match.");return}if(a.length<6){A("Password should be at least 6 characters.");return}d(!0);try{const B=(await dR(hg,n,a)).user;await DA(ea(Ti,"users",B.uid),{email:B.email,role:e,createdAt:new Date}),A("Account created! Redirecting"),T("/",{replace:!0})}catch(M){console.error(M),A(M.message||"Signup failed")}finally{d(!1)}};return $.jsx("div",{className:"auth-page",children:$.jsxs("div",{className:"auth-shell",children:[$.jsx("div",{className:"auth-illustration",children:$.jsxs("div",{className:"auth-illu-card",children:[$.jsx("div",{className:"auth-illu-badge",children:$.jsx("span",{children:" Join MakerWorks"})}),$.jsx("div",{className:"auth-illu-avatar",children:""}),$.jsx("h2",{children:"Create your account"}),$.jsx("p",{children:"Set up your student or instructor account and start creating or taking courses in minutes."}),$.jsxs("ul",{className:"auth-illu-list",children:[$.jsx("li",{children:" Role-based dashboards"}),$.jsx("li",{children:" Upload lessons & resources"}),$.jsx("li",{children:" Progress + quiz analytics"})]})]})}),$.jsxs("div",{className:"auth-panel",children:[$.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),$.jsx("h1",{className:"auth-title",children:"Sign up"}),$.jsx("p",{className:"auth-subtitle",children:"Create an account to access the MakerWorks learning platform."}),$.jsxs("form",{className:"auth-form",onSubmit:b,children:[$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"email",children:"Email"}),$.jsx("input",{id:"email",type:"email",autoComplete:"email",value:n,onChange:O=>t(O.target.value),required:!0})]}),$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"role",children:"Role"}),$.jsxs("select",{id:"role",value:e,onChange:O=>i(O.target.value),children:[$.jsx("option",{value:"student",children:"Student"}),$.jsx("option",{value:"instructor",children:"Instructor"})]})]}),$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"password",children:"Password"}),$.jsx("input",{id:"password",type:"password",autoComplete:"new-password",value:a,onChange:O=>o(O.target.value),required:!0})]}),$.jsxs("div",{className:"auth-field",children:[$.jsx("label",{htmlFor:"confirm",children:"Confirm password"}),$.jsx("input",{id:"confirm",type:"password",autoComplete:"new-password",value:u,onChange:O=>h(O.target.value),required:!0})]}),$.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:f,children:f?"Creating account...":"Sign up"})]}),$.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Already have an account?"," ",$.jsx(Vm,{to:"/login",className:"auth-link-small",children:"Login"})]}),v&&$.jsx("p",{className:`auth-message ${v.toLowerCase().includes("created")?"success":"error"}`,style:{marginTop:8},children:v})]})]})})}function ik({user:n}){const[t,e]=wt.useState([]),[i,a]=wt.useState({}),o=Pc();wt.useEffect(()=>{const b=Uh(vo(Ti,"courses"),jh("createdAt","desc"));return Bu(b,O=>{e(O.docs.map(M=>({id:M.id,...M.data()})))})},[]),wt.useEffect(()=>{const b=vo(Ti,"users",n.uid,"progress");return Bu(b,O=>{const M={};O.forEach(B=>{M[B.id]=B.data()}),a(M)})},[n.uid]);const u=t.filter(b=>i[b.id]),h=t.filter(b=>!i[b.id]),f=n.displayName||n.email||"Learner",d=Object.values(i).reduce((b,O)=>b+(O.completedLessons?.length||0),0),v=b=>{o(`/courses/${b}`)},A="#6d28d9",T="#f5f3ff";return $.jsx("div",{className:"sd-root",style:{padding:0,display:"flex",justifyContent:"center",background:T,minHeight:"100%"},children:$.jsxs("div",{className:"sd-inner",style:{width:"100%",maxWidth:1200,padding:24},children:[$.jsxs("div",{style:{background:"white",borderRadius:999,padding:"8px 18px",display:"flex",alignItems:"center",gap:8,boxShadow:"0 8px 24px rgba(15,23,42,0.06)",marginBottom:18,border:"1px solid #e5e7eb"},children:[$.jsx("span",{style:{fontSize:18,color:A,fontWeight:700,marginRight:6},children:""}),$.jsx("input",{placeholder:"Search courses...",style:{flex:1,border:"none",outline:"none",fontSize:14,color:"#111827"}})]}),$.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16,marginBottom:22},children:[$.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb",display:"flex",gap:16},children:[$.jsx("div",{style:{width:90,minWidth:90,height:90,borderRadius:18,background:"linear-gradient(135deg, #a855f7, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:30,fontWeight:700},children:f.split(" ").map(b=>b[0]?.toUpperCase()).join("").slice(0,2)}),$.jsxs("div",{style:{flex:1},children:[$.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#111827",marginBottom:4},children:f}),$.jsxs("div",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["ID: ",n.uid.slice(0,8),"  Email: ",n.email]}),$.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:8,fontSize:12,color:"#4b5563"},children:[$.jsxs("div",{children:[$.jsx("span",{style:{fontWeight:600},children:"Role: "}),"Student"]}),$.jsxs("div",{children:[$.jsx("span",{style:{fontWeight:600},children:"Enrolled: "}),u.length," course",u.length===1?"":"s"]}),$.jsxs("div",{children:[$.jsx("span",{style:{fontWeight:600},children:"Completed lessons: "}),d]})]})]})]}),$.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb"},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[$.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827"},children:"Learning overview"}),$.jsxs("div",{style:{display:"flex",gap:6,fontSize:11},children:[$.jsx("span",{style:{padding:"2px 10px",borderRadius:999,background:T,color:A,fontWeight:600},children:"Active"}),$.jsx("span",{style:{padding:"2px 10px",borderRadius:999,border:"1px solid #e5e7eb",color:"#6b7280"},children:"Regular"})]})]}),$.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:10,marginBottom:10},children:[$.jsxs("div",{style:{background:T,borderRadius:12,padding:8,fontSize:12,color:A,fontWeight:600},children:["Total courses",$.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:t.length})]}),$.jsxs("div",{style:{background:"#ecfdf5",borderRadius:12,padding:8,fontSize:12,color:"#15803d",fontWeight:600},children:["Enrolled",$.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:u.length})]}),$.jsxs("div",{style:{background:"#eff6ff",borderRadius:12,padding:8,fontSize:12,color:"#2563eb",fontWeight:600},children:["Completed lessons",$.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:d})]})]}),$.jsxs("div",{style:{fontSize:12,color:"#4b5563"},children:[$.jsxs("div",{style:{marginBottom:8},children:[$.jsx("div",{style:{marginBottom:2},children:"Active courses"}),$.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:$.jsx("div",{style:{width:t.length===0?"0%":`${Math.min(u.length/t.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:A}})})]}),$.jsxs("div",{style:{marginBottom:8},children:[$.jsx("div",{style:{marginBottom:2},children:"Courses not started"}),$.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:$.jsx("div",{style:{width:t.length===0?"0%":`${Math.min(h.length/t.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:"#f97316"}})})]})]})]})]}),$.jsxs("div",{style:{marginBottom:20},children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[$.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Enrolled courses"}),$.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[u.length," enrolled"]})]}),u.length===0?$.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"You haven't enrolled in any courses yet."}):$.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:14},children:u.map(b=>$.jsxs("div",{style:{background:"white",borderRadius:16,padding:14,border:`1px solid ${T}`,boxShadow:"0 8px 20px rgba(109,40,217,0.08)"},children:[$.jsx("div",{style:{fontSize:14,fontWeight:700,marginBottom:4,color:"#111827"},children:b.title||"Untitled course"}),$.jsxs("div",{style:{fontSize:12,color:"#4b5563",marginBottom:8},children:[b.description?.slice(0,80)||"No description yet.",b.description&&b.description.length>80?"...":""]}),$.jsx("button",{onClick:()=>v(b.id),style:{marginTop:4,padding:"8px 12px",width:"100%",borderRadius:999,border:"1px solid transparent",background:A,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Continue course"})]},b.id))})]}),$.jsxs("div",{children:[$.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[$.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"All courses"}),$.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[t.length," total"]})]}),t.length===0?$.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No courses yet."}):$.jsx("div",{style:{background:"white",borderRadius:18,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",padding:10},children:t.map(b=>{const O=!!i[b.id];return $.jsxs("div",{className:"sd-course-row",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 6px",borderBottom:"1px solid #f3f4f6"},children:[$.jsxs("div",{className:"sd-course-row-left",children:[$.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:b.title||"Untitled course"}),$.jsxs("div",{style:{fontSize:12,color:"#6b7280",maxWidth:380},children:[b.description?.slice(0,120)||"No description yet.",b.description&&b.description.length>120?"...":""]})]}),$.jsxs("div",{className:"sd-course-row-right",style:{display:"flex",alignItems:"center",gap:8},children:[$.jsx("span",{style:{fontSize:11,padding:"3px 10px",borderRadius:999,background:O?"#ecfdf5":"#fef9c3",color:O?"#15803d":"#92400e",border:"1px solid #e5e7eb"},children:O?"Enrolled":"Not started"}),$.jsx("button",{onClick:()=>v(b.id),style:{padding:"7px 12px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:O?A:"#16a34a",color:"white",cursor:"pointer",whiteSpace:"nowrap"},children:O?"Go to course":"Start course"})]})]},b.id)})})]})]})})}function rk({user:n}){const[t,e]=wt.useState([]),[i,a]=wt.useState(""),[o,u]=wt.useState(""),[h,f]=wt.useState(null),[d,v]=wt.useState(""),[A,T]=wt.useState(""),[b,O]=wt.useState(null),[M,B]=wt.useState(""),[V,Z]=wt.useState([]),[et,nt]=wt.useState(""),[_t,Ot]=wt.useState(""),[H,P]=wt.useState(null),[I,q]=wt.useState(null),[N,k]=wt.useState(""),[D,lt]=wt.useState(""),[xt,at]=wt.useState([]),[pt,ft]=wt.useState(""),[Nt,Ht]=wt.useState(["","","",""]),[X,L]=wt.useState(0),[Y,J]=wt.useState(null),[ot,ut]=wt.useState(""),[gt,Lt]=wt.useState(["","","",""]),[Ct,Vt]=wt.useState(0),[Xt,re]=wt.useState(null),[ie,he]=wt.useState([]);wt.useEffect(()=>{const St=Uh(vo(Ti,"courses"),jh("createdAt","desc"));return Bu(St,le=>{e(le.docs.map(te=>({id:te.id,...te.data()})))})},[]),wt.useEffect(()=>{if(!b)return Z([]);const St=Uh(vo(Ti,"courses",b,"lessons"),jh("createdAt","asc"));return Bu(St,le=>{Z(le.docs.map(te=>({id:te.id,...te.data()})))})},[b]),wt.useEffect(()=>{if(!b||!I)return at([]);const St=Uh(vo(Ti,"courses",b,"lessons",I,"quizzes"),jh("createdAt","asc"));return Bu(St,le=>{at(le.docs.map(te=>({id:te.id,...te.data()})))})},[b,I]);const tt=St=>{O(St.id),B(St.title),nt(""),Ot(""),P(null),q(null),ft(""),Ht(["","","",""]),L(0),J(null),ut(""),Lt(["","","",""]),Vt(0)},ee=async St=>{St.preventDefault(),i.trim()&&(await K1(vo(Ti,"courses"),{title:i.trim(),description:o.trim(),createdBy:n.uid,createdByEmail:n.email,createdAt:W1()}),a(""),u(""))},Ge=St=>{f(St.id),v(St.title),T(St.description||"")},Ee=async St=>{St.preventDefault(),h&&(await G1(ea(Ti,"courses",h),{title:d.trim(),description:A.trim()}),f(null),v(""),T(""))},zt=async St=>{await Y1(ea(Ti,"courses",St)),b===St&&(O(null),Z([]))},ae=async St=>{if(St.preventDefault(),!b||!et.trim())return;let le=null,te=null;if(H){const Je=W7(tk,`courses/${b}/lessons/${Date.now()}_${H.name}`);await Y7(Je,H),le=await K7(Je),te=H.name}await K1(vo(Ti,"courses",b,"lessons"),{title:et.trim(),content:_t.trim(),fileUrl:le,fileName:te,createdAt:W1()}),nt(""),Ot(""),P(null)},se=St=>{q(St.id),k(St.title),lt(St.content||"")},Te=async St=>{St.preventDefault(),!(!b||!I)&&(await G1(ea(Ti,"courses",b,"lessons",I),{title:N.trim(),content:D.trim()}),q(null))},be=async St=>{b&&(await Y1(ea(Ti,"courses",b,"lessons",St)),I===St&&q(null))},Ye=async St=>{St.preventDefault(),!(!b||!I)&&pt.trim()&&(await K1(vo(Ti,"courses",b,"lessons",I,"quizzes"),{question:pt.trim(),options:Nt.map(le=>le.trim()),correctIndex:X,createdAt:W1()}),ft(""),Ht(["","","",""]),L(0))},Xe=St=>{J(St.id),ut(St.question),Lt(St.options||["","","",""]),Vt(St.correctIndex??0)},Fe=async St=>{St.preventDefault(),!(!b||!I||!Y)&&(await G1(ea(Ti,"courses",b,"lessons",I,"quizzes",Y),{question:ot.trim(),options:gt.map(le=>le.trim()),correctIndex:Ct}),J(null))},an=async St=>{!b||!I||(await Y1(ea(Ti,"courses",b,"lessons",I,"quizzes",St)),Y===St&&J(null))},We=async St=>{re(St),he([]);const te=(await jL(vo(Ti,"users"))).docs.map(Ue=>({id:Ue.id,...Ue.data()})),Je=[];for(const Ue of te){const _e=ea(Ti,"users",Ue.id,"progress",St.id),xe=await bd(_e);xe.exists()&&Je.push({email:Ue.email,...xe.data()})}he(Je)};return $.jsxs("div",{style:{padding:20},children:[$.jsx("h2",{children:"Instructor Dashboard"}),$.jsxs("p",{children:["Welcome, ",n.email]}),$.jsxs("section",{style:{marginTop:16,marginBottom:20},children:[$.jsx("h3",{children:"Create Course"}),$.jsxs("form",{onSubmit:ee,children:[$.jsx("input",{placeholder:"Course Title",value:i,onChange:St=>a(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("textarea",{placeholder:"Description",value:o,onChange:St=>u(St.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("button",{type:"submit",children:"Add Course"})]})]}),$.jsxs("section",{style:{marginBottom:20},children:[$.jsx("h3",{children:"Courses"}),t.length===0&&$.jsx("p",{children:"No courses yet."}),t.map(St=>$.jsxs("div",{style:{padding:10,borderBottom:"1px solid #ddd",marginBottom:8},children:[$.jsx("b",{children:St.title}),$.jsx("div",{style:{fontSize:13,color:"#666"},children:St.description||"No description"}),$.jsxs("div",{style:{marginTop:6},children:[$.jsx("button",{onClick:()=>tt(St),children:"Lessons"}),$.jsx("button",{onClick:()=>Ge(St),style:{marginLeft:6},children:"Edit"}),$.jsx("button",{onClick:()=>zt(St.id),style:{marginLeft:6},children:"Delete"}),$.jsx("button",{onClick:()=>We(St),style:{marginLeft:6},children:"Analytics"})]})]},St.id)),h&&$.jsxs("div",{style:{marginTop:12,padding:10,border:"1px solid #ccc",borderRadius:6},children:[$.jsx("h4",{children:"Edit Course"}),$.jsxs("form",{onSubmit:Ee,children:[$.jsx("input",{value:d,onChange:St=>v(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("textarea",{value:A,onChange:St=>T(St.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("button",{type:"submit",children:"Save"}),$.jsx("button",{type:"button",onClick:()=>f(null),style:{marginLeft:8},children:"Cancel"})]})]})]}),Xt&&$.jsxs("section",{style:{marginBottom:20,padding:12,border:"1px solid #ccc",borderRadius:8},children:[$.jsxs("h3",{children:[" Analytics: ",Xt.title]}),ie.length===0?$.jsx("p",{children:"No student progress yet."}):ie.map((St,le)=>{const te=St.completedLessons?.length||0,Je=V.length||0,Ue=Je===0?0:Math.round(te/Je*100);return $.jsxs("div",{style:{padding:8,borderBottom:"1px solid #eee",marginBottom:8},children:[$.jsx("b",{children:St.email}),$.jsx("div",{style:{width:"100%",background:"#eee",height:8,borderRadius:4,marginTop:4},children:$.jsx("div",{style:{width:`${Ue}%`,height:8,borderRadius:4,background:"green"}})}),$.jsxs("div",{style:{fontSize:13,marginTop:4},children:[te,"/",Je," lessons (",Ue,"%)"]}),St.quizScores&&$.jsxs("div",{style:{fontSize:12,marginTop:4},children:[$.jsx("b",{children:"Quiz Scores:"}),Object.entries(St.quizScores).map(([_e,xe])=>$.jsxs("div",{children:[" Lesson ",_e,": ",xe.score,"/",xe.outOf]},_e))]})]},le)}),$.jsx("button",{onClick:()=>re(null),children:"Close"})]}),b&&$.jsxs("section",{style:{marginTop:10},children:[$.jsxs("h3",{children:["Lessons in ",M]}),$.jsxs("form",{onSubmit:ae,children:[$.jsx("input",{placeholder:"Lesson Title",value:et,onChange:St=>nt(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("textarea",{placeholder:"Lesson Content",value:_t,onChange:St=>Ot(St.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("input",{type:"file",onChange:St=>P(St.target.files[0]||null),style:{marginBottom:8}}),$.jsx("button",{type:"submit",children:"Add Lesson"})]}),V.map(St=>$.jsxs("div",{style:{padding:10,borderBottom:"1px solid #ddd",marginTop:10},children:[$.jsx("b",{children:St.title}),$.jsx("div",{style:{fontSize:13},children:St.content}),St.fileUrl&&$.jsxs("a",{href:St.fileUrl,target:"_blank",rel:"noreferrer",style:{fontSize:13},children:[" ",St.fileName||"Resource"]}),$.jsxs("div",{style:{marginTop:6},children:[$.jsx("button",{onClick:()=>se(St),children:"Edit"}),$.jsx("button",{onClick:()=>be(St.id),style:{marginLeft:6},children:"Delete"})]})]},St.id)),I&&$.jsxs("div",{style:{marginTop:16,padding:12,border:"1px solid #ccc",borderRadius:8},children:[$.jsx("h4",{children:"Edit Lesson"}),$.jsxs("form",{onSubmit:Te,children:[$.jsx("input",{value:N,onChange:St=>k(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("textarea",{value:D,onChange:St=>lt(St.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%"}}),$.jsx("button",{type:"submit",children:"Save Lesson"})]}),$.jsx("h4",{style:{marginTop:16},children:"Quiz Questions"}),$.jsxs("form",{onSubmit:Ye,children:[$.jsx("input",{placeholder:"Quiz Question",value:pt,onChange:St=>ft(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),Nt.map((St,le)=>$.jsx("input",{placeholder:`Option ${le+1}`,value:St,onChange:te=>{const Je=[...Nt];Je[le]=te.target.value,Ht(Je)},style:{display:"block",marginBottom:6,width:"100%"}},le)),$.jsx("label",{style:{fontSize:13},children:"Correct Option:"}),$.jsxs("select",{value:X,onChange:St=>L(Number(St.target.value)),style:{display:"block",marginBottom:8},children:[$.jsx("option",{value:0,children:"Option 1"}),$.jsx("option",{value:1,children:"Option 2"}),$.jsx("option",{value:2,children:"Option 3"}),$.jsx("option",{value:3,children:"Option 4"})]}),$.jsx("button",{type:"submit",children:"Add Question"})]}),xt.map((St,le)=>$.jsxs("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid #eee"},children:[$.jsxs("b",{children:["Q",le+1,": ",St.question]}),St.options?.map((te,Je)=>$.jsxs("div",{style:{fontSize:13},children:[Je+1,". ",te," ",St.correctIndex===Je&&$.jsx("strong",{children:"(correct)"})]},Je)),$.jsx("button",{onClick:()=>Xe(St),children:"Edit"}),$.jsx("button",{onClick:()=>an(St.id),style:{marginLeft:6},children:"Delete"})]},St.id)),Y&&$.jsxs("form",{onSubmit:Fe,style:{marginTop:14,padding:10,background:"#f7f7f7",borderRadius:6},children:[$.jsx("h5",{children:"Edit Quiz Question"}),$.jsx("input",{value:ot,onChange:St=>ut(St.target.value),style:{display:"block",marginBottom:8,width:"100%"}}),gt.map((St,le)=>$.jsx("input",{value:St,onChange:te=>{const Je=[...gt];Je[le]=te.target.value,Lt(Je)},style:{display:"block",marginBottom:6,width:"100%"}},le)),$.jsx("label",{style:{fontSize:13},children:"Correct Option:"}),$.jsxs("select",{value:Ct,onChange:St=>Vt(Number(St.target.value)),style:{display:"block",marginBottom:8},children:[$.jsx("option",{value:0,children:"Option 1"}),$.jsx("option",{value:1,children:"Option 2"}),$.jsx("option",{value:2,children:"Option 3"}),$.jsx("option",{value:3,children:"Option 4"})]}),$.jsx("button",{type:"submit",children:"Save Quiz"})]})]})]})]})}const sk="modulepreload",ak=function(n){return"/learn/"+n},Pb={},X1=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(e.map(d=>{if(d=ak(d),d in Pb)return;Pb[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":sk,v||(T.as="script"),T.crossOrigin="",T.href=d,h&&T.setAttribute("nonce",h),document.head.appendChild(T),v)return new Promise((b,O)=>{T.addEventListener("load",b),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(n)}var Ao=Uint8Array,Sa=Uint16Array,vy=Int32Array,_y=new Ao([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),by=new Ao([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mb=new Ao([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZA=function(n,t){for(var e=new Sa(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var a=new vy(e[30]),i=1;i<30;++i)for(var o=e[i];o<e[i+1];++o)a[o]=o-e[i]<<5|i;return{b:e,r:a}},tE=ZA(_y,2),ok=tE.b,$0=tE.r;ok[28]=258,$0[258]=28;var lk=ZA(by,0),Ub=lk.r,Q0=new Sa(32768);for(var yi=0;yi<32768;++yi){var Nu=(yi&43690)>>1|(yi&21845)<<1;Nu=(Nu&52428)>>2|(Nu&13107)<<2,Nu=(Nu&61680)>>4|(Nu&3855)<<4,Q0[yi]=((Nu&65280)>>8|(Nu&255)<<8)>>1}var ad=(function(n,t,e){for(var i=n.length,a=0,o=new Sa(t);a<i;++a)n[a]&&++o[n[a]-1];var u=new Sa(t);for(a=1;a<t;++a)u[a]=u[a-1]+o[a-1]<<1;var h;if(e){h=new Sa(1<<t);var f=15-t;for(a=0;a<i;++a)if(n[a])for(var d=a<<4|n[a],v=t-n[a],A=u[n[a]-1]++<<v,T=A|(1<<v)-1;A<=T;++A)h[Q0[A]>>f]=d}else for(h=new Sa(i),a=0;a<i;++a)n[a]&&(h[a]=Q0[u[n[a]-1]++]>>15-n[a]);return h}),Oc=new Ao(288);for(var yi=0;yi<144;++yi)Oc[yi]=8;for(var yi=144;yi<256;++yi)Oc[yi]=9;for(var yi=256;yi<280;++yi)Oc[yi]=7;for(var yi=280;yi<288;++yi)Oc[yi]=8;var Om=new Ao(32);for(var yi=0;yi<32;++yi)Om[yi]=5;var uk=ad(Oc,9,0),ck=ad(Om,5,0),eE=function(n){return(n+7)/8|0},hk=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Ao(n.subarray(t,e))},Pl=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},Gf=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},J1=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var a=e.length,o=e.slice();if(!a)return{t:iE,l:0};if(a==1){var u=new Ao(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(_t,Ot){return _t.f-Ot.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,v=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=e[e[d].f<e[A].f?d++:A++],f=e[d!=v&&e[d].f<e[A].f?d++:A++],e[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var T=o[0].s,i=1;i<a;++i)o[i].s>T&&(T=o[i].s);var b=new Sa(T+1),O=X0(e[v-1],b,0);if(O>t){var i=0,M=0,B=O-t,V=1<<B;for(o.sort(function(Ot,H){return b[H.s]-b[Ot.s]||Ot.f-H.f});i<a;++i){var Z=o[i].s;if(b[Z]>t)M+=V-(1<<O-b[Z]),b[Z]=t;else break}for(M>>=B;M>0;){var et=o[i].s;b[et]<t?M-=1<<t-b[et]++-1:++i}for(;i>=0&&M;--i){var nt=o[i].s;b[nt]==t&&(--b[nt],++M)}O=t}return{t:new Ao(b),l:O}},X0=function(n,t,e){return n.s==-1?Math.max(X0(n.l,t,e+1),X0(n.r,t,e+1)):t[n.s]=e},jb=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Sa(++t),i=0,a=n[0],o=1,u=function(f){e[i++]=f},h=1;h<=t;++h)if(n[h]==a&&h!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[h]}return{c:e.subarray(0,i),n:t}},Yf=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},nE=function(n,t,e){var i=e.length,a=eE(t+2);n[a]=i&255,n[a+1]=i>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<i;++o)n[a+o+4]=e[o];return(a+4+i)*8},Vb=function(n,t,e,i,a,o,u,h,f,d,v){Pl(t,v++,e),++a[256];for(var A=J1(a,15),T=A.t,b=A.l,O=J1(o,15),M=O.t,B=O.l,V=jb(T),Z=V.c,et=V.n,nt=jb(M),_t=nt.c,Ot=nt.n,H=new Sa(19),P=0;P<Z.length;++P)++H[Z[P]&31];for(var P=0;P<_t.length;++P)++H[_t[P]&31];for(var I=J1(H,7),q=I.t,N=I.l,k=19;k>4&&!q[Mb[k-1]];--k);var D=d+5<<3,lt=Yf(a,Oc)+Yf(o,Om)+u,xt=Yf(a,T)+Yf(o,M)+u+14+3*k+Yf(H,q)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&D<=lt&&D<=xt)return nE(t,v,n.subarray(f,f+d));var at,pt,ft,Nt;if(Pl(t,v,1+(xt<lt)),v+=2,xt<lt){at=ad(T,b,0),pt=T,ft=ad(M,B,0),Nt=M;var Ht=ad(q,N,0);Pl(t,v,et-257),Pl(t,v+5,Ot-1),Pl(t,v+10,k-4),v+=14;for(var P=0;P<k;++P)Pl(t,v+3*P,q[Mb[P]]);v+=3*k;for(var X=[Z,_t],L=0;L<2;++L)for(var Y=X[L],P=0;P<Y.length;++P){var J=Y[P]&31;Pl(t,v,Ht[J]),v+=q[J],J>15&&(Pl(t,v,Y[P]>>5&127),v+=Y[P]>>12)}}else at=uk,pt=Oc,ft=ck,Nt=Om;for(var P=0;P<h;++P){var ot=i[P];if(ot>255){var J=ot>>18&31;Gf(t,v,at[J+257]),v+=pt[J+257],J>7&&(Pl(t,v,ot>>23&31),v+=_y[J]);var ut=ot&31;Gf(t,v,ft[ut]),v+=Nt[ut],ut>3&&(Gf(t,v,ot>>5&8191),v+=by[ut])}else Gf(t,v,at[ot]),v+=pt[ot]}return Gf(t,v,at[256]),v+pt[256]},fk=new vy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iE=new Ao(0),dk=function(n,t,e,i,a,o){var u=o.z||n.length,h=new Ao(i+u+5*(1+Math.ceil(u/7e3))+a),f=h.subarray(i,h.length-a),d=o.l,v=(o.r||0)&7;if(t){v&&(f[0]=o.r>>3);for(var A=fk[t-1],T=A>>13,b=A&8191,O=(1<<e)-1,M=o.p||new Sa(32768),B=o.h||new Sa(O+1),V=Math.ceil(e/3),Z=2*V,et=function(he){return(n[he]^n[he+1]<<V^n[he+2]<<Z)&O},nt=new vy(25e3),_t=new Sa(288),Ot=new Sa(32),H=0,P=0,I=o.i||0,q=0,N=o.w||0,k=0;I+2<u;++I){var D=et(I),lt=I&32767,xt=B[D];if(M[lt]=xt,B[D]=lt,N<=I){var at=u-I;if((H>7e3||q>24576)&&(at>423||!d)){v=Vb(n,f,0,nt,_t,Ot,P,q,k,I-k,v),q=H=P=0,k=I;for(var pt=0;pt<286;++pt)_t[pt]=0;for(var pt=0;pt<30;++pt)Ot[pt]=0}var ft=2,Nt=0,Ht=b,X=lt-xt&32767;if(at>2&&D==et(I-X))for(var L=Math.min(T,at)-1,Y=Math.min(32767,I),J=Math.min(258,at);X<=Y&&--Ht&&lt!=xt;){if(n[I+ft]==n[I+ft-X]){for(var ot=0;ot<J&&n[I+ot]==n[I+ot-X];++ot);if(ot>ft){if(ft=ot,Nt=X,ot>L)break;for(var ut=Math.min(X,ot-2),gt=0,pt=0;pt<ut;++pt){var Lt=I-X+pt&32767,Ct=M[Lt],Vt=Lt-Ct&32767;Vt>gt&&(gt=Vt,xt=Lt)}}}lt=xt,xt=M[lt],X+=lt-xt&32767}if(Nt){nt[q++]=268435456|$0[ft]<<18|Ub[Nt];var Xt=$0[ft]&31,re=Ub[Nt]&31;P+=_y[Xt]+by[re],++_t[257+Xt],++Ot[re],N=I+ft,++H}else nt[q++]=n[I],++_t[n[I]]}}for(I=Math.max(I,N);I<u;++I)nt[q++]=n[I],++_t[n[I]];v=Vb(n,f,d,nt,_t,Ot,P,q,k,I-k,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=B,o.p=M,o.i=I,o.w=N)}else{for(var I=o.w||0;I<u+d;I+=65535){var ie=I+65535;ie>=u&&(f[v/8|0]=d,ie=u),v=nE(f,v+1,n.subarray(I,ie))}o.i=u}return hk(h,0,i+eE(v)+a)},rE=function(){var n=1,t=0;return{p:function(e){for(var i=n,a=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)a+=i+=e[u];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}n=i,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},pk=function(n,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new Ao(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return dk(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,a)},sE=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},mk=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=rE();a.p(t.dictionary),sE(n,2,a.d())}};function J0(n,t){t||(t={});var e=rE();e.p(n);var i=pk(n,t,t.dictionary?6:2,4);return mk(i,t),sE(i,i.length-4,e.d()),i}var gk=typeof TextDecoder<"u"&&new TextDecoder,yk=0;try{gk.decode(iE,{stream:!0}),yk=1}catch{}function vk(n){if(Array.isArray(n))return n}function _k(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i,a,o,u,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(i=o.call(e)).done)&&(h.push(i.value),h.length!==t);f=!0);}catch(v){d=!0,a=v}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw a}}return h}}function Bb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}function bk(n,t){if(n){if(typeof n=="string")return Bb(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Bb(n,t):void 0}}function wk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fb(n,t){return vk(n)||_k(n,t)||bk(n,t)||wk()}function zb(n,t="utf8"){return new TextDecoder(t).decode(n)}const Ak=new TextEncoder;function Ek(n){return Ak.encode(n)}const Sk=1024*8,Tk=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Z1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class wy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=Sk,e={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let u=a;(ArrayBuffer.isView(t)||t instanceof wy)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+a),t=t.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const i=Z1[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===Tk&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+i));h.reverse();const f=new Z1[e](h.buffer);return this.offset+=i,f.reverse(),f}const u=new Z1[e](o);return this.offset+=i,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return zb(this.readBytes(t))}decodeText(t=1,e="utf8"){return zb(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Ek(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sf(n){let t=n.length;for(;--t>=0;)n[t]=0}const xk=3,Nk=258,aE=29,Rk=256,Ck=Rk+1+aE,oE=30,Ik=512,Lk=new Array((Ck+2)*2);sf(Lk);const kk=new Array(oE*2);sf(kk);const Ok=new Array(Ik);sf(Ok);const Dk=new Array(Nk-xk+1);sf(Dk);const Pk=new Array(aE);sf(Pk);const Mk=new Array(oE);sf(Mk);const Uk=(n,t,e,i)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do a=a+t[i++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var Z0=Uk;const jk=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},Vk=new Uint32Array(jk()),Bk=(n,t,e,i)=>{const a=Vk,o=i+e;n^=-1;for(let u=i;u<o;u++)n=n>>>8^a[(n^t[u])&255];return n^-1};var Wo=Bk,t2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Fk=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var zk=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)Fk(e,i)&&(n[i]=e[i])}}return n},qk=n=>{let t=0;for(let i=0,a=n.length;i<a;i++)t+=n[i].length;const e=new Uint8Array(t);for(let i=0,a=0,o=n.length;i<o;i++){let u=n[i];e.set(u,a),a+=u.length}return e},uE={assign:zk,flattenChunks:qk};let cE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cE=!1}const wd=new Uint8Array(256);for(let n=0;n<256;n++)wd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;wd[254]=wd[254]=1;var Hk=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,i,a,o,u=n.length,h=0;for(a=0;a<u;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,a=0;o<h;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<u&&(i=n.charCodeAt(a+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const Gk=(n,t)=>{if(t<65534&&n.subarray&&cE)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(n[i]);return e};var Yk=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let i,a;const o=new Array(e*2);for(a=0,i=0;i<e;){let u=n[i++];if(u<128){o[a++]=u;continue}let h=wd[u];if(h>4){o[a++]=65533,i+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&i<e;)u=u<<6|n[i++]&63,h--;if(h>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return Gk(o,a)},Kk=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+wd[n[e]]>t?e:t},e2={string2buf:Hk,buf2string:Yk,utf8border:Kk};function Wk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $k=Wk;const Vp=16209,Qk=16191;var Xk=function(t,e){let i,a,o,u,h,f,d,v,A,T,b,O,M,B,V,Z,et,nt,_t,Ot,H,P,I,q;const N=t.state;i=t.next_in,I=t.input,a=i+(t.avail_in-5),o=t.next_out,q=t.output,u=o-(e-t.avail_out),h=o+(t.avail_out-257),f=N.dmax,d=N.wsize,v=N.whave,A=N.wnext,T=N.window,b=N.hold,O=N.bits,M=N.lencode,B=N.distcode,V=(1<<N.lenbits)-1,Z=(1<<N.distbits)-1;t:do{O<15&&(b+=I[i++]<<O,O+=8,b+=I[i++]<<O,O+=8),et=M[b&V];e:for(;;){if(nt=et>>>24,b>>>=nt,O-=nt,nt=et>>>16&255,nt===0)q[o++]=et&65535;else if(nt&16){_t=et&65535,nt&=15,nt&&(O<nt&&(b+=I[i++]<<O,O+=8),_t+=b&(1<<nt)-1,b>>>=nt,O-=nt),O<15&&(b+=I[i++]<<O,O+=8,b+=I[i++]<<O,O+=8),et=B[b&Z];n:for(;;){if(nt=et>>>24,b>>>=nt,O-=nt,nt=et>>>16&255,nt&16){if(Ot=et&65535,nt&=15,O<nt&&(b+=I[i++]<<O,O+=8,O<nt&&(b+=I[i++]<<O,O+=8)),Ot+=b&(1<<nt)-1,Ot>f){t.msg="invalid distance too far back",N.mode=Vp;break t}if(b>>>=nt,O-=nt,nt=o-u,Ot>nt){if(nt=Ot-nt,nt>v&&N.sane){t.msg="invalid distance too far back",N.mode=Vp;break t}if(H=0,P=T,A===0){if(H+=d-nt,nt<_t){_t-=nt;do q[o++]=T[H++];while(--nt);H=o-Ot,P=q}}else if(A<nt){if(H+=d+A-nt,nt-=A,nt<_t){_t-=nt;do q[o++]=T[H++];while(--nt);if(H=0,A<_t){nt=A,_t-=nt;do q[o++]=T[H++];while(--nt);H=o-Ot,P=q}}}else if(H+=A-nt,nt<_t){_t-=nt;do q[o++]=T[H++];while(--nt);H=o-Ot,P=q}for(;_t>2;)q[o++]=P[H++],q[o++]=P[H++],q[o++]=P[H++],_t-=3;_t&&(q[o++]=P[H++],_t>1&&(q[o++]=P[H++]))}else{H=o-Ot;do q[o++]=q[H++],q[o++]=q[H++],q[o++]=q[H++],_t-=3;while(_t>2);_t&&(q[o++]=q[H++],_t>1&&(q[o++]=q[H++]))}}else if((nt&64)===0){et=B[(et&65535)+(b&(1<<nt)-1)];continue n}else{t.msg="invalid distance code",N.mode=Vp;break t}break}}else if((nt&64)===0){et=M[(et&65535)+(b&(1<<nt)-1)];continue e}else if(nt&32){N.mode=Qk;break t}else{t.msg="invalid literal/length code",N.mode=Vp;break t}break}}while(i<a&&o<h);_t=O>>3,i-=_t,O-=_t<<3,b&=(1<<O)-1,t.next_in=i,t.next_out=o,t.avail_in=i<a?5+(a-i):5-(i-a),t.avail_out=o<h?257+(h-o):257-(o-h),N.hold=b,N.bits=O};const Ah=15,qb=852,Hb=592,Gb=0,t0=1,Yb=2,Jk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),nO=(n,t,e,i,a,o,u,h)=>{const f=h.bits;let d=0,v=0,A=0,T=0,b=0,O=0,M=0,B=0,V=0,Z=0,et,nt,_t,Ot,H,P=null,I;const q=new Uint16Array(Ah+1),N=new Uint16Array(Ah+1);let k=null,D,lt,xt;for(d=0;d<=Ah;d++)q[d]=0;for(v=0;v<i;v++)q[t[e+v]]++;for(b=f,T=Ah;T>=1&&q[T]===0;T--);if(b>T&&(b=T),T===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<T&&q[A]===0;A++);for(b<A&&(b=A),B=1,d=1;d<=Ah;d++)if(B<<=1,B-=q[d],B<0)return-1;if(B>0&&(n===Gb||T!==1))return-1;for(N[1]=0,d=1;d<Ah;d++)N[d+1]=N[d]+q[d];for(v=0;v<i;v++)t[e+v]!==0&&(u[N[t[e+v]]++]=v);if(n===Gb?(P=k=u,I=20):n===t0?(P=Jk,k=Zk,I=257):(P=tO,k=eO,I=0),Z=0,v=0,d=A,H=o,O=b,M=0,_t=-1,V=1<<b,Ot=V-1,n===t0&&V>qb||n===Yb&&V>Hb)return 1;for(;;){D=d-M,u[v]+1<I?(lt=0,xt=u[v]):u[v]>=I?(lt=k[u[v]-I],xt=P[u[v]-I]):(lt=96,xt=0),et=1<<d-M,nt=1<<O,A=nt;do nt-=et,a[H+(Z>>M)+nt]=D<<24|lt<<16|xt|0;while(nt!==0);for(et=1<<d-1;Z&et;)et>>=1;if(et!==0?(Z&=et-1,Z+=et):Z=0,v++,--q[d]===0){if(d===T)break;d=t[e+u[v]]}if(d>b&&(Z&Ot)!==_t){for(M===0&&(M=b),H+=A,O=d-M,B=1<<O;O+M<T&&(B-=q[O+M],!(B<=0));)O++,B<<=1;if(V+=1<<O,n===t0&&V>qb||n===Yb&&V>Hb)return 1;_t=Z&Ot,a[_t]=b<<24|O<<16|H-o|0}}return Z!==0&&(a[H+Z]=d-M<<24|64<<16|0),h.bits=b,0};var od=nO;const iO=0,hE=1,fE=2,{Z_FINISH:Kb,Z_BLOCK:rO,Z_TREES:Bp,Z_OK:Dc,Z_STREAM_END:sO,Z_NEED_DICT:aO,Z_STREAM_ERROR:Ka,Z_DATA_ERROR:dE,Z_MEM_ERROR:pE,Z_BUF_ERROR:oO,Z_DEFLATED:Wb}=lE,fg=16180,$b=16181,Qb=16182,Xb=16183,Jb=16184,Zb=16185,tw=16186,ew=16187,nw=16188,iw=16189,Dm=16190,Ml=16191,e0=16192,rw=16193,n0=16194,sw=16195,aw=16196,ow=16197,lw=16198,Fp=16199,zp=16200,uw=16201,cw=16202,hw=16203,fw=16204,dw=16205,i0=16206,pw=16207,mw=16208,Si=16209,mE=16210,gE=16211,lO=852,uO=592,cO=15,hO=cO,gw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function fO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<fg||t.mode>gE?1:0},yE=n=>{if(Bc(n))return Ka;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=fg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(lO),t.distcode=t.distdyn=new Int32Array(uO),t.sane=1,t.back=-1,Dc},vE=n=>{if(Bc(n))return Ka;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,yE(n)},_E=(n,t)=>{let e;if(Bc(n))return Ka;const i=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ka:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,vE(n))},bE=(n,t)=>{if(!n)return Ka;const e=new fO;n.state=e,e.strm=n,e.window=null,e.mode=fg;const i=_E(n,t);return i!==Dc&&(n.state=null),i},dO=n=>bE(n,hO);let yw=!0,r0,s0;const pO=n=>{if(yw){r0=new Int32Array(512),s0=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(od(hE,n.lens,0,288,r0,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;od(fE,n.lens,0,32,s0,0,n.work,{bits:5}),yw=!1}n.lencode=r0,n.lenbits=9,n.distcode=s0,n.distbits=5},wE=(n,t,e,i)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(t.subarray(e-i,e-i+a),o.wnext),i-=a,i?(o.window.set(t.subarray(e-i,e),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},mO=(n,t)=>{let e,i,a,o,u,h,f,d,v,A,T,b,O,M,B=0,V,Z,et,nt,_t,Ot,H,P;const I=new Uint8Array(4);let q,N;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bc(n)||!n.output||!n.input&&n.avail_in!==0)return Ka;e=n.state,e.mode===Ml&&(e.mode=e0),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,v=e.bits,A=h,T=f,P=Dc;t:for(;;)switch(e.mode){case fg:if(e.wrap===0){e.mode=e0;break}for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=d&255,I[1]=d>>>8&255,e.check=Wo(e.check,I,2,0),d=0,v=0,e.mode=$b;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Si;break}if((d&15)!==Wb){n.msg="unknown compression method",e.mode=Si;break}if(d>>>=4,v-=4,H=(d&15)+8,e.wbits===0&&(e.wbits=H),H>15||H>e.wbits){n.msg="invalid window size",e.mode=Si;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?iw:Ml,d=0,v=0;break;case $b:for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.flags=d,(e.flags&255)!==Wb){n.msg="unknown compression method",e.mode=Si;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Si;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=Wo(e.check,I,2,0)),d=0,v=0,e.mode=Qb;case Qb:for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,e.check=Wo(e.check,I,4,0)),d=0,v=0,e.mode=Xb;case Xb:for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=Wo(e.check,I,2,0)),d=0,v=0,e.mode=Jb;case Jb:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=Wo(e.check,I,2,0)),d=0,v=0}else e.head&&(e.head.extra=null);e.mode=Zb;case Zb:if(e.flags&1024&&(b=e.length,b>h&&(b=h),b&&(e.head&&(H=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(o,o+b),H)),e.flags&512&&e.wrap&4&&(e.check=Wo(e.check,i,b,o)),h-=b,o+=b,e.length-=b),e.length))break t;e.length=0,e.mode=tw;case tw:if(e.flags&2048){if(h===0)break t;b=0;do H=i[o+b++],e.head&&H&&e.length<65536&&(e.head.name+=String.fromCharCode(H));while(H&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Wo(e.check,i,b,o)),h-=b,o+=b,H)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=ew;case ew:if(e.flags&4096){if(h===0)break t;b=0;do H=i[o+b++],e.head&&H&&e.length<65536&&(e.head.comment+=String.fromCharCode(H));while(H&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=Wo(e.check,i,b,o)),h-=b,o+=b,H)break t}else e.head&&(e.head.comment=null);e.mode=nw;case nw:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Si;break}d=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ml;break;case iw:for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}n.adler=e.check=gw(d),d=0,v=0,e.mode=Dm;case Dm:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,aO;n.adler=e.check=1,e.mode=Ml;case Ml:if(t===rO||t===Bp)break t;case e0:if(e.last){d>>>=v&7,v-=v&7,e.mode=i0;break}for(;v<3;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}switch(e.last=d&1,d>>>=1,v-=1,d&3){case 0:e.mode=rw;break;case 1:if(pO(e),e.mode=Fp,t===Bp){d>>>=2,v-=2;break t}break;case 2:e.mode=aw;break;case 3:n.msg="invalid block type",e.mode=Si}d>>>=2,v-=2;break;case rw:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Si;break}if(e.length=d&65535,d=0,v=0,e.mode=n0,t===Bp)break t;case n0:e.mode=sw;case sw:if(b=e.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break t;a.set(i.subarray(o,o+b),u),h-=b,o+=b,f-=b,u+=b,e.length-=b;break}e.mode=Ml;break;case aw:for(;v<14;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.nlen=(d&31)+257,d>>>=5,v-=5,e.ndist=(d&31)+1,d>>>=5,v-=5,e.ncode=(d&15)+4,d>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Si;break}e.have=0,e.mode=ow;case ow:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.lens[k[e.have++]]=d&7,d>>>=3,v-=3}for(;e.have<19;)e.lens[k[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},P=od(iO,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,P){n.msg="invalid code lengths set",e.mode=Si;break}e.have=0,e.mode=lw;case lw:for(;e.have<e.nlen+e.ndist;){for(;B=e.lencode[d&(1<<e.lenbits)-1],V=B>>>24,Z=B>>>16&255,et=B&65535,!(V<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(et<16)d>>>=V,v-=V,e.lens[e.have++]=et;else{if(et===16){for(N=V+2;v<N;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(d>>>=V,v-=V,e.have===0){n.msg="invalid bit length repeat",e.mode=Si;break}H=e.lens[e.have-1],b=3+(d&3),d>>>=2,v-=2}else if(et===17){for(N=V+3;v<N;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=V,v-=V,H=0,b=3+(d&7),d>>>=3,v-=3}else{for(N=V+7;v<N;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=V,v-=V,H=0,b=11+(d&127),d>>>=7,v-=7}if(e.have+b>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Si;break}for(;b--;)e.lens[e.have++]=H}}if(e.mode===Si)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Si;break}if(e.lenbits=9,q={bits:e.lenbits},P=od(hE,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,P){n.msg="invalid literal/lengths set",e.mode=Si;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},P=od(fE,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,P){n.msg="invalid distances set",e.mode=Si;break}if(e.mode=Fp,t===Bp)break t;case Fp:e.mode=zp;case zp:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,Xk(n,T),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,i=n.input,h=n.avail_in,d=e.hold,v=e.bits,e.mode===Ml&&(e.back=-1);break}for(e.back=0;B=e.lencode[d&(1<<e.lenbits)-1],V=B>>>24,Z=B>>>16&255,et=B&65535,!(V<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(Z&&(Z&240)===0){for(nt=V,_t=Z,Ot=et;B=e.lencode[Ot+((d&(1<<nt+_t)-1)>>nt)],V=B>>>24,Z=B>>>16&255,et=B&65535,!(nt+V<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=nt,v-=nt,e.back+=nt}if(d>>>=V,v-=V,e.back+=V,e.length=et,Z===0){e.mode=dw;break}if(Z&32){e.back=-1,e.mode=Ml;break}if(Z&64){n.msg="invalid literal/length code",e.mode=Si;break}e.extra=Z&15,e.mode=uw;case uw:if(e.extra){for(N=e.extra;v<N;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=cw;case cw:for(;B=e.distcode[d&(1<<e.distbits)-1],V=B>>>24,Z=B>>>16&255,et=B&65535,!(V<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if((Z&240)===0){for(nt=V,_t=Z,Ot=et;B=e.distcode[Ot+((d&(1<<nt+_t)-1)>>nt)],V=B>>>24,Z=B>>>16&255,et=B&65535,!(nt+V<=v);){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}d>>>=nt,v-=nt,e.back+=nt}if(d>>>=V,v-=V,e.back+=V,Z&64){n.msg="invalid distance code",e.mode=Si;break}e.offset=et,e.extra=Z&15,e.mode=hw;case hw:if(e.extra){for(N=e.extra;v<N;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Si;break}e.mode=fw;case fw:if(f===0)break t;if(b=T-f,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Si;break}b>e.wnext?(b-=e.wnext,O=e.wsize-b):O=e.wnext-b,b>e.length&&(b=e.length),M=e.window}else M=a,O=u-e.offset,b=e.length;b>f&&(b=f),f-=b,e.length-=b;do a[u++]=M[O++];while(--b);e.length===0&&(e.mode=zp);break;case dw:if(f===0)break t;a[u++]=e.length,f--,e.mode=zp;break;case i0:if(e.wrap){for(;v<32;){if(h===0)break t;h--,d|=i[o++]<<v,v+=8}if(T-=f,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Wo(e.check,a,T,u-T):Z0(e.check,a,T,u-T)),T=f,e.wrap&4&&(e.flags?d:gw(d))!==e.check){n.msg="incorrect data check",e.mode=Si;break}d=0,v=0}e.mode=pw;case pw:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,d+=i[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Si;break}d=0,v=0}e.mode=mw;case mw:P=sO;break t;case Si:P=dE;break t;case mE:return pE;case gE:default:return Ka}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,(e.wsize||T!==n.avail_out&&e.mode<Si&&(e.mode<i0||t!==Kb))&&wE(n,n.output,n.next_out,T-n.avail_out),A-=n.avail_in,T-=n.avail_out,n.total_in+=A,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?Wo(e.check,a,T,n.next_out-T):Z0(e.check,a,T,n.next_out-T)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ml?128:0)+(e.mode===Fp||e.mode===n0?256:0),(A===0&&T===0||t===Kb)&&P===Dc&&(P=oO),P},gO=n=>{if(Bc(n))return Ka;let t=n.state;return t.window&&(t.window=null),n.state=null,Dc},yO=(n,t)=>{if(Bc(n))return Ka;const e=n.state;return(e.wrap&2)===0?Ka:(e.head=t,t.done=!1,Dc)},vO=(n,t)=>{const e=t.length;let i,a,o;return Bc(n)||(i=n.state,i.wrap!==0&&i.mode!==Dm)?Ka:i.mode===Dm&&(a=1,a=Z0(a,t,e,0),a!==i.check)?dE:(o=wE(n,t,e,e),o?(i.mode=mE,pE):(i.havedict=1,Dc))};var _O=vE,bO=_E,wO=yE,AO=dO,EO=bE,SO=mO,TO=gO,xO=yO,NO=vO,RO="pako inflate (from Nodeca project)",jl={inflateReset:_O,inflateReset2:bO,inflateResetKeep:wO,inflateInit:AO,inflateInit2:EO,inflate:SO,inflateEnd:TO,inflateGetHeader:xO,inflateSetDictionary:NO,inflateInfo:RO};function CO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var IO=CO;const AE=Object.prototype.toString,{Z_NO_FLUSH:LO,Z_FINISH:kO,Z_OK:Ad,Z_STREAM_END:a0,Z_NEED_DICT:o0,Z_STREAM_ERROR:OO,Z_DATA_ERROR:vw,Z_MEM_ERROR:DO}=lE;function Ud(n){this.options=uE.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $k,this.strm.avail_out=0;let e=jl.inflateInit2(this.strm,t.windowBits);if(e!==Ad)throw new Error(t2[e]);if(this.header=new IO,jl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=e2.string2buf(t.dictionary):AE.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=jl.inflateSetDictionary(this.strm,t.dictionary),e!==Ad)))throw new Error(t2[e])}Ud.prototype.push=function(n,t){const e=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?kO:LO,AE.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),o=jl.inflate(e,u),o===o0&&a&&(o=jl.inflateSetDictionary(e,a),o===Ad?o=jl.inflate(e,u):o===vw&&(o=o0));e.avail_in>0&&o===a0&&e.state.wrap>0&&n[e.next_in]!==0;)jl.inflateReset(e),o=jl.inflate(e,u);switch(o){case OO:case vw:case o0:case DO:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===a0))if(this.options.to==="string"){let f=e2.utf8border(e.output,e.next_out),d=e.next_out-f,v=e2.buf2string(e.output,f);e.next_out=d,e.avail_out=i-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Ad&&h===0)){if(o===a0)return o=jl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Ud.prototype.onData=function(n){this.chunks.push(n)};Ud.prototype.onEnd=function(n){n===Ad&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=uE.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function PO(n,t){const e=new Ud(t);if(e.push(n),e.err)throw e.msg||t2[e.err];return e.result}var MO=Ud,UO=PO,jO={Inflate:MO,inflate:UO};const{Inflate:VO,inflate:BO}=jO;var _w=VO,FO=BO;const EE=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;EE[n]=t}const bw=4294967295;function zO(n,t,e){let i=n;for(let a=0;a<e;a++)i=EE[(i^t[a])&255]^i>>>8;return i}function qO(n,t){return(zO(bw,n,t)^bw)>>>0}function ww(n,t,e){const i=n.readUint32(),a=qO(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${a}`)}function SE(n,t,e){for(let i=0;i<e;i++)t[i]=n[i]}function TE(n,t,e,i){let a=0;for(;a<i;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-i]&255}function xE(n,t,e,i){let a=0;if(e.length===0)for(;a<i;a++)t[a]=n[a];else for(;a<i;a++)t[a]=n[a]+e[a]&255}function NE(n,t,e,i,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<i;o++)t[o]=n[o]+(t[o-a]+e[o]>>1)&255}}function RE(n,t,e,i,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=n[o];for(;o<i;o++)t[o]=n[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=n[o]+e[o]&255;for(;o<i;o++)t[o]=n[o]+HO(t[o-a],e[o],e[o-a])&255}}function HO(n,t,e){const i=n+t-e,a=Math.abs(i-n),o=Math.abs(i-t),u=Math.abs(i-e);return a<=o&&a<=u?n:o<=u?t:e}function GO(n,t,e,i,a,o){switch(n){case 0:SE(t,e,a);break;case 1:TE(t,e,a,o);break;case 2:xE(t,e,i,a);break;case 3:NE(t,e,i,a,o);break;case 4:RE(t,e,i,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const YO=new Uint16Array([255]),KO=new Uint8Array(YO.buffer),WO=KO[0]===255;function $O(n){const{data:t,width:e,height:i,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(i*e*h);let d=0;for(let v=0;v<7;v++){const A=u[v],T=Math.ceil((e-A.x)/A.xStep),b=Math.ceil((i-A.y)/A.yStep);if(T<=0||b<=0)continue;const O=T*h,M=new Uint8Array(O);for(let B=0;B<b;B++){const V=t[d++],Z=t.subarray(d,d+O);d+=O;const et=new Uint8Array(O);GO(V,Z,et,M,O,h),M.set(et);for(let nt=0;nt<T;nt++){const _t=A.x+nt*A.xStep,Ot=A.y+B*A.yStep;if(!(_t>=e||Ot>=i))for(let H=0;H<h;H++)f[(Ot*e+_t)*h+H]=et[nt*h+H]}}}if(o===16){const v=new Uint16Array(f.buffer);if(WO)for(let A=0;A<v.length;A++)v[A]=QO(v[A]);return v}else return f}function QO(n){return(n&255)<<8|n>>8&255}const XO=new Uint16Array([255]),JO=new Uint8Array(XO.buffer),ZO=JO[0]===255,tD=new Uint8Array(0);function Aw(n){const{data:t,width:e,height:i,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*e),f=new Uint8Array(i*h);let d=tD,v=0,A,T;for(let b=0;b<i;b++){switch(A=t.subarray(v+1,v+1+h),T=f.subarray(b*h,(b+1)*h),t[v]){case 0:SE(A,T,h);break;case 1:TE(A,T,h,u);break;case 2:xE(A,T,d,h);break;case 3:NE(A,T,d,h,u);break;case 4:RE(A,T,d,h,u);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}d=T,v+=h+1}if(o===16){const b=new Uint16Array(f.buffer);if(ZO)for(let O=0;O<b.length;O++)b[O]=eD(b[O]);return b}else return f}function eD(n){return(n&255)<<8|n>>8&255}const om=Uint8Array.of(137,80,78,71,13,10,26,10);function Ew(n){if(!nD(n.readBytes(om.length)))throw new Error("wrong PNG signature")}function nD(n){if(n.length<om.length)return!1;for(let t=0;t<om.length;t++)if(n[t]!==om[t])return!1;return!0}const iD="tEXt",rD=0,CE=new TextDecoder("latin1");function sD(n){if(oD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const aD=/^[\u0000-\u00FF]*$/;function oD(n){if(!aD.test(n))throw new Error("invalid latin1 text")}function lD(n,t,e){const i=IE(t);n[i]=uD(t,e-i.length-1)}function IE(n){for(n.mark();n.readByte()!==rD;);const t=n.offset;n.reset();const e=CE.decode(n.readBytes(t-n.offset-1));return n.skip(1),sD(e),e}function uD(n,t){return CE.decode(n.readBytes(t))}const ba={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l0={UNKNOWN:-1,DEFLATE:0},Sw={UNKNOWN:-1,ADAPTIVE:0},u0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},qp={NONE:0,BACKGROUND:1,PREVIOUS:2},c0={SOURCE:0,OVER:1};class cD extends wy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new _w,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l0.UNKNOWN,this._filterMethod=Sw.UNKNOWN,this._interlaceMethod=u0.UNKNOWN,this._colorType=ba.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ew(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(Ew(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case iD:lD(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ww(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ww(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=hD(this.readUint8());const e=this.readUint8();this._colorType=e;let i;switch(e){case ba.GREYSCALE:i=1;break;case ba.TRUECOLOUR:i=3;break;case ba.INDEXED_COLOUR:i=1;break;case ba.GREYSCALE_ALPHA:i=2;break;case ba.TRUECOLOUR_ALPHA:i=4;break;case ba.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==l0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<e;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ba.GREYSCALE:case ba.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case ba.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case ba.UNKNOWN:case ba.GREYSCALE_ALPHA:case ba.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=IE(this),i=this.readUint8();if(i!==l0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:FO(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Aw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(i,a,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,i){switch(t.disposeOp){case qp.NONE:break;case qp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[u+h]=0}break;case qp.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const i=1<<this._png.depth,a=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case c0.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)t.data[h+d]=e.data[f+d]}break;case c0.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const v=e.data[f+this._png.channels-1]/i,A=d%(this._png.channels-1)===0?1:e.data[f+d],T=Math.floor(v*A+(1-v)*t.data[h+d]);t.data[h+d]+=T}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Sw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===u0.NO_INTERLACE)this._png.data=Aw({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===u0.ADAM7)this._png.data=$O({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:qp.NONE,blendOp:c0.SOURCE,data:t}),this._inflator=new _w,this._writingDataChunks=!1}}function hD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Tw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Tw||(Tw={}));function fD(n,t){return new cD(n,t).decode()}var Qe=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function h0(){Qe.console&&typeof Qe.console.log=="function"&&Qe.console.log.apply(Qe.console,arguments)}var ui={log:h0,warn:function(n){Qe.console&&(typeof Qe.console.warn=="function"?Qe.console.warn.apply(Qe.console,arguments):h0.call(null,arguments))},error:function(n){Qe.console&&(typeof Qe.console.error=="function"?Qe.console.error.apply(Qe.console,arguments):h0(n))}};function f0(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){_c(i.response,t,e)},i.onerror=function(){ui.error("could not download file")},i.send()}function xw(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Hp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var _c=Qe.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==Qe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=Qe.URL||Qe.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?xw(a.href)?f0(n,t,e):Hp(a,a.target="_blank"):Hp(a)):(a.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Hp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(xw(n))f0(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Hp(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return f0(n,t,e);var a=n.type==="application/octet-stream",o=/constructor/i.test(Qe.HTMLElement)||Qe.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=v:location=v,i=null},h.readAsDataURL(n)}else{var f=Qe.URL||Qe.webkitURL,d=f.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function LE(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,o=e[i].process,u=a.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var lm=Qe.atob.bind(Qe),Nw=Qe.btoa.bind(Qe);function d0(n,t){var e=n[0],i=n[1],a=n[2],o=n[3];e=ms(e,i,a,o,t[0],7,-680876936),o=ms(o,e,i,a,t[1],12,-389564586),a=ms(a,o,e,i,t[2],17,606105819),i=ms(i,a,o,e,t[3],22,-1044525330),e=ms(e,i,a,o,t[4],7,-176418897),o=ms(o,e,i,a,t[5],12,1200080426),a=ms(a,o,e,i,t[6],17,-1473231341),i=ms(i,a,o,e,t[7],22,-45705983),e=ms(e,i,a,o,t[8],7,1770035416),o=ms(o,e,i,a,t[9],12,-1958414417),a=ms(a,o,e,i,t[10],17,-42063),i=ms(i,a,o,e,t[11],22,-1990404162),e=ms(e,i,a,o,t[12],7,1804603682),o=ms(o,e,i,a,t[13],12,-40341101),a=ms(a,o,e,i,t[14],17,-1502002290),e=gs(e,i=ms(i,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=gs(o,e,i,a,t[6],9,-1069501632),a=gs(a,o,e,i,t[11],14,643717713),i=gs(i,a,o,e,t[0],20,-373897302),e=gs(e,i,a,o,t[5],5,-701558691),o=gs(o,e,i,a,t[10],9,38016083),a=gs(a,o,e,i,t[15],14,-660478335),i=gs(i,a,o,e,t[4],20,-405537848),e=gs(e,i,a,o,t[9],5,568446438),o=gs(o,e,i,a,t[14],9,-1019803690),a=gs(a,o,e,i,t[3],14,-187363961),i=gs(i,a,o,e,t[8],20,1163531501),e=gs(e,i,a,o,t[13],5,-1444681467),o=gs(o,e,i,a,t[2],9,-51403784),a=gs(a,o,e,i,t[7],14,1735328473),e=ys(e,i=gs(i,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ys(o,e,i,a,t[8],11,-2022574463),a=ys(a,o,e,i,t[11],16,1839030562),i=ys(i,a,o,e,t[14],23,-35309556),e=ys(e,i,a,o,t[1],4,-1530992060),o=ys(o,e,i,a,t[4],11,1272893353),a=ys(a,o,e,i,t[7],16,-155497632),i=ys(i,a,o,e,t[10],23,-1094730640),e=ys(e,i,a,o,t[13],4,681279174),o=ys(o,e,i,a,t[0],11,-358537222),a=ys(a,o,e,i,t[3],16,-722521979),i=ys(i,a,o,e,t[6],23,76029189),e=ys(e,i,a,o,t[9],4,-640364487),o=ys(o,e,i,a,t[12],11,-421815835),a=ys(a,o,e,i,t[15],16,530742520),e=vs(e,i=ys(i,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=vs(o,e,i,a,t[7],10,1126891415),a=vs(a,o,e,i,t[14],15,-1416354905),i=vs(i,a,o,e,t[5],21,-57434055),e=vs(e,i,a,o,t[12],6,1700485571),o=vs(o,e,i,a,t[3],10,-1894986606),a=vs(a,o,e,i,t[10],15,-1051523),i=vs(i,a,o,e,t[1],21,-2054922799),e=vs(e,i,a,o,t[8],6,1873313359),o=vs(o,e,i,a,t[15],10,-30611744),a=vs(a,o,e,i,t[6],15,-1560198380),i=vs(i,a,o,e,t[13],21,1309151649),e=vs(e,i,a,o,t[4],6,-145523070),o=vs(o,e,i,a,t[11],10,-1120210379),a=vs(a,o,e,i,t[2],15,718787259),i=vs(i,a,o,e,t[9],21,-343485551),n[0]=Pu(e,n[0]),n[1]=Pu(i,n[1]),n[2]=Pu(a,n[2]),n[3]=Pu(o,n[3])}function dg(n,t,e,i,a,o){return t=Pu(Pu(t,n),Pu(i,o)),Pu(t<<a|t>>>32-a,e)}function ms(n,t,e,i,a,o,u){return dg(t&e|~t&i,n,t,a,o,u)}function gs(n,t,e,i,a,o,u){return dg(t&i|e&~i,n,t,a,o,u)}function ys(n,t,e,i,a,o,u){return dg(t^e^i,n,t,a,o,u)}function vs(n,t,e,i,a,o,u){return dg(e^(t|~i),n,t,a,o,u)}function kE(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)d0(i,dD(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(d0(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,d0(i,a),i}function dD(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Rw="0123456789abcdef".split("");function pD(n){for(var t="",e=0;e<4;e++)t+=Rw[n>>8*e+4&15]+Rw[n>>8*e&15];return t}function mD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function n2(n){return kE(n).map(mD).join("")}var gD=(function(n){for(var t=0;t<n.length;t++)n[t]=pD(n[t]);return n.join("")})(kE("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pu(n,t){if(gD){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function i2(n,t){var e,i,a,o;if(n!==e){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+u.charCodeAt(f))%256,h[f]=h[d],h[d]=v}e=n,i=h}else h=i;var A=t.length,T=0,b=0,O="";for(f=0;f<A;f++)b=(b+(v=h[T=(T+1)%256]))%256,h[T]=h[b],h[b]=v,u=h[(h[T]+h[b])%256],O+=String.fromCharCode(t.charCodeAt(f)^u);return O}var Cw={print:4,modify:8,copy:16,"annot-forms":32};function Ch(n,t,e,i){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(Cw.perm!==void 0)throw new Error("Invalid permission: "+h);a+=Cw[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=n2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=i2(this.encryptionKey,this.padding)}function Ih(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var a=n.charCodeAt(i);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[i]}return t}function Iw(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[i,!!a],o},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,i)}catch(h){Qe.console&&ui.error("jsPDF PubSub Error",h.message,h)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pm(n){if(!(this instanceof Pm))return new Pm(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function OE(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function bc(n,t,e,i,a){if(!(this instanceof bc))return new bc(n,t,e,i,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,OE.call(this,i,a)}function kh(n,t,e,i,a){if(!(this instanceof kh))return new kh(n,t,e,i,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,OE.call(this,i,a)}function Ie(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],u=[],h=1,f=16,d="S",v=null;Qn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),i=i||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,T={},b={internal:{},__private__:{}};b.__private__.PubSub=Iw;var O="1.3",M=b.__private__.getPdfVersion=function(){return O};b.__private__.setPdfVersion=function(w){O=w};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return B};var V=b.__private__.getPageFormat=function(w){return B[w]};a=a||"a4";var Z="compat",et="advanced",nt=Z;function _t(){this.saveGraphicsState(),tt(new Re(le,0,0,-le,0,xs()*le).toString()+" cm"),this.setFontSize(this.getFontSize()/le),d="n",nt=et}function Ot(){this.restoreGraphicsState(),d="S",nt=Z}var H=b.__private__.combineFontStyleAndFontWeight=function(w,U){if(w=="bold"&&U=="normal"||w=="bold"&&U==400||w=="normal"&&U=="italic"||w=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(w=U==400||U==="normal"?w==="italic"?"italic":"normal":U!=700&&U!=="bold"||w!=="normal"?(U==700?"bold":U)+""+w:"bold"),w};b.advancedAPI=function(w){var U=nt===Z;return U&&_t.call(this),typeof w!="function"||(w(this),U&&Ot.call(this)),this},b.compatAPI=function(w){var U=nt===et;return U&&Ot.call(this),typeof w!="function"||(w(this),U&&_t.call(this)),this},b.isAdvancedAPI=function(){return nt===et};var P,I=function(w){if(nt!==et)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=b.roundToPrecision=b.__private__.roundToPrecision=function(w,U){var rt=t||U;if(isNaN(w)||isNaN(rt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(rt).replace(/0+$/,"")};P=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,16)};var N=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return q(w,2)},k=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return q(w,3)},D=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return nt===Z?w*le:nt===et?w:void 0},lt=function(w){return D((function(U){return nt===Z?xs()-U:nt===et?U:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var xt,at="00000000000000000000000000000000",pt=b.__private__.getFileId=function(){return at},ft=b.__private__.setFileId=function(w){return at=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():at.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(si=new Ch(v.userPermissions,v.userPassword,v.ownerPassword,at)),at};b.setFileId=function(w){return ft(w),this},b.getFileId=function(){return pt()};var Nt=b.__private__.convertDateToPDFDate=function(w){var U=w.getTimezoneOffset(),rt=U<0?"+":"-",ht=Math.floor(Math.abs(U/60)),vt=Math.abs(U%60),Bt=[rt,J(ht),"'",J(vt),"'"].join("");return["D:",w.getFullYear(),J(w.getMonth()+1),J(w.getDate()),J(w.getHours()),J(w.getMinutes()),J(w.getSeconds()),Bt].join("")},Ht=b.__private__.convertPDFDateToDate=function(w){var U=parseInt(w.substr(2,4),10),rt=parseInt(w.substr(6,2),10)-1,ht=parseInt(w.substr(8,2),10),vt=parseInt(w.substr(10,2),10),Bt=parseInt(w.substr(12,2),10),$t=parseInt(w.substr(14,2),10);return new Date(U,rt,ht,vt,Bt,$t,0)},X=b.__private__.setCreationDate=function(w){var U;if(w===void 0&&(w=new Date),w instanceof Date)U=Nt(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=w}return xt=U},L=b.__private__.getCreationDate=function(w){var U=xt;return w==="jsDate"&&(U=Ht(xt)),U};b.setCreationDate=function(w){return X(w),this},b.getCreationDate=function(w){return L(w)};var Y,J=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ot=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ut=0,gt=[],Lt=[],Ct=0,Vt=[],Xt=[],re=!1,ie=Lt;b.__private__.setCustomOutputDestination=function(w){re=!0,ie=w};var he=function(w){re||(ie=w)};b.__private__.resetCustomOutputDestination=function(){re=!1,ie=Lt};var tt=b.__private__.out=function(w){return w=w.toString(),Ct+=w.length+1,ie.push(w),ie},ee=b.__private__.write=function(w){return tt(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},Ge=b.__private__.getArrayBuffer=function(w){for(var U=w.length,rt=new ArrayBuffer(U),ht=new Uint8Array(rt);U--;)ht[U]=w.charCodeAt(U);return rt},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ee};var zt=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return zt=nt===et?w/le:w,this};var ae,se=b.__private__.getFontSize=b.getFontSize=function(){return nt===Z?zt:zt*le},Te=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Te=w,this},b.__private__.getR2L=b.getR2L=function(){return Te};var be,Ye=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ae=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ae=w}else ae=parseInt(w,10)};b.__private__.getZoomMode=function(){return ae};var Xe,Fe=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');be=w};b.__private__.getPageMode=function(){return be};var an=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Xe=w};b.__private__.getLayoutMode=function(){return Xe},b.__private__.setDisplayMode=b.setDisplayMode=function(w,U,rt){return Ye(w),an(U),Fe(rt),this};var We={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(We).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return We[w]},b.__private__.getDocumentProperties=function(){return We},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var U in We)We.hasOwnProperty(U)&&w[U]&&(We[U]=w[U]);return this},b.__private__.setDocumentProperty=function(w,U){if(Object.keys(We).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return We[w]=U};var St,le,te,Je,Ue,_e={},xe={},Ze=[],Ne={},In={},je={},Ve={},On=null,Se=0,we=[],ln=new Iw(b),pr=n.hotfixes||[],ir={},Os={},Ki=[],Re=function w(U,rt,ht,vt,Bt,$t){if(!(this instanceof w))return new w(U,rt,ht,vt,Bt,$t);isNaN(U)&&(U=1),isNaN(rt)&&(rt=0),isNaN(ht)&&(ht=0),isNaN(vt)&&(vt=1),isNaN(Bt)&&(Bt=0),isNaN($t)&&($t=0),this._matrix=[U,rt,ht,vt,Bt,$t]};Object.defineProperty(Re.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Re.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Re.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Re.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Re.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Re.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Re.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Re.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Re.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Re.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Re.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Re.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Re.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Re.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Re.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Re.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Re.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(w)},Re.prototype.multiply=function(w){var U=w.sx*this.sx+w.shy*this.shx,rt=w.sx*this.shy+w.shy*this.sy,ht=w.shx*this.sx+w.sy*this.shx,vt=w.shx*this.shy+w.sy*this.sy,Bt=w.tx*this.sx+w.ty*this.shx+this.tx,$t=w.tx*this.shy+w.ty*this.sy+this.ty;return new Re(U,rt,ht,vt,Bt,$t)},Re.prototype.decompose=function(){var w=this.sx,U=this.shy,rt=this.shx,ht=this.sy,vt=this.tx,Bt=this.ty,$t=Math.sqrt(w*w+U*U),fe=(w/=$t)*rt+(U/=$t)*ht;rt-=w*fe,ht-=U*fe;var ge=Math.sqrt(rt*rt+ht*ht);return fe/=ge,w*(ht/=ge)<U*(rt/=ge)&&(w=-w,U=-U,fe=-fe,$t=-$t),{scale:new Re($t,0,0,ge,0,0),translate:new Re(1,0,0,1,vt,Bt),rotate:new Re(w,U,-U,w,0,0),skew:new Re(1,0,fe,1,0,0)}},Re.prototype.toString=function(w){return this.join(" ")},Re.prototype.inversed=function(){var w=this.sx,U=this.shy,rt=this.shx,ht=this.sy,vt=this.tx,Bt=this.ty,$t=1/(w*ht-U*rt),fe=ht*$t,ge=-U*$t,Oe=-rt*$t,Ce=w*$t;return new Re(fe,ge,Oe,Ce,-fe*vt-Oe*Bt,-ge*vt-Ce*Bt)},Re.prototype.applyToPoint=function(w){var U=w.x*this.sx+w.y*this.shx+this.tx,rt=w.x*this.shy+w.y*this.sy+this.ty;return new ar(U,rt)},Re.prototype.applyToRectangle=function(w){var U=this.applyToPoint(w),rt=this.applyToPoint(new ar(w.x+w.w,w.y+w.h));return new Ps(U.x,U.y,rt.x-U.x,rt.y-U.y)},Re.prototype.clone=function(){var w=this.sx,U=this.shy,rt=this.shx,ht=this.sy,vt=this.tx,Bt=this.ty;return new Re(w,U,rt,ht,vt,Bt)},b.Matrix=Re;var sa=b.matrixMult=function(w,U){return U.multiply(w)},qr=new Re(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=qr;var Rr=function(w,U){if(!In[w]){var rt=(U instanceof bc?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);U.id=rt,In[w]=rt,Ne[rt]=U,ln.publish("addPattern",U)}};b.ShadingPattern=bc,b.TilingPattern=kh,b.addShadingPattern=function(w,U){return I("addShadingPattern()"),Rr(w,U),this},b.beginTilingPattern=function(w){I("beginTilingPattern()"),Ms(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,U){I("endTilingPattern()"),U.stream=Xt[Y].join(`
`),Rr(w,U),ln.publish("endTilingPattern",U),Ki.pop().restore()};var Cr,zn=b.__private__.newObject=function(){var w=Xn();return Di(w,!0),w},Xn=b.__private__.newObjectDeferred=function(){return ut++,gt[ut]=function(){return Ct},ut},Di=function(w,U){return U=typeof U=="boolean"&&U,gt[w]=Ct,U&&tt(w+" 0 obj"),w},mr=b.__private__.newAdditionalObject=function(){var w={objId:Xn(),content:""};return Vt.push(w),w},rr=Xn(),Dn=Xn(),Gn=b.__private__.decodeColorString=function(w){var U=w.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var rt=parseFloat(U[0]);U=[rt,rt,rt,"r"]}for(var ht="#",vt=0;vt<3;vt++)ht+=("0"+Math.floor(255*parseFloat(U[vt])).toString(16)).slice(-2);return ht},Pi=b.__private__.encodeColorString=function(w){var U;typeof w=="string"&&(w={ch1:w});var rt=w.ch1,ht=w.ch2,vt=w.ch3,Bt=w.ch4,$t=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof rt=="string"&&rt.charAt(0)!=="#"){var fe=new LE(rt);if(fe.ok)rt=fe.toHex();else if(!/^\d*\.?\d*$/.test(rt))throw new Error('Invalid color "'+rt+'" passed to jsPDF.encodeColorString.')}if(typeof rt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(rt)&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),typeof rt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(rt)){var ge=parseInt(rt.substr(1),16);rt=ge>>16&255,ht=ge>>8&255,vt=255&ge}if(ht===void 0||Bt===void 0&&rt===ht&&ht===vt)U=typeof rt=="string"?rt+" "+$t[0]:w.precision===2?N(rt/255)+" "+$t[0]:k(rt/255)+" "+$t[0];else if(Bt===void 0||Qn(Bt)==="object"){if(Bt&&!isNaN(Bt.a)&&Bt.a===0)return["1.","1.","1.",$t[1]].join(" ");U=typeof rt=="string"?[rt,ht,vt,$t[1]].join(" "):w.precision===2?[N(rt/255),N(ht/255),N(vt/255),$t[1]].join(" "):[k(rt/255),k(ht/255),k(vt/255),$t[1]].join(" ")}else U=typeof rt=="string"?[rt,ht,vt,Bt,$t[2]].join(" "):w.precision===2?[N(rt),N(ht),N(vt),N(Bt),$t[2]].join(" "):[k(rt),k(ht),k(vt),k(Bt),$t[2]].join(" ");return U},Ir=b.__private__.getFilters=function(){return u},as=b.__private__.putStream=function(w){var U=(w=w||{}).data||"",rt=w.filters||Ir(),ht=w.alreadyAppliedFilters||[],vt=w.addLength1||!1,Bt=U.length,$t=w.objectId,fe=function(S){return S};if(v!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(fe=si.encryptor($t,0));var ge={};rt===!0&&(rt=["FlateEncode"]);var Oe=w.additionalKeyValues||[],Ce=(ge=Ie.API.processDataByFilters!==void 0?Ie.API.processDataByFilters(U,rt):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(ht)?ht.join(" "):ht.toString());if(ge.data.length!==0&&(Oe.push({key:"Length",value:ge.data.length}),vt===!0&&Oe.push({key:"Length1",value:Bt})),Ce.length!=0)if(Ce.split("/").length-1==1)Oe.push({key:"Filter",value:Ce});else{Oe.push({key:"Filter",value:"["+Ce+"]"});for(var dn=0;dn<Oe.length;dn+=1)if(Oe[dn].key==="DecodeParms"){for(var Jn=[],qn=0;qn<ge.reverseChain.split("/").length-1;qn+=1)Jn.push("null");Jn.push(Oe[dn].value),Oe[dn].value="["+Jn.join(" ")+"]"}}tt("<<");for(var m=0;m<Oe.length;m++)tt("/"+Oe[m].key+" "+Oe[m].value);tt(">>"),ge.data.length!==0&&(tt("stream"),tt(fe(ge.data)),tt("endstream"))},Ta=b.__private__.putPage=function(w){var U=w.number,rt=w.data,ht=w.objId,vt=w.contentsObjId;Di(ht,!0),tt("<</Type /Page"),tt("/Parent "+w.rootDictionaryObjId+" 0 R"),tt("/Resources "+w.resourceDictionaryObjId+" 0 R"),tt("/MediaBox ["+parseFloat(P(w.mediaBox.bottomLeftX))+" "+parseFloat(P(w.mediaBox.bottomLeftY))+" "+P(w.mediaBox.topRightX)+" "+P(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&tt("/CropBox ["+P(w.cropBox.bottomLeftX)+" "+P(w.cropBox.bottomLeftY)+" "+P(w.cropBox.topRightX)+" "+P(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&tt("/BleedBox ["+P(w.bleedBox.bottomLeftX)+" "+P(w.bleedBox.bottomLeftY)+" "+P(w.bleedBox.topRightX)+" "+P(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&tt("/TrimBox ["+P(w.trimBox.bottomLeftX)+" "+P(w.trimBox.bottomLeftY)+" "+P(w.trimBox.topRightX)+" "+P(w.trimBox.topRightY)+"]"),w.artBox!==null&&tt("/ArtBox ["+P(w.artBox.bottomLeftX)+" "+P(w.artBox.bottomLeftY)+" "+P(w.artBox.topRightX)+" "+P(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&tt("/UserUnit "+w.userUnit),ln.publish("putPage",{objId:ht,pageContext:we[U],pageNumber:U,page:rt}),tt("/Contents "+vt+" 0 R"),tt(">>"),tt("endobj");var Bt=rt.join(`
`);return nt===et&&(Bt+=`
Q`),Di(vt,!0),as({data:Bt,filters:Ir(),objectId:vt}),tt("endobj"),ht},As=b.__private__.putPages=function(){var w,U,rt=[];for(w=1;w<=Se;w++)we[w].objId=Xn(),we[w].contentsObjId=Xn();for(w=1;w<=Se;w++)rt.push(Ta({number:w,data:Xt[w],objId:we[w].objId,contentsObjId:we[w].contentsObjId,mediaBox:we[w].mediaBox,cropBox:we[w].cropBox,bleedBox:we[w].bleedBox,trimBox:we[w].trimBox,artBox:we[w].artBox,userUnit:we[w].userUnit,rootDictionaryObjId:rr,resourceDictionaryObjId:Dn}));Di(rr,!0),tt("<</Type /Pages");var ht="/Kids [";for(U=0;U<Se;U++)ht+=rt[U]+" 0 R ";tt(ht+"]"),tt("/Count "+Se),tt(">>"),tt("endobj"),ln.publish("postPutPages")},Lr=function(w){ln.publish("putFont",{font:w,out:tt,newObject:zn,putStream:as}),w.isAlreadyPutted!==!0&&(w.objectNumber=zn(),tt("<<"),tt("/Type /Font"),tt("/BaseFont /"+Ih(w.postScriptName)),tt("/Subtype /Type1"),typeof w.encoding=="string"&&tt("/Encoding /"+w.encoding),tt("/FirstChar 32"),tt("/LastChar 255"),tt(">>"),tt("endobj"))},aa=function(w){w.objectNumber=zn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[P(w.x),P(w.y),P(w.x+w.width),P(w.y+w.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var rt=w.pages[1].join(`
`);as({data:rt,additionalKeyValues:U,objectId:w.objectNumber}),tt("endobj")},Hr=function(w,U){U||(U=21);var rt=zn(),ht=(function($t,fe){var ge,Oe=[],Ce=1/(fe-1);for(ge=0;ge<1;ge+=Ce)Oe.push(ge);if(Oe.push(1),$t[0].offset!=0){var dn={offset:0,color:$t[0].color};$t.unshift(dn)}if($t[$t.length-1].offset!=1){var Jn={offset:1,color:$t[$t.length-1].color};$t.push(Jn)}for(var qn="",m=0,S=0;S<Oe.length;S++){for(ge=Oe[S];ge>$t[m+1].offset;)m++;var C=$t[m].offset,W=(ge-C)/($t[m+1].offset-C),At=$t[m].color,Dt=$t[m+1].color;qn+=ot(Math.round((1-W)*At[0]+W*Dt[0]).toString(16))+ot(Math.round((1-W)*At[1]+W*Dt[1]).toString(16))+ot(Math.round((1-W)*At[2]+W*Dt[2]).toString(16))}return qn.trim()})(w.colors,U),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+U+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),as({data:ht,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:rt}),tt("endobj"),w.objectNumber=zn(),tt("<< /ShadingType "+w.type),tt("/ColorSpace /DeviceRGB");var Bt="/Coords ["+P(parseFloat(w.coords[0]))+" "+P(parseFloat(w.coords[1]))+" ";w.type===2?Bt+=P(parseFloat(w.coords[2]))+" "+P(parseFloat(w.coords[3])):Bt+=P(parseFloat(w.coords[2]))+" "+P(parseFloat(w.coords[3]))+" "+P(parseFloat(w.coords[4]))+" "+P(parseFloat(w.coords[5])),tt(Bt+="]"),w.matrix&&tt("/Matrix ["+w.matrix.toString()+"]"),tt("/Function "+rt+" 0 R"),tt("/Extend [true true]"),tt(">>"),tt("endobj")},gr=function(w,U){var rt=Xn(),ht=zn();U.push({resourcesOid:rt,objectOid:ht}),w.objectNumber=ht;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+w.boundingBox.map(P).join(" ")+"]"}),vt.push({key:"XStep",value:P(w.xStep)}),vt.push({key:"YStep",value:P(w.yStep)}),vt.push({key:"Resources",value:rt+" 0 R"}),w.matrix&&vt.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),as({data:w.stream,additionalKeyValues:vt,objectId:w.objectNumber}),tt("endobj")},Gr=function(w){for(var U in w.objectNumber=zn(),tt("<<"),w)switch(U){case"opacity":tt("/ca "+N(w[U]));break;case"stroke-opacity":tt("/CA "+N(w[U]))}tt(">>"),tt("endobj")},os=function(w){Di(w.resourcesOid,!0),tt("<<"),tt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in tt("/Font <<"),_e)_e.hasOwnProperty(U)&&(A===!1||A===!0&&T.hasOwnProperty(U))&&tt("/"+U+" "+_e[U].objectNumber+" 0 R");tt(">>")})(),(function(){if(Object.keys(Ne).length>0){for(var U in tt("/Shading <<"),Ne)Ne.hasOwnProperty(U)&&Ne[U]instanceof bc&&Ne[U].objectNumber>=0&&tt("/"+U+" "+Ne[U].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),tt(">>")}})(),(function(U){if(Object.keys(Ne).length>0){for(var rt in tt("/Pattern <<"),Ne)Ne.hasOwnProperty(rt)&&Ne[rt]instanceof b.TilingPattern&&Ne[rt].objectNumber>=0&&Ne[rt].objectNumber<U&&tt("/"+rt+" "+Ne[rt].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),tt(">>")}})(w.objectOid),(function(){if(Object.keys(je).length>0){var U;for(U in tt("/ExtGState <<"),je)je.hasOwnProperty(U)&&je[U].objectNumber>=0&&tt("/"+U+" "+je[U].objectNumber+" 0 R");ln.publish("putGStateDict"),tt(">>")}})(),(function(){for(var U in tt("/XObject <<"),ir)ir.hasOwnProperty(U)&&ir[U].objectNumber>=0&&tt("/"+U+" "+ir[U].objectNumber+" 0 R");ln.publish("putXobjectDict"),tt(">>")})(),tt(">>"),tt("endobj")},hi=function(w){xe[w.fontName]=xe[w.fontName]||{},xe[w.fontName][w.fontStyle]=w.id},xo=function(w,U,rt,ht,vt){var Bt={id:"F"+(Object.keys(_e).length+1).toString(10),postScriptName:w,fontName:U,fontStyle:rt,encoding:ht,isStandardFont:vt||!1,metadata:{}};return ln.publish("addFont",{font:Bt,instance:this}),_e[Bt.id]=Bt,hi(Bt),Bt.id},kr=b.__private__.pdfEscape=b.pdfEscape=function(w,U){return(function(rt,ht){var vt,Bt,$t,fe,ge,Oe,Ce,dn,Jn;if($t=(ht=ht||{}).sourceEncoding||"Unicode",ge=ht.outputEncoding,(ht.autoencode||ge)&&_e[St].metadata&&_e[St].metadata[$t]&&_e[St].metadata[$t].encoding&&(fe=_e[St].metadata[$t].encoding,!ge&&_e[St].encoding&&(ge=_e[St].encoding),!ge&&fe.codePages&&(ge=fe.codePages[0]),typeof ge=="string"&&(ge=fe[ge]),ge)){for(Ce=!1,Oe=[],vt=0,Bt=rt.length;vt<Bt;vt++)(dn=ge[rt.charCodeAt(vt)])?Oe.push(String.fromCharCode(dn)):Oe.push(rt[vt]),Oe[vt].charCodeAt(0)>>8&&(Ce=!0);rt=Oe.join("")}for(vt=rt.length;Ce===void 0&&vt!==0;)rt.charCodeAt(vt-1)>>8&&(Ce=!0),vt--;if(!Ce)return rt;for(Oe=ht.noBOM?[]:[254,255],vt=0,Bt=rt.length;vt<Bt;vt++){if((Jn=(dn=rt.charCodeAt(vt))>>8)>>8)throw new Error("Character at position "+vt+" of string '"+rt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Oe.push(Jn),Oe.push(dn-(Jn<<8))}return String.fromCharCode.apply(void 0,Oe)})(w,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ls=b.__private__.beginPage=function(w){Xt[++Se]=[],we[Se]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},No(Se),he(Xt[Y])},Es=function(w,U){var rt,ht,vt;switch(e=U||e,typeof w=="string"&&(rt=V(w.toLowerCase()),Array.isArray(rt)&&(ht=rt[0],vt=rt[1])),Array.isArray(w)&&(ht=w[0]*le,vt=w[1]*le),isNaN(ht)&&(ht=a[0],vt=a[1]),(ht>14400||vt>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ht=Math.min(14400,ht),vt=Math.min(14400,vt)),a=[ht,vt],e.substr(0,1)){case"l":vt>ht&&(a=[vt,ht]);break;case"p":ht>vt&&(a=[vt,ht])}ls(a),Le(Dr),tt(Kr),$r!==0&&tt($r+" J"),Ri!==0&&tt(Ri+" j"),ln.publish("addPage",{pageNumber:Se})},$a=function(w){w>0&&w<=Se&&(Xt.splice(w,1),we.splice(w,1),Se--,Y>Se&&(Y=Se),this.setPage(Y))},No=function(w){w>0&&w<=Se&&(Y=w)},Ro=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Xt.length-1},ul=function(w,U,rt){var ht,vt=void 0;return rt=rt||{},w=w!==void 0?w:_e[St].fontName,U=U!==void 0?U:_e[St].fontStyle,ht=w.toLowerCase(),xe[ht]!==void 0&&xe[ht][U]!==void 0?vt=xe[ht][U]:xe[w]!==void 0&&xe[w][U]!==void 0?vt=xe[w][U]:rt.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+w+"', '"+U+"'. Refer to getFontList() for available fonts."),vt||rt.noFallback||(vt=xe.times[U])==null&&(vt=xe.times.normal),vt},Yr=b.__private__.putInfo=function(){var w=zn(),U=function(ht){return ht};for(var rt in v!==null&&(U=si.encryptor(w,0)),tt("<<"),tt("/Producer ("+kr(U("jsPDF "+Ie.version))+")"),We)We.hasOwnProperty(rt)&&We[rt]&&tt("/"+rt.substr(0,1).toUpperCase()+rt.substr(1)+" ("+kr(U(We[rt]))+")");tt("/CreationDate ("+kr(U(xt))+")"),tt(">>"),tt("endobj")},sr=b.__private__.putCatalog=function(w){var U=(w=w||{}).rootDictionaryObjId||rr;switch(zn(),tt("<<"),tt("/Type /Catalog"),tt("/Pages "+U+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":tt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":tt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":tt("/OpenAction [3 0 R /Fit]");break;case"original":tt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var rt=""+ae;rt.substr(rt.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&tt("/OpenAction [3 0 R /XYZ null null "+N(ae)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":tt("/PageLayout /OneColumn");break;case"single":tt("/PageLayout /SinglePage");break;case"two":case"twoleft":tt("/PageLayout /TwoColumnLeft");break;case"tworight":tt("/PageLayout /TwoColumnRight")}be&&tt("/PageMode /"+be),ln.publish("putCatalog"),tt(">>"),tt("endobj")},vi=b.__private__.putTrailer=function(){tt("trailer"),tt("<<"),tt("/Size "+(ut+1)),tt("/Root "+ut+" 0 R"),tt("/Info "+(ut-1)+" 0 R"),v!==null&&tt("/Encrypt "+si.oid+" 0 R"),tt("/ID [ <"+at+"> <"+at+"> ]"),tt(">>")},fn=b.__private__.putHeader=function(){tt("%PDF-"+O),tt("%")},oa=b.__private__.putXRef=function(){var w="0000000000";tt("xref"),tt("0 "+(ut+1)),tt("0000000000 65535 f ");for(var U=1;U<=ut;U++)typeof gt[U]=="function"?tt((w+gt[U]()).slice(-10)+" 00000 n "):gt[U]!==void 0?tt((w+gt[U]).slice(-10)+" 00000 n "):tt("0000000000 00000 n ")},us=b.__private__.buildDocument=function(){var w;ut=0,Ct=0,Lt=[],gt=[],Vt=[],rr=Xn(),Dn=Xn(),he(Lt),ln.publish("buildDocument"),fn(),As(),(function(){ln.publish("putAdditionalObjects");for(var rt=0;rt<Vt.length;rt++){var ht=Vt[rt];Di(ht.objId,!0),tt(ht.content),tt("endobj")}ln.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var rt in _e)_e.hasOwnProperty(rt)&&(A===!1||A===!0&&T.hasOwnProperty(rt))&&Lr(_e[rt])})(),(function(){var rt;for(rt in je)je.hasOwnProperty(rt)&&Gr(je[rt])})(),(function(){for(var rt in ir)ir.hasOwnProperty(rt)&&aa(ir[rt])})(),(function(rt){var ht;for(ht in Ne)Ne.hasOwnProperty(ht)&&(Ne[ht]instanceof bc?Hr(Ne[ht]):Ne[ht]instanceof kh&&gr(Ne[ht],rt))})(w),ln.publish("putResources"),w.forEach(os),os({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),v!==null&&(si.oid=zn(),tt("<<"),tt("/Filter /Standard"),tt("/V "+si.v),tt("/R "+si.r),tt("/U <"+si.toHexString(si.U)+">"),tt("/O <"+si.toHexString(si.O)+">"),tt("/P "+si.P),tt(">>"),tt("endobj")),Yr(),sr();var U=Ct;return oa(),vi(),tt("startxref"),tt(""+U),tt("%%EOF"),he(Xt[Y]),Lt.join(`
`)},vn=b.__private__.getBlob=function(w){return new Blob([Ge(w)],{type:"application/pdf"})},xa=b.output=b.__private__.output=(Cr=function(w,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",w){case void 0:return us();case"save":b.save(U.filename);break;case"arraybuffer":return Ge(us());case"blob":return vn(us());case"bloburi":case"bloburl":if(Qe.URL!==void 0&&typeof Qe.URL.createObjectURL=="function")return Qe.URL&&Qe.URL.createObjectURL(vn(us()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var rt="",ht=us();try{rt=Nw(ht)}catch{rt=Nw(unescape(encodeURIComponent(ht)))}return"data:application/pdf;filename="+U.filename+";base64,"+rt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(vt=U.pdfObjectUrl,Bt="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+Bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",fe=Qe.open();return fe!==null&&fe.document.write($t),fe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Oe=Qe.open();if(Oe!==null){Oe.document.write(ge);var Ce=this;Oe.document.documentElement.querySelector("#pdfViewer").onload=function(){Oe.document.title=U.filename,Oe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ce.output("bloburl"))}}return Oe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Jn=Qe.open();if(Jn!==null&&(Jn.document.write(dn),Jn.document.title=U.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Qe.document.location.href=this.output("datauristring",U);default:return null}},Cr.foo=function(){try{return Cr.apply(this,arguments)}catch(rt){var w=rt.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var U="Error in function "+w.split(`
`)[0].split("<")[0]+": "+rt.message;if(!Qe.console)throw new Error(U);Qe.console.error(U,rt),Qe.alert&&alert(U)}},Cr.foo.bar=Cr,Cr.foo),Ni=function(w){return Array.isArray(pr)===!0&&pr.indexOf(w)>-1};switch(i){case"pt":le=1;break;case"mm":le=72/25.4;break;case"cm":le=72/2.54;break;case"in":le=72;break;case"px":le=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":le=12;break;case"ex":le=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);le=i}var si=null;X(),ft();var _i=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:we[w].objId,pageNumber:w,pageContext:we[w]}},Qa=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in we)if(we[U].objId===w)break;return _i(U)},Xl=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:we[Y].objId,pageNumber:Y,pageContext:we[Y]}};b.addPage=function(){return Es.apply(this,arguments),this},b.setPage=function(){return No.apply(this,arguments),he.call(this,Xt[Y]),this},b.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},b.movePage=function(w,U){var rt,ht;if(w>U){rt=Xt[w],ht=we[w];for(var vt=w;vt>U;vt--)Xt[vt]=Xt[vt-1],we[vt]=we[vt-1];Xt[U]=rt,we[U]=ht,this.setPage(U)}else if(w<U){rt=Xt[w],ht=we[w];for(var Bt=w;Bt<U;Bt++)Xt[Bt]=Xt[Bt+1],we[Bt]=we[Bt+1];Xt[U]=rt,we[U]=ht,this.setPage(U)}return this},b.deletePage=function(){return $a.apply(this,arguments),this},b.__private__.text=b.text=function(w,U,rt,ht,vt){var Bt,$t,fe,ge,Oe,Ce,dn,Jn,qn,m=(ht=ht||{}).scope||this;if(typeof w=="number"&&typeof U=="number"&&(typeof rt=="string"||Array.isArray(rt))){var S=rt;rt=U,U=w,w=S}if(arguments[3]instanceof Re==0?(fe=arguments[4],ge=arguments[5],Qn(dn=arguments[3])==="object"&&dn!==null||(typeof fe=="string"&&(ge=fe,fe=null),typeof dn=="string"&&(ge=dn,dn=null),typeof dn=="number"&&(fe=dn,dn=null),ht={flags:dn,angle:fe,align:ge})):(I("The transform parameter of text() with a Matrix value"),qn=vt),isNaN(U)||isNaN(rt)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return m;var C,W="",At=typeof ht.lineHeightFactor=="number"?ht.lineHeightFactor:ca,Dt=m.internal.scaleFactor;function Zt(Ln){return Ln=Ln.split("	").join(Array(ht.TabLen||9).join(" ")),kr(Ln,dn)}function Ke(Ln){for(var Sn,ti=Ln.concat(),Ii=[],ja=ti.length;ja--;)typeof(Sn=ti.shift())=="string"?Ii.push(Sn):Array.isArray(Ln)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Ii.push(Sn[0]):Ii.push([Sn[0],Sn[1],Sn[2]]);return Ii}function Zn(Ln,Sn){var ti;if(typeof Ln=="string")ti=Sn(Ln)[0];else if(Array.isArray(Ln)){for(var Ii,ja,pa=Ln.concat(),yl=[],ic=pa.length;ic--;)typeof(Ii=pa.shift())=="string"?yl.push(Sn(Ii)[0]):Array.isArray(Ii)&&typeof Ii[0]=="string"&&(ja=Sn(Ii[0],Ii[1],Ii[2]),yl.push([ja[0],ja[1],ja[2]]));ti=yl}return ti}var cn=!1,Mn=!0;if(typeof w=="string")cn=!0;else if(Array.isArray(w)){var or=w.concat();$t=[];for(var vr,Yn=or.length;Yn--;)(typeof(vr=or.shift())!="string"||Array.isArray(vr)&&typeof vr[0]!="string")&&(Mn=!1);cn=Mn}if(cn===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var _r=zt/m.internal.scaleFactor,Ns=_r*(At-1);switch(ht.baseline){case"bottom":rt-=Ns;break;case"top":rt+=_r-Ns;break;case"hanging":rt+=_r-2*Ns;break;case"middle":rt+=_r/2-Ns}if((Ce=ht.maxWidth||0)>0&&(typeof w=="string"?w=m.splitTextToSize(w,Ce):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Ln,Sn){return Ln.concat(m.splitTextToSize(Sn,Ce))},[]))),Bt={text:w,x:U,y:rt,options:ht,mutex:{pdfEscape:kr,activeFontKey:St,fonts:_e,activeFontSize:zt}},ln.publish("preProcessText",Bt),w=Bt.text,fe=(ht=Bt.options).angle,qn instanceof Re==0&&fe&&typeof fe=="number"){fe*=Math.PI/180,ht.rotationDirection===0&&(fe=-fe),nt===et&&(fe=-fe);var La=Math.cos(fe),ka=Math.sin(fe);qn=new Re(La,ka,-ka,La,0,0)}else fe&&fe instanceof Re&&(qn=fe);nt!==et||qn||(qn=qr),(Oe=ht.charSpace||Wr)!==void 0&&(W+=P(D(Oe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=ht.horizontalScale)!==void 0&&(W+=P(100*Jn)+` Tz
`),ht.lang;var Xr=-1,eo=ht.renderingMode!==void 0?ht.renderingMode:ht.stroke,Jl=m.internal.getCurrentPageInfo().pageContext;switch(eo){case 0:case!1:case"fill":Xr=0;break;case 1:case!0:case"stroke":Xr=1;break;case 2:case"fillThenStroke":Xr=2;break;case 3:case"invisible":Xr=3;break;case 4:case"fillAndAddForClipping":Xr=4;break;case 5:case"strokeAndAddPathForClipping":Xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xr=6;break;case 7:case"addToPathForClipping":Xr=7}var ec=Jl.usedRenderingMode!==void 0?Jl.usedRenderingMode:-1;Xr!==-1?W+=Xr+` Tr
`:ec!==-1&&(W+=`0 Tr
`),Xr!==-1&&(Jl.usedRenderingMode=Xr),ge=ht.align||"left";var Rs,fa=zt*At,no=m.internal.pageSize.getWidth(),nc=_e[St];Oe=ht.charSpace||Wr,Ce=ht.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ht.flags);var da=[],Do=function(Ln){return m.getStringUnitWidth(Ln,{font:nc,charSpace:Oe,fontSize:zt,doKerning:!1})*zt/Dt};if(Object.prototype.toString.call(w)==="[object Array]"){var hs;$t=Ke(w),ge!=="left"&&(Rs=$t.map(Do));var Jr,Oa=0;if(ge==="right"){U-=Rs[0],w=[],Yn=$t.length;for(var Da=0;Da<Yn;Da++)Da===0?(Jr=$i(U),hs=Mi(rt)):(Jr=D(Oa-Rs[Da]),hs=-fa),w.push([$t[Da],Jr,hs]),Oa=Rs[Da]}else if(ge==="center"){U-=Rs[0]/2,w=[],Yn=$t.length;for(var io=0;io<Yn;io++)io===0?(Jr=$i(U),hs=Mi(rt)):(Jr=D((Oa-Rs[io])/2),hs=-fa),w.push([$t[io],Jr,hs]),Oa=Rs[io]}else if(ge==="left"){w=[],Yn=$t.length;for(var Zl=0;Zl<Yn;Zl++)w.push($t[Zl])}else if(ge==="justify"&&nc.encoding==="Identity-H"){w=[],Yn=$t.length,Ce=Ce!==0?Ce:no;for(var tu=0,Ci=0;Ci<Yn;Ci++)if(hs=Ci===0?Mi(rt):-fa,Jr=Ci===0?$i(U):tu,Ci<Yn-1){var zc=D((Ce-Rs[Ci])/($t[Ci].split(" ").length-1)),Pa=$t[Ci].split(" ");w.push([Pa[0]+" ",Jr,hs]),tu=0;for(var Ma=1;Ma<Pa.length;Ma++){var br=(Do(Pa[Ma-1]+" "+Pa[Ma])-Do(Pa[Ma]))*Dt+zc;Ma==Pa.length-1?w.push([Pa[Ma],br,0]):w.push([Pa[Ma]+" ",br,0]),tu-=br}}else w.push([$t[Ci],Jr,hs]);w.push(["",tu,0])}else{if(ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Yn=$t.length,Ce=Ce!==0?Ce:no,Ci=0;Ci<Yn;Ci++){hs=Ci===0?Mi(rt):-fa,Jr=Ci===0?$i(U):0;var ro=$t[Ci].split(" ").length-1,eu=ro>0?(Ce-Rs[Ci])/ro:0;Ci<Yn-1?da.push(P(D(eu))):da.push(0),w.push([$t[Ci],Jr,hs])}}}(typeof ht.R2L=="boolean"?ht.R2L:Te)===!0&&(w=Zn(w,function(Ln,Sn,ti){return[Ln.split("").reverse().join(""),Sn,ti]})),Bt={text:w,x:U,y:rt,options:ht,mutex:{pdfEscape:kr,activeFontKey:St,fonts:_e,activeFontSize:zt}},ln.publish("postProcessText",Bt),w=Bt.text,C=Bt.mutex.isHex||!1;var nu=_e[St].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(w=Zn(w,function(Ln,Sn,ti){return[Zt(Ln),Sn,ti]})),$t=Ke(w),w=[];for(var so,ao,Ua,gl=Array.isArray($t[0])?1:0,Cs="",oo=function(Ln,Sn,ti){var Ii="";return ti instanceof Re?(ti=typeof ht.angle=="number"?sa(ti,new Re(1,0,0,1,Ln,Sn)):sa(new Re(1,0,0,1,Ln,Sn),ti),nt===et&&(ti=sa(new Re(1,0,0,-1,0,0),ti)),Ii=ti.join(" ")+` Tm
`):Ii=P(Ln)+" "+P(Sn)+` Td
`,Ii},Pr=0;Pr<$t.length;Pr++){switch(Cs="",gl){case 1:Ua=(C?"<":"(")+$t[Pr][0]+(C?">":")"),so=parseFloat($t[Pr][1]),ao=parseFloat($t[Pr][2]);break;case 0:Ua=(C?"<":"(")+$t[Pr]+(C?">":")"),so=$i(U),ao=Mi(rt)}da!==void 0&&da[Pr]!==void 0&&(Cs=da[Pr]+` Tw
`),Pr===0?w.push(Cs+oo(so,ao,qn)+Ua):gl===0?w.push(Cs+Ua):gl===1&&w.push(Cs+oo(so,ao,qn)+Ua)}w=gl===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Vs=`BT
/`;return Vs+=St+" "+zt+` Tf
`,Vs+=P(zt*At)+` TL
`,Vs+=Ts+`
`,Vs+=W,Vs+=w,tt(Vs+="ET"),T[St]=!0,m};var cl=b.__private__.clip=b.clip=function(w){return tt(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return cl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return tt("n"),this};var yr=b.__private__.isValidStyle=function(w){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(U=!0),U};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return yr(w)&&(d=w),this};var hl=b.__private__.getStyle=b.getStyle=function(w){var U=d;switch(w){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=w}return U},la=b.close=function(){return tt("h"),this};b.stroke=function(){return tt("S"),this},b.fill=function(w){return Wi("f",w),this},b.fillEvenOdd=function(w){return Wi("f*",w),this},b.fillStroke=function(w){return Wi("B",w),this},b.fillStrokeEvenOdd=function(w){return Wi("B*",w),this};var Wi=function(w,U){Qn(U)==="object"?dl(U,w):tt(w)},Na=function(w){w===null||nt===et&&w===void 0||(w=hl(w),tt(w))};function fl(w,U,rt,ht,vt){var Bt=new kh(U||this.boundingBox,rt||this.xStep,ht||this.yStep,this.gState,vt||this.matrix);Bt.stream=this.stream;var $t=w+"$$"+this.cloneIndex+++"$$";return Rr($t,Bt),Bt}var dl=function(w,U){var rt=In[w.key],ht=Ne[rt];if(ht instanceof bc)tt("q"),tt(Co(U)),ht.gState&&b.setGState(ht.gState),tt(w.matrix.toString()+" cm"),tt("/"+rt+" sh"),tt("Q");else if(ht instanceof kh){var vt=new Re(1,0,0,-1,0,xs());w.matrix&&(vt=vt.multiply(w.matrix||qr),rt=fl.call(ht,w.key,w.boundingBox,w.xStep,w.yStep,vt).id),tt("q"),tt("/Pattern cs"),tt("/"+rt+" scn"),ht.gState&&b.setGState(ht.gState),tt(U),tt("Q")}},Co=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Io=b.moveTo=function(w,U){return tt(P(D(w))+" "+P(lt(U))+" m"),this},ua=b.lineTo=function(w,U){return tt(P(D(w))+" "+P(lt(U))+" l"),this},Or=b.curveTo=function(w,U,rt,ht,vt,Bt){return tt([P(D(w)),P(lt(U)),P(D(rt)),P(lt(ht)),P(D(vt)),P(lt(Bt)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,U,rt,ht,vt){if(isNaN(w)||isNaN(U)||isNaN(rt)||isNaN(ht)||!yr(vt))throw new Error("Invalid arguments passed to jsPDF.line");return nt===Z?this.lines([[rt-w,ht-U]],w,U,[1,1],vt||"S"):this.lines([[rt-w,ht-U]],w,U,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,U,rt,ht,vt,Bt){var $t,fe,ge,Oe,Ce,dn,Jn,qn,m,S,C,W;if(typeof w=="number"&&(W=rt,rt=U,U=w,w=W),ht=ht||[1,1],Bt=Bt||!1,isNaN(U)||isNaN(rt)||!Array.isArray(w)||!Array.isArray(ht)||!yr(vt)||typeof Bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Io(U,rt),$t=ht[0],fe=ht[1],Oe=w.length,S=U,C=rt,ge=0;ge<Oe;ge++)(Ce=w[ge]).length===2?(S=Ce[0]*$t+S,C=Ce[1]*fe+C,ua(S,C)):(dn=Ce[0]*$t+S,Jn=Ce[1]*fe+C,qn=Ce[2]*$t+S,m=Ce[3]*fe+C,S=Ce[4]*$t+S,C=Ce[5]*fe+C,Or(dn,Jn,qn,m,S,C));return Bt&&la(),Na(vt),this},b.path=function(w){for(var U=0;U<w.length;U++){var rt=w[U],ht=rt.c;switch(rt.op){case"m":Io(ht[0],ht[1]);break;case"l":ua(ht[0],ht[1]);break;case"c":Or.apply(this,ht);break;case"h":la()}}return this},b.__private__.rect=b.rect=function(w,U,rt,ht,vt){if(isNaN(w)||isNaN(U)||isNaN(rt)||isNaN(ht)||!yr(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return nt===Z&&(ht=-ht),tt([P(D(w)),P(lt(U)),P(D(rt)),P(D(ht)),"re"].join(" ")),Na(vt),this},b.__private__.triangle=b.triangle=function(w,U,rt,ht,vt,Bt,$t){if(isNaN(w)||isNaN(U)||isNaN(rt)||isNaN(ht)||isNaN(vt)||isNaN(Bt)||!yr($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[rt-w,ht-U],[vt-rt,Bt-ht],[w-vt,U-Bt]],w,U,[1,1],$t,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,U,rt,ht,vt,Bt,$t){if(isNaN(w)||isNaN(U)||isNaN(rt)||isNaN(ht)||isNaN(vt)||isNaN(Bt)||!yr($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var fe=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*rt),Bt=Math.min(Bt,.5*ht),this.lines([[rt-2*vt,0],[vt*fe,0,vt,Bt-Bt*fe,vt,Bt],[0,ht-2*Bt],[0,Bt*fe,-vt*fe,Bt,-vt,Bt],[2*vt-rt,0],[-vt*fe,0,-vt,-Bt*fe,-vt,-Bt],[0,2*Bt-ht],[0,-Bt*fe,vt*fe,-Bt,vt,-Bt]],w+vt,U,[1,1],$t,!0),this},b.__private__.ellipse=b.ellipse=function(w,U,rt,ht,vt){if(isNaN(w)||isNaN(U)||isNaN(rt)||isNaN(ht)||!yr(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bt=4/3*(Math.SQRT2-1)*rt,$t=4/3*(Math.SQRT2-1)*ht;return Io(w+rt,U),Or(w+rt,U-$t,w+Bt,U-ht,w,U-ht),Or(w-Bt,U-ht,w-rt,U-$t,w-rt,U),Or(w-rt,U+$t,w-Bt,U+ht,w,U+ht),Or(w+Bt,U+ht,w+rt,U+$t,w+rt,U),Na(vt),this},b.__private__.circle=b.circle=function(w,U,rt,ht){if(isNaN(w)||isNaN(U)||isNaN(rt)||!yr(ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,U,rt,rt,ht)},b.setFont=function(w,U,rt){return rt&&(U=H(U,rt)),St=ul(w,U,{disableWarning:!1}),this};var Ss=b.__private__.getFont=b.getFont=function(){return _e[ul.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,U,rt={};for(w in xe)if(xe.hasOwnProperty(w))for(U in rt[w]=[],xe[w])xe[w].hasOwnProperty(U)&&rt[w].push(U);return rt},b.addFont=function(w,U,rt,ht,vt){var Bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Bt.indexOf(arguments[3])!==-1?vt=arguments[3]:arguments[3]&&Bt.indexOf(arguments[3])==-1&&(rt=H(rt,ht)),xo.call(this,w,U,rt,vt=vt||"Identity-H")};var ca,Dr=n.lineWidth||.200025,Ra=b.__private__.getLineWidth=b.getLineWidth=function(){return Dr},Le=b.__private__.setLineWidth=b.setLineWidth=function(w){return Dr=w,tt(P(D(w))+" w"),this};b.__private__.setLineDash=Ie.API.setLineDash=Ie.API.setLineDashPattern=function(w,U){if(w=w||[],U=U||0,isNaN(U)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(rt){return P(D(rt))}).join(" "),U=P(D(U)),tt("["+w+"] "+U+" d"),this};var Xa=b.__private__.getLineHeight=b.getLineHeight=function(){return zt*ca};b.__private__.getLineHeight=b.getLineHeight=function(){return zt*ca};var Lo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ca=w),this},Ca=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ca};Lo(n.lineHeight);var $i=b.__private__.getHorizontalCoordinate=function(w){return D(w)},Mi=b.__private__.getVerticalCoordinate=function(w){return nt===et?w:we[Y].mediaBox.topRightY-we[Y].mediaBox.bottomLeftY-D(w)},Ja=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return P($i(w))},Pn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return P(Mi(w))},Kr=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Gn(Kr)},b.__private__.setStrokeColor=b.setDrawColor=function(w,U,rt,ht){return Kr=Pi({ch1:w,ch2:U,ch3:rt,ch4:ht,pdfColorType:"draw",precision:2}),tt(Kr),this};var Za=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Gn(Za)},b.__private__.setFillColor=b.setFillColor=function(w,U,rt,ht){return Za=Pi({ch1:w,ch2:U,ch3:rt,ch4:ht,pdfColorType:"fill",precision:2}),tt(Za),this};var Ts=n.textColor||"0 g",pl=b.__private__.getTextColor=b.getTextColor=function(){return Gn(Ts)};b.__private__.setTextColor=b.setTextColor=function(w,U,rt,ht){return Ts=Pi({ch1:w,ch2:U,ch3:rt,ch4:ht,pdfColorType:"text",precision:3}),this};var Wr=n.charSpace,ha=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Wr||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wr=w,this};var $r=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var U=b.CapJoinStyles[w];if(U===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $r=U,tt(U+" J"),this};var Ri=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var U=b.CapJoinStyles[w];if(U===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=U,tt(U+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return tt(P(D(w))+" M"),this},b.GState=Pm,b.setGState=function(w){(w=typeof w=="string"?je[Ve[w]]:Ds(null,w)).equals(On)||(tt("/"+w.id+" gs"),On=w)};var Ds=function(w,U){if(!w||!Ve[w]){var rt=!1;for(var ht in je)if(je.hasOwnProperty(ht)&&je[ht].equals(U)){rt=!0;break}if(rt)U=je[ht];else{var vt="GS"+(Object.keys(je).length+1).toString(10);je[vt]=U,U.id=vt}return w&&(Ve[w]=U.id),ln.publish("addGState",U),U}};b.addGState=function(w,U){return Ds(w,U),this},b.saveGraphicsState=function(){return tt("q"),Ze.push({key:St,size:zt,color:Ts}),this},b.restoreGraphicsState=function(){tt("Q");var w=Ze.pop();return St=w.key,zt=w.size,Ts=w.color,On=null,this},b.setCurrentTransformationMatrix=function(w){return tt(w.toString()+" cm"),this},b.comment=function(w){return tt("#"+w),this};var ar=function(w,U){var rt=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return rt},set:function(Bt){isNaN(Bt)||(rt=parseFloat(Bt))}});var ht=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ht},set:function(Bt){isNaN(Bt)||(ht=parseFloat(Bt))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(Bt){vt=Bt.toString()}}),this},Ps=function(w,U,rt,ht){ar.call(this,w,U),this.type="rect";var vt=rt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function($t){isNaN($t)||(vt=parseFloat($t))}});var Bt=ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bt},set:function($t){isNaN($t)||(Bt=parseFloat($t))}}),this},Ia=function(){this.page=Se,this.currentPage=Y,this.pages=Xt.slice(0),this.pagesContext=we.slice(0),this.x=te,this.y=Je,this.matrix=Ue,this.width=cs(Y),this.height=ko(Y),this.outputDestination=ie,this.id="",this.objectNumber=-1};Ia.prototype.restore=function(){Se=this.page,Y=this.currentPage,we=this.pagesContext,Xt=this.pages,te=this.x,Je=this.y,Ue=this.matrix,to(Y,this.width),Qr(Y,this.height),ie=this.outputDestination};var Ms=function(w,U,rt,ht,vt){Ki.push(new Ia),Se=Y=0,Xt=[],te=w,Je=U,Ue=vt,ls([rt,ht])};for(var Us in b.beginFormObject=function(w,U,rt,ht,vt){return Ms(w,U,rt,ht,vt),this},b.endFormObject=function(w){return(function(U){if(Os[U])Ki.pop().restore();else{var rt=new Ia,ht="Xo"+(Object.keys(ir).length+1).toString(10);rt.id=ht,Os[U]=ht,ir[ht]=rt,ln.publish("addFormObject",rt),Ki.pop().restore()}})(w),this},b.doFormObject=function(w,U){var rt=ir[Os[w]];return tt("q"),tt(U.toString()+" cm"),tt("/"+rt.id+" Do"),tt("Q"),this},b.getFormObject=function(w){var U=ir[Os[w]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},b.save=function(w,U){return w=w||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(_c(vn(us()),w),typeof _c.unload=="function"&&Qe.setTimeout&&setTimeout(_c.unload,911),this):new Promise(function(rt,ht){try{var vt=_c(vn(us()),w);typeof _c.unload=="function"&&Qe.setTimeout&&setTimeout(_c.unload,911),rt(vt)}catch(Bt){ht(Bt.message)}})},Ie.API)Ie.API.hasOwnProperty(Us)&&(Us==="events"&&Ie.API.events.length?(function(w,U){var rt,ht,vt;for(vt=U.length-1;vt!==-1;vt--)rt=U[vt][0],ht=U[vt][1],w.subscribe.apply(w,[rt].concat(typeof ht=="function"?[ht]:ht))})(ln,Ie.API.events):b[Us]=Ie.API[Us]);function cs(w){return we[w].mediaBox.topRightX-we[w].mediaBox.bottomLeftX}function to(w,U){we[w].mediaBox.topRightX=U+we[w].mediaBox.bottomLeftX}function ko(w){return we[w].mediaBox.topRightY-we[w].mediaBox.bottomLeftY}function Qr(w,U){we[w].mediaBox.topRightY=U+we[w].mediaBox.bottomLeftY}var js=b.getPageWidth=function(w){return cs(w=w||Y)/le},ml=b.setPageWidth=function(w,U){to(w,U*le)},xs=b.getPageHeight=function(w){return ko(w=w||Y)/le},Oo=b.setPageHeight=function(w,U){Qr(w,U*le)};return b.internal={pdfEscape:kr,getStyle:hl,getFont:Ss,getFontSize:se,getCharSpace:ha,getTextColor:pl,getLineHeight:Xa,getLineHeightFactor:Ca,getLineWidth:Ra,write:ee,getHorizontalCoordinate:$i,getVerticalCoordinate:Mi,getCoordinateString:Ja,getVerticalCoordinateString:Pn,collections:{},newObject:zn,newAdditionalObject:mr,newObjectDeferred:Xn,newObjectDeferredBegin:Di,getFilters:Ir,putStream:as,events:ln,scaleFactor:le,pageSize:{getWidth:function(){return js(Y)},setWidth:function(w){ml(Y,w)},getHeight:function(){return xs(Y)},setHeight:function(w){Oo(Y,w)}},encryptionOptions:v,encryption:si,getEncryptor:function(w){return v!==null?si.encryptor(w,0):function(U){return U}},output:xa,getNumberOfPages:Ro,get pages(){return Xt},out:tt,f2:N,f3:k,getPageInfo:_i,getPageInfoByObjId:Qa,getCurrentPageInfo:Xl,getPDFVersion:M,Point:ar,Rectangle:Ps,Matrix:Re,hasHotfix:Ni},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return js(Y)},set:function(w){ml(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return xs(Y)},set:function(w){Oo(Y,w)},enumerable:!0,configurable:!0}),(function(w){for(var U=0,rt=Ee.length;U<rt;U++){var ht=xo.call(this,w[U][0],w[U][1],w[U][2],Ee[U][3],!0);A===!1&&(T[ht]=!0);var vt=w[U][0].split("-");hi({id:ht,fontName:vt[0],fontStyle:vt[1]||""})}ln.publish("addFonts",{fonts:_e,dictionary:xe})}).call(b,Ee),St="F1",Es(a,e),ln.publish("initialized"),b}Ch.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ch.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ch.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Ch.prototype.processOwnerPassword=function(n,t){return i2(n2(t).substr(0,5),n)},Ch.prototype.encryptor=function(n,t){var e=n2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return i2(e,i)}},Pm.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ie.API={events:[]},Ie.version="3.0.4";var qi=Ie.API,Ay=1,Fc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rn=function(n){return n.toFixed(2)},Ru=function(n){return n.toFixed(5)};qi.__acroform__={};var ra=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Lw=function(n){return n*Ay},$o=function(n){var t=new PE,e=ve.internal.getHeight(n)||0,i=ve.internal.getWidth(n)||0;return t.BBox=[0,0,Number(rn(i)),Number(rn(e))],t},yD=qi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},vD=qi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},_D=qi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Zi=qi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _D(n,t-1)},tr=qi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yD(n,t-1)},er=qi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vD(n,t-1)},bD=qi.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=i(o+h)||0,f.upperRight_X=e(a+u)||0,f.upperRight_Y=i(o)||0,[Number(rn(f.lowerLeft_X)),Number(rn(f.lowerLeft_Y)),Number(rn(f.upperRight_X)),Number(rn(f.upperRight_Y))]},wD=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=r2(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+rn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=$o(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},r2=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var o=e,u=ve.internal.getHeight(n)||0;u=u<0?-u:u;var h=ve.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(N,k,D){if(N+1<a.length){var lt=k+" "+a[N+1][0];return Gp(lt,n,D).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,v,A=Gp("3",n,o).height,T=n.multiline?u-o:(u-A)/2,b=T+=2,O=0,M=0,B=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Gp(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var V="",Z=0,et=0;et<a.length;et++)if(a.hasOwnProperty(et)){var nt=!1;if(a[et].length!==1&&B!==a[et].length-1){if((A+2)*(Z+2)+2>u)continue t;V+=a[et][B],nt=!0,M=et,et--}else{V=(V+=a[et][B]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var _t=parseInt(et),Ot=f(_t,V,o),H=et>=a.length-1;if(Ot&&!H){V+=" ",B=0;continue}if(Ot||H){if(H)M=_t;else if(n.multiline&&(A+2)*(Z+2)+2>u)continue t}else{if(!n.multiline||(A+2)*(Z+2)+2>u)continue t;M=_t}}for(var P="",I=O;I<=M;I++){var q=a[I];if(n.multiline){if(I===M){P+=q[B]+" ",B=(B+1)%q.length;continue}if(I===O){P+=q[q.length-1]+" ";continue}}P+=q[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,v=Gp(P,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}t+=rn(d)+" "+rn(b)+` Td
`,t+="("+Fc(P)+`) Tj
`,t+=-rn(d)+` 0 Td
`,b=-(o+2),v=0,O=nt?M:M+1,Z++,V=""}break}return i.text=t,i.fontSize=o,i},Gp=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},AD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ED=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},SD=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(So.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(AD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ay=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new ME,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&ED(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,a){var o=!i;for(var u in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var h=i[u],f=[],d=h.Rect;if(h.Rect&&(h.Rect=bD(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ve.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=wD(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var T in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(T)){var b=h.appearanceStreamContent[T];if(A+="/"+T+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var O=b[u];typeof O=="function"&&(O=O.call(a,h)),A+="/"+u+" "+O+" ",a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O)}}else typeof(O=b)=="function"&&(O=O.call(a,h)),A+="/"+u+" "+O,a.internal.acroformPlugin.xForms.indexOf(O)>=0||a.internal.acroformPlugin.xForms.push(O);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(M,B){for(var V in M)if(M.hasOwnProperty(V)){var Z=V,et=M[V];B.internal.newObjectDeferredBegin(et.objId,!0),Qn(et)==="object"&&typeof et.putStream=="function"&&et.putStream(),delete M[Z]}})(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},DE=qi.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Qn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+Fc(i(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},p0=function(n,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Fc(i(n))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?n.push({key:i,value:DE(a,this.objId,this.scope)}):a instanceof Jo?(a.scope=this.scope,n.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:i,value:a}))}return n};var PE=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};ra(PE,Jo);var ME=function(){Jo.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Fc(e(n))+")"}},set:function(e){n=e}})};ra(ME,Jo);var So=function n(){Jo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');t=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zi(t,3)},set:function(V){V?this.F=tr(t,3):this.F=er(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');e=V}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(V){i=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(V){i[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(V){i[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(V){i[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(V){i[3]=V}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Mm)return;o="FieldObject"+n.FieldNum++}var V=function(Z){return Z};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+Fc(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(V){u=V}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(V){h=V}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(V){f=V}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ay:d},set:function(V){d=V}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(V){v=V}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Mm||this instanceof Tc))return p0(A,this.objId,this.scope)},set:function(V){V=V.toString(),A=V}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof zr==0?p0(T,this.objId,this.scope):T},set:function(V){V=V.toString(),T=this instanceof zr==0?V.substr(0,1)==="("?Eh(V.substr(1,V.length-2)):Eh(V):V}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr==1?Eh(T.substr(1,T.length-1)):T},set:function(V){V=V.toString(),T=this instanceof zr==1?"/"+V:V}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof zr==0?p0(b,this.objId,this.scope):b},set:function(V){V=V.toString(),b=this instanceof zr==0?V.substr(0,1)==="("?Eh(V.substr(1,V.length-2)):Eh(V):V}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr==1?Eh(b.substr(1,b.length-1)):b},set:function(V){V=V.toString(),b=this instanceof zr==1?"/"+V:V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(V){V=!!V,M=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(V){O=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,1)},set:function(V){V?this.Ff=tr(this.Ff,1):this.Ff=er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,2)},set:function(V){V?this.Ff=tr(this.Ff,2):this.Ff=er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,3)},set:function(V){V?this.Ff=tr(this.Ff,3):this.Ff=er(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');B=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(B){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:B=2;break;case"center":case 1:B=1;break;default:B=0}}})};ra(So,Jo);var Vh=function(){So.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DE(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=(function(o,u,h){h||(h=1);for(var f,d=[];f=u.exec(o);)d.push(f[h]);return d})(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,18)},set:function(e){e?this.Ff=tr(this.Ff,18):this.Ff=er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=tr(this.Ff,19):this.Ff=er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,20)},set:function(e){e?(this.Ff=tr(this.Ff,20),t.sort()):this.Ff=er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,22)},set:function(e){e?this.Ff=tr(this.Ff,22):this.Ff=er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,23)},set:function(e){e?this.Ff=tr(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,27)},set:function(e){e?this.Ff=tr(this.Ff,27):this.Ff=er(this.Ff,27)}}),this.hasAppearanceStream=!1};ra(Vh,So);var Bh=function(){Vh.call(this),this.fontName="helvetica",this.combo=!1};ra(Bh,Vh);var Fh=function(){Bh.call(this),this.combo=!0};ra(Fh,Bh);var um=function(){Fh.call(this),this.edit=!0};ra(um,Fh);var zr=function(){So.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,15)},set:function(e){e?this.Ff=tr(this.Ff,15):this.Ff=er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,16)},set:function(e){e?this.Ff=tr(this.Ff,16):this.Ff=er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,17)},set:function(e){e?this.Ff=tr(this.Ff,17):this.Ff=er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,26)},set:function(e){e?this.Ff=tr(this.Ff,26):this.Ff=er(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+Fc(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};ra(zr,So);var cm=function(){zr.call(this),this.pushButton=!0};ra(cm,zr);var zh=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};ra(zh,zr);var Mm=function(){var n,t;So.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),i)u.push("/"+o+" ("+Fc(a(i[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Qn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ra(Mm,So),zh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},zh.prototype.createOption=function(n){var t=new Mm;return t.Parent=this,t.optionName=n,this.Kids.push(t),TD.call(this.scope,t),t};var hm=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ve.CheckBox.createAppearanceStream()};ra(hm,zr);var Tc=function(){So.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,13)},set:function(t){t?this.Ff=tr(this.Ff,13):this.Ff=er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,21)},set:function(t){t?this.Ff=tr(this.Ff,21):this.Ff=er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,23)},set:function(t){t?this.Ff=tr(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,24)},set:function(t){t?this.Ff=tr(this.Ff,24):this.Ff=er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,25)},set:function(t){t?this.Ff=tr(this.Ff,25):this.Ff=er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,26)},set:function(t){t?this.Ff=tr(this.Ff,26):this.Ff=er(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ra(Tc,So);var fm=function(){Tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zi(this.Ff,14)},set:function(n){n?this.Ff=tr(this.Ff,14):this.Ff=er(this.Ff,14)}}),this.password=!0};ra(fm,Tc);var ve={CheckBox:{createAppearanceStream:function(){return{N:{On:ve.CheckBox.YesNormal},D:{On:ve.CheckBox.YesPushDown,Off:ve.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=r2(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+rn(ve.internal.getWidth(n))+" "+rn(ve.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+rn(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=$o(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=[],o=ve.internal.getHeight(n),u=ve.internal.getWidth(n),h=r2(n,n.caption);return a.push("1 g"),a.push("0 0 "+rn(u)+" "+rn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+rn(u-1)+" "+rn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+rn(h.fontSize)+" Tf "+i),a.push(h.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+rn(ve.internal.getWidth(n))+" "+rn(ve.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ve.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ve.RadioButton.Circle.YesNormal,t.D[n]=ve.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=$o(n);t.scope=n.scope;var e=[],i=ve.internal.getWidth(n)<=ve.internal.getHeight(n)?ve.internal.getWidth(n)/4:ve.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=ve.internal.Bezier_C,o=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ru(ve.internal.getWidth(n)/2)+" "+Ru(ve.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=[],i=ve.internal.getWidth(n)<=ve.internal.getHeight(n)?ve.internal.getWidth(n)/4:ve.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*ve.internal.Bezier_C).toFixed(5)),u=Number((i*ve.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ru(ve.internal.getWidth(n)/2)+" "+Ru(ve.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ru(ve.internal.getWidth(n)/2)+" "+Ru(ve.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),e.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),e.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),e.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=[],i=ve.internal.getWidth(n)<=ve.internal.getHeight(n)?ve.internal.getWidth(n)/4:ve.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*ve.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ru(ve.internal.getWidth(n)/2)+" "+Ru(ve.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ve.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ve.RadioButton.Cross.YesNormal,t.D[n]=ve.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=$o(n);t.scope=n.scope;var e=[],i=ve.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+rn(ve.internal.getWidth(n)-2)+" "+rn(ve.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(rn(i.x1.x)+" "+rn(i.x1.y)+" m"),e.push(rn(i.x2.x)+" "+rn(i.x2.y)+" l"),e.push(rn(i.x4.x)+" "+rn(i.x4.y)+" m"),e.push(rn(i.x3.x)+" "+rn(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=ve.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+rn(ve.internal.getWidth(n))+" "+rn(ve.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+rn(ve.internal.getWidth(n)-2)+" "+rn(ve.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(rn(e.x1.x)+" "+rn(e.x1.y)+" m"),i.push(rn(e.x2.x)+" "+rn(e.x2.y)+" l"),i.push(rn(e.x4.x)+" "+rn(e.x4.y)+" m"),i.push(rn(e.x3.x)+" "+rn(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=$o(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+rn(ve.internal.getWidth(n))+" "+rn(ve.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ve.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ve.internal.getWidth(n),e=ve.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ve.internal.getWidth=function(n){var t=0;return Qn(n)==="object"&&(t=Lw(n.Rect[2])),t},ve.internal.getHeight=function(n){var t=0;return Qn(n)==="object"&&(t=Lw(n.Rect[3])),t};var TD=qi.addField=function(n){if(SD(this,n),!(n instanceof So))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};qi.AcroFormChoiceField=Vh,qi.AcroFormListBox=Bh,qi.AcroFormComboBox=Fh,qi.AcroFormEditBox=um,qi.AcroFormButton=zr,qi.AcroFormPushButton=cm,qi.AcroFormRadioButton=zh,qi.AcroFormCheckBox=hm,qi.AcroFormTextField=Tc,qi.AcroFormPasswordField=fm,qi.AcroFormAppearance=ve,qi.AcroForm={ChoiceField:Vh,ListBox:Bh,ComboBox:Fh,EditBox:um,Button:zr,PushButton:cm,RadioButton:zh,CheckBox:hm,TextField:Tc,PasswordField:fm,Appearance:ve},Ie.AcroForm={ChoiceField:Vh,ListBox:Bh,ComboBox:Fh,EditBox:um,Button:zr,PushButton:cm,RadioButton:zh,CheckBox:hm,TextField:Tc,PasswordField:fm,Appearance:ve};Ie.AcroForm;function UE(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(N,k){var D,lt,xt,at,pt,ft=e;if((k=k||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(Ot(N))for(pt in i)for(xt=i[pt],D=0;D<xt.length;D+=1){for(at=!0,lt=0;lt<xt[D].length;lt+=1)if(xt[D][lt]!==void 0&&xt[D][lt]!==N[lt]){at=!1;break}if(at===!0){ft=pt;break}}else for(pt in i)for(xt=i[pt],D=0;D<xt.length;D+=1){for(at=!0,lt=0;lt<xt[D].length;lt+=1)if(xt[D][lt]!==void 0&&xt[D][lt]!==N.charCodeAt(lt)){at=!1;break}if(at===!0){ft=pt;break}}return ft===e&&k!==e&&(ft=k),ft},o=function N(k){for(var D=this.internal.write,lt=this.internal.putStream,xt=(0,this.internal.getFilters)();xt.indexOf("FlateEncode")!==-1;)xt.splice(xt.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var at=[];if(at.push({key:"Type",value:"/XObject"}),at.push({key:"Subtype",value:"/Image"}),at.push({key:"Width",value:k.width}),at.push({key:"Height",value:k.height}),k.colorSpace===V.INDEXED?at.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(at.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===V.DEVICE_CMYK&&at.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),at.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&at.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var pt="",ft=0,Nt=k.transparency.length;ft<Nt;ft++)pt+=k.transparency[ft]+" "+k.transparency[ft]+" ";at.push({key:"Mask",value:"["+pt+"]"})}k.sMask!==void 0&&at.push({key:"SMask",value:k.objectId+1+" 0 R"});var Ht=k.filter!==void 0?["/"+k.filter]:void 0;if(lt({data:k.data,additionalKeyValues:at,alreadyAppliedFilters:Ht,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var X,L=(X=k.sMaskBitsPerComponent)!==null&&X!==void 0?X:k.bitsPerComponent,Y={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:k.sMask};"filter"in k&&(Y.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(k.width),Y.filter=k.filter),N.call(this,Y)}if(k.colorSpace===V.INDEXED){var J=this.internal.newObject();lt({data:P(new Uint8Array(k.palette)),objectId:J}),D("endobj")}},u=function(){var N=this.internal.collections[t+"images"];for(var k in N)o.call(this,N[k])},h=function(){var N,k=this.internal.collections[t+"images"],D=this.internal.write;for(var lt in k)D("/I"+(N=k[lt]).index,N.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var N=this.internal.collections[t+"images"];return f.call(this),N},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(N){return typeof n["process"+N.toUpperCase()]=="function"},T=function(N){return Qn(N)==="object"&&N.nodeType===1},b=function(N,k){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return lm(unescape(D).split("base64,").pop());var lt=n.loadFile(D,!0);if(lt!==void 0)return lt}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var xt;switch(k){case"PNG":xt="image/png";break;case"WEBP":xt="image/webp";break;default:xt="image/jpeg"}return lm(N.toDataURL(xt,1).split("base64,").pop())}},O=function(N){var k=this.internal.collections[t+"images"];if(k){for(var D in k)if(N===k[D].alias)return k[D]}},M=function(N,k,D){return N||k||(N=-96,k=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),N===0&&(N=k*D.width/D.height),k===0&&(k=N*D.height/D.width),[N,k]},B=function(N,k,D,lt,xt,at){var pt=M.call(this,D,lt,xt),ft=this.internal.getCoordinateString,Nt=this.internal.getVerticalCoordinateString,Ht=d.call(this);if(D=pt[0],lt=pt[1],Ht[xt.index]=xt,at){at*=Math.PI/180;var X=Math.cos(at),L=Math.sin(at),Y=function(ot){return ot.toFixed(4)},J=[Y(X),Y(L),Y(-1*L),Y(X),0,0,"cm"]}this.internal.write("q"),at?(this.internal.write([1,"0","0",1,ft(N),Nt(k+lt),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ft(D),"0","0",ft(lt),"0","0","cm"].join(" "))):this.internal.write([ft(D),"0","0",ft(lt),ft(N),Nt(k+lt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xt.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},et=n.__addimage__.sHashCode=function(N){var k,D,lt=0;if(typeof N=="string")for(D=N.length,k=0;k<D;k++)lt=(lt<<5)-lt+N.charCodeAt(k),lt|=0;else if(Ot(N))for(D=N.byteLength/2,k=0;k<D;k++)lt=(lt<<5)-lt+N[k],lt|=0;return lt},nt=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var k=!0;return N.length===0&&(k=!1),N.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(k=!1),k},_t=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var k=N.indexOf(",");return k<0?null:N.substring(0,k).trim().endsWith("base64")?N.substring(k+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var Ot=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(N){for(var k=N.length,D=new Uint8Array(k),lt=0;lt<k;lt++)D[lt]=N.charCodeAt(lt);return D},P=n.__addimage__.arrayBufferToBinaryString=function(N){for(var k="",D=Ot(N)?N:new Uint8Array(N),lt=0;lt<D.length;lt+=8192)k+=String.fromCharCode.apply(null,D.subarray(lt,lt+8192));return k};n.addImage=function(){var N,k,D,lt,xt,at,pt,ft,Nt;if(typeof arguments[1]=="number"?(k=e,D=arguments[1],lt=arguments[2],xt=arguments[3],at=arguments[4],pt=arguments[5],ft=arguments[6],Nt=arguments[7]):(k=arguments[1],D=arguments[2],lt=arguments[3],xt=arguments[4],at=arguments[5],pt=arguments[6],ft=arguments[7],Nt=arguments[8]),Qn(N=arguments[0])==="object"&&!T(N)&&"imageData"in N){var Ht=N;N=Ht.imageData,k=Ht.format||k||e,D=Ht.x||D||0,lt=Ht.y||lt||0,xt=Ht.w||Ht.width||xt,at=Ht.h||Ht.height||at,pt=Ht.alias||pt,ft=Ht.compression||ft,Nt=Ht.rotation||Ht.angle||Nt}var X=this.internal.getFilters();if(ft===void 0&&X.indexOf("FlateEncode")!==-1&&(ft="SLOW"),isNaN(D)||isNaN(lt))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=I.call(this,N,k,pt,ft);return B.call(this,D,lt,xt,at,L,Nt),this};var I=function(N,k,D,lt){var xt,at,pt;if(typeof N=="string"&&a(N)===e){N=unescape(N);var ft=q(N,!1);(ft!==""||(ft=n.loadFile(N,!0))!==void 0)&&(N=ft)}if(T(N)&&(N=b(N,k)),k=a(N,k),!A(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((pt=D)==null||pt.length===0)&&(D=(function(Nt){return typeof Nt=="string"||Ot(Nt)?et(Nt):Ot(Nt.data)?et(Nt.data):null})(N)),(xt=O.call(this,D))||(N instanceof Uint8Array||k==="RGBA"||(at=N,N=H(N)),xt=this["process"+k.toUpperCase()](N,v.call(this),D,(function(Nt){return Nt&&typeof Nt=="string"&&(Nt=Nt.toUpperCase()),Nt in n.image_compression?Nt:Z.NONE})(lt),at)),!xt)throw new Error("An unknown error occurred whilst processing the image.");return xt},q=n.__addimage__.convertBase64ToBinaryString=function(N,k){k=typeof k!="boolean"||k;var D,lt="";if(typeof N=="string"){var xt;D=(xt=_t(N))!==null&&xt!==void 0?xt:N;try{lt=lm(D)}catch(at){if(k)throw nt(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+at.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return lt};n.getImageProperties=function(N){var k,D,lt="";if(T(N)&&(N=b(N)),typeof N=="string"&&a(N)===e&&((lt=q(N,!1))===""&&(lt=n.loadFile(N)||""),N=lt),D=a(N),!A(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(N instanceof Uint8Array||(N=H(N)),!(k=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(Ie.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Ie.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,a,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((i=d[A]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var T=0;T<d.length;T++){i=d[T];var b=this.internal.pdfEscape,O=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(M.objId),Z=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(i.bounds.x)+" "+h(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y)+"] ")+"/Contents ("+b(V(i.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(V(Z))+") >>",M.content=o;var et=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(i.bounds.x+30)+" "+h(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+h(i.bounds.y)+"] ")+" /Parent "+et,i.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(M.objId,"0 R",B.objId,"0 R");break;case"freetext":a="/Rect ["+u(i.bounds.x)+" "+h(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+h(i.bounds.y+i.bounds.h)+"] ";var nt=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(O(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+nt+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var _t=this.annotations._nameMap[i.options.name];i.options.pageNumber=_t.page,i.options.top=_t.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(O(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var Ot=h(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+Ot+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,a,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(i),w:f(e+a),h:d(i+o)},options:u,type:"link"})},n.textWithLink=function(e,i,a,o){var u,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;u=Math.ceil(d*v)}else h=f,u=d;return this.text(e,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,h,u,o),f},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Ie.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},h=n.__arabicParser__.isArabicEndLetter=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(M){return u(M)&&a.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return u(M)&&o(M)&&t[M.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(M){var B=0,V=e,Z="",et=0;for(B=0;B<M.length;B+=1)V[M.charCodeAt(B)]!==void 0?(et++,typeof(V=V[M.charCodeAt(B)])=="number"&&(Z+=String.fromCharCode(V),V=e,et=0),B===M.length-1&&(V=e,Z+=M.charAt(B-(et-1)),B-=et-1,et=0)):(V=e,Z+=M.charAt(B-et),B-=et,et=0);return Z};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var T=n.__arabicParser__.getCorrectForm=function(M,B,V){return u(M)?o(M)===!1?-1:!d(M)||!u(B)&&!u(V)||!u(V)&&h(B)||h(M)&&!u(B)||h(M)&&f(B)||h(M)&&h(B)?0:v(M)&&u(B)&&!h(B)&&u(V)&&d(V)?3:h(M)||!u(V)?1:2:-1},b=function(M){var B=0,V=0,Z=0,et="",nt="",_t="",Ot=(M=M||"").split("\\s+"),H=[];for(B=0;B<Ot.length;B+=1){for(H.push(""),V=0;V<Ot[B].length;V+=1)et=Ot[B][V],nt=Ot[B][V-1],_t=Ot[B][V+1],u(et)?(Z=T(et,nt,_t),H[B]+=Z!==-1?String.fromCharCode(t[et.charCodeAt(0)][Z]):et):H[B]+=et;H[B]=A(H[B])}return H.join(" ")},O=n.__arabicParser__.processArabic=n.processArabic=function(){var M,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(B)){var Z=0;for(V=[],Z=0;Z<B.length;Z+=1)Array.isArray(B[Z])?V.push([b(B[Z][0]),B[Z][1],B[Z][2]]):V.push([b(B[Z])]);M=V}else M=b(B);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",O])})(Ie.API),Ie.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(h){i=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ie.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(M){f=M}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(M){A=M}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(M){T=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(M){O=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){i.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),T=d.scaleFactor||this.internal.scaleFactor,b=0,O=0,M=0,B=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var V=d.maxWidth;V>0?typeof f=="string"?f=this.splitTextToSize(f,V):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(et,nt){return et.concat(B.splitTextToSize(nt,V))},[])):f=Array.isArray(f)?f:[f];for(var Z=0;Z<f.length;Z++)b<(M=this.getStringUnitWidth(f[Z],{font:A})*v)&&(b=M);return b!==0&&(O=f.length),{w:b/=T,h:Math.max((O*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/T,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,T=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,b&&T&&(this.printHeaderRow(f.lineNumber,!0),f.y+=T[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,T){if(i.call(this),!v)throw new Error("No data for PDF table.");var b,O,M,B,V=[],Z=[],et=[],nt={},_t={},Ot=[],H=[],P=(T=T||{}).autoSize||!1,I=T.printHeaders!==!1,q=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,N=T.margins||Object.assign({width:this.getPageWidth()},t),k=typeof T.padding=="number"?T.padding:3,D=T.headerBackgroundColor||"#c8c8c8",lt=T.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=lt,this.setFontSize(q),A==null)Z=V=Object.keys(v[0]),et=V.map(function(){return"left"});else if(Array.isArray(A)&&Qn(A[0])==="object")for(V=A.map(function(Ht){return Ht.name}),Z=A.map(function(Ht){return Ht.prompt||Ht.name||""}),et=A.map(function(Ht){return Ht.align||"left"}),b=0;b<A.length;b+=1)_t[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&(Z=V=A,et=V.map(function(){return"left"}));if(P||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<V.length;b+=1){for(nt[B=V[b]]=v.map(function(Ht){return Ht[B]}),this.setFont(void 0,"bold"),Ot.push(this.getTextDimensions(Z[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=nt[B],this.setFont(void 0,"normal"),M=0;M<O.length;M+=1)Ot.push(this.getTextDimensions(O[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_t[B]=Math.max.apply(null,Ot)+k+k,Ot=[]}if(I){var xt={};for(b=0;b<V.length;b+=1)xt[V[b]]={},xt[V[b]].text=Z[b],xt[V[b]].align=et[b];var at=h.call(this,xt,_t);H=V.map(function(Ht){return new o(f,d,_t[Ht],at,xt[Ht].text,void 0,xt[Ht].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var pt=A.reduce(function(Ht,X){return Ht[X.name]=X.align,Ht},{});for(b=0;b<v.length;b+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:b,data:v[b]},this);var ft=h.call(this,v[b],_t);for(M=0;M<V.length;M+=1){var Nt=v[b][V[M]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:b,col:M,data:Nt},this),u.call(this,new o(f,d,_t[V[M]],ft,Nt,b+2,pt[V[M]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(f).map(function(b){var O=f[b];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,d[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/T+v+v},this).reduce(function(b,O){return Math.max(b,O)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,T.push(v)),v.lineNumber=f;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,v),this.setTextColor(O)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),e=!1}})(Ie.API);var jE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],s2=UE(VE),BE=[100,200,300,400,500,600,700,800,900],xD=UE(BE);function m0(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return jE[o=o||"normal"]?o:"normal"})(n.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof s2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:i,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,i].join(" ")}}}function kw(n,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(n[t[a]])return n[t[a]]}var ND={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ow={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Pw(n){return n.trimLeft()}function RD(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function CD(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Yp,Mw,Uw,Sh,Kp,jw,Vw,Bw,g0=["times"];function Fw(n,t,e,i,a){var o=4,u=qw;switch(a){case Ie.API.image_compression.FAST:o=1,u=zw;break;case Ie.API.image_compression.MEDIUM:o=6,u=Hw;break;case Ie.API.image_compression.SLOW:o=9,u=Gw}n=(function(f,d,v,A){for(var T,b=f.length/d,O=new Uint8Array(f.length+b),M=[ID,zw,qw,Hw,Gw],B=0;B<b;B+=1){var V=B*d,Z=f.subarray(V,V+d);if(A)O.set(A(Z,v,T),V+B);else{for(var et=M.length,nt=[],_t=0;_t<et;_t+=1)nt[_t]=M[_t](Z,v,T);var Ot=kD(nt.concat());O.set(nt[Ot],V+B)}T=Z}return O})(n,t,Math.ceil(e*i/8),u);var h=J0(n,{level:o});return Ie.API.__addimage__.arrayBufferToBinaryString(h)}function ID(n){var t=Array.apply([],n);return t.unshift(0),t}function zw(n,t){var e=n.length,i=[];i[0]=1;for(var a=0;a<e;a+=1){var o=n[a-t]||0;i[a+1]=n[a]-o+256&255}return i}function qw(n,t,e){var i=n.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var u=e&&e[o]||0;a[o+1]=n[o]-u+256&255}return a}function Hw(n,t,e){var i=n.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var u=n[o-t]||0,h=e&&e[o]||0;a[o+1]=n[o]+256-(u+h>>>1)&255}return a}function Gw(n,t,e){var i=n.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var u=LD(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=n[o]-u+256&255}return a}function LD(n,t,e){if(n===t&&t===e)return n;var i=Math.abs(t-e),a=Math.abs(n-e),o=Math.abs(n+t-e-e);return i<=a&&i<=o?n:a<=o?t:e}function kD(n){var t=n.map(function(e){return e.reduce(function(i,a){return i+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function y0(n,t,e){var i=t*e,a=Math.floor(i/8),o=16-(i-8*a+e),u=(1<<e)-1;return FE(n,a)>>o&u}function Yw(n,t,e,i){var a=e*i,o=Math.floor(a/8),u=16-(a-8*o+i),h=(1<<i)-1,f=(t&h)<<u;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var T=A>>8&255;d.setUint8(v,T)}})(n,o,FE(n,o)&~(h<<u)&65535|f)}function FE(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function OD(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,a=n[t++],o=a>>7,u=1<<1+(7&a);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=u,t+=3*u);var d=!0,v=[],A=0,T=null,b=0,O=null;for(this.width=e,this.height=i;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,O=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[t++];A=n[t++]|n[t++]<<8,T=n[t++],1&M||(T=null),b=M>>2&7,t++;break;case 254:for(;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var B=n[t++]|n[t++]<<8,V=n[t++]|n[t++]<<8,Z=n[t++]|n[t++]<<8,et=n[t++]|n[t++]<<8,nt=n[t++],_t=nt>>6&1,Ot=1<<1+(7&nt),H=h,P=f,I=!1;nt>>7&&(I=!0,H=t,P=Ot,t+=3*Ot);var q=t;for(t++;;){var N;if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}v.push({x:B,y:V,width:Z,height:et,has_local_palette:I,palette_offset:H,palette_size:P,data_offset:q,data_length:t-q,transparent_index:T,interlaced:!!_t,delay:A,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return O},this.frameInfo=function(k){if(k<0||k>=v.length)throw new Error("Frame index out of range.");return v[k]},this.decodeAndBlitFrameBGRA=function(k,D){var lt=this.frameInfo(k),xt=lt.width*lt.height,at=new Uint8Array(xt);Kw(n,lt.data_offset,at,xt);var pt=lt.palette_offset,ft=lt.transparent_index;ft===null&&(ft=256);var Nt=lt.width,Ht=e-Nt,X=Nt,L=4*(lt.y*e+lt.x),Y=4*((lt.y+lt.height)*e+lt.x),J=L,ot=4*Ht;lt.interlaced===!0&&(ot+=4*e*7);for(var ut=8,gt=0,Lt=at.length;gt<Lt;++gt){var Ct=at[gt];if(X===0&&(X=Nt,(J+=ot)>=Y&&(ot=4*Ht+4*e*(ut-1),J=L+(Nt+Ht)*(ut<<1),ut>>=1)),Ct===ft)J+=4;else{var Vt=n[pt+3*Ct],Xt=n[pt+3*Ct+1],re=n[pt+3*Ct+2];D[J++]=re,D[J++]=Xt,D[J++]=Vt,D[J++]=255}--X}},this.decodeAndBlitFrameRGBA=function(k,D){var lt=this.frameInfo(k),xt=lt.width*lt.height,at=new Uint8Array(xt);Kw(n,lt.data_offset,at,xt);var pt=lt.palette_offset,ft=lt.transparent_index;ft===null&&(ft=256);var Nt=lt.width,Ht=e-Nt,X=Nt,L=4*(lt.y*e+lt.x),Y=4*((lt.y+lt.height)*e+lt.x),J=L,ot=4*Ht;lt.interlaced===!0&&(ot+=4*e*7);for(var ut=8,gt=0,Lt=at.length;gt<Lt;++gt){var Ct=at[gt];if(X===0&&(X=Nt,(J+=ot)>=Y&&(ot=4*Ht+4*e*(ut-1),J=L+(Nt+Ht)*(ut<<1),ut>>=1)),Ct===ft)J+=4;else{var Vt=n[pt+3*Ct],Xt=n[pt+3*Ct+1],re=n[pt+3*Ct+2];D[J++]=Vt,D[J++]=Xt,D[J++]=re,D[J++]=255}--X}}}function Kw(n,t,e,i){for(var a=n[t++],o=1<<a,u=o+1,h=u+1,f=a+1,d=(1<<f)-1,v=0,A=0,T=0,b=n[t++],O=new Int32Array(4096),M=null;;){for(;v<16&&b!==0;)A|=n[t++]<<v,v+=8,b===1?b=n[t++]:--b;if(v<f)break;var B=A&d;if(A>>=f,v-=f,B!==o){if(B===u)break;for(var V=B<h?B:M,Z=0,et=V;et>o;)et=O[et]>>8,++Z;var nt=et;if(T+Z+(V!==B?1:0)>i)return void ui.log("Warning, gif stream longer than expected.");e[T++]=nt;var _t=T+=Z;for(V!==B&&(e[T++]=nt),et=V;Z--;)et=O[et],e[--_t]=255&et,et>>=8;M!==null&&h<4096&&(O[h++]=M<<8|nt,h>=d+1&&f<12&&(++f,d=d<<1|1)),M=B}else h=u+1,d=(1<<(f=a+1))-1,M=null}return T!==i&&ui.log("Warning, gif stream shorter than expected."),e}function v0(n){var t,e,i,a,o,u=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),T=new Array(65535),b=new Array(64),O=new Array(64),M=[],B=0,V=7,Z=new Array(64),et=new Array(64),nt=new Array(64),_t=new Array(256),Ot=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],lt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function at(L,Y){for(var J=0,ot=0,ut=new Array,gt=1;gt<=16;gt++){for(var Lt=1;Lt<=L[gt];Lt++)ut[Y[ot]]=[],ut[Y[ot]][0]=J,ut[Y[ot]][1]=gt,ot++,J++;J*=2}return ut}function pt(L){for(var Y=L[0],J=L[1]-1;J>=0;)Y&1<<J&&(B|=1<<V),J--,--V<0&&(B==255?(ft(255),ft(0)):ft(B),V=7,B=0)}function ft(L){M.push(L)}function Nt(L){ft(L>>8&255),ft(255&L)}function Ht(L,Y,J,ot,ut){for(var gt,Lt=ut[0],Ct=ut[240],Vt=(function(zt,ae){var se,Te,be,Ye,Xe,Fe,an,We,St,le,te=0;for(St=0;St<8;++St){se=zt[te],Te=zt[te+1],be=zt[te+2],Ye=zt[te+3],Xe=zt[te+4],Fe=zt[te+5],an=zt[te+6];var Je=se+(We=zt[te+7]),Ue=se-We,_e=Te+an,xe=Te-an,Ze=be+Fe,Ne=be-Fe,In=Ye+Xe,je=Ye-Xe,Ve=Je+In,On=Je-In,Se=_e+Ze,we=_e-Ze;zt[te]=Ve+Se,zt[te+4]=Ve-Se;var ln=.707106781*(we+On);zt[te+2]=On+ln,zt[te+6]=On-ln;var pr=.382683433*((Ve=je+Ne)-(we=xe+Ue)),ir=.5411961*Ve+pr,Os=1.306562965*we+pr,Ki=.707106781*(Se=Ne+xe),Re=Ue+Ki,sa=Ue-Ki;zt[te+5]=sa+ir,zt[te+3]=sa-ir,zt[te+1]=Re+Os,zt[te+7]=Re-Os,te+=8}for(te=0,St=0;St<8;++St){se=zt[te],Te=zt[te+8],be=zt[te+16],Ye=zt[te+24],Xe=zt[te+32],Fe=zt[te+40],an=zt[te+48];var qr=se+(We=zt[te+56]),Rr=se-We,Cr=Te+an,zn=Te-an,Xn=be+Fe,Di=be-Fe,mr=Ye+Xe,rr=Ye-Xe,Dn=qr+mr,Gn=qr-mr,Pi=Cr+Xn,Ir=Cr-Xn;zt[te]=Dn+Pi,zt[te+32]=Dn-Pi;var as=.707106781*(Ir+Gn);zt[te+16]=Gn+as,zt[te+48]=Gn-as;var Ta=.382683433*((Dn=rr+Di)-(Ir=zn+Rr)),As=.5411961*Dn+Ta,Lr=1.306562965*Ir+Ta,aa=.707106781*(Pi=Di+zn),Hr=Rr+aa,gr=Rr-aa;zt[te+40]=gr+As,zt[te+24]=gr-As,zt[te+8]=Hr+Lr,zt[te+56]=Hr-Lr,te++}for(St=0;St<64;++St)le=zt[St]*ae[St],b[St]=le>0?le+.5|0:le-.5|0;return b})(L,Y),Xt=0;Xt<64;++Xt)O[H[Xt]]=Vt[Xt];var re=O[0]-J;J=O[0],re==0?pt(ot[0]):(pt(ot[T[gt=32767+re]]),pt(A[gt]));for(var ie=63;ie>0&&O[ie]==0;)ie--;if(ie==0)return pt(Lt),J;for(var he,tt=1;tt<=ie;){for(var ee=tt;O[tt]==0&&tt<=ie;)++tt;var Ge=tt-ee;if(Ge>=16){he=Ge>>4;for(var Ee=1;Ee<=he;++Ee)pt(Ct);Ge&=15}gt=32767+O[tt],pt(ut[(Ge<<4)+T[gt]]),pt(A[gt]),tt++}return ie!=63&&pt(Lt),J}function X(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ut=u((J[ot]*Y+50)/100);ut=Math.min(Math.max(ut,1),255),h[H[ot]]=ut}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Lt=0;Lt<64;Lt++){var Ct=u((gt[Lt]*Y+50)/100);Ct=Math.min(Math.max(Ct,1),255),f[H[Lt]]=Ct}for(var Vt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,re=0;re<8;re++)for(var ie=0;ie<8;ie++)d[Xt]=1/(h[H[Xt]]*Vt[re]*Vt[ie]*8),v[Xt]=1/(f[H[Xt]]*Vt[re]*Vt[ie]*8),Xt++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,Y){Y&&X(Y),M=new Array,B=0,V=7,Nt(65496),Nt(65504),Nt(16),ft(74),ft(70),ft(73),ft(70),ft(0),ft(1),ft(1),ft(0),Nt(1),Nt(1),ft(0),ft(0),(function(){Nt(65499),Nt(132),ft(0);for(var Te=0;Te<64;Te++)ft(h[Te]);ft(1);for(var be=0;be<64;be++)ft(f[be])})(),(function(Te,be){Nt(65472),Nt(17),ft(8),Nt(be),Nt(Te),ft(3),ft(1),ft(17),ft(0),ft(2),ft(17),ft(1),ft(3),ft(17),ft(1)})(L.width,L.height),(function(){Nt(65476),Nt(418),ft(0);for(var Te=0;Te<16;Te++)ft(P[Te+1]);for(var be=0;be<=11;be++)ft(I[be]);ft(16);for(var Ye=0;Ye<16;Ye++)ft(q[Ye+1]);for(var Xe=0;Xe<=161;Xe++)ft(N[Xe]);ft(1);for(var Fe=0;Fe<16;Fe++)ft(k[Fe+1]);for(var an=0;an<=11;an++)ft(D[an]);ft(17);for(var We=0;We<16;We++)ft(lt[We+1]);for(var St=0;St<=161;St++)ft(xt[St])})(),Nt(65498),Nt(12),ft(3),ft(1),ft(0),ft(2),ft(17),ft(3),ft(17),ft(0),ft(63),ft(0);var J=0,ot=0,ut=0;B=0,V=7,this.encode.displayName="_encode_";for(var gt,Lt,Ct,Vt,Xt,re,ie,he,tt,ee=L.data,Ge=L.width,Ee=L.height,zt=4*Ge,ae=0;ae<Ee;){for(gt=0;gt<zt;){for(Xt=zt*ae+gt,ie=-1,he=0,tt=0;tt<64;tt++)re=Xt+(he=tt>>3)*zt+(ie=4*(7&tt)),ae+he>=Ee&&(re-=zt*(ae+1+he-Ee)),gt+ie>=zt&&(re-=gt+ie-zt+4),Lt=ee[re++],Ct=ee[re++],Vt=ee[re++],Z[tt]=(Ot[Lt]+Ot[Ct+256|0]+Ot[Vt+512|0]>>16)-128,et[tt]=(Ot[Lt+768|0]+Ot[Ct+1024|0]+Ot[Vt+1280|0]>>16)-128,nt[tt]=(Ot[Lt+1280|0]+Ot[Ct+1536|0]+Ot[Vt+1792|0]>>16)-128;J=Ht(Z,d,J,t,i),ot=Ht(et,v,ot,e,a),ut=Ht(nt,v,ut,e,a),gt+=32}ae+=8}if(V>=0){var se=[];se[1]=V+1,se[0]=(1<<V+1)-1,pt(se)}return Nt(65497),new Uint8Array(M)},n=n||50,(function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)_t[Y]=L(Y)})(),t=at(P,I),e=at(k,D),i=at(q,N),a=at(lt,xt),(function(){for(var L=1,Y=2,J=1;J<=15;J++){for(var ot=L;ot<Y;ot++)T[32767+ot]=J,A[32767+ot]=[],A[32767+ot][1]=J,A[32767+ot][0]=ot;for(var ut=-(Y-1);ut<=-L;ut++)T[32767+ut]=J,A[32767+ut]=[],A[32767+ut][1]=J,A[32767+ut][0]=Y-1+ut;L<<=1,Y<<=1}})(),(function(){for(var L=0;L<256;L++)Ot[L]=19595*L,Ot[L+256|0]=38470*L,Ot[L+512|0]=7471*L+32768,Ot[L+768|0]=-11059*L,Ot[L+1024|0]=-21709*L,Ot[L+1280|0]=32768*L+8421375,Ot[L+1536|0]=-27439*L,Ot[L+1792|0]=-5329*L})(),X(n)}function yo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ww(n){function t(I){if(!I)throw Error("assert :P")}function e(I,q,N){for(var k=0;4>k;k++)if(I[q+k]!=N.charCodeAt(k))return!0;return!1}function i(I,q,N,k,D){for(var lt=0;lt<D;lt++)I[q+lt]=N[k+lt]}function a(I,q,N,k){for(var D=0;D<k;D++)I[q+D]=N}function o(I){return new Int32Array(I)}function u(I,q){for(var N=[],k=0;k<I;k++)N.push(new q);return N}function h(I,q){var N=[];return(function k(D,lt,xt){for(var at=xt[lt],pt=0;pt<at&&(D.push(xt.length>lt+1?[]:new q),!(xt.length<lt+1));pt++)k(D[pt],lt+1,xt)})(N,0,I),N}var f=function(){var I=this;function q(p,y){for(var E=1<<y-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function N(p,y,E,x,j){t(!(x%E));do p[y+(x-=E)]=j;while(0<x)}function k(p,y,E,x,j){if(t(2328>=j),512>=j)var F=o(512);else if((F=o(j))==null)return 0;return(function(z,K,Q,st,dt,Rt){var it,yt,Et=K,jt=1<<Q,Tt=o(16),Ut=o(16);for(t(dt!=0),t(st!=null),t(z!=null),t(0<Q),yt=0;yt<dt;++yt){if(15<st[yt])return 0;++Tt[st[yt]]}if(Tt[0]==dt)return 0;for(Ut[1]=0,it=1;15>it;++it){if(Tt[it]>1<<it)return 0;Ut[it+1]=Ut[it]+Tt[it]}for(yt=0;yt<dt;++yt)it=st[yt],0<st[yt]&&(Rt[Ut[it]++]=yt);if(Ut[15]==1)return(st=new D).g=0,st.value=Rt[0],N(z,Et,1,jt,st),jt;var qt,Jt=-1,Wt=jt-1,ye=0,ue=1,$e=1,pe=1<<Q;for(yt=0,it=1,dt=2;it<=Q;++it,dt<<=1){if(ue+=$e<<=1,0>($e-=Tt[it]))return 0;for(;0<Tt[it];--Tt[it])(st=new D).g=it,st.value=Rt[yt++],N(z,Et+ye,dt,pe,st),ye=q(ye,it)}for(it=Q+1,dt=2;15>=it;++it,dt<<=1){if(ue+=$e<<=1,0>($e-=Tt[it]))return 0;for(;0<Tt[it];--Tt[it]){if(st=new D,(ye&Wt)!=Jt){for(Et+=pe,qt=1<<(Jt=it)-Q;15>Jt&&!(0>=(qt-=Tt[Jt]));)++Jt,qt<<=1;jt+=pe=1<<(qt=Jt-Q),z[K+(Jt=ye&Wt)].g=qt+Q,z[K+Jt].value=Et-K-Jt}st.g=it-Q,st.value=Rt[yt++],N(z,Et+(ye>>Q),dt,pe,st),ye=q(ye,it)}}return ue!=2*Ut[15]-1?0:jt})(p,y,E,x,j,F)}function D(){this.value=this.g=0}function lt(){this.value=this.g=0}function xt(){this.G=u(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Do,lt)}function at(p,y,E,x){t(p!=null),t(y!=null),t(2147483648>x),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=E,p.Jd=y,p.Yc=E+x,p.Zc=4<=x?E+x-4+1:E,Lt(p)}function pt(p,y){for(var E=0;0<y--;)E|=Vt(p,128)<<y;return E}function ft(p,y){var E=pt(p,y);return Ct(p)?-E:E}function Nt(p,y,E,x){var j,F=0;for(t(p!=null),t(y!=null),t(4294967288>x),p.Sb=x,p.Ra=0,p.u=0,p.h=0,4<x&&(x=4),j=0;j<x;++j)F+=y[E+j]<<8*j;p.Ra=F,p.bb=x,p.oa=y,p.pa=E}function Ht(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Oa-8>>>0,++p.bb,p.u-=8;ot(p)&&(p.h=1,p.u=0)}function X(p,y){if(t(0<=y),!p.h&&y<=Jr){var E=J(p)&hs[y];return p.u+=y,Ht(p),E}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&Oa-1)>>>0}function ot(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Oa}function ut(p,y){p.u=y,p.h=ot(p)}function gt(p){p.u>=Da&&(t(p.u>=Da),Ht(p))}function Lt(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ct(p){return pt(p,1)}function Vt(p,y){var E=p.Ca;0>p.b&&Lt(p);var x=p.b,j=E*y>>>8,F=(p.I>>>x>j)+0;for(F?(E-=j,p.I-=j+1<<x>>>0):E=j+1,x=E,j=0;256<=x;)j+=8,x>>=8;return x=7^j+io[x],p.b-=x,p.Ca=(E<<x)-1,F}function Xt(p,y,E){p[y+0]=E>>24&255,p[y+1]=E>>16&255,p[y+2]=E>>8&255,p[y+3]=255&E}function re(p,y){return p[y+0]|p[y+1]<<8}function ie(p,y){return re(p,y)|p[y+2]<<16}function he(p,y){return re(p,y)|re(p,y+2)<<16}function tt(p,y){var E=1<<y;return t(p!=null),t(0<y),p.X=o(E),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function ee(p,y){t(p!=null),t(y!=null),t(p.Xa==y.Xa),i(y.X,0,p.X,0,1<<y.Xa)}function Ge(){this.X=[],this.Xa=this.Mb=0}function Ee(p,y,E,x){t(E!=null),t(x!=null);var j=E[0],F=x[0];return j==0&&(j=(p*F+y/2)/y),F==0&&(F=(y*j+p/2)/p),0>=j||0>=F?0:(E[0]=j,x[0]=F,1)}function zt(p,y){return p+(1<<y)-1>>>y}function ae(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function se(p,y){I[y]=function(E,x,j,F,z,K,Q){var st;for(st=0;st<z;++st){var dt=I[p](K[Q+st-1],j,F+st);K[Q+st]=ae(E[x+st],dt)}}}function Te(){this.ud=this.hd=this.jd=0}function be(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Ye(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Xe(p,y){return Ye(p+(p-y+.5>>1))}function Fe(p,y,E){return Math.abs(y-E)-Math.abs(p-E)}function an(p,y,E,x,j,F,z){for(x=F[z-1],E=0;E<j;++E)F[z+E]=x=ae(p[y+E],x)}function We(p,y,E,x,j){var F;for(F=0;F<E;++F){var z=p[y+F],K=z>>8&255,Q=16711935&(Q=(Q=16711935&z)+((K<<16)+K));x[j+F]=(4278255360&z)+Q>>>0}}function St(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function le(p,y,E,x,j,F){var z;for(z=0;z<x;++z){var K=y[E+z],Q=K>>>8,st=K,dt=255&(dt=(dt=K>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));st=255&(st=(st+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(dt<<24>>24)>>>5)),j[F+z]=(4278255360&K)+(dt<<16)+st}}function te(p,y,E,x,j){I[y]=function(F,z,K,Q,st,dt,Rt,it,yt){for(Q=Rt;Q<it;++Q)for(Rt=0;Rt<yt;++Rt)st[dt++]=j(K[x(F[z++])])},I[p]=function(F,z,K,Q,st,dt,Rt){var it=8>>F.b,yt=F.Ea,Et=F.K[0],jt=F.w;if(8>it)for(F=(1<<F.b)-1,jt=(1<<it)-1;z<K;++z){var Tt,Ut=0;for(Tt=0;Tt<yt;++Tt)Tt&F||(Ut=x(Q[st++])),dt[Rt++]=j(Et[Ut&jt]),Ut>>=it}else I["VP8LMapColor"+E](Q,st,Et,jt,dt,Rt,z,K,yt)}}function Je(p,y,E,x,j){for(E=y+E;y<E;){var F=p[y++];x[j++]=F>>16&255,x[j++]=F>>8&255,x[j++]=255&F}}function Ue(p,y,E,x,j){for(E=y+E;y<E;){var F=p[y++];x[j++]=F>>16&255,x[j++]=F>>8&255,x[j++]=255&F,x[j++]=F>>24&255}}function _e(p,y,E,x,j){for(E=y+E;y<E;){var F=(z=p[y++])>>16&240|z>>12&15,z=240&z|z>>28&15;x[j++]=F,x[j++]=z}}function xe(p,y,E,x,j){for(E=y+E;y<E;){var F=(z=p[y++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;x[j++]=F,x[j++]=z}}function Ze(p,y,E,x,j){for(E=y+E;y<E;){var F=p[y++];x[j++]=255&F,x[j++]=F>>8&255,x[j++]=F>>16&255}}function Ne(p,y,E,x,j,F){if(F==0)for(E=y+E;y<E;)Xt(x,((F=p[y++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),j+=32;else i(x,j,p,y,E)}function In(p,y){I[y][0]=I[p+"0"],I[y][1]=I[p+"1"],I[y][2]=I[p+"2"],I[y][3]=I[p+"3"],I[y][4]=I[p+"4"],I[y][5]=I[p+"5"],I[y][6]=I[p+"6"],I[y][7]=I[p+"7"],I[y][8]=I[p+"8"],I[y][9]=I[p+"9"],I[y][10]=I[p+"10"],I[y][11]=I[p+"11"],I[y][12]=I[p+"12"],I[y][13]=I[p+"13"],I[y][14]=I[p+"0"],I[y][15]=I[p+"0"]}function je(p){return p==uc||p==Kc||p==ru||p==Wc}function Ve(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ve,this.f.kb=new On,this.sd=null}function we(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ir(p,y){var E=p.T,x=y.ba.f.RGBA,j=x.eb,F=x.fb+p.ka*x.A,z=Er[y.ba.S],K=p.y,Q=p.O,st=p.f,dt=p.N,Rt=p.ea,it=p.W,yt=y.cc,Et=y.dc,jt=y.Mc,Tt=y.Nc,Ut=p.ka,qt=p.ka+p.T,Jt=p.U,Wt=Jt+1>>1;for(Ut==0?z(K,Q,null,null,st,dt,Rt,it,st,dt,Rt,it,j,F,null,null,Jt):(z(y.ec,y.fc,K,Q,yt,Et,jt,Tt,st,dt,Rt,it,j,F-x.A,j,F,Jt),++E);Ut+2<qt;Ut+=2)yt=st,Et=dt,jt=Rt,Tt=it,dt+=p.Rc,it+=p.Rc,F+=2*x.A,z(K,(Q+=2*p.fa)-p.fa,K,Q,yt,Et,jt,Tt,st,dt,Rt,it,j,F-x.A,j,F,Jt);return Q+=p.fa,p.j+qt<p.o?(i(y.ec,y.fc,K,Q,Jt),i(y.cc,y.dc,st,dt,Wt),i(y.Mc,y.Nc,Rt,it,Wt),E--):1&qt||z(K,Q,null,null,st,dt,Rt,it,st,dt,Rt,it,j,F+x.A,null,null,Jt),E}function Os(p,y,E){var x=p.F,j=[p.J];if(x!=null){var F=p.U,z=y.ba.S,K=z==lc||z==ru;y=y.ba.f.RGBA;var Q=[0],st=p.ka;Q[0]=p.T,p.Kb&&(st==0?--Q[0]:(--st,j[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-st));var dt=y.eb;st=y.fb+st*y.A,p=rc(x,j[0],p.width,F,Q,dt,st+(K?0:3),y.A),t(E==Q),p&&je(z)&&vl(dt,st,K,F,Q,y.A)}return 0}function Ki(p){var y=p.ma,E=y.ba.S,x=11>E,j=E==Ur||E==Fs||E==lc||E==iu||E==12||je(E);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!no(y.Oa,p,j?11:12))return 0;if(j&&je(E)&&Ke(),p.da)alert("todo:use_scaling");else{if(x){if(y.Ib=pr,p.Kb){if(E=p.U+1>>1,y.memory=o(p.U+2*E),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+E,y.Ib=ir,Ke()}}else alert("todo:EmitYUV");j&&(y.Jb=Os,x&&Dt())}if(x&&!Fo){for(p=0;256>p;++p)Sr[p]=89858*(p-128)+ou>>Ks,pg[p]=-22014*(p-128)+ou,qd[p]=-45773*(p-128),Zc[p]=113618*(p-128)+ou>>Ks;for(p=Al;p<Bo;++p)y=76283*(p-16)+ou>>Ks,mg[p-Al]=Yr(y,255),gg[p-Al]=Yr(y+8>>4,15);Fo=1}return 1}function Re(p){var y=p.ma,E=p.U,x=p.T;return t(!(1&p.ka)),0>=E||0>=x?0:(E=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,E),y.Dc+=E,1)}function sa(p){p.ma.memory=null}function qr(p,y,E,x){return X(p,8)!=47?0:(y[0]=X(p,14)+1,E[0]=X(p,14)+1,x[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Rr(p,y){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+X(y,E)+1}function Cr(p,y){return 120<y?y-120:1<=(E=((E=qs[y-1])>>4)*p+(8-(15&E)))?E:1;var E}function zn(p,y,E){var x=J(E),j=p[y+=255&x].g-8;return 0<j&&(ut(E,E.u+8),x=J(E),y+=p[y].value,y+=x&(1<<j)-1),ut(E,E.u+p[y].g),p[y].value}function Xn(p,y,E){return E.g+=p.g,E.value+=p.value<<y>>>0,t(8>=E.g),p.g}function Di(p,y,E){var x=p.xc;return t((y=x==0?0:p.vc[p.md*(E>>x)+(y>>x)])<p.Wb),p.Ya[y]}function mr(p,y,E,x){var j=p.ab,F=p.c*y,z=p.C;y=z+y;var K=E,Q=x;for(x=p.Ta,E=p.Ua;0<j--;){var st=p.gc[j],dt=z,Rt=y,it=K,yt=Q,Et=(Q=x,K=E,st.Ea);switch(t(dt<Rt),t(Rt<=st.nc),st.hc){case 2:Ci(it,yt,(Rt-dt)*Et,Q,K);break;case 0:var jt=dt,Tt=Rt,Ut=Q,qt=K,Jt=(pe=st).Ea;jt==0&&(Zl(it,yt,null,null,1,Ut,qt),an(it,yt+1,0,0,Jt-1,Ut,qt+1),yt+=Jt,qt+=Jt,++jt);for(var Wt=1<<pe.b,ye=Wt-1,ue=zt(Jt,pe.b),$e=pe.K,pe=pe.w+(jt>>pe.b)*ue;jt<Tt;){var pn=$e,oi=pe,en=1;for(tu(it,yt,Ut,qt-Jt,1,Ut,qt);en<Jt;){var ce=(en&~ye)+Wt;ce>Jt&&(ce=Jt),(0,ro[pn[oi++]>>8&15])(it,yt+ +en,Ut,qt+en-Jt,ce-en,Ut,qt+en),en=ce}yt+=Jt,qt+=Jt,++jt&ye||(pe+=ue)}Rt!=st.nc&&i(Q,K-Et,Q,K+(Rt-dt-1)*Et,Et);break;case 1:for(Et=it,Tt=yt,Jt=(it=st.Ea)-(qt=it&~(Ut=(yt=1<<st.b)-1)),jt=zt(it,st.b),Wt=st.K,st=st.w+(dt>>st.b)*jt;dt<Rt;){for(ye=Wt,ue=st,$e=new Te,pe=Tt+qt,pn=Tt+it;Tt<pe;)St(ye[ue++],$e),eu($e,Et,Tt,yt,Q,K),Tt+=yt,K+=yt;Tt<pn&&(St(ye[ue++],$e),eu($e,Et,Tt,Jt,Q,K),Tt+=Jt,K+=Jt),++dt&Ut||(st+=jt)}break;case 3:if(it==Q&&yt==K&&0<st.b){for(Tt=Q,it=Et=K+(Rt-dt)*Et-(qt=(Rt-dt)*zt(st.Ea,st.b)),yt=Q,Ut=K,jt=[],qt=(Jt=qt)-1;0<=qt;--qt)jt[qt]=yt[Ut+qt];for(qt=Jt-1;0<=qt;--qt)Tt[it+qt]=jt[qt];zc(st,dt,Rt,Q,Et,Q,K)}else zc(st,dt,Rt,it,yt,Q,K)}K=x,Q=E}Q!=E&&i(x,E,K,Q,F)}function rr(p,y){var E=p.V,x=p.Ba+p.c*p.C,j=y-p.C;if(t(y<=p.l.o),t(16>=j),0<j){var F=p.l,z=p.Ta,K=p.Ua,Q=F.width;if(mr(p,j,E,x),j=K=[K],t((E=p.C)<(x=y)),t(F.v<F.va),x>F.o&&(x=F.o),E<F.j){var st=F.j-E;E=F.j,j[0]+=st*Q}if(E>=x?E=0:(j[0]+=4*F.v,F.ka=E-F.j,F.U=F.va-F.v,F.T=x-E,E=1),E){if(K=K[0],11>(E=p.ca).S){var dt=E.f.RGBA,Rt=(x=E.S,j=F.U,F=F.T,st=dt.eb,dt.A),it=F;for(dt=dt.fb+p.Ma*dt.A;0<it--;){var yt=z,Et=K,jt=j,Tt=st,Ut=dt;switch(x){case Gc:nu(yt,Et,jt,Tt,Ut);break;case Ur:so(yt,Et,jt,Tt,Ut);break;case uc:so(yt,Et,jt,Tt,Ut),vl(Tt,Ut,0,jt,1,0);break;case Yc:gl(yt,Et,jt,Tt,Ut);break;case Fs:Ne(yt,Et,jt,Tt,Ut,1);break;case Kc:Ne(yt,Et,jt,Tt,Ut,1),vl(Tt,Ut,0,jt,1,0);break;case lc:Ne(yt,Et,jt,Tt,Ut,0);break;case ru:Ne(yt,Et,jt,Tt,Ut,0),vl(Tt,Ut,1,jt,1,0);break;case iu:ao(yt,Et,jt,Tt,Ut);break;case Wc:ao(yt,Et,jt,Tt,Ut),Bs(Tt,Ut,jt,1,0);break;case Po:Ua(yt,Et,jt,Tt,Ut);break;default:t(0)}K+=Q,dt+=Rt}p.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=E.height)}}p.C=y,t(p.C<=p.i)}function Dn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var E=p.Ya[y].G,x=p.Ya[y].H;if(0<E[1][x[1]+0].g||0<E[2][x[2]+0].g||0<E[3][x[3]+0].g)return 0}return 1}function Gn(p,y,E,x,j,F){if(p.Z!=0){var z=p.qd,K=p.rd;for(t(uo[p.Z]!=null);y<E;++y)uo[p.Z](z,K,x,j,x,j,F),z=x,K=j,j+=F;p.qd=z,p.rd=K}}function Pi(p,y){var E=p.l.ma,x=E.Z==0||E.Z==1?p.l.j:p.C;if(x=p.C<x?x:p.C,t(y<=p.l.o),y>x){var j=p.l.width,F=E.ca,z=E.tb+j*x,K=p.V,Q=p.Ba+p.c*x,st=p.gc;t(p.ab==1),t(st[0].hc==3),Ma(st[0],x,y,K,Q,F,z),Gn(E,x,y,F,z,j)}p.C=p.Ma=y}function Ir(p,y,E,x,j,F,z){var K=p.$/x,Q=p.$%x,st=p.m,dt=p.s,Rt=E+p.$,it=Rt;j=E+x*j;var yt=E+x*F,Et=280+dt.ua,jt=p.Pb?K:16777216,Tt=0<dt.ua?dt.Wa:null,Ut=dt.wc,qt=Rt<yt?Di(dt,Q,K):null;t(p.C<F),t(yt<=j);var Jt=!1;t:for(;;){for(;Jt||Rt<yt;){var Wt=0;if(K>=jt){var ye=Rt-E;t((jt=p).Pb),jt.wd=jt.m,jt.xd=ye,0<jt.s.ua&&ee(jt.s.Wa,jt.s.vb),jt=K+Mo}if(Q&Ut||(qt=Di(dt,Q,K)),t(qt!=null),qt.Qb&&(y[Rt]=qt.qb,Jt=!0),!Jt)if(gt(st),qt.jc){Wt=st,ye=y;var ue=Rt,$e=qt.pd[J(Wt)&Do-1];t(qt.jc),256>$e.g?(ut(Wt,Wt.u+$e.g),ye[ue]=$e.value,Wt=0):(ut(Wt,Wt.u+$e.g-256),t(256<=$e.value),Wt=$e.value),Wt==0&&(Jt=!0)}else Wt=zn(qt.G[0],qt.H[0],st);if(st.h)break;if(Jt||256>Wt){if(!Jt)if(qt.nd)y[Rt]=(qt.qb|Wt<<8)>>>0;else{if(gt(st),Jt=zn(qt.G[1],qt.H[1],st),gt(st),ye=zn(qt.G[2],qt.H[2],st),ue=zn(qt.G[3],qt.H[3],st),st.h)break;y[Rt]=(ue<<24|Jt<<16|Wt<<8|ye)>>>0}if(Jt=!1,++Rt,++Q>=x&&(Q=0,++K,z!=null&&K<=F&&!(K%16)&&z(p,K),Tt!=null))for(;it<Rt;)Wt=y[it++],Tt.X[(506832829*Wt&4294967295)>>>Tt.Mb]=Wt}else if(280>Wt){if(Wt=Rr(Wt-256,st),ye=zn(qt.G[4],qt.H[4],st),gt(st),ye=Cr(x,ye=Rr(ye,st)),st.h)break;if(Rt-E<ye||j-Rt<Wt)break t;for(ue=0;ue<Wt;++ue)y[Rt+ue]=y[Rt+ue-ye];for(Rt+=Wt,Q+=Wt;Q>=x;)Q-=x,++K,z!=null&&K<=F&&!(K%16)&&z(p,K);if(t(Rt<=j),Q&Ut&&(qt=Di(dt,Q,K)),Tt!=null)for(;it<Rt;)Wt=y[it++],Tt.X[(506832829*Wt&4294967295)>>>Tt.Mb]=Wt}else{if(!(Wt<Et))break t;for(Jt=Wt-280,t(Tt!=null);it<Rt;)Wt=y[it++],Tt.X[(506832829*Wt&4294967295)>>>Tt.Mb]=Wt;Wt=Rt,t(!(Jt>>>(ye=Tt).Xa)),y[Wt]=ye.X[Jt],Jt=!0}Jt||t(st.h==ot(st))}if(p.Pb&&st.h&&Rt<j)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ee(p.s.vb,p.s.Wa);else{if(st.h)break t;z?.(p,K>F?F:K),p.a=0,p.$=Rt-E}return 1}return p.a=3,0}function as(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,t(p!=null)}function Ta(){var p=new Oe;return p==null?null:(p.a=0,p.xb=cf,In("Predictor","VP8LPredictors"),In("Predictor","VP8LPredictors_C"),In("PredictorAdd","VP8LPredictorsAdd"),In("PredictorAdd","VP8LPredictorsAdd_C"),Ci=We,eu=le,nu=Je,so=Ue,ao=_e,Ua=xe,gl=Ze,I.VP8LMapColor32b=Pa,I.VP8LMapColor8b=br,p)}function As(p,y,E,x,j){var F=1,z=[p],K=[y],Q=x.m,st=x.s,dt=null,Rt=0;t:for(;;){if(E)for(;F&&X(Q,1);){var it=z,yt=K,Et=x,jt=1,Tt=Et.m,Ut=Et.gc[Et.ab],qt=X(Tt,2);if(Et.Oc&1<<qt)F=0;else{switch(Et.Oc|=1<<qt,Ut.hc=qt,Ut.Ea=it[0],Ut.nc=yt[0],Ut.K=[null],++Et.ab,t(4>=Et.ab),qt){case 0:case 1:Ut.b=X(Tt,3)+2,jt=As(zt(Ut.Ea,Ut.b),zt(Ut.nc,Ut.b),0,Et,Ut.K),Ut.K=Ut.K[0];break;case 3:var Jt,Wt=X(Tt,8)+1,ye=16<Wt?0:4<Wt?1:2<Wt?2:3;if(it[0]=zt(Ut.Ea,ye),Ut.b=ye,Jt=jt=As(Wt,1,0,Et,Ut.K)){var ue,$e=Wt,pe=Ut,pn=1<<(8>>pe.b),oi=o(pn);if(oi==null)Jt=0;else{var en=pe.K[0],ce=pe.w;for(oi[0]=pe.K[0][0],ue=1;ue<1*$e;++ue)oi[ue]=ae(en[ce+ue],oi[ue-1]);for(;ue<4*pn;++ue)oi[ue]=0;pe.K[0]=null,pe.K[0]=oi,Jt=1}}jt=Jt;break;case 2:break;default:t(0)}F=jt}}if(z=z[0],K=K[0],F&&X(Q,1)&&!(F=1<=(Rt=X(Q,4))&&11>=Rt)){x.a=3;break t}var ne;if(ne=F)e:{var fi,Be,on,Vn=x,Qi=z,Tr=K,ei=Rt,Ui=E,jr=Vn.m,ji=Vn.s,hn=[null],xn=1,di=0,kn=Hs[ei];n:for(;;){if(Ui&&X(jr,1)){var Xi=X(jr,3)+2,pi=zt(Qi,Xi),Nn=zt(Tr,Xi),ki=pi*Nn;if(!As(pi,Nn,0,Vn,hn))break n;for(hn=hn[0],ji.xc=Xi,fi=0;fi<ki;++fi){var Bn=hn[fi]>>8&65535;hn[fi]=Bn,Bn>=xn&&(xn=Bn+1)}}if(jr.h)break n;for(Be=0;5>Be;++Be){var Vi=bl[Be];!Be&&0<ei&&(Vi+=1<<ei),di<Vi&&(di=Vi)}var Bi=u(xn*kn,D),Kn=xn,Tn=u(Kn,xt);if(Tn==null)var Vr=null;else t(65536>=Kn),Vr=Tn;var wi=o(di);if(Vr==null||wi==null||Bi==null){Vn.a=1;break n}var ke=Bi;for(fi=on=0;fi<xn;++fi){var De=Vr[fi],Rn=De.G,fs=De.H,Ws=0,ts=1,Fi=0;for(Be=0;5>Be;++Be){Vi=bl[Be],Rn[Be]=ke,fs[Be]=on,!Be&&0<ei&&(Vi+=1<<ei);r:{var zo,qo=Vi,eh=Vn,ni=wi,ff=ke,df=on,nh=0,co=eh.m,yg=X(co,1);if(a(ni,0,0,qo),yg){var pf=X(co,1)+1,mf=X(co,1),ih=X(co,mf==0?1:8);ni[ih]=1,pf==2&&(ni[ih=X(co,8)]=1);var lr=1}else{var Ai=o(19),dc=X(co,4)+4;if(19<dc){eh.a=3;var Ho=0;break r}for(zo=0;zo<dc;++zo)Ai[cc[zo]]=X(co,3);var uu=void 0,El=void 0,Ba=eh,rh=Ai,cu=qo,sh=ni,ah=0,ho=Ba.m,gf=8,yf=u(128,D);i:for(;k(yf,0,7,rh,19);){if(X(ho,1)){var Hd=2+2*X(ho,3);if((uu=2+X(ho,Hd))>cu)break i}else uu=cu;for(El=0;El<cu&&uu--;){gt(ho);var vf=yf[0+(127&J(ho))];ut(ho,ho.u+vf.g);var Go=vf.value;if(16>Go)sh[El++]=Go,Go!=0&&(gf=Go);else{var Gd=Go==16,Yd=Go-16,Kd=su[Yd],_f=X(ho,zs[Yd])+Kd;if(El+_f>cu)break i;for(var Wd=Gd?gf:0;0<_f--;)sh[El++]=Wd}}ah=1;break i}ah||(Ba.a=3),lr=ah}(lr=lr&&!co.h)&&(nh=k(ff,df,8,ni,qo)),lr&&nh!=0?Ho=nh:(eh.a=3,Ho=0)}if(Ho==0)break n;if(ts&&$c[Be]==1&&(ts=ke[on].g==0),Ws+=ke[on].g,on+=Ho,3>=Be){var Sl,oh=wi[0];for(Sl=1;Sl<Vi;++Sl)wi[Sl]>oh&&(oh=wi[Sl]);Fi+=oh}}if(De.nd=ts,De.Qb=0,ts&&(De.qb=(Rn[3][fs[3]+0].value<<24|Rn[1][fs[1]+0].value<<16|Rn[2][fs[2]+0].value)>>>0,Ws==0&&256>Rn[0][fs[0]+0].value&&(De.Qb=1,De.qb+=Rn[0][fs[0]+0].value<<8)),De.jc=!De.Qb&&6>Fi,De.jc){var pc,Fa=De;for(pc=0;pc<Do;++pc){var fo=pc,po=Fa.pd[fo],lh=Fa.G[0][Fa.H[0]+fo];256<=lh.value?(po.g=lh.g+256,po.value=lh.value):(po.g=0,po.value=0,fo>>=Xn(lh,8,po),fo>>=Xn(Fa.G[1][Fa.H[1]+fo],16,po),fo>>=Xn(Fa.G[2][Fa.H[2]+fo],0,po),Xn(Fa.G[3][Fa.H[3]+fo],24,po))}}}ji.vc=hn,ji.Wb=xn,ji.Ya=Vr,ji.yc=Bi,ne=1;break e}ne=0}if(!(F=ne)){x.a=3;break t}if(0<Rt){if(st.ua=1<<Rt,!tt(st.Wa,Rt)){x.a=1,F=0;break t}}else st.ua=0;var uh=x,Tl=z,$d=K,hu=uh.s,fu=hu.xc;if(uh.c=Tl,uh.i=$d,hu.md=zt(Tl,fu),hu.wc=fu==0?-1:(1<<fu)-1,E){x.xb=Uo;break t}if((dt=o(z*K))==null){x.a=1,F=0;break t}F=(F=Ir(x,dt,0,z,K,K,null))&&!Q.h;break t}return F?(j!=null?j[0]=dt:(t(dt==null),t(E)),x.$=0,E||as(st)):as(st),F}function Lr(p,y){var E=p.c*p.i,x=E+y+16*y;return t(p.c<=y),p.V=o(x),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+y,1)}function aa(p,y){var E=p.C,x=y-E,j=p.V,F=p.Ba+p.c*E;for(t(y<=p.l.o);0<x;){var z=16<x?16:x,K=p.l.ma,Q=p.l.width,st=Q*z,dt=K.ca,Rt=K.tb+Q*E,it=p.Ta,yt=p.Ua;mr(p,z,j,F),Is(it,yt,dt,Rt,st),Gn(K,E,E+z,dt,Rt,Q),x-=z,j+=z*p.c,E+=z}t(E==y),p.C=p.Ma=y}function Hr(){this.ub=this.yd=this.td=this.Rb=0}function gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function os(){this.Yb=(function(){var p=[];return(function y(E,x,j){for(var F=j[x],z=0;z<F&&(E.push(j.length>x+1?[]:0),!(j.length<x+1));z++)y(E[z],x+1,j)})(p,0,[3,11]),p})()}function hi(){this.jb=o(3),this.Wc=h([4,8],os),this.Xc=h([4,17],os)}function xo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function kr(){this.ld=this.La=this.dd=this.tc=0}function ls(){this.Na=this.la=0}function Es(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $a(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function No(){this.uc=this.M=this.Nb=0,this.wa=Array(new kr),this.Y=0,this.ya=Array(new $a),this.aa=0,this.l=new sr}function Ro(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ul(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Hr,this.Kc=new gr,this.ed=new xo,this.Qa=new Gr,this.Ic=this.$c=this.Aa=0,this.D=new No,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,Es),this.Pa=new hi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ro),this.Hd=0,this.rb=Array(new ls),this.sb=0,this.wa=Array(new kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $a),this.L=this.aa=0,this.gd=h([4,2],kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yr(p,y){return 0>p?0:p>y?y:p}function sr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vi(){var p=new ul;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ls||(Ls=vn)),p}function fn(p,y,E){return p.a==0&&(p.a=y,p.sc=E,p.cb=0),0}function oa(p,y,E){return 3<=E&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function us(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var E=y.data,x=y.w,j=y.ha;if(4>j)return fn(p,7,"Truncated header.");var F=E[x+0]|E[x+1]<<8|E[x+2]<<16,z=p.Od;if(z.Rb=!(1&F),z.td=F>>1&7,z.yd=F>>4&1,z.ub=F>>5,3<z.td)return fn(p,3,"Incorrect keyframe parameters.");if(!z.yd)return fn(p,4,"Frame not displayable.");x+=3,j-=3;var K=p.Kc;if(z.Rb){if(7>j)return fn(p,7,"cannot parse picture header");if(!oa(E,x,j))return fn(p,3,"Bad code word");K.c=16383&(E[x+4]<<8|E[x+3]),K.Td=E[x+4]>>6,K.i=16383&(E[x+6]<<8|E[x+5]),K.Ud=E[x+6]>>6,x+=7,j-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,y.width=K.c,y.height=K.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((F=p.Pa).jb,0,255,F.jb.length),t((F=p.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,a(F.Zb,0,0,F.Zb.length),a(F.Lb,0,0,F.Lb)}if(z.ub>j)return fn(p,7,"bad partition length");at(F=p.m,E,x,z.ub),x+=z.ub,j-=z.ub,z.Rb&&(K.Ld=Ct(F),K.Kd=Ct(F)),K=p.Qa;var Q,st=p.Pa;if(t(F!=null),t(K!=null),K.Cb=Ct(F),K.Cb){if(K.Bb=Ct(F),Ct(F)){for(K.Fb=Ct(F),Q=0;4>Q;++Q)K.Zb[Q]=Ct(F)?ft(F,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=Ct(F)?ft(F,6):0}if(K.Bb)for(Q=0;3>Q;++Q)st.jb[Q]=Ct(F)?pt(F,8):255}else K.Bb=0;if(F.Ka)return fn(p,3,"cannot parse segment header");if((K=p.ed).zd=Ct(F),K.Tb=pt(F,6),K.wb=pt(F,3),K.Pc=Ct(F),K.Pc&&Ct(F)){for(st=0;4>st;++st)Ct(F)&&(K.vd[st]=ft(F,6));for(st=0;4>st;++st)Ct(F)&&(K.od[st]=ft(F,6))}if(p.L=K.Tb==0?0:K.zd?1:2,F.Ka)return fn(p,3,"cannot parse filter header");var dt=j;if(j=Q=x,x=Q+dt,K=dt,p.Xb=(1<<pt(p.m,2))-1,dt<3*(st=p.Xb))E=7;else{for(Q+=3*st,K-=3*st,dt=0;dt<st;++dt){var Rt=E[j+0]|E[j+1]<<8|E[j+2]<<16;Rt>K&&(Rt=K),at(p.Jc[+dt],E,Q,Rt),Q+=Rt,K-=Rt,j+=3}at(p.Jc[+st],E,Q,K),E=Q<x?0:5}if(E!=0)return fn(p,E,"cannot parse partitions");for(E=pt(Q=p.m,7),j=Ct(Q)?ft(Q,4):0,x=Ct(Q)?ft(Q,4):0,K=Ct(Q)?ft(Q,4):0,st=Ct(Q)?ft(Q,4):0,Q=Ct(Q)?ft(Q,4):0,dt=p.Qa,Rt=0;4>Rt;++Rt){if(dt.Cb){var it=dt.Zb[Rt];dt.Fb||(it+=E)}else{if(0<Rt){p.pb[Rt]=p.pb[0];continue}it=E}var yt=p.pb[Rt];yt.Sc[0]=Gs[Yr(it+j,127)],yt.Sc[1]=Ys[Yr(it+0,127)],yt.Eb[0]=2*Gs[Yr(it+x,127)],yt.Eb[1]=101581*Ys[Yr(it+K,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=Gs[Yr(it+st,117)],yt.Qc[1]=Ys[Yr(it+Q,127)],yt.lc=it+Q}if(!z.Rb)return fn(p,4,"Not a key frame.");for(Ct(F),z=p.Pa,E=0;4>E;++E){for(j=0;8>j;++j)for(x=0;3>x;++x)for(K=0;11>K;++K)st=Vt(F,ai[E][j][x][K])?pt(F,8):zd[E][j][x][K],z.Wc[E][j].Yb[x][K]=st;for(j=0;17>j;++j)z.Xc[E][j]=z.Wc[E][mn[j]]}return p.kc=Ct(F),p.kc&&(p.Bd=pt(F,8)),p.cb=1}function vn(p,y,E,x,j,F,z){var K=y[j].Yb[E];for(E=0;16>j;++j){if(!Vt(p,K[E+0]))return j;for(;!Vt(p,K[E+1]);)if(K=y[++j].Yb[0],E=0,j==16)return 16;var Q=y[j+1].Yb;if(Vt(p,K[E+2])){var st=p,dt=0;if(Vt(st,(it=K)[(Rt=E)+3]))if(Vt(st,it[Rt+6])){for(K=0,Rt=2*(dt=Vt(st,it[Rt+8]))+(it=Vt(st,it[Rt+9+dt])),dt=0,it=Fd[Rt];it[K];++K)dt+=dt+Vt(st,it[K]);dt+=3+(8<<Rt)}else Vt(st,it[Rt+7])?(dt=7+2*Vt(st,165),dt+=Vt(st,145)):dt=5+Vt(st,159);else dt=Vt(st,it[Rt+4])?3+Vt(st,it[Rt+5]):2;K=Q[2]}else dt=1,K=Q[1];Q=z+uf[j],0>(st=p).b&&Lt(st);var Rt,it=st.b,yt=(Rt=st.Ca>>1)-(st.I>>it)>>31;--st.b,st.Ca+=yt,st.Ca|=1,st.I-=(Rt+1&yt)<<it,F[Q]=((dt^yt)-yt)*x[(0<j)+0]}return 16}function xa(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,y,E,x,j){j=p[y+E+32*x]+(j>>3),p[y+E+32*x]=-256&j?0>j?0:255:j}function si(p,y,E,x,j,F){Ni(p,y,0,E,x+j),Ni(p,y,1,E,x+F),Ni(p,y,2,E,x-F),Ni(p,y,3,E,x-j)}function _i(p){return(20091*p>>16)+p}function Qa(p,y,E,x){var j,F=0,z=o(16);for(j=0;4>j;++j){var K=p[y+0]+p[y+8],Q=p[y+0]-p[y+8],st=(35468*p[y+4]>>16)-_i(p[y+12]),dt=_i(p[y+4])+(35468*p[y+12]>>16);z[F+0]=K+dt,z[F+1]=Q+st,z[F+2]=Q-st,z[F+3]=K-dt,F+=4,y++}for(j=F=0;4>j;++j)K=(p=z[F+0]+4)+z[F+8],Q=p-z[F+8],st=(35468*z[F+4]>>16)-_i(z[F+12]),Ni(E,x,0,0,K+(dt=_i(z[F+4])+(35468*z[F+12]>>16))),Ni(E,x,1,0,Q+st),Ni(E,x,2,0,Q-st),Ni(E,x,3,0,K-dt),F++,x+=32}function Xl(p,y,E,x){var j=p[y+0]+4,F=35468*p[y+4]>>16,z=_i(p[y+4]),K=35468*p[y+1]>>16;si(E,x,0,j+z,p=_i(p[y+1]),K),si(E,x,1,j+F,p,K),si(E,x,2,j-F,p,K),si(E,x,3,j-z,p,K)}function cl(p,y,E,x,j){Qa(p,y,E,x),j&&Qa(p,y+16,E,x+4)}function yr(p,y,E,x){oo(p,y+0,E,x,1),oo(p,y+32,E,x+128,1)}function hl(p,y,E,x){var j;for(p=p[y+0]+4,j=0;4>j;++j)for(y=0;4>y;++y)Ni(E,x,y,j,p)}function la(p,y,E,x){p[y+0]&&Ln(p,y+0,E,x),p[y+16]&&Ln(p,y+16,E,x+4),p[y+32]&&Ln(p,y+32,E,x+128),p[y+48]&&Ln(p,y+48,E,x+128+4)}function Wi(p,y,E,x){var j,F=o(16);for(j=0;4>j;++j){var z=p[y+0+j]+p[y+12+j],K=p[y+4+j]+p[y+8+j],Q=p[y+4+j]-p[y+8+j],st=p[y+0+j]-p[y+12+j];F[0+j]=z+K,F[8+j]=z-K,F[4+j]=st+Q,F[12+j]=st-Q}for(j=0;4>j;++j)z=(p=F[0+4*j]+3)+F[3+4*j],K=F[1+4*j]+F[2+4*j],Q=F[1+4*j]-F[2+4*j],st=p-F[3+4*j],E[x+0]=z+K>>3,E[x+16]=st+Q>>3,E[x+32]=z-K>>3,E[x+48]=st-Q>>3,x+=64}function Na(p,y,E){var x,j=y-32,F=Mr,z=255-p[j-1];for(x=0;x<E;++x){var K,Q=F,st=z+p[y-1];for(K=0;K<E;++K)p[y+K]=Q[st+p[j+K]];y+=32}}function fl(p,y){Na(p,y,4)}function dl(p,y){Na(p,y,8)}function Co(p,y){Na(p,y,16)}function Io(p,y){var E;for(E=0;16>E;++E)i(p,y+32*E,p,y-32,16)}function ua(p,y){var E;for(E=16;0<E;--E)a(p,y,p[y-1],16),y+=32}function Or(p,y,E){var x;for(x=0;16>x;++x)a(y,E+32*x,p,16)}function Ss(p,y){var E,x=16;for(E=0;16>E;++E)x+=p[y-1+32*E]+p[y+E-32];Or(x>>5,p,y)}function ca(p,y){var E,x=8;for(E=0;16>E;++E)x+=p[y-1+32*E];Or(x>>4,p,y)}function Dr(p,y){var E,x=8;for(E=0;16>E;++E)x+=p[y+E-32];Or(x>>4,p,y)}function Ra(p,y){Or(128,p,y)}function Le(p,y,E){return p+2*y+E+2>>2}function Xa(p,y){var E,x=y-32;for(x=new Uint8Array([Le(p[x-1],p[x+0],p[x+1]),Le(p[x+0],p[x+1],p[x+2]),Le(p[x+1],p[x+2],p[x+3]),Le(p[x+2],p[x+3],p[x+4])]),E=0;4>E;++E)i(p,y+32*E,x,0,x.length)}function Lo(p,y){var E=p[y-1],x=p[y-1+32],j=p[y-1+64],F=p[y-1+96];Xt(p,y+0,16843009*Le(p[y-1-32],E,x)),Xt(p,y+32,16843009*Le(E,x,j)),Xt(p,y+64,16843009*Le(x,j,F)),Xt(p,y+96,16843009*Le(j,F,F))}function Ca(p,y){var E,x=4;for(E=0;4>E;++E)x+=p[y+E-32]+p[y-1+32*E];for(x>>=3,E=0;4>E;++E)a(p,y+32*E,x,4)}function $i(p,y){var E=p[y-1+0],x=p[y-1+32],j=p[y-1+64],F=p[y-1-32],z=p[y+0-32],K=p[y+1-32],Q=p[y+2-32],st=p[y+3-32];p[y+0+96]=Le(x,j,p[y-1+96]),p[y+1+96]=p[y+0+64]=Le(E,x,j),p[y+2+96]=p[y+1+64]=p[y+0+32]=Le(F,E,x),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Le(z,F,E),p[y+3+64]=p[y+2+32]=p[y+1+0]=Le(K,z,F),p[y+3+32]=p[y+2+0]=Le(Q,K,z),p[y+3+0]=Le(st,Q,K)}function Mi(p,y){var E=p[y+1-32],x=p[y+2-32],j=p[y+3-32],F=p[y+4-32],z=p[y+5-32],K=p[y+6-32],Q=p[y+7-32];p[y+0+0]=Le(p[y+0-32],E,x),p[y+1+0]=p[y+0+32]=Le(E,x,j),p[y+2+0]=p[y+1+32]=p[y+0+64]=Le(x,j,F),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Le(j,F,z),p[y+3+32]=p[y+2+64]=p[y+1+96]=Le(F,z,K),p[y+3+64]=p[y+2+96]=Le(z,K,Q),p[y+3+96]=Le(K,Q,Q)}function Ja(p,y){var E=p[y-1+0],x=p[y-1+32],j=p[y-1+64],F=p[y-1-32],z=p[y+0-32],K=p[y+1-32],Q=p[y+2-32],st=p[y+3-32];p[y+0+0]=p[y+1+64]=F+z+1>>1,p[y+1+0]=p[y+2+64]=z+K+1>>1,p[y+2+0]=p[y+3+64]=K+Q+1>>1,p[y+3+0]=Q+st+1>>1,p[y+0+96]=Le(j,x,E),p[y+0+64]=Le(x,E,F),p[y+0+32]=p[y+1+96]=Le(E,F,z),p[y+1+32]=p[y+2+96]=Le(F,z,K),p[y+2+32]=p[y+3+96]=Le(z,K,Q),p[y+3+32]=Le(K,Q,st)}function Pn(p,y){var E=p[y+0-32],x=p[y+1-32],j=p[y+2-32],F=p[y+3-32],z=p[y+4-32],K=p[y+5-32],Q=p[y+6-32],st=p[y+7-32];p[y+0+0]=E+x+1>>1,p[y+1+0]=p[y+0+64]=x+j+1>>1,p[y+2+0]=p[y+1+64]=j+F+1>>1,p[y+3+0]=p[y+2+64]=F+z+1>>1,p[y+0+32]=Le(E,x,j),p[y+1+32]=p[y+0+96]=Le(x,j,F),p[y+2+32]=p[y+1+96]=Le(j,F,z),p[y+3+32]=p[y+2+96]=Le(F,z,K),p[y+3+64]=Le(z,K,Q),p[y+3+96]=Le(K,Q,st)}function Kr(p,y){var E=p[y-1+0],x=p[y-1+32],j=p[y-1+64],F=p[y-1+96];p[y+0+0]=E+x+1>>1,p[y+2+0]=p[y+0+32]=x+j+1>>1,p[y+2+32]=p[y+0+64]=j+F+1>>1,p[y+1+0]=Le(E,x,j),p[y+3+0]=p[y+1+32]=Le(x,j,F),p[y+3+32]=p[y+1+64]=Le(j,F,F),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=F}function Za(p,y){var E=p[y-1+0],x=p[y-1+32],j=p[y-1+64],F=p[y-1+96],z=p[y-1-32],K=p[y+0-32],Q=p[y+1-32],st=p[y+2-32];p[y+0+0]=p[y+2+32]=E+z+1>>1,p[y+0+32]=p[y+2+64]=x+E+1>>1,p[y+0+64]=p[y+2+96]=j+x+1>>1,p[y+0+96]=F+j+1>>1,p[y+3+0]=Le(K,Q,st),p[y+2+0]=Le(z,K,Q),p[y+1+0]=p[y+3+32]=Le(E,z,K),p[y+1+32]=p[y+3+64]=Le(x,E,z),p[y+1+64]=p[y+3+96]=Le(j,x,E),p[y+1+96]=Le(F,j,x)}function Ts(p,y){var E;for(E=0;8>E;++E)i(p,y+32*E,p,y-32,8)}function pl(p,y){var E;for(E=0;8>E;++E)a(p,y,p[y-1],8),y+=32}function Wr(p,y,E){var x;for(x=0;8>x;++x)a(y,E+32*x,p,8)}function ha(p,y){var E,x=8;for(E=0;8>E;++E)x+=p[y+E-32]+p[y-1+32*E];Wr(x>>4,p,y)}function $r(p,y){var E,x=4;for(E=0;8>E;++E)x+=p[y+E-32];Wr(x>>3,p,y)}function Ri(p,y){var E,x=4;for(E=0;8>E;++E)x+=p[y-1+32*E];Wr(x>>3,p,y)}function Ds(p,y){Wr(128,p,y)}function ar(p,y,E){var x=p[y-E],j=p[y+0],F=3*(j-x)+lo[1020+p[y-2*E]-p[y+E]],z=oc[112+(F+4>>3)];p[y-E]=Mr[255+x+oc[112+(F+3>>3)]],p[y+0]=Mr[255+j-z]}function Ps(p,y,E,x){var j=p[y+0],F=p[y+E];return wr[255+p[y-2*E]-p[y-E]]>x||wr[255+F-j]>x}function Ia(p,y,E,x){return 4*wr[255+p[y-E]-p[y+0]]+wr[255+p[y-2*E]-p[y+E]]<=x}function Ms(p,y,E,x,j){var F=p[y-3*E],z=p[y-2*E],K=p[y-E],Q=p[y+0],st=p[y+E],dt=p[y+2*E],Rt=p[y+3*E];return 4*wr[255+K-Q]+wr[255+z-st]>x?0:wr[255+p[y-4*E]-F]<=j&&wr[255+F-z]<=j&&wr[255+z-K]<=j&&wr[255+Rt-dt]<=j&&wr[255+dt-st]<=j&&wr[255+st-Q]<=j}function Us(p,y,E,x){var j=2*x+1;for(x=0;16>x;++x)Ia(p,y+x,E,j)&&ar(p,y+x,E)}function cs(p,y,E,x){var j=2*x+1;for(x=0;16>x;++x)Ia(p,y+x*E,1,j)&&ar(p,y+x*E,1)}function to(p,y,E,x){var j;for(j=3;0<j;--j)Us(p,y+=4*E,E,x)}function ko(p,y,E,x){var j;for(j=3;0<j;--j)cs(p,y+=4,E,x)}function Qr(p,y,E,x,j,F,z,K){for(F=2*F+1;0<j--;){if(Ms(p,y,E,F,z))if(Ps(p,y,E,K))ar(p,y,E);else{var Q=p,st=y,dt=E,Rt=Q[st-2*dt],it=Q[st-dt],yt=Q[st+0],Et=Q[st+dt],jt=Q[st+2*dt],Tt=27*(qt=lo[1020+3*(yt-it)+lo[1020+Rt-Et]])+63>>7,Ut=18*qt+63>>7,qt=9*qt+63>>7;Q[st-3*dt]=Mr[255+Q[st-3*dt]+qt],Q[st-2*dt]=Mr[255+Rt+Ut],Q[st-dt]=Mr[255+it+Tt],Q[st+0]=Mr[255+yt-Tt],Q[st+dt]=Mr[255+Et-Ut],Q[st+2*dt]=Mr[255+jt-qt]}y+=x}}function js(p,y,E,x,j,F,z,K){for(F=2*F+1;0<j--;){if(Ms(p,y,E,F,z))if(Ps(p,y,E,K))ar(p,y,E);else{var Q=p,st=y,dt=E,Rt=Q[st-dt],it=Q[st+0],yt=Q[st+dt],Et=oc[112+(4+(jt=3*(it-Rt))>>3)],jt=oc[112+(jt+3>>3)],Tt=Et+1>>1;Q[st-2*dt]=Mr[255+Q[st-2*dt]+Tt],Q[st-dt]=Mr[255+Rt+jt],Q[st+0]=Mr[255+it-Et],Q[st+dt]=Mr[255+yt-Tt]}y+=x}}function ml(p,y,E,x,j,F){Qr(p,y,E,1,16,x,j,F)}function xs(p,y,E,x,j,F){Qr(p,y,1,E,16,x,j,F)}function Oo(p,y,E,x,j,F){var z;for(z=3;0<z;--z)js(p,y+=4*E,E,1,16,x,j,F)}function w(p,y,E,x,j,F){var z;for(z=3;0<z;--z)js(p,y+=4,1,E,16,x,j,F)}function U(p,y,E,x,j,F,z,K){Qr(p,y,j,1,8,F,z,K),Qr(E,x,j,1,8,F,z,K)}function rt(p,y,E,x,j,F,z,K){Qr(p,y,1,j,8,F,z,K),Qr(E,x,1,j,8,F,z,K)}function ht(p,y,E,x,j,F,z,K){js(p,y+4*j,j,1,8,F,z,K),js(E,x+4*j,j,1,8,F,z,K)}function vt(p,y,E,x,j,F,z,K){js(p,y+4,1,j,8,F,z,K),js(E,x+4,1,j,8,F,z,K)}function Bt(){this.ba=new Se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ge(){this.ua=0,this.Wa=new Ge,this.vb=new Ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xt,this.yc=new D}function Oe(){this.xb=this.a=0,this.l=new sr,this.ca=new Se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ge,this.ab=0,this.gc=u(4,fe),this.Oc=0}function Ce(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(p,y,E,x,j,F,z){for(p=p==null?0:p[y+0],y=0;y<z;++y)j[F+y]=p+E[x+y]&255,p=j[F+y]}function Jn(p,y,E,x,j,F,z){var K;if(p==null)dn(null,null,E,x,j,F,z);else for(K=0;K<z;++K)j[F+K]=p[y+K]+E[x+K]&255}function qn(p,y,E,x,j,F,z){if(p==null)dn(null,null,E,x,j,F,z);else{var K,Q=p[y+0],st=Q,dt=Q;for(K=0;K<z;++K)st=dt+(Q=p[y+K])-st,dt=E[x+K]+(-256&st?0>st?0:255:st)&255,st=Q,j[F+K]=dt}}function m(p,y,E,x){var j=y.width,F=y.o;if(t(p!=null&&y!=null),0>E||0>=x||E+x>F)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Ce,(z=p.ga==null)||(z=y.width*y.o,t(p.Gb.length==0),p.Gb=o(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var K=p.Fa,Q=p.P,st=p.qc,dt=p.mb,Rt=p.nb,it=Q+1,yt=st-1,Et=z.l;if(t(K!=null&&dt!=null&&y!=null),uo[0]=null,uo[1]=dn,uo[2]=Jn,uo[3]=qn,z.ca=dt,z.tb=Rt,z.c=y.width,z.i=y.height,t(0<z.c&&0<z.i),1>=st)y=0;else if(z.$a=3&K[Q+0],z.Z=K[Q+0]>>2&3,z.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Q)y=0;else if(Et.put=Re,Et.ac=Ki,Et.bc=sa,Et.ma=z,Et.width=y.width,Et.height=y.height,Et.Da=y.Da,Et.v=y.v,Et.va=y.va,Et.j=y.j,Et.o=y.o,z.$a)t:{t(z.$a==1),y=Ta();e:for(;;){if(y==null){y=0;break t}if(t(z!=null),z.mc=y,y.c=z.c,y.i=z.i,y.l=z.l,y.l.ma=z,y.l.width=z.c,y.l.height=z.i,y.a=0,Nt(y.m,K,it,yt),!As(z.c,z.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(z.ic=1,K=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(K),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(z.ic=0,y=Lr(y,z.c)),!y))break e;y=1;break t}z.mc=null,y=0}else y=yt>=z.c*z.i;z=!y}if(z)return null;p.ga.Lc!=1?p.Ga=0:x=F-E}t(p.ga!=null),t(E+x<=F);t:{if(y=(K=p.ga).c,F=K.l.o,K.$a==0){if(it=p.rc,yt=p.Vc,Et=p.Fa,Q=p.P+1+E*y,st=p.mb,dt=p.nb+E*y,t(Q<=p.P+p.qc),K.Z!=0)for(t(uo[K.Z]!=null),z=0;z<x;++z)uo[K.Z](it,yt,Et,Q,st,dt,y),it=st,yt=dt,dt+=y,Q+=y;else for(z=0;z<x;++z)i(st,dt,Et,Q,y),it=st,yt=dt,dt+=y,Q+=y;p.rc=it,p.Vc=yt}else{if(t(K.mc!=null),y=E+x,t((z=K.mc)!=null),t(y<=z.i),z.C>=y)y=1;else if(K.ic||Dt(),K.ic){K=z.V,it=z.Ba,yt=z.c;var jt=z.i,Tt=(Et=1,Q=z.$/yt,st=z.$%yt,dt=z.m,Rt=z.s,z.$),Ut=yt*jt,qt=yt*y,Jt=Rt.wc,Wt=Tt<qt?Di(Rt,st,Q):null;t(Tt<=Ut),t(y<=jt),t(Dn(Rt));e:for(;;){for(;!dt.h&&Tt<qt;){if(st&Jt||(Wt=Di(Rt,st,Q)),t(Wt!=null),gt(dt),256>(jt=zn(Wt.G[0],Wt.H[0],dt)))K[it+Tt]=jt,++Tt,++st>=yt&&(st=0,++Q<=y&&!(Q%16)&&Pi(z,Q));else{if(!(280>jt)){Et=0;break e}jt=Rr(jt-256,dt);var ye,ue=zn(Wt.G[4],Wt.H[4],dt);if(gt(dt),!(Tt>=(ue=Cr(yt,ue=Rr(ue,dt)))&&Ut-Tt>=jt)){Et=0;break e}for(ye=0;ye<jt;++ye)K[it+Tt+ye]=K[it+Tt+ye-ue];for(Tt+=jt,st+=jt;st>=yt;)st-=yt,++Q<=y&&!(Q%16)&&Pi(z,Q);Tt<qt&&st&Jt&&(Wt=Di(Rt,st,Q))}t(dt.h==ot(dt))}Pi(z,Q>y?y:Q);break e}!Et||dt.h&&Tt<Ut?(Et=0,z.a=dt.h?5:3):z.$=Tt,y=Et}else y=Ir(z,z.V,z.Ba,z.c,z.i,y,aa);if(!y){x=0;break t}}E+x>=F&&(p.Cc=1),x=1}if(!x)return null;if(p.Cc&&((x=p.ga)!=null&&(x.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*j}function S(p,y,E,x,j,F){for(;0<j--;){var z,K=p,Q=y+(E?1:0),st=p,dt=y+(E?0:3);for(z=0;z<x;++z){var Rt=st[dt+4*z];Rt!=255&&(Rt*=32897,K[Q+4*z+0]=K[Q+4*z+0]*Rt>>23,K[Q+4*z+1]=K[Q+4*z+1]*Rt>>23,K[Q+4*z+2]=K[Q+4*z+2]*Rt>>23)}y+=F}}function C(p,y,E,x,j){for(;0<x--;){var F;for(F=0;F<E;++F){var z=p[y+2*F+0],K=15&(st=p[y+2*F+1]),Q=4369*K,st=(240&st|st>>4)*Q>>16;p[y+2*F+0]=(240&z|z>>4)*Q>>16&240|(15&z|z<<4)*Q>>16>>4&15,p[y+2*F+1]=240&st|K}y+=j}}function W(p,y,E,x,j,F,z,K){var Q,st,dt=255;for(st=0;st<j;++st){for(Q=0;Q<x;++Q){var Rt=p[y+Q];F[z+4*Q]=Rt,dt&=Rt}y+=E,z+=K}return dt!=255}function At(p,y,E,x,j){var F;for(F=0;F<j;++F)E[x+F]=p[y+F]>>8}function Dt(){vl=S,Bs=C,rc=W,Is=At}function Zt(p,y,E){I[p]=function(x,j,F,z,K,Q,st,dt,Rt,it,yt,Et,jt,Tt,Ut,qt,Jt){var Wt,ye=Jt-1>>1,ue=K[Q+0]|st[dt+0]<<16,$e=Rt[it+0]|yt[Et+0]<<16;t(x!=null);var pe=3*ue+$e+131074>>2;for(y(x[j+0],255&pe,pe>>16,jt,Tt),F!=null&&(pe=3*$e+ue+131074>>2,y(F[z+0],255&pe,pe>>16,Ut,qt)),Wt=1;Wt<=ye;++Wt){var pn=K[Q+Wt]|st[dt+Wt]<<16,oi=Rt[it+Wt]|yt[Et+Wt]<<16,en=ue+pn+$e+oi+524296,ce=en+2*(pn+$e)>>3;pe=ce+ue>>1,ue=(en=en+2*(ue+oi)>>3)+pn>>1,y(x[j+2*Wt-1],255&pe,pe>>16,jt,Tt+(2*Wt-1)*E),y(x[j+2*Wt-0],255&ue,ue>>16,jt,Tt+(2*Wt-0)*E),F!=null&&(pe=en+$e>>1,ue=ce+oi>>1,y(F[z+2*Wt-1],255&pe,pe>>16,Ut,qt+(2*Wt-1)*E),y(F[z+2*Wt+0],255&ue,ue>>16,Ut,qt+(2*Wt+0)*E)),ue=pn,$e=oi}1&Jt||(pe=3*ue+$e+131074>>2,y(x[j+Jt-1],255&pe,pe>>16,jt,Tt+(Jt-1)*E),F!=null&&(pe=3*$e+ue+131074>>2,y(F[z+Jt-1],255&pe,pe>>16,Ut,qt+(Jt-1)*E)))}}function Ke(){Er[Gc]=wl,Er[Ur]=au,Er[Yc]=hf,Er[Fs]=Xc,Er[lc]=jo,Er[iu]=Va,Er[Po]=Vo,Er[uc]=au,Er[Kc]=Xc,Er[ru]=jo,Er[Wc]=Va}function Zn(p){return p&-16384?0>p?0:255:p>>Jc}function cn(p,y){return Zn((19077*p>>8)+(26149*y>>8)-14234)}function Mn(p,y,E){return Zn((19077*p>>8)-(6419*y>>8)-(13320*E>>8)+8708)}function or(p,y){return Zn((19077*p>>8)+(33050*y>>8)-17685)}function vr(p,y,E,x,j){x[j+0]=cn(p,E),x[j+1]=Mn(p,y,E),x[j+2]=or(p,y)}function Yn(p,y,E,x,j){x[j+0]=or(p,y),x[j+1]=Mn(p,y,E),x[j+2]=cn(p,E)}function _r(p,y,E,x,j){var F=Mn(p,y,E);y=F<<3&224|or(p,y)>>3,x[j+0]=248&cn(p,E)|F>>5,x[j+1]=y}function Ns(p,y,E,x,j){var F=240&or(p,y)|15;x[j+0]=240&cn(p,E)|Mn(p,y,E)>>4,x[j+1]=F}function La(p,y,E,x,j){x[j+0]=255,vr(p,y,E,x,j+1)}function ka(p,y,E,x,j){Yn(p,y,E,x,j),x[j+3]=255}function Xr(p,y,E,x,j){vr(p,y,E,x,j),x[j+3]=255}function eo(p,y,E){I[p]=function(x,j,F,z,K,Q,st,dt,Rt){for(var it=dt+(-2&Rt)*E;dt!=it;)y(x[j+0],F[z+0],K[Q+0],st,dt),y(x[j+1],F[z+0],K[Q+0],st,dt+E),j+=2,++z,++Q,dt+=2*E;1&Rt&&y(x[j+0],F[z+0],K[Q+0],st,dt)}}function Jl(p,y,E){return E==0?p==0?y==0?6:5:y==0?4:0:E}function ec(p,y,E,x,j){switch(p>>>30){case 3:oo(y,E,x,j,0);break;case 2:Pr(y,E,x,j);break;case 1:Ln(y,E,x,j)}}function Rs(p,y){var E,x,j=y.M,F=y.Nb,z=p.oc,K=p.pc+40,Q=p.oc,st=p.pc+584,dt=p.oc,Rt=p.pc+600;for(E=0;16>E;++E)z[K+32*E-1]=129;for(E=0;8>E;++E)Q[st+32*E-1]=129,dt[Rt+32*E-1]=129;for(0<j?z[K-1-32]=Q[st-1-32]=dt[Rt-1-32]=129:(a(z,K-32-1,127,21),a(Q,st-32-1,127,9),a(dt,Rt-32-1,127,9)),x=0;x<p.za;++x){var it=y.ya[y.aa+x];if(0<x){for(E=-1;16>E;++E)i(z,K+32*E-4,z,K+32*E+12,4);for(E=-1;8>E;++E)i(Q,st+32*E-4,Q,st+32*E+4,4),i(dt,Rt+32*E-4,dt,Rt+32*E+4,4)}var yt=p.Gd,Et=p.Hd+x,jt=it.ad,Tt=it.Hc;if(0<j&&(i(z,K-32,yt[Et].y,0,16),i(Q,st-32,yt[Et].f,0,8),i(dt,Rt-32,yt[Et].ea,0,8)),it.Za){var Ut=z,qt=K-32+16;for(0<j&&(x>=p.za-1?a(Ut,qt,yt[Et].y[15],4):i(Ut,qt,yt[Et+1].y,0,4)),E=0;4>E;E++)Ut[qt+128+E]=Ut[qt+256+E]=Ut[qt+384+E]=Ut[qt+0+E];for(E=0;16>E;++E,Tt<<=2)Ut=z,qt=K+Li[E],bi[it.Ob[E]](Ut,qt),ec(Tt,jt,16*+E,Ut,qt)}else if(Ut=Jl(x,j,it.Ob[0]),Zr[Ut](z,K),Tt!=0)for(E=0;16>E;++E,Tt<<=2)ec(Tt,jt,16*+E,z,K+Li[E]);for(E=it.Gc,Ut=Jl(x,j,it.Dd),ma[Ut](Q,st),ma[Ut](dt,Rt),Tt=jt,Ut=Q,qt=st,255&(it=0|E)&&(170&it?Vs(Tt,256,Ut,qt):Sn(Tt,256,Ut,qt)),it=dt,Tt=Rt,255&(E>>=8)&&(170&E?Vs(jt,320,it,Tt):Sn(jt,320,it,Tt)),j<p.Ub-1&&(i(yt[Et].y,0,z,K+480,16),i(yt[Et].f,0,Q,st+224,8),i(yt[Et].ea,0,dt,Rt+224,8)),E=8*F*p.B,yt=p.sa,Et=p.ta+16*x+16*F*p.R,jt=p.qa,it=p.ra+8*x+E,Tt=p.Ha,Ut=p.Ia+8*x+E,E=0;16>E;++E)i(yt,Et+E*p.R,z,K+32*E,16);for(E=0;8>E;++E)i(jt,it+E*p.B,Q,st+32*E,8),i(Tt,Ut+E*p.B,dt,Rt+32*E,8)}}function fa(p,y,E,x,j,F,z,K,Q){var st=[0],dt=[0],Rt=0,it=Q!=null?Q.kd:0,yt=Q??new $t;if(p==null||12>E)return 7;yt.data=p,yt.w=y,yt.ha=E,y=[y],E=[E],yt.gb=[yt.gb];t:{var Et=y,jt=E,Tt=yt.gb;if(t(p!=null),t(jt!=null),t(Tt!=null),Tt[0]=0,12<=jt[0]&&!e(p,Et[0],"RIFF")){if(e(p,Et[0]+8,"WEBP")){Tt=3;break t}var Ut=he(p,Et[0]+4);if(12>Ut||4294967286<Ut){Tt=3;break t}if(it&&Ut>jt[0]-8){Tt=7;break t}Tt[0]=Ut,Et[0]+=12,jt[0]-=12}Tt=0}if(Tt!=0)return Tt;for(Ut=0<yt.gb[0],E=E[0];;){t:{var qt=p;jt=y,Tt=E;var Jt=st,Wt=dt,ye=Et=[0];if((pe=Rt=[Rt])[0]=0,8>Tt[0])Tt=7;else{if(!e(qt,jt[0],"VP8X")){if(he(qt,jt[0]+4)!=10){Tt=3;break t}if(18>Tt[0]){Tt=7;break t}var ue=he(qt,jt[0]+8),$e=1+ie(qt,jt[0]+12);if(2147483648<=$e*(qt=1+ie(qt,jt[0]+15))){Tt=3;break t}ye!=null&&(ye[0]=ue),Jt!=null&&(Jt[0]=$e),Wt!=null&&(Wt[0]=qt),jt[0]+=18,Tt[0]-=18,pe[0]=1}Tt=0}}if(Rt=Rt[0],Et=Et[0],Tt!=0)return Tt;if(jt=!!(2&Et),!Ut&&Rt)return 3;if(F!=null&&(F[0]=!!(16&Et)),z!=null&&(z[0]=jt),K!=null&&(K[0]=0),z=st[0],Et=dt[0],Rt&&jt&&Q==null){Tt=0;break}if(4>E){Tt=7;break}if(Ut&&Rt||!Ut&&!Rt&&!e(p,y[0],"ALPH")){E=[E],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{ue=p,Tt=y,Ut=E;var pe=yt.gb;Jt=yt.na,Wt=yt.P,ye=yt.Sa,$e=22,t(ue!=null),t(Ut!=null),qt=Tt[0];var pn=Ut[0];for(t(Jt!=null),t(ye!=null),Jt[0]=null,Wt[0]=null,ye[0]=0;;){if(Tt[0]=qt,Ut[0]=pn,8>pn){Tt=7;break t}var oi=he(ue,qt+4);if(4294967286<oi){Tt=3;break t}var en=8+oi+1&-2;if($e+=en,0<pe&&$e>pe){Tt=3;break t}if(!e(ue,qt,"VP8 ")||!e(ue,qt,"VP8L")){Tt=0;break t}if(pn[0]<en){Tt=7;break t}e(ue,qt,"ALPH")||(Jt[0]=ue,Wt[0]=qt+8,ye[0]=oi),qt+=en,pn-=en}}if(E=E[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],Tt!=0)break}E=[E],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(pe=p,Tt=y,Ut=E,Jt=yt.gb[0],Wt=yt.Ja,ye=yt.xa,ue=Tt[0],qt=!e(pe,ue,"VP8 "),$e=!e(pe,ue,"VP8L"),t(pe!=null),t(Ut!=null),t(Wt!=null),t(ye!=null),8>Ut[0])Tt=7;else{if(qt||$e){if(pe=he(pe,ue+4),12<=Jt&&pe>Jt-12){Tt=3;break t}if(it&&pe>Ut[0]-8){Tt=7;break t}Wt[0]=pe,Tt[0]+=8,Ut[0]-=8,ye[0]=$e}else ye[0]=5<=Ut[0]&&pe[ue+0]==47&&!(pe[ue+4]>>5),Wt[0]=Ut[0];Tt=0}if(E=E[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],y=y[0],Tt!=0)break;if(4294967286<yt.Ja)return 3;if(K==null||jt||(K[0]=yt.xa?2:1),z=[z],Et=[Et],yt.xa){if(5>E){Tt=7;break}K=z,it=Et,jt=F,p==null||5>E?p=0:5<=E&&p[y+0]==47&&!(p[y+4]>>5)?(Ut=[0],pe=[0],Jt=[0],Nt(Wt=new Y,p,y,E),qr(Wt,Ut,pe,Jt)?(K!=null&&(K[0]=Ut[0]),it!=null&&(it[0]=pe[0]),jt!=null&&(jt[0]=Jt[0]),p=1):p=0):p=0}else{if(10>E){Tt=7;break}K=Et,p==null||10>E||!oa(p,y+3,E-3)?p=0:(it=p[y+0]|p[y+1]<<8|p[y+2]<<16,jt=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=yt.Ja||!jt||!p?p=0:(z&&(z[0]=jt),K&&(K[0]=p),p=1))}if(!p||(z=z[0],Et=Et[0],Rt&&(st[0]!=z||dt[0]!=Et)))return 3;Q!=null&&(Q[0]=yt,Q.offset=y-Q.w,t(4294967286>y-Q.w),t(Q.offset==Q.ha-E));break}return Tt==0||Tt==7&&Rt&&Q==null?(F!=null&&(F[0]|=yt.na!=null&&0<yt.na.length),x!=null&&(x[0]=z),j!=null&&(j[0]=Et),0):Tt}function no(p,y,E){var x=y.width,j=y.height,F=0,z=0,K=x,Q=j;if(y.Da=p!=null&&0<p.Da,y.Da&&(K=p.cd,Q=p.bd,F=p.v,z=p.j,11>E||(F&=-2,z&=-2),0>F||0>z||0>=K||0>=Q||F+K>x||z+Q>j))return 0;if(y.v=F,y.j=z,y.va=F+K,y.o=z+Q,y.U=K,y.T=Q,y.da=p!=null&&0<p.da,y.da){if(!Ee(K,Q,E=[p.ib],F=[p.hb]))return 0;y.ib=E[0],y.hb=F[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*x/4&&y.hb<3*j/4,y.Kb=0),1}function nc(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function da(p,y,E,x){if(x==null||0>=p||0>=y)return 2;if(E!=null){if(E.Da){var j=E.cd,F=E.bd,z=-2&E.v,K=-2&E.j;if(0>z||0>K||0>=j||0>=F||z+j>p||K+F>y)return 2;p=j,y=F}if(E.da){if(!Ee(p,y,j=[E.ib],F=[E.hb]))return 2;p=j[0],y=F[0]}}x.width=p,x.height=y;t:{var Q=x.width,st=x.height;if(p=x.S,0>=Q||0>=st||!(p>=Gc&&13>p))p=2;else{if(0>=x.Rd&&x.sd==null){z=F=j=y=0;var dt=(K=Q*th[p])*st;if(11>p||(F=(st+1)/2*(y=(Q+1)/2),p==12&&(z=(j=Q)*st)),(st=o(dt+2*F+z))==null){p=1;break t}x.sd=st,11>p?((Q=x.f.RGBA).eb=st,Q.fb=0,Q.A=K,Q.size=dt):((Q=x.f.kb).y=st,Q.O=0,Q.fa=K,Q.Fd=dt,Q.f=st,Q.N=0+dt,Q.Ab=y,Q.Cd=F,Q.ea=st,Q.W=0+dt+F,Q.Db=y,Q.Ed=F,p==12&&(Q.F=st,Q.J=0+dt+2*F),Q.Tc=z,Q.lb=j)}if(y=1,j=x.S,F=x.width,z=x.height,j>=Gc&&13>j)if(11>j)p=x.f.RGBA,y&=(K=Math.abs(p.A))*(z-1)+F<=p.size,y&=K>=F*th[j],y&=p.eb!=null;else{p=x.f.kb,K=(F+1)/2,dt=(z+1)/2,Q=Math.abs(p.fa),st=Math.abs(p.Ab);var Rt=Math.abs(p.Db),it=Math.abs(p.lb),yt=it*(z-1)+F;y&=Q*(z-1)+F<=p.Fd,y&=st*(dt-1)+K<=p.Cd,y=(y&=Rt*(dt-1)+K<=p.Ed)&Q>=F&st>=K&Rt>=K,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,j==12&&(y&=it>=F,y&=yt<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||E!=null&&E.fd&&(p=nc(x)),p}var Do=64,hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jr=24,Oa=32,Da=8,io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(p){return p},I.Predictor2=function(p,y,E){return y[E+0]},I.Predictor3=function(p,y,E){return y[E+1]},I.Predictor4=function(p,y,E){return y[E-1]},I.Predictor5=function(p,y,E){return be(be(p,y[E+1]),y[E+0])},I.Predictor6=function(p,y,E){return be(p,y[E-1])},I.Predictor7=function(p,y,E){return be(p,y[E+0])},I.Predictor8=function(p,y,E){return be(y[E-1],y[E+0])},I.Predictor9=function(p,y,E){return be(y[E+0],y[E+1])},I.Predictor10=function(p,y,E){return be(be(p,y[E-1]),be(y[E+0],y[E+1]))},I.Predictor11=function(p,y,E){var x=y[E+0];return 0>=Fe(x>>24&255,p>>24&255,(y=y[E-1])>>24&255)+Fe(x>>16&255,p>>16&255,y>>16&255)+Fe(x>>8&255,p>>8&255,y>>8&255)+Fe(255&x,255&p,255&y)?x:p},I.Predictor12=function(p,y,E){var x=y[E+0];return(Ye((p>>24&255)+(x>>24&255)-((y=y[E-1])>>24&255))<<24|Ye((p>>16&255)+(x>>16&255)-(y>>16&255))<<16|Ye((p>>8&255)+(x>>8&255)-(y>>8&255))<<8|Ye((255&p)+(255&x)-(255&y)))>>>0},I.Predictor13=function(p,y,E){var x=y[E-1];return(Xe((p=be(p,y[E+0]))>>24&255,x>>24&255)<<24|Xe(p>>16&255,x>>16&255)<<16|Xe(p>>8&255,x>>8&255)<<8|Xe(255&p,255&x))>>>0};var Zl=I.PredictorAdd0;I.PredictorAdd1=an,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var tu=I.PredictorAdd2;te("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ci,zc=I.ColorIndexInverseTransform,Pa=I.MapARGB,Ma=I.VP8LColorIndexInverseTransformAlpha,br=I.MapAlpha,ro=I.VP8LPredictorsAdd=[];ro.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var eu,nu,so,ao,Ua,gl,Cs,oo,Pr,Vs,Ln,Sn,ti,Ii,ja,pa,yl,ic,af,jd,Vd,Bd,of,lf,vl,Bs,rc,Is,_l=o(511),qc=o(2041),sc=o(225),ac=o(767),Hc=0,lo=qc,oc=sc,Mr=ac,wr=_l,Gc=0,Ur=1,Yc=2,Fs=3,lc=4,iu=5,Po=6,uc=7,Kc=8,ru=9,Wc=10,zs=[2,3,7],su=[3,3,11],bl=[280,256,256,256,40],$c=[0,1,1,1,0],cc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mo=8,Gs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ys=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ls=null,Fd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Qc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ar=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ai=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zr=[],bi=[],ma=[],Uo=1,cf=2,uo=[],Er=[];Zt("UpsampleRgbLinePair",vr,3),Zt("UpsampleBgrLinePair",Yn,3),Zt("UpsampleRgbaLinePair",Xr,4),Zt("UpsampleBgraLinePair",ka,4),Zt("UpsampleArgbLinePair",La,4),Zt("UpsampleRgba4444LinePair",Ns,2),Zt("UpsampleRgb565LinePair",_r,2);var wl=I.UpsampleRgbLinePair,hf=I.UpsampleBgrLinePair,au=I.UpsampleRgbaLinePair,Xc=I.UpsampleBgraLinePair,jo=I.UpsampleArgbLinePair,Va=I.UpsampleRgba4444LinePair,Vo=I.UpsampleRgb565LinePair,Ks=16,ou=1<<Ks-1,Al=-227,Bo=482,Jc=6,Fo=0,Sr=o(256),Zc=o(256),qd=o(256),pg=o(256),mg=o(Bo-Al),gg=o(Bo-Al);eo("YuvToRgbRow",vr,3),eo("YuvToBgrRow",Yn,3),eo("YuvToRgbaRow",Xr,4),eo("YuvToBgraRow",ka,4),eo("YuvToArgbRow",La,4),eo("YuvToRgba4444Row",Ns,2),eo("YuvToRgb565Row",_r,2);var Li=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lu=[0,2,8],hc=[8,7,6,4,4,2,2,2,1,1,1,1],fc=1;this.WebPDecodeRGBA=function(p,y,E,x,j){var F=Ur,z=new Bt,K=new Se;z.ba=K,K.S=F,K.width=[K.width],K.height=[K.height];var Q=K.width,st=K.height,dt=new we;if(dt==null||p==null)var Rt=2;else t(dt!=null),Rt=fa(p,y,E,dt.width,dt.height,dt.Pd,dt.Qd,dt.format,null);if(Rt!=0?Q=0:(Q!=null&&(Q[0]=dt.width[0]),st!=null&&(st[0]=dt.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],x!=null&&(x[0]=K.width),j!=null&&(j[0]=K.height);t:{if(x=new sr,(j=new $t).data=p,j.w=y,j.ha=E,j.kd=1,y=[0],t(j!=null),((p=fa(j.data,j.w,j.ha,null,null,null,y,null,j))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(t(z!=null),x.data=j.data,x.w=j.w+j.offset,x.ha=j.ha-j.offset,x.put=Re,x.ac=Ki,x.bc=sa,x.ma=z,j.xa){if((p=Ta())==null){z=1;break t}if((function(it,yt){var Et=[0],jt=[0],Tt=[0];e:for(;;){if(it==null)return 0;if(yt==null)return it.a=2,0;if(it.l=yt,it.a=0,Nt(it.m,yt.data,yt.w,yt.ha),!qr(it.m,Et,jt,Tt)){it.a=3;break e}if(it.xb=cf,yt.width=Et[0],yt.height=jt[0],!As(Et[0],jt[0],1,it,null))break e;return 1}return t(it.a!=0),0})(p,x)){if(x=(y=da(x.width,x.height,z.Oa,z.ba))==0){e:{x=p;n:for(;;){if(x==null){x=0;break e}if(t(x.s.yc!=null),t(x.s.Ya!=null),t(0<x.s.Wb),t((E=x.l)!=null),t((j=E.ma)!=null),x.xb!=0){if(x.ca=j.ba,x.tb=j.tb,t(x.ca!=null),!no(j.Oa,E,Fs)){x.a=2;break n}if(!Lr(x,E.width)||E.da)break n;if((E.da||je(x.ca.S))&&Dt(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&Dt()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!tt(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!Ir(x,x.V,x.Ba,x.c,x.i,E.o,rr))break n;j.Dc=x.Ma,x=1;break e}t(x.a!=0),x=0}x=!x}x&&(y=p.a)}else y=p.a}else{if((p=new vi)==null){z=1;break t}if(p.Fa=j.na,p.P=j.P,p.qc=j.Sa,us(p,x)){if((y=da(x.width,x.height,z.Oa,z.ba))==0){if(p.Aa=0,E=z.Oa,t((j=p)!=null),E!=null){if(0<(Q=0>(Q=E.Md)?0:100<Q?255:255*Q/100)){for(st=dt=0;4>st;++st)12>(Rt=j.pb[st]).lc&&(Rt.ia=Q*hc[0>Rt.lc?0:Rt.lc]>>3),dt|=Rt.ia;dt&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=E.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(it,yt){if(it==null)return 0;if(yt==null)return fn(it,2,"NULL VP8Io parameter in VP8Decode().");if(!it.cb&&!us(it,yt))return 0;if(t(it.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(it.L=0);var Et=lu[it.L];if(it.L==2?(it.yb=0,it.zb=0):(it.yb=yt.v-Et>>4,it.zb=yt.j-Et>>4,0>it.yb&&(it.yb=0),0>it.zb&&(it.zb=0)),it.Va=yt.o+15+Et>>4,it.Hb=yt.va+15+Et>>4,it.Hb>it.za&&(it.Hb=it.za),it.Va>it.Ub&&(it.Va=it.Ub),0<it.L){var jt=it.ed;for(Et=0;4>Et;++Et){var Tt;if(it.Qa.Cb){var Ut=it.Qa.Lb[Et];it.Qa.Fb||(Ut+=jt.Tb)}else Ut=jt.Tb;for(Tt=0;1>=Tt;++Tt){var qt=it.gd[Et][Tt],Jt=Ut;if(jt.Pc&&(Jt+=jt.vd[0],Tt&&(Jt+=jt.od[0])),0<(Jt=0>Jt?0:63<Jt?63:Jt)){var Wt=Jt;0<jt.wb&&(Wt=4<jt.wb?Wt>>2:Wt>>1)>9-jt.wb&&(Wt=9-jt.wb),1>Wt&&(Wt=1),qt.dd=Wt,qt.tc=2*Jt+Wt,qt.ld=40<=Jt?2:15<=Jt?1:0}else qt.tc=0;qt.La=Tt}}}Et=0}else fn(it,6,"Frame setup failed"),Et=it.a;if(Et=Et==0){if(Et){it.$c=0,0<it.Aa||(it.Ic=fc);e:{Et=it.Ic,jt=4*(Wt=it.za);var ye=32*Wt,ue=Wt+1,$e=0<it.L?Wt*(0<it.Aa?2:1):0,pe=(it.Aa==2?2:1)*Wt;if((qt=jt+832+(Tt=3*(16*Et+lu[it.L])/2*ye)+(Ut=it.Fa!=null&&0<it.Fa.length?it.Kc.c*it.Kc.i:0))!=qt)Et=0;else{if(qt>it.Vb){if(it.Vb=0,it.Ec=o(qt),it.Fc=0,it.Ec==null){Et=fn(it,1,"no memory during frame initialization.");break e}it.Vb=qt}qt=it.Ec,Jt=it.Fc,it.Ac=qt,it.Bc=Jt,Jt+=jt,it.Gd=u(ye,Ro),it.Hd=0,it.rb=u(ue+1,ls),it.sb=1,it.wa=$e?u($e,kr):null,it.Y=0,it.D.Nb=0,it.D.wa=it.wa,it.D.Y=it.Y,0<it.Aa&&(it.D.Y+=Wt),t(!0),it.oc=qt,it.pc=Jt,Jt+=832,it.ya=u(pe,$a),it.aa=0,it.D.ya=it.ya,it.D.aa=it.aa,it.Aa==2&&(it.D.aa+=Wt),it.R=16*Wt,it.B=8*Wt,Wt=(ye=lu[it.L])*it.R,ye=ye/2*it.B,it.sa=qt,it.ta=Jt+Wt,it.qa=it.sa,it.ra=it.ta+16*Et*it.R+ye,it.Ha=it.qa,it.Ia=it.ra+8*Et*it.B+ye,it.$c=0,Jt+=Tt,it.mb=Ut?qt:null,it.nb=Ut?Jt:null,t(Jt+Ut<=it.Fc+it.Vb),xa(it),a(it.Ac,it.Bc,0,jt),Et=1}}if(Et){if(yt.ka=0,yt.y=it.sa,yt.O=it.ta,yt.f=it.qa,yt.N=it.ra,yt.ea=it.Ha,yt.Vd=it.Ia,yt.fa=it.R,yt.Rc=it.B,yt.F=null,yt.J=0,!Hc){for(Et=-255;255>=Et;++Et)_l[255+Et]=0>Et?-Et:Et;for(Et=-1020;1020>=Et;++Et)qc[1020+Et]=-128>Et?-128:127<Et?127:Et;for(Et=-112;112>=Et;++Et)sc[112+Et]=-16>Et?-16:15<Et?15:Et;for(Et=-255;510>=Et;++Et)ac[255+Et]=0>Et?0:255<Et?255:Et;Hc=1}Cs=Wi,oo=cl,Vs=yr,Ln=hl,Sn=la,Pr=Xl,ti=ml,Ii=xs,ja=U,pa=rt,yl=Oo,ic=w,af=ht,jd=vt,Vd=Us,Bd=cs,of=to,lf=ko,bi[0]=Ca,bi[1]=fl,bi[2]=Xa,bi[3]=Lo,bi[4]=$i,bi[5]=Ja,bi[6]=Mi,bi[7]=Pn,bi[8]=Za,bi[9]=Kr,Zr[0]=Ss,Zr[1]=Co,Zr[2]=Io,Zr[3]=ua,Zr[4]=ca,Zr[5]=Dr,Zr[6]=Ra,ma[0]=ha,ma[1]=dl,ma[2]=Ts,ma[3]=pl,ma[4]=Ri,ma[5]=$r,ma[6]=Ds,Et=1}else Et=0}Et&&(Et=(function(pn,oi){for(pn.M=0;pn.M<pn.Va;++pn.M){var en,ce=pn.Jc[pn.M&pn.Xb],ne=pn.m,fi=pn;for(en=0;en<fi.za;++en){var Be=ne,on=fi,Vn=on.Ac,Qi=on.Bc+4*en,Tr=on.zc,ei=on.ya[on.aa+en];if(on.Qa.Bb?ei.$b=Vt(Be,on.Pa.jb[0])?2+Vt(Be,on.Pa.jb[2]):Vt(Be,on.Pa.jb[1]):ei.$b=0,on.kc&&(ei.Ad=Vt(Be,on.Bd)),ei.Za=!Vt(Be,145)+0,ei.Za){var Ui=ei.Ob,jr=0;for(on=0;4>on;++on){var ji,hn=Tr[0+on];for(ji=0;4>ji;++ji){hn=Ar[Vn[Qi+ji]][hn];for(var xn=Qc[Vt(Be,hn[0])];0<xn;)xn=Qc[2*xn+Vt(Be,hn[xn])];hn=-xn,Vn[Qi+ji]=hn}i(Ui,jr,Vn,Qi,4),jr+=4,Tr[0+on]=hn}}else hn=Vt(Be,156)?Vt(Be,128)?1:3:Vt(Be,163)?2:0,ei.Ob[0]=hn,a(Vn,Qi,hn,4),a(Tr,0,hn,4);ei.Dd=Vt(Be,142)?Vt(Be,114)?Vt(Be,183)?1:3:2:0}if(fi.m.Ka)return fn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(fi=ce,Be=(ne=pn).rb[ne.sb-1],Vn=ne.rb[ne.sb+ne.ja],en=ne.ya[ne.aa+ne.ja],Qi=ne.kc?en.Ad:0)Be.la=Vn.la=0,en.Za||(Be.Na=Vn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var di,kn;if(Be=Vn,Vn=fi,Qi=ne.Pa.Xc,Tr=ne.ya[ne.aa+ne.ja],ei=ne.pb[Tr.$b],on=Tr.ad,Ui=0,jr=ne.rb[ne.sb-1],hn=ji=0,a(on,Ui,0,384),Tr.Za)var Xi=0,pi=Qi[3];else{xn=o(16);var Nn=Be.Na+jr.Na;if(Nn=Ls(Vn,Qi[1],Nn,ei.Eb,0,xn,0),Be.Na=jr.Na=(0<Nn)+0,1<Nn)Cs(xn,0,on,Ui);else{var ki=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)on[Ui+xn]=ki}Xi=1,pi=Qi[0]}var Bn=15&Be.la,Vi=15&jr.la;for(xn=0;4>xn;++xn){var Bi=1&Vi;for(ki=kn=0;4>ki;++ki)Bn=Bn>>1|(Bi=(Nn=Ls(Vn,pi,Nn=Bi+(1&Bn),ei.Sc,Xi,on,Ui))>Xi)<<7,kn=kn<<2|(3<Nn?3:1<Nn?2:on[Ui+0]!=0),Ui+=16;Bn>>=4,Vi=Vi>>1|Bi<<7,ji=(ji<<8|kn)>>>0}for(pi=Bn,Xi=Vi>>4,di=0;4>di;di+=2){for(kn=0,Bn=Be.la>>4+di,Vi=jr.la>>4+di,xn=0;2>xn;++xn){for(Bi=1&Vi,ki=0;2>ki;++ki)Nn=Bi+(1&Bn),Bn=Bn>>1|(Bi=0<(Nn=Ls(Vn,Qi[2],Nn,ei.Qc,0,on,Ui)))<<3,kn=kn<<2|(3<Nn?3:1<Nn?2:on[Ui+0]!=0),Ui+=16;Bn>>=2,Vi=Vi>>1|Bi<<5}hn|=kn<<4*di,pi|=Bn<<4<<di,Xi|=(240&Vi)<<di}Be.la=pi,jr.la=Xi,Tr.Hc=ji,Tr.Gc=hn,Tr.ia=43690&hn?0:ei.ia,Qi=!(ji|hn)}if(0<ne.L&&(ne.wa[ne.Y+ne.ja]=ne.gd[en.$b][en.Za],ne.wa[ne.Y+ne.ja].La|=!Qi),fi.Ka)return fn(pn,7,"Premature end-of-file encountered.")}if(xa(pn),ne=oi,fi=1,en=(ce=pn).D,Be=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(en.M=ce.M,en.uc=Be,Rs(ce,en),fi=1,en=(kn=ce.D).Nb,Be=(hn=lu[ce.L])*ce.R,Vn=hn/2*ce.B,xn=16*en*ce.R,ki=8*en*ce.B,Qi=ce.sa,Tr=ce.ta-Be+xn,ei=ce.qa,on=ce.ra-Vn+ki,Ui=ce.Ha,jr=ce.Ia-Vn+ki,Vi=(Bn=kn.M)==0,ji=Bn>=ce.Va-1,ce.Aa==2&&Rs(ce,kn),kn.uc)for(Bi=(Nn=ce).D.M,t(Nn.D.uc),kn=Nn.yb;kn<Nn.Hb;++kn){Xi=kn,pi=Bi;var Kn=(Tn=(Fi=Nn).D).Nb;di=Fi.R;var Tn=Tn.wa[Tn.Y+Xi],Vr=Fi.sa,wi=Fi.ta+16*Kn*di+16*Xi,ke=Tn.dd,De=Tn.tc;if(De!=0)if(t(3<=De),Fi.L==1)0<Xi&&Bd(Vr,wi,di,De+4),Tn.La&&lf(Vr,wi,di,De),0<pi&&Vd(Vr,wi,di,De+4),Tn.La&&of(Vr,wi,di,De);else{var Rn=Fi.B,fs=Fi.qa,Ws=Fi.ra+8*Kn*Rn+8*Xi,ts=Fi.Ha,Fi=Fi.Ia+8*Kn*Rn+8*Xi;Kn=Tn.ld,0<Xi&&(Ii(Vr,wi,di,De+4,ke,Kn),pa(fs,Ws,ts,Fi,Rn,De+4,ke,Kn)),Tn.La&&(ic(Vr,wi,di,De,ke,Kn),jd(fs,Ws,ts,Fi,Rn,De,ke,Kn)),0<pi&&(ti(Vr,wi,di,De+4,ke,Kn),ja(fs,Ws,ts,Fi,Rn,De+4,ke,Kn)),Tn.La&&(yl(Vr,wi,di,De,ke,Kn),af(fs,Ws,ts,Fi,Rn,De,ke,Kn))}}if(ce.ia&&alert("todo:DitherRow"),ne.put!=null){if(kn=16*Bn,Bn=16*(Bn+1),Vi?(ne.y=ce.sa,ne.O=ce.ta+xn,ne.f=ce.qa,ne.N=ce.ra+ki,ne.ea=ce.Ha,ne.W=ce.Ia+ki):(kn-=hn,ne.y=Qi,ne.O=Tr,ne.f=ei,ne.N=on,ne.ea=Ui,ne.W=jr),ji||(Bn-=hn),Bn>ne.o&&(Bn=ne.o),ne.F=null,ne.J=null,ce.Fa!=null&&0<ce.Fa.length&&kn<Bn&&(ne.J=m(ce,ne,kn,Bn-kn),ne.F=ce.mb,ne.F==null&&ne.F.length==0)){fi=fn(ce,3,"Could not decode alpha data.");break e}kn<ne.j&&(hn=ne.j-kn,kn=ne.j,t(!(1&hn)),ne.O+=ce.R*hn,ne.N+=ce.B*(hn>>1),ne.W+=ce.B*(hn>>1),ne.F!=null&&(ne.J+=ne.width*hn)),kn<Bn&&(ne.O+=ne.v,ne.N+=ne.v>>1,ne.W+=ne.v>>1,ne.F!=null&&(ne.J+=ne.v),ne.ka=kn-ne.j,ne.U=ne.va-ne.v,ne.T=Bn-kn,fi=ne.put(ne))}en+1!=ce.Ic||ji||(i(ce.sa,ce.ta-Be,Qi,Tr+16*ce.R,Be),i(ce.qa,ce.ra-Vn,ei,on+8*ce.B,Vn),i(ce.Ha,ce.Ia-Vn,Ui,jr+8*ce.B,Vn))}if(!fi)return fn(pn,6,"Output aborted.")}return 1})(it,yt)),yt.bc!=null&&yt.bc(yt),Et&=1}return Et?(it.cb=0,Et):0})(p,x)||(y=p.a)}}else y=p.a}y==0&&z.Oa!=null&&z.Oa.fd&&(y=nc(z.ba))}z=y}F=z!=0?null:11>F?K.f.RGBA.eb:K.f.kb.y}else F=null;return F};var th=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,q){for(var N="",k=0;k<4;k++)N+=String.fromCharCode(I[q++]);return N}function v(I,q){return I[q+0]|I[q+1]<<8}function A(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16)>>>0}function T(I,q){return(I[q+0]|I[q+1]<<8|I[q+2]<<16|I[q+3]<<24)>>>0}new f;var b=[0],O=[0],M=[],B=new f,V=n,Z=(function(I,q){var N={},k=0,D=!1,lt=0,xt=0;if(N.frames=[],!(function(L,Y){for(var J=0;J<4;J++)if(L[Y+J]!="RIFF".charCodeAt(J))return!0;return!1})(I,q)){for(T(I,q+=4),q+=8;q<I.length;){var at=d(I,q),pt=T(I,q+=4);q+=4;var ft=pt+(1&pt);switch(at){case"VP8 ":case"VP8L":N.frames[k]===void 0&&(N.frames[k]={}),(X=N.frames[k]).src_off=D?xt:q-8,X.src_size=lt+pt+8,k++,D&&(D=!1,lt=0,xt=0);break;case"VP8X":(X=N.header={}).feature_flags=I[q];var Nt=q+4;X.canvas_width=1+A(I,Nt),Nt+=3,X.canvas_height=1+A(I,Nt),Nt+=3;break;case"ALPH":D=!0,lt=ft+8,xt=q-8;break;case"ANIM":(X=N.header).bgcolor=T(I,q),Nt=q+4,X.loop_count=v(I,Nt),Nt+=2;break;case"ANMF":var Ht,X;(X=N.frames[k]={}).offset_x=2*A(I,q),q+=3,X.offset_y=2*A(I,q),q+=3,X.width=1+A(I,q),q+=3,X.height=1+A(I,q),q+=3,X.duration=A(I,q),q+=3,Ht=I[q++],X.dispose=1&Ht,X.blend=Ht>>1&1}at!="ANMF"&&(q+=ft)}return N}})(V,0);Z.response=V,Z.rgbaoutput=!0,Z.dataurl=!1;var et=Z.header?Z.header:null,nt=Z.frames?Z.frames:null;if(et){et.loop_counter=et.loop_count,b=[et.canvas_height],O=[et.canvas_width];for(var _t=0;_t<nt.length&&nt[_t].blend!=0;_t++);}var Ot=nt[0],H=B.WebPDecodeRGBA(V,Ot.src_off,Ot.src_size,O,b);Ot.rgba=H,Ot.imgwidth=O[0],Ot.imgheight=b[0];for(var P=0;P<O[0]*b[0]*4;P++)M[P]=H[P];return this.width=O,this.height=b,this.data=M,this}(function(n){var t,e,i,a,o,u,h,f,d,v=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(tt){J=!!tt}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(tt){ot=!!tt}});var ut=0;Object.defineProperty(this,"posX",{get:function(){return ut},set:function(tt){isNaN(tt)||(ut=tt)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(tt){isNaN(tt)||(gt=tt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(tt){var ee;typeof tt=="number"?ee=[tt,tt,tt,tt]:((ee=new Array(4))[0]=tt[0],ee[1]=tt.length>=2?tt[1]:ee[0],ee[2]=tt.length>=3?tt[2]:ee[0],ee[3]=tt.length>=4?tt[3]:ee[1]),d.margin=ee}});var Lt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Lt},set:function(tt){Lt=tt}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(tt){Ct=tt}});var Vt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vt},set:function(tt){Vt=tt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(tt){tt instanceof v&&(d=tt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(tt){d.path=tt}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(tt){Xt=tt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(tt){var ee;ee=T(tt),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(tt){var ee=T(tt);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(tt){["butt","round","square"].indexOf(tt)!==-1&&(this.ctx.lineCap=tt,this.pdf.setLineCap(tt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(tt){isNaN(tt)||(this.ctx.lineWidth=tt,this.pdf.setLineWidth(tt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(tt){["bevel","round","miter"].indexOf(tt)!==-1&&(this.ctx.lineJoin=tt,this.pdf.setLineJoin(tt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(tt){isNaN(tt)||(this.ctx.miterLimit=tt,this.pdf.setMiterLimit(tt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(tt){this.ctx.textBaseline=tt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(tt){["right","end","center","left","start"].indexOf(tt)!==-1&&(this.ctx.textAlign=tt)}});var re=null,ie=null,he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(tt){re=null,ie=null,he=tt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(tt){var ee;if(this.ctx.font=tt,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(tt))!==null){var Ge=ee[1];ee[2];var Ee=ee[3],zt=ee[4];ee[5];var ae=ee[6],se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(zt)[2];zt=Math.floor(se==="px"?parseFloat(zt)*this.pdf.internal.scaleFactor:se==="em"?parseFloat(zt)*this.pdf.getFontSize():parseFloat(zt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(zt);var Te=(function(te){var Je,Ue,_e=[],xe=te.trim();if(xe==="")return g0;if(xe in Ow)return[Ow[xe]];for(;xe!=="";){switch(Ue=null,Je=(xe=Pw(xe)).charAt(0)){case'"':case"'":Ue=RD(xe.substring(1),Je);break;default:Ue=CD(xe)}if(Ue===null||(_e.push(Ue[0]),(xe=Pw(Ue[1]))!==""&&xe.charAt(0)!==","))return g0;xe=xe.replace(/^,/,"")}return _e})(ae);if(this.fontFaces){var be=(function(te,Je){var Ue=te.getFontList(),_e=JSON.stringify(Ue);if(re===null||ie!==_e){var xe=(function(Ze){var Ne=[];return Object.keys(Ze).forEach(function(In){Ze[In].forEach(function(je){var Ve=null;switch(je){case"bold":Ve={family:In,weight:"bold"};break;case"italic":Ve={family:In,style:"italic"};break;case"bolditalic":Ve={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:In}}Ve!==null&&(Ve.ref={name:In,style:je},Ne.push(Ve))})}),Ne})(Ue);re=(function(Ze){for(var Ne={},In=0;In<Ze.length;++In){var je=m0(Ze[In]),Ve=je.family,On=je.stretch,Se=je.style,we=je.weight;Ne[Ve]=Ne[Ve]||{},Ne[Ve][On]=Ne[Ve][On]||{},Ne[Ve][On][Se]=Ne[Ve][On][Se]||{},Ne[Ve][On][Se][we]=je}return Ne})(xe.concat(Je)),ie=_e}return re})(this.pdf,this.fontFaces),Ye=Te.map(function(te){return{family:te,stretch:"normal",weight:Ee,style:Ge}}),Xe=(function(te,Je,Ue){for(var _e=(Ue=Ue||{}).defaultFontFamily||"times",xe=Object.assign({},ND,Ue.genericFontFamilies||{}),Ze=null,Ne=null,In=0;In<Je.length;++In)if(xe[(Ze=m0(Je[In])).family]&&(Ze.family=xe[Ze.family]),te.hasOwnProperty(Ze.family)){Ne=te[Ze.family];break}if(!(Ne=Ne||te[_e]))throw new Error("Could not find a font-family for the rule '"+Dw(Ze)+"' and default family '"+_e+"'.");if(Ne=(function(je,Ve){if(Ve[je])return Ve[je];var On=s2[je],Se=On<=s2.normal?-1:1,we=kw(Ve,VE,On,Se);if(!we)throw new Error("Could not find a matching font-stretch value for "+je);return we})(Ze.stretch,Ne),Ne=(function(je,Ve){if(Ve[je])return Ve[je];for(var On=jE[je],Se=0;Se<On.length;++Se)if(Ve[On[Se]])return Ve[On[Se]];throw new Error("Could not find a matching font-style for "+je)})(Ze.style,Ne),!(Ne=(function(je,Ve){if(Ve[je])return Ve[je];if(je===400&&Ve[500])return Ve[500];if(je===500&&Ve[400])return Ve[400];var On=xD[je],Se=kw(Ve,BE,On,je<400?-1:1);if(!Se)throw new Error("Could not find a matching font-weight for value "+je);return Se})(Ze.weight,Ne)))throw new Error("Failed to resolve a font for the rule '"+Dw(Ze)+"'.");return Ne})(be,Ye);this.pdf.setFont(Xe.ref.name,Xe.ref.style)}else{var Fe="";(Ee==="bold"||parseInt(Ee,10)>=700||Ge==="bold")&&(Fe="bold"),Ge==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var an="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Te.length;St++){if(this.pdf.internal.getFont(Te[St],Fe,{noFallback:!0,disableWarning:!0})!==void 0){an=Te[St];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(Te[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)an=Te[St],Fe="bold";else if(this.pdf.internal.getFont(Te[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){an=Te[St],Fe="normal";break}}if(an===""){for(var le=0;le<Te.length;le++)if(We[Te[le]]){an=We[Te[le]];break}}an=an===""?"Times":an,this.pdf.setFont(an,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(tt){this.ctx.globalCompositeOperation=tt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(tt){this.ctx.globalAlpha=tt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(tt){this.ctx.lineDashOffset=tt,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(tt){this.ctx.lineDash=tt,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(tt){this.ctx.ignoreClearRect=!!tt}})};A.prototype.setLineDash=function(L){this.lineDash=L},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){nt.call(this,"fill",!1)},A.prototype.stroke=function(){nt.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(L,Y)},A.prototype.closePath=function(){var L=new u(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Qn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new u(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},A.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),nt.call(this,null,!0)},A.prototype.quadraticCurveTo=function(L,Y,J,ot){if(isNaN(J)||isNaN(ot)||isNaN(L)||isNaN(Y))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ut=this.ctx.transform.applyToPoint(new u(J,ot)),gt=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new u(ut.x,ut.y)},A.prototype.bezierCurveTo=function(L,Y,J,ot,ut,gt){if(isNaN(ut)||isNaN(gt)||isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Lt=this.ctx.transform.applyToPoint(new u(ut,gt)),Ct=this.ctx.transform.applyToPoint(new u(L,Y)),Vt=this.ctx.transform.applyToPoint(new u(J,ot));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:Vt.x,y2:Vt.y,x:Lt.x,y:Lt.y}),this.ctx.lastPoint=new u(Lt.x,Lt.y)},A.prototype.arc=function(L,Y,J,ot,ut,gt){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot)||isNaN(ut))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var Lt=this.ctx.transform.applyToPoint(new u(L,Y));L=Lt.x,Y=Lt.y;var Ct=this.ctx.transform.applyToPoint(new u(0,J)),Vt=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(Ct.x-Vt.x,2)+Math.pow(Ct.y-Vt.y,2))}Math.abs(ut-ot)>=2*Math.PI&&(ot=0,ut=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:J,startAngle:ot,endAngle:ut,counterclockwise:gt})},A.prototype.arcTo=function(L,Y,J,ot,ut){throw new Error("arcTo not implemented.")},A.prototype.rect=function(L,Y,J,ot){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+J,Y),this.lineTo(L+J,Y+ot),this.lineTo(L,Y+ot),this.lineTo(L,Y),this.lineTo(L+J,Y),this.lineTo(L,Y)},A.prototype.fillRect=function(L,Y,J,ot){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ut={};this.lineCap!=="butt"&&(ut.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ut.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,J,ot),this.fill(),ut.hasOwnProperty("lineCap")&&(this.lineCap=ut.lineCap),ut.hasOwnProperty("lineJoin")&&(this.lineJoin=ut.lineJoin)}},A.prototype.strokeRect=function(L,Y,J,ot){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(L,Y,J,ot),this.stroke())},A.prototype.clearRect=function(L,Y,J,ot){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,J,ot))},A.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},A.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(L){var Y,J,ot,ut;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,J=0,ot=0,ut=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(gt!==null)Y=parseInt(gt[1]),J=parseInt(gt[2]),ot=parseInt(gt[3]),ut=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(gt[1]),J=parseInt(gt[2]),ot=parseInt(gt[3]),ut=parseFloat(gt[4]);else{if(ut=1,typeof L=="string"&&L.charAt(0)!=="#"){var Lt=new LE(L);L=Lt.ok?Lt.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,J=L.substring(2,3),J+=J,ot=L.substring(3,4),ot+=ot):(Y=L.substring(1,3),J=L.substring(3,5),ot=L.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ot=parseInt(ot,16)}}return{r:Y,g:J,b:ot,a:ut,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(L,Y,J,ot){if(isNaN(Y)||isNaN(J)||typeof L!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!b.call(this)){var ut=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;k.call(this,{text:L,x:Y,y:J,scale:gt,angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.strokeText=function(L,Y,J,ot){if(isNaN(Y)||isNaN(J)||typeof L!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){ot=isNaN(ot)?void 0:ot;var ut=ft(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;k.call(this,{text:L,x:Y,y:J,scale:gt,renderingMode:"stroke",angle:ut,align:this.textAlign,maxWidth:ot})}},A.prototype.measureText=function(L){if(typeof L!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ut=Y.getStringUnitWidth(L)*ot/Y.internal.scaleFactor;return new function(gt){var Lt=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Lt}}),this}({width:ut*=Math.round(96*J/72*1e4)/1e4})},A.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.rotate=function(L){if(isNaN(L))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(J)},A.prototype.transform=function(L,Y,J,ot,ut,gt){if(isNaN(L)||isNaN(Y)||isNaN(J)||isNaN(ot)||isNaN(ut)||isNaN(gt))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Lt=new f(L,Y,J,ot,ut,gt);this.ctx.transform=this.ctx.transform.multiply(Lt)},A.prototype.setTransform=function(L,Y,J,ot,ut,gt){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ot=isNaN(ot)?1:ot,ut=isNaN(ut)?0:ut,gt=isNaN(gt)?0:gt,this.ctx.transform=new f(L,Y,J,ot,ut,gt)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(L,Y,J,ot,ut,gt,Lt,Ct,Vt){var Xt=this.pdf.getImageProperties(L),re=1,ie=1,he=1,tt=1;ot!==void 0&&Ct!==void 0&&(he=Ct/ot,tt=Vt/ut,re=Xt.width/ot*Ct/ot,ie=Xt.height/ut*Vt/ut),gt===void 0&&(gt=Y,Lt=J,Y=0,J=0),ot!==void 0&&Ct===void 0&&(Ct=ot,Vt=ut),ot===void 0&&Ct===void 0&&(Ct=Xt.width,Vt=Xt.height);var ee=this.ctx.transform.decompose(),Ge=ft(ee.rotate.shx),Ee=new f,zt=(Ee=(Ee=(Ee=Ee.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new h(gt-Y*he,Lt-J*tt,ot*re,ut*ie));if(this.autoPaging){for(var ae,se=B.call(this,zt),Te=[],be=0;be<se.length;be+=1)Te.indexOf(se[be])===-1&&Te.push(se[be]);et(Te);for(var Ye=Te[0],Xe=Te[Te.length-1],Fe=Ye;Fe<Xe+1;Fe++){this.pdf.setPage(Fe);var an=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=Fe===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],te=Fe===1?0:St+(Fe-2)*le;if(this.ctx.clip_path.length!==0){var Je=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(ae,this.posX+this.margin[3],-te+We+this.ctx.prevPageLastElemOffset),_t.call(this,"fill",!0),this.path=Je}var Ue=JSON.parse(JSON.stringify(zt));Ue=Z([Ue],this.posX+this.margin[3],-te+We+this.ctx.prevPageLastElemOffset)[0];var _e=(Fe>Ye||Fe<Xe)&&M.call(this);_e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],an,le,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Ge),_e&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Ge)};var B=function(L,Y,J){var ot=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ut=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ot.push(Math.floor((L.y+ut)/J)+1);break;case"arc":ot.push(Math.floor((L.y+ut-L.radius)/J)+1),ot.push(Math.floor((L.y+ut+L.radius)/J)+1);break;case"qct":var gt=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ot.push(Math.floor((gt.y+ut)/J)+1),ot.push(Math.floor((gt.y+gt.h+ut)/J)+1);break;case"bct":var Lt=Ht(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ot.push(Math.floor((Lt.y+ut)/J)+1),ot.push(Math.floor((Lt.y+Lt.h+ut)/J)+1);break;case"rect":ot.push(Math.floor((L.y+ut)/J)+1),ot.push(Math.floor((L.y+L.h+ut)/J)+1)}for(var Ct=0;Ct<ot.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<ot[Ct];)V.call(this);return ot},V=function(){var L=this.fillStyle,Y=this.strokeStyle,J=this.font,ot=this.lineCap,ut=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=J,this.lineCap=ot,this.lineWidth=ut,this.lineJoin=gt},Z=function(L,Y,J){for(var ot=0;ot<L.length;ot++)switch(L[ot].type){case"bct":L[ot].x2+=Y,L[ot].y2+=J;case"qct":L[ot].x1+=Y,L[ot].y1+=J;default:L[ot].x+=Y,L[ot].y+=J}return L},et=function(L){return L.sort(function(Y,J){return Y-J})},nt=function(L,Y){var J=this.fillStyle,ot=this.strokeStyle,ut=this.lineCap,gt=this.lineWidth,Lt=Math.abs(gt*this.ctx.transform.scaleX),Ct=this.lineJoin;if(this.autoPaging){for(var Vt,Xt,re=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),he=[],tt=0;tt<ie.length;tt++)if(ie[tt].x!==void 0)for(var ee=B.call(this,ie[tt]),Ge=0;Ge<ee.length;Ge+=1)he.indexOf(ee[Ge])===-1&&he.push(ee[Ge]);for(var Ee=0;Ee<he.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<he[Ee];)V.call(this);et(he);for(var zt=he[0],ae=he[he.length-1],se=zt;se<ae+1;se++){this.pdf.setPage(se),this.fillStyle=J,this.strokeStyle=ot,this.lineCap=ut,this.lineWidth=Lt,this.lineJoin=Ct;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=se===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=se===1?0:Ye+(se-2)*Xe;if(this.ctx.clip_path.length!==0){var an=this.path;Vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Vt,this.posX+this.margin[3],-Fe+be+this.ctx.prevPageLastElemOffset),_t.call(this,L,!0),this.path=an}if(Xt=JSON.parse(JSON.stringify(re)),this.path=Z(Xt,this.posX+this.margin[3],-Fe+be+this.ctx.prevPageLastElemOffset),Y===!1||se===0){var We=(se>zt||se<ae)&&M.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,Xe,null).clip().discardPath()),_t.call(this,L,Y),We&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}this.path=re}else this.lineWidth=Lt,_t.call(this,L,Y),this.lineWidth=gt},_t=function(L,Y){if((L!=="stroke"||Y||!O.call(this))&&(L==="stroke"||Y||!b.call(this))){for(var J,ot,ut=[],gt=this.path,Lt=0;Lt<gt.length;Lt++){var Ct=gt[Lt];switch(Ct.type){case"begin":ut.push({begin:!0});break;case"close":ut.push({close:!0});break;case"mt":ut.push({start:Ct,deltas:[],abs:[]});break;case"lt":var Vt=ut.length;if(gt[Lt-1]&&!isNaN(gt[Lt-1].x)&&(J=[Ct.x-gt[Lt-1].x,Ct.y-gt[Lt-1].y],Vt>0)){for(;Vt>=0;Vt--)if(ut[Vt-1].close!==!0&&ut[Vt-1].begin!==!0){ut[Vt-1].deltas.push(J),ut[Vt-1].abs.push(Ct);break}}break;case"bct":J=[Ct.x1-gt[Lt-1].x,Ct.y1-gt[Lt-1].y,Ct.x2-gt[Lt-1].x,Ct.y2-gt[Lt-1].y,Ct.x-gt[Lt-1].x,Ct.y-gt[Lt-1].y],ut[ut.length-1].deltas.push(J);break;case"qct":var Xt=gt[Lt-1].x+2/3*(Ct.x1-gt[Lt-1].x),re=gt[Lt-1].y+2/3*(Ct.y1-gt[Lt-1].y),ie=Ct.x+2/3*(Ct.x1-Ct.x),he=Ct.y+2/3*(Ct.y1-Ct.y),tt=Ct.x,ee=Ct.y;J=[Xt-gt[Lt-1].x,re-gt[Lt-1].y,ie-gt[Lt-1].x,he-gt[Lt-1].y,tt-gt[Lt-1].x,ee-gt[Lt-1].y],ut[ut.length-1].deltas.push(J);break;case"arc":ut.push({deltas:[],abs:[],arc:!0}),Array.isArray(ut[ut.length-1].abs)&&ut[ut.length-1].abs.push(Ct)}}ot=Y?null:L==="stroke"?"stroke":"fill";for(var Ge=!1,Ee=0;Ee<ut.length;Ee++)if(ut[Ee].arc)for(var zt=ut[Ee].abs,ae=0;ae<zt.length;ae++){var se=zt[ae];se.type==="arc"?P.call(this,se.x,se.y,se.radius,se.startAngle,se.endAngle,se.counterclockwise,void 0,Y,!Ge):D.call(this,se.x,se.y),Ge=!0}else if(ut[Ee].close===!0)this.pdf.internal.out("h"),Ge=!1;else if(ut[Ee].begin!==!0){var Te=ut[Ee].start.x,be=ut[Ee].start.y;lt.call(this,ut[Ee].deltas,Te,be),Ge=!0}ot&&I.call(this,ot),Y&&q.call(this)}},Ot=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+Y-J;case"hanging":return L+Y-2*J;case"middle":return L+Y/2-J;default:return L}},H=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,J){this.colorStops.push([Y,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(L,Y,J,ot,ut,gt,Lt,Ct,Vt){for(var Xt=at.call(this,J,ot,ut,gt),re=0;re<Xt.length;re++){var ie=Xt[re];re===0&&(Vt?N.call(this,ie.x1+L,ie.y1+Y):D.call(this,ie.x1+L,ie.y1+Y)),xt.call(this,L,Y,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}Ct?q.call(this):I.call(this,Lt)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(L,Y){this.pdf.internal.out(e(L)+" "+i(Y)+" m")},k=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var J,ot,ut,gt=this.pdf.getTextDimensions(L.text),Lt=Ot.call(this,L.y),Ct=H.call(this,Lt)-gt.h,Vt=this.ctx.transform.applyToPoint(new u(L.x,Lt));if(this.autoPaging){var Xt=this.ctx.transform.decompose(),re=new f;re=(re=(re=re.multiply(Xt.translate)).multiply(Xt.skew)).multiply(Xt.scale);for(var ie=this.ctx.transform.applyToRectangle(new h(L.x,Lt,gt.w,gt.h)),he=re.applyToRectangle(new h(L.x,Ct,gt.w,gt.h)),tt=B.call(this,he),ee=[],Ge=0;Ge<tt.length;Ge+=1)ee.indexOf(tt[Ge])===-1&&ee.push(tt[Ge]);et(ee);for(var Ee=ee[0],zt=ee[ee.length-1],ae=Ee;ae<zt+1;ae++){this.pdf.setPage(ae);var se=ae===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ye=be-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],Fe=Xe-this.margin[3],an=ae===1?0:Te+(ae-2)*Ye;if(this.ctx.clip_path.length!==0){var We=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(J,this.posX+this.margin[3],-1*an+se),_t.call(this,"fill",!0),this.path=We}var St=Z([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-an+se+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*L.scale),ut=this.lineWidth,this.lineWidth=ut*L.scale);var le=this.autoPaging!=="text";if(le||St.y+St.h<=be){if(le||St.y>=se&&St.x<=Xe){var te=le?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Xe-St.x)[0],Je=Z([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-an+se+this.ctx.prevPageLastElemOffset)[0],Ue=le&&(ae>Ee||ae<zt)&&M.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ye,null).clip().discardPath()),this.pdf.text(te,Je.x,Je.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),Ue&&this.pdf.restoreGraphicsState()}}else St.y<be&&(this.ctx.prevPageLastElemOffset+=be-St.y);L.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)}}else L.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*L.scale),ut=this.lineWidth,this.lineWidth=ut*L.scale),this.pdf.text(L.text,Vt.x+this.posX,Vt.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=ut)},D=function(L,Y,J,ot){J=J||0,ot=ot||0,this.pdf.internal.out(e(L+J)+" "+i(Y+ot)+" l")},lt=function(L,Y,J){return this.pdf.lines(L,Y,J,null,null)},xt=function(L,Y,J,ot,ut,gt,Lt,Ct){this.pdf.internal.out([t(a(J+L)),t(o(ot+Y)),t(a(ut+L)),t(o(gt+Y)),t(a(Lt+L)),t(o(Ct+Y)),"c"].join(" "))},at=function(L,Y,J,ot){for(var ut=2*Math.PI,gt=Math.PI/2;Y>J;)Y-=ut;var Lt=Math.abs(J-Y);Lt<ut&&ot&&(Lt=ut-Lt);for(var Ct=[],Vt=ot?-1:1,Xt=Y;Lt>1e-5;){var re=Xt+Vt*Math.min(Lt,gt);Ct.push(pt.call(this,L,Xt,re)),Lt-=Math.abs(re-Xt),Xt=re}return Ct},pt=function(L,Y,J){var ot=(J-Y)/2,ut=L*Math.cos(ot),gt=L*Math.sin(ot),Lt=ut,Ct=-gt,Vt=Lt*Lt+Ct*Ct,Xt=Vt+Lt*ut+Ct*gt,re=4/3*(Math.sqrt(2*Vt*Xt)-Xt)/(Lt*gt-Ct*ut),ie=Lt-re*Ct,he=Ct+re*Lt,tt=ie,ee=-he,Ge=ot+Y,Ee=Math.cos(Ge),zt=Math.sin(Ge);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:ie*Ee-he*zt,y2:ie*zt+he*Ee,x3:tt*Ee-ee*zt,y3:tt*zt+ee*Ee,x4:L*Math.cos(J),y4:L*Math.sin(J)}},ft=function(L){return 180*L/Math.PI},Nt=function(L,Y,J,ot,ut,gt){var Lt=L+.5*(J-L),Ct=Y+.5*(ot-Y),Vt=ut+.5*(J-ut),Xt=gt+.5*(ot-gt),re=Math.min(L,ut,Lt,Vt),ie=Math.max(L,ut,Lt,Vt),he=Math.min(Y,gt,Ct,Xt),tt=Math.max(Y,gt,Ct,Xt);return new h(re,he,ie-re,tt-he)},Ht=function(L,Y,J,ot,ut,gt,Lt,Ct){var Vt,Xt,re,ie,he,tt,ee,Ge,Ee,zt,ae,se,Te,be,Ye=J-L,Xe=ot-Y,Fe=ut-J,an=gt-ot,We=Lt-ut,St=Ct-gt;for(Xt=0;Xt<41;Xt++)Ee=(ee=(re=L+(Vt=Xt/40)*Ye)+Vt*((he=J+Vt*Fe)-re))+Vt*(he+Vt*(ut+Vt*We-he)-ee),zt=(Ge=(ie=Y+Vt*Xe)+Vt*((tt=ot+Vt*an)-ie))+Vt*(tt+Vt*(gt+Vt*St-tt)-Ge),Xt==0?(ae=Ee,se=zt,Te=Ee,be=zt):(ae=Math.min(ae,Ee),se=Math.min(se,zt),Te=Math.max(Te,Ee),be=Math.max(be,zt));return new h(Math.round(ae),Math.round(se),Math.round(Te-ae),Math.round(be-se))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,J=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ie.API),(function(n){var t=function(u){var h,f,d,v,A,T,b,O,M,B;for(f=[],d=0,v=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;v>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(T=(A=((A=((A=((A=(A-(B=A%85))/85)-(M=A%85))/85)-(O=A%85))/85)-(b=A%85))/85)%85,f.push(T+33,b+33,O+33,M+33,B+33)):f.push(122);return(function(V,Z){for(var et=Z;et>0;et--)V.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var h,f,d,v,A,T=String,b="length",O=255,M="charCodeAt",B="slice",V="replace";for(u[B](-2),u=u[B](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),d=[],v=0,A=(u+=h="uuuuu"[B](u[b]%5||5))[b];A>v;v+=5)f=52200625*(u[M](v)-33)+614125*(u[M](v+1)-33)+7225*(u[M](v+2)-33)+85*(u[M](v+3)-33)+(u[M](v+4)-33),d.push(O&f>>24,O&f>>16,O&f>>8,O&f);return(function(Z,et){for(var nt=et;nt>0;nt--)Z.pop()})(d,h[b]),T.fromCharCode.apply(T,d)},i=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=J0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(u,h){var f=0,d=u||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(Ie.API),(function(n){n.loadFile=function(t,e,i){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,T=0,b=function(O){var M=O.length,B=[],V=String.fromCharCode;for(T=0;T<M;T+=1)B.push(V(255&O.charCodeAt(T)));return B.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(b(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return b(A.responseText)})(a,o,u)}catch{}return h})(t,e,i)},n.loadImageFile=n.loadFile})(Ie.API),(function(n){function t(){return(Qe.html2canvas?Promise.resolve(Qe.html2canvas):X1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Qe.DOMPurify?Promise.resolve(Qe.DOMPurify):X1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var i=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},u=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:a("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,T=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete T.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var b=0;b<v.length;++b){var O=v[b],M=O.src.find(function(B){return B.format==="truetype"});M&&d.addFont(M.url,O.ref.name,O.ref.style)}return T.windowHeight=T.windowHeight||0,T.windowHeight=T.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):T.windowHeight,d.context2d.save(!0),f(this.prop.container,T)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(i(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var d=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},u.prototype.setMargin=function(h){return this.then(function(){switch(i(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||Ie.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(T){return d.updateProgress(null,v),T}).then(v,A).then(function(T){return d.updateProgress(1),T})})},u.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:u.convert(Object.assign({},v),Promise.prototype),T=d.call(A,h,f);return u.convert(T,v.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ie.getPageSize=function(h,f,d){if(Qn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,T=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var O,M=0,B=0;if(b.hasOwnProperty(T))M=b[T][1]/A,B=b[T][0]/A;else try{M=d[1],B=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",B>M&&(O=B,B=M,M=O);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",M>B&&(O=B,B=M,M=O)}return{width:B,height:M,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(m0):null;var d=new u(f);return f.worker?d:d.from(h).doCallback()}})(Ie.API),Ie.API.addJS=function(n){return Uw=n,this.internal.events.subscribe("postPutResources",function(){Yp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Mw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Uw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Yp!==void 0&&Mw!==void 0&&this.internal.out("/Names <</JavaScript "+Yp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],h=i.exec(u);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=e.internal.newObject();v.push(A);var T=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,o){var u={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var u=i.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Ie.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,a,o,u,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var T,b=256*A.charCodeAt(4)+A.charCodeAt(5),O=A.length,M={width:0,height:0,numcomponents:1},B=4;B<O;B+=2){if(B+=b,t.indexOf(A.charCodeAt(B+1))!==-1){T=256*A.charCodeAt(B+5)+A.charCodeAt(B+6),M={width:256*A.charCodeAt(B+7)+A.charCodeAt(B+8),height:T,numcomponents:A.charCodeAt(B+9)};break}b=256*A.charCodeAt(B+2)+A.charCodeAt(B+3)}return M})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:i,alias:a}}return v}})(Ie.API),Ie.API.processPNG=function(n,t,e,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=fD(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;a=d&&f===1?(function(P){for(var I=P.width,q=P.height,N=P.data,k=P.palette,D=P.depth,lt=!1,xt=[],at=[],pt=void 0,ft=!1,Nt=0,Ht=0;Ht<k.length;Ht++){var X=Fb(k[Ht],4),L=X[0],Y=X[1],J=X[2],ot=X[3];xt.push(L,Y,J),ot!=null&&(ot===0?(Nt++,at.length<1&&at.push(Ht)):ot<255&&(ft=!0))}if(ft||Nt>1){lt=!0,at=void 0;var ut=I*q;pt=new Uint8Array(ut);for(var gt=new DataView(N.buffer),Lt=0;Lt<ut;Lt++){var Ct=y0(gt,Lt,D),Vt=Fb(k[Ct],4)[3];pt[Lt]=Vt}}else Nt===0&&(at=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:lt?8:void 0,colorBytes:N,alphaBytes:pt,needSMask:lt,palette:xt,mask:at}})(o):f===2||f===4?(function(P){for(var I=P.data,q=P.width,N=P.height,k=P.channels,D=P.depth,lt=k===2?"DeviceGray":"DeviceRGB",xt=k-1,at=q*N,pt=xt,ft=at*pt,Nt=1*at,Ht=Math.ceil(ft*D/8),X=Math.ceil(Nt*D/8),L=new Uint8Array(Ht),Y=new Uint8Array(X),J=new DataView(I.buffer),ot=new DataView(L.buffer),ut=new DataView(Y.buffer),gt=!1,Lt=0;Lt<at;Lt++){for(var Ct=Lt*k,Vt=0;Vt<pt;Vt++)Yw(ot,y0(J,Ct+Vt,D),Lt*pt+Vt,D);var Xt=y0(J,Ct+pt,D);Xt<(1<<D)-1&&(gt=!0),Yw(ut,Xt,1*Lt,D)}return{colorSpace:lt,colorsPerPixel:xt,sMaskBitsPerComponent:gt?D:void 0,colorBytes:L,alphaBytes:Y,needSMask:gt}})(o):(function(P){var I=P.data,q=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(N){for(var k=N.length,D=new Uint8Array(2*k),lt=new DataView(D.buffer,D.byteOffset,D.byteLength),xt=0;xt<k;xt++)lt.setUint16(2*xt,N[xt],!1);return D})(I):I,needSMask:!1}})(o);var A,T,b,O=a,M=O.colorSpace,B=O.colorsPerPixel,V=O.sMaskBitsPerComponent,Z=O.colorBytes,et=O.alphaBytes,nt=O.needSMask,_t=O.palette,Ot=O.mask,H=null;return i!==Ie.API.image_compression.NONE&&typeof J0=="function"?(H=(function(P){var I;switch(P){case Ie.API.image_compression.FAST:I=11;break;case Ie.API.image_compression.MEDIUM:I=13;break;case Ie.API.image_compression.SLOW:I=14;break;default:I=12}return I})(i),A=this.decode.FLATE_DECODE,T="/Predictor ".concat(H," /Colors ").concat(B," /BitsPerComponent ").concat(v," /Columns ").concat(u),n=Fw(Z,Math.ceil(u*B*v/8),B,v,i),nt&&(b=Fw(et,Math.ceil(u*V/8),1,V,i))):(A=void 0,T=void 0,n=Z,nt&&(b=et)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:e,data:n,index:t,filter:A,decodeParameters:T,transparency:Ot,palette:_t,sMask:b,predictor:H,width:u,height:h,bitsPerComponent:v,sMaskBitsPerComponent:V,colorSpace:M}}},(function(n){n.processGIF89A=function(t,e,i,a){var o=new OD(t),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:h},v=new v0(100).encode(d,100);return n.processJPEG.call(this,v,e,i,a)},n.processGIF87A=n.processGIF89A})(Ie.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){ui.log("bit decode error:"+e)}},yo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*a*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*i;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},yo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,v=i*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=d}this.pos+=n}},yo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,v=a*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},yo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=u}},yo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,i,a){var o=new yo(t,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new v0(100).encode(f,100);return n.processJPEG.call(this,d,e,i,a)}})(Ie.API),Ww.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,i,a){var o=new Ww(t),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new v0(100).encode(f,100);return n.processJPEG.call(this,d,e,i,a)}})(Ie.API),Ie.API.processRGBA=function(n,t,e){for(var i=n.data,a=i.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),h=0,f=0,d=0;d<a;d+=4){var v=i[d],A=i[d+1],T=i[d+2],b=i[d+3];o[h++]=v,o[h++]=A,o[h++]=T,u[f++]=b}var O=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:O,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ie.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sh=Ie.API,Kp=Sh.getCharWidthsArray=function(n,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=t.doKerning!==!1,T=0,b=n.length,O=0,M=h[0]||f,B=[];for(e=0;e<b;e++)i=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?B.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+u*(1e3/o)||0)/1e3):(T=A&&Qn(d[i])==="object"&&!isNaN(parseInt(d[i][O],10))?d[i][O]/v:0,B.push((h[i]||M)/f+T)),O=i;return B},jw=Sh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Sh.processArabic&&(n=Sh.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,a)/e:Kp.apply(this,arguments).reduce(function(o,u){return o+u},0)},Vw=function(n,t,e,i){for(var a=[],o=0,u=n.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+t[o]>i&&(a.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&a.push(n.slice(f,o)),a},Bw=function(n,t,e){e||(e={});var i,a,o,u,h,f,d,v=[],A=[v],T=e.textIndent||0,b=0,O=0,M=n.split(" "),B=Kp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?M[0].length+2:e.lineIndent||0){var V=Array(f).join(" "),Z=[];M.map(function(nt){(nt=nt.split(/\s*\n/)).length>1?Z=Z.concat(nt.map(function(_t,Ot){return(Ot&&_t.length?`
`:"")+_t})):Z.push(nt[0])}),M=Z,f=jw.apply(this,[V,e])}for(o=0,u=M.length;o<u;o++){var et=0;if(i=M[o],f&&i[0]==`
`&&(i=i.substr(1),et=1),T+b+(O=(a=Kp.apply(this,[i,e])).reduce(function(nt,_t){return nt+_t},0))>t||et){if(O>t){for(h=Vw.apply(this,[i,a,t-(T+b),t]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);O=a.slice(i.length-(v[0]?v[0].length:0)).reduce(function(nt,_t){return nt+_t},0)}else v=[i];A.push(v),T=O+f,b=B}else v.push(i),T+=b+O,b=B}return d=f?function(nt,_t){return(_t?V:"")+nt.join(" ")}:function(nt){return nt.join(" ")},A.map(d)},Sh.splitTextToSize=function(n,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),T="Unicode";return A.metadata[T]?{widths:A.metadata[T].widths||{0:1},kerning:A.metadata[T].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=i.length;h<f;h++)d=d.concat(Bw.apply(this,[i[h],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[e[o]]=t[o],a[t[o]]=e[o];var u=function(T){return"0x"+parseInt(T,10).toString(16)},h=n.__fontmetrics__.compress=function(T){var b,O,M,B,V=["{"];for(var Z in T){if(b=T[Z],isNaN(parseInt(Z,10))?O="'"+Z+"'":(Z=parseInt(Z,10),O=(O=u(Z).slice(2)).slice(0,-1)+a[O.slice(-1)]),typeof b=="number")b<0?(M=u(b).slice(3),B="-"):(M=u(b).slice(2),B=""),M=B+M.slice(0,-1)+a[M.slice(-1)];else{if(Qn(b)!=="object")throw new Error("Don't know what to do with value type "+Qn(b)+".");M=h(b)}V.push(O+M)}return V.push("}"),V.join("")},f=n.__fontmetrics__.uncompress=function(T){if(typeof T!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,O,M,B,V={},Z=1,et=V,nt=[],_t="",Ot="",H=T.length-1,P=1;P<H;P+=1)(B=T[P])=="'"?b?(M=b.join(""),b=void 0):b=[]:b?b.push(B):B=="{"?(nt.push([et,M]),et={},M=void 0):B=="}"?((O=nt.pop())[0][O[1]]=et,M=void 0,et=O[0]):B=="-"?Z=-1:M===void 0?i.hasOwnProperty(B)?(_t+=i[B],M=parseInt(_t,16)*Z,Z=1,_t=""):_t+=B:i.hasOwnProperty(B)?(Ot+=i[B],et[M]=parseInt(Ot,16)*Z,Z=1,M=void 0,Ot=""):Ot+=B;return V},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(T){var b=T.font,O=A.Unicode[b.postScriptName];O&&(b.metadata.Unicode={},b.metadata.Unicode.widths=O.widths,b.metadata.Unicode.kerning=O.kerning);var M=v.Unicode[b.postScriptName];M&&(b.metadata.Unicode.encoding=M,b.encoding=M.codePages[0])}])})(Ie.API),(function(n){var t=function(e){for(var i=e.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=e.charCodeAt(o);return a};n.API.events.push(["addFont",function(e){var i=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(lm(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,i)}}])})(Ie),Ie.API.addSvgAsImage=function(n,t,e,i,a,o,u,h){if(isNaN(t)||isNaN(e))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Qe.canvg?Promise.resolve(Qe.canvg):X1(()=>import("./index.es-CPrHDDz3.js"),[])).catch(function(T){return Promise.reject(new Error("Could not load canvg: "+T))}).then(function(T){return T.default?T.default:T}).then(function(T){return T.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,i,a,u,h)})},Ie.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Ie.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],d=0,v=0,A=0;function T(O,M){var B,V=!1;for(B=0;B<O.length;B+=1)O[B]===M&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var b=h.length;for(A=0;A<b;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Qn(n)==="object"){for(a in n)if(o=n[a],T(h,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&T(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,M=[];for(O in e)e[O].explicitSet===!0&&(e[O].type==="name"?M.push("/"+O+" /"+e[O].value):M.push("/"+O+" "+e[O].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ie.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,T=o.length;A<T;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},i=function(o){var u,h,f,d,v,A,T;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,T=(h=Object.keys(o).sort(function(b,O){return b-O})).length;A<T;A++)u=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,T=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),b="",O=0;O<T.length;O++)b+=String.fromCharCode(T[O]);var M=d();v({data:b,addLength1:!0,objectId:M}),f("endobj");var B=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:B}),f("endobj");var V=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Ih(h.fontName)),f("/FontFile2 "+M+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var Z=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Ih(h.fontName)),f("/FontDescriptor "+V+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+B+" 0 R"),f("/BaseFont /"+Ih(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+Z+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,T="",b=0;b<A.length;b++)T+=String.fromCharCode(A[b]);var O=d();v({data:T,addLength1:!0,objectId:O}),f("endobj");var M=d();v({data:i(h.metadata.toUnicode),addLength1:!0,objectId:M}),f("endobj");var B=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+O+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+Ih(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var V=0;V<h.metadata.hmtx.widths.length;V++)h.metadata.hmtx.widths[V]=parseInt(h.metadata.hmtx.widths[V]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Ih(h.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},T=A.pdfEscape,b=A.activeFontKey,O=A.fonts,M=b,B="",V=0,Z="",et=O[M].encoding;if(O[M].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(Z=h,M=b,Array.isArray(h)&&(Z=h[0]),V=0;V<Z.length;V+=1)O[M].metadata.hasOwnProperty("cmap")&&(u=O[M].metadata.cmap.unicode.codeMap[Z[V].charCodeAt(0)]),u||Z[V].charCodeAt(0)<256&&O[M].metadata.hasOwnProperty("Unicode")?B+=Z[V]:B+="";var nt="";return parseInt(M.slice(1))<14||et==="WinAnsiEncoding"?nt=T(B,M).split("").map(function(_t){return _t.charCodeAt(0).toString(16)}).join(""):et==="Identity-H"&&(nt=e(B,O[M])),A.isHex=!0,{text:nt,x:f,y:d,options:v,mutex:A}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?h.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):h.push(a(Object.assign({},f,{text:u[d]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:u})).text}])})(Ie),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ie.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var a,o,u,h,f,d,v,A=t,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,et=0;this.__bidiEngine__={};var nt=function(N){var k=N.charCodeAt(),D=k>>8,lt=M[D];return lt!==void 0?A[256*lt+(255&k)]:D===252||D===253?"AL":V.test(D)?"L":D===8?"R":"N"},_t=function(N){for(var k,D=0;D<N.length;D++){if((k=nt(N.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},Ot=function(N,k,D,lt){var xt,at,pt,ft,Nt=k[lt];switch(Nt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(Nt="AN");break;case"AL":Z=!0,Nt="R";break;case"WS":case"BN":Nt="N";break;case"CS":lt<1||lt+1>=k.length||(xt=D[lt-1])!=="EN"&&xt!=="AN"||(at=k[lt+1])!=="EN"&&at!=="AN"?Nt="N":Z&&(at="AN"),Nt=at===xt?at:"N";break;case"ES":Nt=(xt=lt>0?D[lt-1]:"B")==="EN"&&lt+1<k.length&&k[lt+1]==="EN"?"EN":"N";break;case"ET":if(lt>0&&D[lt-1]==="EN"){Nt="EN";break}if(Z){Nt="N";break}for(pt=lt+1,ft=k.length;pt<ft&&k[pt]==="ET";)pt++;Nt=pt<ft&&k[pt]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ft=k.length,pt=lt+1;pt<ft&&k[pt]==="NSM";)pt++;if(pt<ft){var Ht=N[lt],X=Ht>=1425&&Ht<=2303||Ht===64286;if(xt=k[pt],X&&(xt==="R"||xt==="AL")){Nt="R";break}}}Nt=lt<1||(xt=k[lt-1])==="B"?"N":D[lt-1];break;case"B":Z=!1,a=!0,Nt=et;break;case"S":o=!0,Nt="N"}return Nt},H=function(N,k,D){var lt=N.split("");return D&&P(lt,D,{hiLevel:et}),lt.reverse(),k&&k.reverse(),lt.join("")},P=function(N,k,D){var lt,xt,at,pt,ft,Nt=-1,Ht=N.length,X=0,L=[],Y=et?b:T,J=[];for(Z=!1,a=!1,o=!1,xt=0;xt<Ht;xt++)J[xt]=nt(N[xt]);for(at=0;at<Ht;at++){if(ft=X,L[at]=Ot(N,J,L,at),lt=240&(X=Y[ft][O[L[at]]]),X&=15,k[at]=pt=Y[X][5],lt>0)if(lt===16){for(xt=Nt;xt<at;xt++)k[xt]=1;Nt=-1}else Nt=-1;if(Y[X][6])Nt===-1&&(Nt=at);else if(Nt>-1){for(xt=Nt;xt<at;xt++)k[xt]=pt;Nt=-1}J[at]==="B"&&(k[at]=0),D.hiLevel|=pt}o&&(function(ot,ut,gt){for(var Lt=0;Lt<gt;Lt++)if(ot[Lt]==="S"){ut[Lt]=et;for(var Ct=Lt-1;Ct>=0&&ot[Ct]==="WS";Ct--)ut[Ct]=et}})(J,k,Ht)},I=function(N,k,D,lt,xt){if(!(xt.hiLevel<N)){if(N===1&&et===1&&!a)return k.reverse(),void(D&&D.reverse());for(var at,pt,ft,Nt,Ht=k.length,X=0;X<Ht;){if(lt[X]>=N){for(ft=X+1;ft<Ht&&lt[ft]>=N;)ft++;for(Nt=X,pt=ft-1;Nt<pt;Nt++,pt--)at=k[Nt],k[Nt]=k[pt],k[pt]=at,D&&(at=D[Nt],D[Nt]=D[pt],D[pt]=at);X=ft}X++}}},q=function(N,k,D){var lt=N.split(""),xt={hiLevel:et};return D||(D=[]),P(lt,D,xt),(function(at,pt,ft){if(ft.hiLevel!==0&&v)for(var Nt,Ht=0;Ht<at.length;Ht++)pt[Ht]===1&&(Nt=B.indexOf(at[Ht]))>=0&&(at[Ht]=B[Nt+1])})(lt,D,xt),I(2,lt,k,D,xt),I(1,lt,k,D,xt),lt.join("")};return this.__bidiEngine__.doBidiReorder=function(N,k,D){if((function(xt,at){if(at)for(var pt=0;pt<xt.length;pt++)at[pt]=pt;h===void 0&&(h=_t(xt)),d===void 0&&(d=_t(xt))})(N,k),u||!f||d)if(u&&f&&h^d)et=h?1:0,N=H(N,k,D);else if(!u&&f&&d)et=h?1:0,N=q(N,k,D),N=H(N,k);else if(!u||h||f||d){if(u&&!f&&h^d)N=H(N,k),h?(et=0,N=q(N,k,D)):(et=1,N=q(N,k,D),N=H(N,k));else if(u&&h&&!f&&d)et=1,N=q(N,k,D),N=H(N,k);else if(!u&&!f&&h^d){var lt=v;h?(et=1,N=q(N,k,D),et=0,v=!1,N=q(N,k,D),v=lt):(et=0,N=q(N,k,D),N=H(N,k),et=1,v=!1,N=q(N,k,D),v=lt,N=H(N,k))}}else et=0,N=q(N,k,D);else et=h?1:0,N=q(N,k,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(u=N.isInputVisual,f=N.isOutputVisual,h=N.isInputRtl,d=N.isOutputRtl,v=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(u=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?u.push([e.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):u.push([e.doBidiReorder(a[h])]);i.text=u}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Ie),Ie.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Wu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new WD(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new DD(this.contents),this.head=new MD(this),this.name=new FD(this),this.cmap=new zE(this),this.toUnicode={},this.hhea=new UD(this),this.maxp=new zD(this),this.hmtx=new qD(this),this.post=new VD(this),this.os2=new jD(this),this.loca=new KD(this),this.glyf=new HD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.bbox).length;u<h;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var a,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n})();var To,Wu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,a,o,u,h,f;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,a,o;for(o=[],i=0,a=t.length;i<a;i++)e=t[i],o.push(this.writeByte(e));return o},n})(),DD=(function(){var n;function t(e){var i,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,o,u,h,f,d,v,A,T,b,O,M;for(M in b=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(b)/f),u=Math.floor(A/f),v=16*b-A,(a=new Wu).writeInt(this.scalarType),a.writeShort(b),a.writeShort(A),a.writeShort(u),a.writeShort(v),o=16*b,d=a.pos+o,h=null,O=[],e)for(T=e[M],a.writeString(M),a.writeInt(n(T)),a.writeInt(d),a.writeInt(T.length),O=O.concat(T),M==="head"&&(h=d),d+=T.length;d%4;)O.push(0),d++;return a.write(O),i=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(i),a.data},n=function(e){var i,a,o,u;for(e=qE.call(e);e.length%4;)e.push(0);for(o=new Wu(e),a=0,i=0,u=e.length;i<u;i=i+=4)a+=o.readUInt32();return 4294967295&a},t})(),PD={}.hasOwnProperty,ll=function(n,t){for(var e in t)PD.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};To=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var MD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Wu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),$w=(function(){function n(t,e){var i,a,o,u,h,f,d,v,A,T,b,O,M,B,V,Z,et;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(b=t.readUInt16(),T=b/2,t.pos+=6,o=(function(){var nt,_t;for(_t=[],f=nt=0;0<=T?nt<T:nt>T;f=0<=T?++nt:--nt)_t.push(t.readUInt16());return _t})(),t.pos+=2,M=(function(){var nt,_t;for(_t=[],f=nt=0;0<=T?nt<T:nt>T;f=0<=T?++nt:--nt)_t.push(t.readUInt16());return _t})(),d=(function(){var nt,_t;for(_t=[],f=nt=0;0<=T?nt<T:nt>T;f=0<=T?++nt:--nt)_t.push(t.readUInt16());return _t})(),v=(function(){var nt,_t;for(_t=[],f=nt=0;0<=T?nt<T:nt>T;f=0<=T?++nt:--nt)_t.push(t.readUInt16());return _t})(),a=(this.length-t.pos+this.offset)/2,h=(function(){var nt,_t;for(_t=[],f=nt=0;0<=a?nt<a:nt>a;f=0<=a?++nt:--nt)_t.push(t.readUInt16());return _t})(),f=V=0,et=o.length;V<et;f=++V)for(B=o[f],i=Z=O=M[f];O<=B?Z<=B:Z>=B;i=O<=B?++Z:--Z)v[f]===0?u=i+d[f]:(u=h[v[f]/2+(i-O)-(T-f)]||0)!==0&&(u+=d[f]),this.codeMap[i]=65535&u}t.pos=A}return n.encode=function(t,e){var i,a,o,u,h,f,d,v,A,T,b,O,M,B,V,Z,et,nt,_t,Ot,H,P,I,q,N,k,D,lt,xt,at,pt,ft,Nt,Ht,X,L,Y,J,ot,ut,gt,Lt,Ct,Vt,Xt,re;switch(lt=new Wu,u=Object.keys(t).sort(function(ie,he){return ie-he}),e){case"macroman":for(M=0,B=(function(){var ie=[];for(O=0;O<256;++O)ie.push(0);return ie})(),Z={0:0},o={},xt=0,Nt=u.length;xt<Nt;xt++)Z[Ct=t[a=u[xt]]]==null&&(Z[Ct]=++M),o[a]={old:t[a],new:Z[t[a]]},B[a]=Z[t[a]];return lt.writeUInt16(1),lt.writeUInt16(0),lt.writeUInt32(12),lt.writeUInt16(0),lt.writeUInt16(262),lt.writeUInt16(0),lt.write(B),{charMap:o,subtable:lt.data,maxGlyphID:M+1};case"unicode":for(k=[],A=[],et=0,Z={},i={},V=d=null,at=0,Ht=u.length;at<Ht;at++)Z[_t=t[a=u[at]]]==null&&(Z[_t]=++et),i[a]={old:_t,new:Z[_t]},h=Z[_t]-a,V!=null&&h===d||(V&&A.push(V),k.push(a),d=h),V=a;for(V&&A.push(V),A.push(65535),k.push(65535),q=2*(I=k.length),P=2*Math.pow(Math.log(I)/Math.LN2,2),T=Math.log(P/2)/Math.LN2,H=2*I-P,f=[],Ot=[],b=[],O=pt=0,X=k.length;pt<X;O=++pt){if(N=k[O],v=A[O],N===65535){f.push(0),Ot.push(0);break}if(N-(D=i[N].new)>=32768)for(f.push(0),Ot.push(2*(b.length+I-O)),a=ft=N;N<=v?ft<=v:ft>=v;a=N<=v?++ft:--ft)b.push(i[a].new);else f.push(D-N),Ot.push(0)}for(lt.writeUInt16(3),lt.writeUInt16(1),lt.writeUInt32(12),lt.writeUInt16(4),lt.writeUInt16(16+8*I+2*b.length),lt.writeUInt16(0),lt.writeUInt16(q),lt.writeUInt16(P),lt.writeUInt16(T),lt.writeUInt16(H),gt=0,L=A.length;gt<L;gt++)a=A[gt],lt.writeUInt16(a);for(lt.writeUInt16(0),Lt=0,Y=k.length;Lt<Y;Lt++)a=k[Lt],lt.writeUInt16(a);for(Vt=0,J=f.length;Vt<J;Vt++)h=f[Vt],lt.writeUInt16(h);for(Xt=0,ot=Ot.length;Xt<ot;Xt++)nt=Ot[Xt],lt.writeUInt16(nt);for(re=0,ut=b.length;re<ut;re++)M=b[re],lt.writeUInt16(M);return{charMap:i,subtable:lt.data,maxGlyphID:et+1}}},n})(),zE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)e=new $w(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var i,a;return e==null&&(e="macroman"),i=$w.encode(t,e),(a=new Wu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n})(),UD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),jD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),VD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="post",n.prototype.parse=function(t){var e,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),BD=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},FD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="name",n.prototype.parse=function(t){var e,i,a,o,u,h,f,d,v,A,T;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),i=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=v=0,A=i.length;v<A;o=++v)a=i[o],t.pos=a.offset,d=t.readString(a.length),u=new BD(d,a),f[T=a.nameID]==null&&(f[T]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),zD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),qD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,i,a,o,u,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d)v.push(t.readInt16());return v})(),this.widths=(function(){var d,v,A,T;for(T=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],T.push(o.advance);return T}).call(this),i=this.widths[this.widths.length-1],f=[],e=u=0;0<=a?u<a:u>a;e=0<=a?++u:--u)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),qE=[].slice,HD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,i,a,o,u,h,f,d,v,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,i=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,u=(h=new Wu(e.read(a))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[t]=u===-1?new YD(h,d,A,f,v):new GD(h,u,d,A,f,v),this.cache[t]))},n.prototype.encode=function(t,e,i){var a,o,u,h,f;for(u=[],o=[],h=0,f=e.length;h<f;h++)a=t[e[h]],o.push(u.length),a&&(u=u.concat(a.encode(i)));return o.push(u.length),{table:u,offsets:o}},n})(),GD=(function(){function n(t,e,i,a,o,u){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),YD=(function(){function n(t,e,i,a,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Wu(qE.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),KD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="loca",n.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<i.length;++u)if(i[u]=a,o<e.length&&e[o]==u){++o,i[u]=a;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(a+=f)}for(var d=new Array(4*i.length),v=0;v<i.length;++v)d[4*v+3]=255&i[v],d[4*v+2]=(65280&i[v])>>8,d[4*v+1]=(16711680&i[v])>>16,d[4*v]=(4278190080&i[v])>>24;return d},n})(),WD=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[e],t[e]=a[i];return t},n.prototype.glyphsFor=function(t){var e,i,a,o,u,h,f;for(a={},u=0,h=t.length;u<h;u++)a[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(i=a[o])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))i=f[o],a[o]=i;return a},n.prototype.encode=function(t,e){var i,a,o,u,h,f,d,v,A,T,b,O,M,B,V;for(a in i=zE.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),b={0:0},V=i.charMap)b[(f=V[a]).old]=f.new;for(O in T=i.maxGlyphID,u)O in b||(b[O]=T++);return v=(function(Z){var et,nt;for(et in nt={},Z)nt[Z[et]]=et;return nt})(b),A=Object.keys(v).sort(function(Z,et){return Z-et}),M=(function(){var Z,et,nt;for(nt=[],Z=0,et=A.length;Z<et;Z++)h=A[Z],nt.push(v[h]);return nt})(),o=this.font.glyf.encode(u,M,b),d=this.font.loca.encode(o.offsets,M),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n})();Ie.API.PDFObject=(function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,o,u;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)i=e[h],d.push(t.convert(i));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)u=e[a],o.push("/"+a+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();function $D({user:n}){const{courseId:t}=r4(),e=Pc(),[i,a]=wt.useState(null),[o,u]=wt.useState([]),[h,f]=wt.useState({completedLessons:[]});wt.useEffect(()=>{const O=ea(Ti,"courses",t);bd(O).then(M=>{M.exists()&&a(M.data())})},[t]),wt.useEffect(()=>{const O=Uh(vo(Ti,"courses",t,"lessons"),jh("createdAt","asc"));return Bu(O,M=>{u(M.docs.map(B=>({id:B.id,...B.data()})))})},[t]),wt.useEffect(()=>{const O=ea(Ti,"users",n.uid,"progress",t);return Bu(O,M=>{M.exists()&&f(M.data())})},[t,n.uid]);const v=(h.completedLessons||[]).length,A=o.length,T=A===0?0:Math.round(v/A*100),b=()=>{if(T!==100)return;const O=new Ie;O.text("Certificate of Completion",105,40,{align:"center"}),O.text(`Awarded to: ${n.email}`,105,70,{align:"center"}),O.text(`Course: ${i.title}`,105,90,{align:"center"}),O.save("certificate.pdf")};return $.jsx("div",{style:{padding:20},children:i&&$.jsxs($.Fragment,{children:[$.jsx("h2",{children:i.title}),$.jsx("p",{children:i.description}),$.jsxs("div",{style:{marginTop:10},children:[$.jsx("b",{children:"Progress: "})," ",v," / ",A," (",T,"%)",$.jsx("div",{style:{width:"100%",height:8,background:"#ddd",marginTop:5,borderRadius:5},children:$.jsx("div",{style:{width:`${T}%`,height:8,background:"#22c55e",borderRadius:5}})}),T===100&&$.jsx("button",{onClick:b,style:{marginTop:10,padding:"6px 10px",background:"#f59e0b",color:"white",border:"none",borderRadius:6},children:" Download Certificate"})]}),$.jsx("h3",{style:{marginTop:20},children:"Lessons"}),o.map((O,M)=>$.jsxs("div",{style:{padding:10,border:"1px solid #ccc",borderRadius:6,marginBottom:8},children:[$.jsxs("b",{children:[M+1,". ",O.title]}),$.jsx("br",{}),$.jsx("button",{onClick:()=>e(`/courses/${t}/lessons/${O.id}`),style:{marginTop:6,padding:"5px 9px",background:"#0ea5e9",color:"white",border:"none",borderRadius:6},children:"Open Lesson"})]},O.id))]})})}function QD({user:n}){const{courseId:t,lessonId:e}=r4(),[i,a]=wt.useState(null),[o,u]=wt.useState([]),[h,f]=wt.useState({}),[d,v]=wt.useState(!1);wt.useEffect(()=>{bd(ea(Ti,"courses",t,"lessons",e)).then(b=>{b.exists()&&a(b.data())})},[t,e]),wt.useEffect(()=>{const b=Uh(vo(Ti,"courses",t,"lessons",e,"quizzes"),jh("createdAt","asc"));return Bu(b,O=>{u(O.docs.map(M=>({id:M.id,...M.data()})))})},[]);const A=async()=>{const b=ea(Ti,"users",n.uid,"progress",t),O=await bd(b),M=O.exists()?O.data():{completedLessons:[]};await DA(b,{...M,completedLessons:[...M.completedLessons,e]})},T=()=>{v(!0)};return $.jsx("div",{style:{padding:20},children:i&&$.jsxs($.Fragment,{children:[$.jsx("h2",{children:i.title}),$.jsx("p",{children:i.content}),i.fileUrl&&$.jsxs("a",{href:i.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[" ",i.fileName]}),$.jsx("h3",{style:{marginTop:20},children:"Quiz"}),o.map((b,O)=>$.jsxs("div",{style:{marginBottom:12},children:[$.jsxs("b",{children:["Q",O+1,". ",b.question]}),b.options.map((M,B)=>$.jsx("div",{children:$.jsxs("label",{children:[$.jsx("input",{type:"radio",name:b.id,disabled:d,onChange:()=>f({...h,[b.id]:B})})," ",M]})},B))]},b.id)),!d&&o.length>0&&$.jsx("button",{onClick:T,style:{padding:"6px 10px",background:"#16a34a",color:"white",border:"none",borderRadius:6},children:"Submit Quiz"}),d&&$.jsx("button",{onClick:A,style:{marginTop:10,padding:"6px 10px",background:"#2563eb",color:"white",border:"none",borderRadius:6},children:"Mark Lesson Complete"})]})})}function Wp({children:n}){const t=Ql(),e=Pc(),[i,a]=wt.useState(!1),o=t.pathname.startsWith("/instructor"),u=o?"/instructor":"/student",h=async()=>{try{await hg.signOut(),e("/login")}catch(b){console.error(b)}},f={display:"flex",alignItems:"center",gap:10,padding:"10px 16px",fontSize:14,cursor:"pointer"},d={width:18,textAlign:"center",fontSize:16},v={whiteSpace:"nowrap"},A=t.pathname===u||t.pathname===`${u}/`,T=()=>a(!1);return $.jsxs("div",{className:"layout-root",style:{display:"flex",minHeight:"100vh",background:"#f3f4f6",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:[i&&$.jsx("div",{className:"layout-backdrop",onClick:T,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.35)",zIndex:15}}),$.jsxs("aside",{className:`layout-sidebar ${i?"sidebar-open":"sidebar-closed"}`,style:{width:220,background:"#5b21b6",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:20},children:[$.jsxs("div",{children:[$.jsx("div",{className:"sidebar-logo",style:{padding:"18px 12px 14px",display:"flex",justifyContent:"center",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:$.jsx("div",{style:{width:72,height:72,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,color:"#5b21b6",boxShadow:"0 4px 10px rgba(0,0,0,0.18)"},children:"LOGO"})}),$.jsxs("nav",{className:"sidebar-nav",style:{marginTop:10},children:[$.jsxs("div",{style:{...f,backgroundColor:A?"white":"transparent",color:A?"#5b21b6":"white",borderRadius:"0 20px 20px 0",marginRight:8},onClick:()=>{e(u),T()},children:[$.jsx("span",{style:d,children:""}),$.jsx("span",{style:v,children:"Dashboard"})]}),$.jsxs("div",{style:f,children:[$.jsx("span",{style:d,children:""}),$.jsx("span",{style:v,children:"History"})]}),$.jsxs("div",{style:f,children:[$.jsx("span",{style:d,children:""}),$.jsx("span",{style:v,children:"Semester"})]}),$.jsxs("div",{style:f,children:[$.jsx("span",{style:d,children:""}),$.jsx("span",{style:v,children:"Payment"})]}),$.jsxs("div",{style:f,children:[$.jsx("span",{style:d,children:""}),$.jsx("span",{style:v,children:"Results"})]})]})]}),$.jsx("div",{className:"sidebar-help",style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.12)"},children:$.jsxs("div",{style:{...f,padding:"8px 10px",justifyContent:"center",borderRadius:999,border:"1px solid rgba(255,255,255,0.6)",fontSize:13},children:[$.jsx("span",{style:{fontSize:16},children:""}),$.jsx("span",{children:"Help"})]})})]}),$.jsxs("div",{className:"layout-main",style:{flex:1,display:"flex",flexDirection:"column"},children:[$.jsxs("header",{className:"layout-topbar",style:{height:56,background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[$.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[$.jsx("button",{className:"hamburger-btn",onClick:()=>a(b=>!b),"aria-label":"Toggle menu",style:{width:34,height:34,borderRadius:999,border:"1px solid #e5e7eb",background:"white",display:"none",alignItems:"center",justifyContent:"center",padding:0,cursor:"pointer"},children:$.jsx("span",{style:{width:16,height:2,background:"#111827",display:"block",boxShadow:"0 5px 0 #111827, 0 -5px 0 #111827"}})}),$.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827"},children:o?"Instructor Panel":"Student Panel"})]}),$.jsx("button",{onClick:h,style:{padding:"6px 12px",fontSize:13,borderRadius:999,border:"1px solid #e5e7eb",background:"#f9fafb",cursor:"pointer"},children:"Logout"})]}),$.jsx("main",{className:"layout-content",style:{flex:1,padding:16,overflow:"auto"},children:n})]})]})}function XD(){const[n,t]=wt.useState(null),[e,i]=wt.useState(null),[a,o]=wt.useState(!0);return wt.useEffect(()=>{const u=hg.onAuthStateChanged(async h=>{if(h){t(h);const f=ea(Ti,"users",h.uid),d=await bd(f);i(d.exists()?d.data().role:null)}else t(null),i(null);o(!1)});return()=>u()},[]),a?$.jsx("div",{style:{padding:20},children:"Loading..."}):$.jsxs(tT,{children:[$.jsx(Ul,{path:"/",element:n?$.jsx(_a,{to:e==="instructor"?"/instructor":"/student",replace:!0}):$.jsx(_a,{to:"/login",replace:!0})}),$.jsx(Ul,{path:"/login",element:n?$.jsx(_a,{to:"/",replace:!0}):$.jsx(ek,{})}),$.jsx(Ul,{path:"/signup",element:n?$.jsx(_a,{to:"/",replace:!0}):$.jsx(nk,{})}),$.jsx(Ul,{path:"/student",element:n?e!=="student"?$.jsx(_a,{to:"/instructor",replace:!0}):$.jsx(Wp,{children:$.jsx(ik,{user:n})}):$.jsx(_a,{to:"/login",replace:!0})}),$.jsx(Ul,{path:"/courses/:courseId",element:n?e!=="student"?$.jsx(_a,{to:"/instructor",replace:!0}):$.jsx(Wp,{children:$.jsx($D,{user:n})}):$.jsx(_a,{to:"/login",replace:!0})}),$.jsx(Ul,{path:"/courses/:courseId/lessons/:lessonId",element:n?e!=="student"?$.jsx(_a,{to:"/instructor",replace:!0}):$.jsx(Wp,{children:$.jsx(QD,{user:n})}):$.jsx(_a,{to:"/login",replace:!0})}),$.jsx(Ul,{path:"/instructor",element:n?e!=="instructor"?$.jsx(_a,{to:"/student",replace:!0}):$.jsx(Wp,{children:$.jsx(rk,{user:n})}):$.jsx(_a,{to:"/login",replace:!0})}),$.jsx(Ul,{path:"*",element:$.jsx(_a,{to:"/",replace:!0})})]})}l6.createRoot(document.getElementById("root")).render($.jsx(t6.StrictMode,{children:$.jsx(ET,{children:$.jsx(XD,{})})}));export{Qn as _,JD as c,Qw as g};
