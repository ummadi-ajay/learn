(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function q0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Xl={};var Gv;function oA(){if(Gv)return Xl;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var Qv;function lA(){return Qv||(Qv=1,vm.exports=oA()),vm.exports}var b=lA(),Em={exports:{}},we={};var Yv;function uA(){if(Yv)return we;Yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,j={};function te(k,J,oe){this.props=k,this.context=J,this.refs=j,this.updater=oe||D}te.prototype.isReactComponent={},te.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},te.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function re(k,J,oe){this.props=k,this.context=J,this.refs=j,this.updater=oe||D}var de=re.prototype=new ie;de.constructor=re,B(de,te.prototype),de.isPureReactComponent=!0;var be=Array.isArray;function Te(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(k,J,oe){var ue=oe.ref;return{$$typeof:r,type:k,key:J,ref:ue!==void 0?ue:null,props:oe}}function L(k,J){return C(k.type,J,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function U(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return J[oe]})}var I=/\/+/g;function Je(k,J){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):J.toString(36)}function _t(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Te,Te):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,J,oe,ue,_e){var Se=typeof k;(Se==="undefined"||Se==="boolean")&&(k=null);var De=!1;if(k===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(k.$$typeof){case r:case e:De=!0;break;case E:return De=k._init,X(De(k._payload),J,oe,ue,_e)}}if(De)return _e=_e(k),De=ue===""?"."+Je(k,0):ue,be(_e)?(oe="",De!=null&&(oe=De.replace(I,"$&/")+"/"),X(_e,J,oe,"",function(ai){return ai})):_e!=null&&(M(_e)&&(_e=L(_e,oe+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+De)),J.push(_e)),1;De=0;var dt=ue===""?".":ue+":";if(be(k))for(var Ze=0;Ze<k.length;Ze++)ue=k[Ze],Se=dt+Je(ue,Ze),De+=X(ue,J,oe,Se,_e);else if(Ze=O(k),typeof Ze=="function")for(k=Ze.call(k),Ze=0;!(ue=k.next()).done;)ue=ue.value,Se=dt+Je(ue,Ze++),De+=X(ue,J,oe,Se,_e);else if(Se==="object"){if(typeof k.then=="function")return X(_t(k),J,oe,ue,_e);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function se(k,J,oe){if(k==null)return k;var ue=[],_e=0;return X(k,ue,"","",function(Se){return J.call(oe,Se,_e++)}),ue}function me(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:se,forEach:function(k,J,oe){se(k,function(){J.apply(this,arguments)},oe)},count:function(k){var J=0;return se(k,function(){J++}),J},toArray:function(k){return se(k,function(J){return J})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=T,we.Children=Be,we.Component=te,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return x.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,J,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=B({},k.props),_e=k.key;if(J!=null)for(Se in J.key!==void 0&&(_e=""+J.key),J)!R.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(ue[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)ue.children=oe;else if(1<Se){for(var De=Array(Se),dt=0;dt<Se;dt++)De[dt]=arguments[dt+2];ue.children=De}return C(k.type,_e,ue)},we.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},we.createElement=function(k,J,oe){var ue,_e={},Se=null;if(J!=null)for(ue in J.key!==void 0&&(Se=""+J.key),J)R.call(J,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=J[ue]);var De=arguments.length-2;if(De===1)_e.children=oe;else if(1<De){for(var dt=Array(De),Ze=0;Ze<De;Ze++)dt[Ze]=arguments[Ze+2];_e.children=dt}if(k&&k.defaultProps)for(ue in De=k.defaultProps,De)_e[ue]===void 0&&(_e[ue]=De[ue]);return C(k,Se,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:m,render:k}},we.isValidElement=M,we.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:me}},we.memo=function(k,J){return{$$typeof:g,type:k,compare:J===void 0?null:J}},we.startTransition=function(k){var J=x.T,oe={};x.T=oe;try{var ue=k(),_e=x.S;_e!==null&&_e(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,Me)}catch(Se){Me(Se)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),x.T=J}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(k){return x.H.use(k)},we.useActionState=function(k,J,oe){return x.H.useActionState(k,J,oe)},we.useCallback=function(k,J){return x.H.useCallback(k,J)},we.useContext=function(k){return x.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,J){return x.H.useDeferredValue(k,J)},we.useEffect=function(k,J){return x.H.useEffect(k,J)},we.useEffectEvent=function(k){return x.H.useEffectEvent(k)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(k,J,oe){return x.H.useImperativeHandle(k,J,oe)},we.useInsertionEffect=function(k,J){return x.H.useInsertionEffect(k,J)},we.useLayoutEffect=function(k,J){return x.H.useLayoutEffect(k,J)},we.useMemo=function(k,J){return x.H.useMemo(k,J)},we.useOptimistic=function(k,J){return x.H.useOptimistic(k,J)},we.useReducer=function(k,J,oe){return x.H.useReducer(k,J,oe)},we.useRef=function(k){return x.H.useRef(k)},we.useState=function(k){return x.H.useState(k)},we.useSyncExternalStore=function(k,J,oe){return x.H.useSyncExternalStore(k,J,oe)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.0",we}var Kv;function _p(){return Kv||(Kv=1,Em.exports=uA()),Em.exports}var P=_p();const cA=q0(P);var Tm={exports:{}},$l={},bm={exports:{}},Sm={};var Xv;function hA(){return Xv||(Xv=1,(function(r){function e(X,se){var me=X.length;X.push(se);e:for(;0<me;){var Me=me-1>>>1,Be=X[Me];if(0<o(Be,se))X[Me]=se,X[me]=Be,me=Me;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],me=X.pop();if(me!==se){X[0]=me;e:for(var Me=0,Be=X.length,k=Be>>>1;Me<k;){var J=2*(Me+1)-1,oe=X[J],ue=J+1,_e=X[ue];if(0>o(oe,me))ue<Be&&0>o(_e,oe)?(X[Me]=_e,X[ue]=me,Me=ue):(X[Me]=oe,X[J]=me,Me=J);else if(ue<Be&&0>o(_e,me))X[Me]=_e,X[ue]=me,Me=ue;else break e}}return se}function o(X,se){var me=X.sortIndex-se.sortIndex;return me!==0?me:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,O=!1,D=!1,B=!1,j=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function be(X){if(B=!1,de(X),!D)if(n(p)!==null)D=!0,Te||(Te=!0,U());else{var se=n(g);se!==null&&_t(be,se.startTime-X)}}var Te=!1,x=-1,R=5,C=-1;function L(){return j?!0:!(r.unstable_now()-C<R)}function M(){if(j=!1,Te){var X=r.unstable_now();C=X;var se=!0;try{e:{D=!1,B&&(B=!1,ie(x),x=-1),O=!0;var me=w;try{t:{for(de(X),T=n(p);T!==null&&!(T.expirationTime>X&&L());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,w=T.priorityLevel;var Be=Me(T.expirationTime<=X);if(X=r.unstable_now(),typeof Be=="function"){T.callback=Be,de(X),se=!0;break t}T===n(p)&&s(p),de(X)}else s(p);T=n(p)}if(T!==null)se=!0;else{var k=n(g);k!==null&&_t(be,k.startTime-X),se=!1}}break e}finally{T=null,w=me,O=!1}se=void 0}}finally{se?U():Te=!1}}}var U;if(typeof re=="function")U=function(){re(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Je=I.port2;I.port1.onmessage=M,U=function(){Je.postMessage(null)}}else U=function(){te(M,0)};function _t(X,se){x=te(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return X()}finally{w=me}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=w;w=X;try{return se()}finally{w=me}},r.unstable_scheduleCallback=function(X,se,me){var Me=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,X){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=me+Be,X={id:E++,callback:se,priorityLevel:X,startTime:me,expirationTime:Be,sortIndex:-1},me>Me?(X.sortIndex=me,e(g,X),n(p)===null&&X===n(g)&&(B?(ie(x),x=-1):B=!0,_t(be,me-Me))):(X.sortIndex=Be,e(p,X),D||O||(D=!0,Te||(Te=!0,U()))),X},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(X){var se=w;return function(){var me=w;w=se;try{return X.apply(this,arguments)}finally{w=me}}}})(Sm)),Sm}var $v;function fA(){return $v||($v=1,bm.exports=hA()),bm.exports}var Am={exports:{}},nn={};var Wv;function dA(){if(Wv)return nn;Wv=1;var r=_p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Jv;function mA(){if(Jv)return Am.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=dA(),Am.exports}var Zv;function pA(){if(Zv)return $l;Zv=1;var r=fA(),e=_p(),n=mA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case te:return"Profiler";case j:return"StrictMode";case be:return"Suspense";case Te:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var _t=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],Be=-1;function k(t){return{current:t}}function J(t){0>Be||(t.current=Me[Be],Me[Be]=null,Be--)}function oe(t,i){Be++,Me[Be]=t.current,t.current=i}var ue=k(null),_e=k(null),Se=k(null),De=k(null);function dt(t,i){switch(oe(Se,i),oe(_e,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=mv(i),t=pv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ue),oe(ue,t)}function Ze(){J(ue),J(_e),J(Se)}function ai(t){t.memoizedState!==null&&oe(De,t);var i=ue.current,a=pv(i,t.type);i!==a&&(oe(_e,t),oe(ue,a))}function tr(t){_e.current===t&&(J(ue),J(_e)),De.current===t&&(J(De),Gl._currentValue=me)}var wi,zr;function Sn(t){if(wi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);wi=i&&i[1]||"",zr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+t+zr}var nr=!1;function oi(t,i){if(!t||nr)return"";nr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){G=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),F=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{nr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Sn(a):""}function ir(t,i){switch(t.tag){case 26:case 27:case 5:return Sn(t.type);case 16:return Sn("Lazy");case 13:return t.child!==i&&i!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return oi(t.type,!1);case 11:return oi(t.type.render,!1);case 1:return oi(t.type,!0);case 31:return Sn("Activity");default:return""}}function rr(t){try{var i="",a=null;do i+=ir(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,pt=r.unstable_scheduleCallback,An=r.unstable_cancelCallback,jr=r.unstable_shouldYield,qs=r.unstable_requestPaint,Ut=r.unstable_now,li=r.unstable_getCurrentPriorityLevel,sr=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Un=r.unstable_NormalPriority,Na=r.unstable_LowPriority,Hs=r.unstable_IdlePriority,Fs=r.log,Gs=r.unstable_setDisableYieldValue,qt=null,zt=null;function hn(t){if(typeof Fs=="function"&&Gs(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qt,t)}catch{}}var gt=Math.clz32?Math.clz32:Ma,Oa=Math.log,qr=Math.LN2;function Ma(t){return t>>>=0,t===0?32:31-(Oa(t)/qr|0)|0}var zn=256,ar=262144,vt=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=jn(l):(_&=S,_!==0?f=jn(_):a||(a=S&~t,a!==0&&(f=jn(a))))):(S=l&~d,S!==0?f=jn(S):_!==0?f=jn(_):a||(a=l&~t,a!==0&&(f=jn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function qn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function K(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qe(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-gt(a),ee=1<<$;S[$]=0,N[$]=-1;var G=F[$];if(G!==null)for(F[$]=null,$=0;$<G.length;$++){var Y=G[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Ge(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ge(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Et(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function fn(t,i){var a=i&-i;return a=(a&42)!==0?1:or(a),(a&(t.suspendedLanes|i))!==0?0:a}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Uv(t.type))}function ui(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ci=Math.random().toString(36).slice(2),It="__reactFiber$"+ci,Ht="__reactProps$"+ci,Ri="__reactContainer$"+ci,ka="__reactEvents$"+ci,wf="__reactListeners$"+ci,zu="__reactHandles$"+ci,ju="__reactResources$"+ci,Ci="__reactMarker$"+ci;function La(t){delete t[It],delete t[Ht],delete t[ka],delete t[wf],delete t[zu]}function Ii(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[It])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[It]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Rn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function xi(t){var i=t[ju];return i||(i=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ci]=!0}var Jo=new Set,Zo={};function Di(t,i){Ni(t,i),Ni(t+"Capture",i)}function Ni(t,i){for(Zo[t]=i,t=0;t<i.length;t++)Jo.add(i[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Bu(t){return mt.call(nl,t)?!0:mt.call(tl,t)?!1:el.test(t)?nl[t]=!0:(tl[t]=!0,!1)}function Pa(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Cn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Dt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function il(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Hr(t)?"checked":"value";t._valueTracker=il(t,i,""+t[i])}}function Qs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Hr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ys=/[\n"\\]/g;function dn(t){return t.replace(Ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ua(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?rl(t,_,Ft(i)):a!=null?rl(t,_,Ft(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ft(S):t.removeAttribute("name")}function qu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function rl(t,i,a){i==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Hu(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(_t(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Fu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function al(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&sl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&sl(t,d,i[d])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var ol=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yr=null,Mi=null;function Ks(t){var i=Fn(t);if(i&&(t=i.stateNode)){var a=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ua(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ht]||null;if(!f)throw Error(s(90));Ua(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Qs(l)}break e;case"textarea":Hu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fr(t,!!a.multiple,i,!1)}}}var Ba=!1;function Kr(t,i,a){if(Ba)return t(i,a);Ba=!0;try{var l=t(i);return l}finally{if(Ba=!1,(Yr!==null||Mi!==null)&&(Uc(),Yr&&(i=Yr,t=Mi,Mi=Yr=null,Ks(i),t)))for(i=0;i<t.length;i++)Ks(t[i])}}function fi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(Qn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Xs=!1}var Vi=null,ll=null,$s=null;function ul(){if($s)return $s;var t,i=ll,a=i.length,l,f="value"in Vi?Vi.value:Vi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return $s=f.slice(t,1<l?1-l:void 0)}function Ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function di(){return!1}function Kt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:di,this.isPropagationStopped=di,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Kt(ur),Xr=T({},ur,{view:0,detail:0}),cl=Kt(Xr),$r,qa,Li,Ha=T({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?($r=t.screenX-Li.screenX,qa=t.screenY-Li.screenY):qa=$r=0,Li=t),$r)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),hl=Kt(Ha),Js=T({},Ha,{dataTransfer:0}),Qu=Kt(Js),Yu=T({},Xr,{relatedTarget:0}),Zs=Kt(Yu),fl=T({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Ku=Kt(fl),Fa=T({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xu=Kt(Fa),$u=T({},ur,{data:0}),Pi=Kt($u),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zu[t])?!!i[t]:!1}function Wr(){return ec}var un=T({},Xr,{key:function(t){if(t.key){var i=Wu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=Kt(un),nc=T({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Kt(nc),c=T({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),y=Kt(c),v=T({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(v),q=T({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(q),ae=T({},ur,{newState:0,oldState:0}),Ce=Kt(ae),At=[9,13,27,32],Qe=Qn&&"CompositionEvent"in window,ct=null;Qn&&"documentMode"in document&&(ct=document.documentMode);var Yn=Qn&&"TextEvent"in window&&!ct,Ui=Qn&&(!Qe||ct&&8<ct&&11>=ct),mi=" ",pi=!1;function ea(t,i){switch(t){case"keyup":return At.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function N1(t,i){switch(t){case"compositionend":return Ga(i);case"keypress":return i.which!==32?null:(pi=!0,mi);case"textInput":return t=i.data,t===mi&&pi?null:t;default:return null}}function O1(t,i){if(Qa)return t==="compositionend"||!Qe&&ea(t,i)?(t=ul(),$s=ll=Vi=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ui&&i.locale!=="ko"?null:i.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!M1[t.type]:i==="textarea"}function Rg(t,i,a,l){Yr?Mi?Mi.push(l):Mi=[l]:Yr=l,i=Gc(i,"onChange"),0<i.length&&(a=new ki("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var dl=null,ml=null;function V1(t){lv(t,0)}function ic(t){var i=Rn(t);if(Qs(i))return t}function Cg(t,i){if(t==="change")return i}var Ig=!1;if(Qn){var Rf;if(Qn){var Cf="oninput"in document;if(!Cf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Cf=typeof xg.oninput=="function"}Rf=Cf}else Rf=!1;Ig=Rf&&(!document.documentMode||9<document.documentMode)}function Dg(){dl&&(dl.detachEvent("onpropertychange",Ng),ml=dl=null)}function Ng(t){if(t.propertyName==="value"&&ic(ml)){var i=[];Rg(i,ml,t,Gn(t)),Kr(V1,i)}}function k1(t,i,a){t==="focusin"?(Dg(),dl=i,ml=a,dl.attachEvent("onpropertychange",Ng)):t==="focusout"&&Dg()}function L1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(ml)}function P1(t,i){if(t==="click")return ic(i)}function U1(t,i){if(t==="input"||t==="change")return ic(i)}function z1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var In=typeof Object.is=="function"?Object.is:z1;function pl(t,i){if(In(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!mt.call(i,f)||!In(t[f],i[f]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,i){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Oi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Oi(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var j1=Qn&&"documentMode"in document&&11>=document.documentMode,Ya=null,xf=null,gl=null,Df=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Ya==null||Ya!==Oi(l)||(l=Ya,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=Gc(xf,"onSelect"),0<l.length&&(i=new ki("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ya)))}function ta(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ka={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Nf={},Pg={};Qn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function na(t){if(Nf[t])return Nf[t];if(!Ka[t])return t;var i=Ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pg)return Nf[t]=i[a];return t}var Ug=na("animationend"),zg=na("animationiteration"),jg=na("animationstart"),B1=na("transitionrun"),q1=na("transitionstart"),H1=na("transitioncancel"),Bg=na("transitionend"),qg=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function gi(t,i){qg.set(t,i),Di(i,[t])}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Xa=0,Mf=0;function sc(){for(var t=Xa,i=Mf=Xa=0;i<t;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var f=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function ac(t,i,a,l){Kn[Xa++]=t,Kn[Xa++]=i,Kn[Xa++]=a,Kn[Xa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,i,a,l){return ac(t,i,a,l),oc(t)}function ia(t,i){return ac(t,null,null,i),oc(t)}function Hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(t){if(50<Ul)throw Ul=0,Hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var $a={};function F1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new F1(t,i,a,l)}function kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")kf(t)&&(_=1);else if(typeof t=="string")_=XS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=xn(31,a,i,f),t.elementType=C,t.lanes=d,t;case B:return ra(a.children,f,d,i);case j:_=8,f|=24;break;case te:return t=xn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case be:return t=xn(13,a,i,f),t.elementType=be,t.lanes=d,t;case Te:return t=xn(19,a,i,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case de:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ra(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Lf(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function Gg(t){var i=xn(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Qg=new WeakMap;function Xn(t,i){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:rr(i)},Qg.set(t,i),i)}return{value:t,source:i,stack:rr(i)}}var Wa=[],Ja=0,uc=null,yl=0,$n=[],Wn=0,Jr=null,zi=1,ji="";function fr(t,i){Wa[Ja++]=yl,Wa[Ja++]=uc,uc=t,yl=i}function Yg(t,i,a){$n[Wn++]=zi,$n[Wn++]=ji,$n[Wn++]=Jr,Jr=t;var l=zi;t=ji;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,zi=1<<32-gt(i)+f|a<<f|l,ji=d+t}else zi=1<<d|a<<f|l,ji=t}function Uf(t){t.return!==null&&(fr(t,1),Yg(t,1,0))}function zf(t){for(;t===uc;)uc=Wa[--Ja],Wa[Ja]=null,yl=Wa[--Ja],Wa[Ja]=null;for(;t===Jr;)Jr=$n[--Wn],$n[Wn]=null,ji=$n[--Wn],$n[Wn]=null,zi=$n[--Wn],$n[Wn]=null}function Kg(t,i){$n[Wn++]=zi,$n[Wn++]=ji,$n[Wn++]=Jr,zi=i.id,ji=i.overflow,Jr=t}var Xt=null,ot=null,ze=!1,Zr=null,Jn=!1,jf=Error(s(519));function es(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(Xn(i,t)),jf}function Xg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Ht]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Oe(jl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),qu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=hi),i=!0):i=!1,i||es(t,!0)}function $g(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Xt=Xt.return}}function Za(t){if(t!==Xt)return!1;if(!ze)return $g(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ot&&es(t),$g(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Tv(t)}else i===27?(i=ot,ms(t.type)?(t=um,um=null,ot=t):ot=i):ot=Xt?ei(t.stateNode.nextSibling):null;return!0}function sa(){ot=Xt=null,ze=!1}function Bf(){var t=Zr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Zr=null),t}function _l(t){Zr===null?Zr=[t]:Zr.push(t)}var qf=k(null),aa=null,dr=null;function ts(t,i,a){oe(qf,i._currentValue),i._currentValue=a}function mr(t){t._currentValue=qf.current,J(qf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Hf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Hf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function eo(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;In(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===De.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}f=f.return}t!==null&&Ff(i,t,a,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){aa=t,dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Wg(aa,t)}function hc(t,i){return aa===null&&oa(t),Wg(t,i)}function Wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},dr===null){if(t===null)throw Error(s(308));dr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else dr=dr.next=i;return a}var G1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Q1=r.unstable_scheduleCallback,Y1=r.unstable_NormalPriority,Nt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new G1,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&Q1(Y1,function(){t.controller.abort()})}var El=null,Qf=0,to=0,no=null;function K1(t,i){if(El===null){var a=El=[];Qf=0,to=Xd(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(Jg,Jg),i}function Jg(){if(--Qf===0&&El!==null){no!==null&&(no.status="fulfilled");var t=El;El=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function X1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=X.S;X.S=function(t,i){L_=Ut(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&K1(t,i),Zg!==null&&Zg(t,i)};var la=k(null);function Yf(){var t=la.current;return t!==null?t:rt.pooledCache}function fc(t,i){i===null?oe(la,la.current):oe(la,i.pool)}function ey(){var t=Yf();return t===null?null:{parent:Nt._currentValue,pool:t}}var io=Error(s(460)),Kf=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(hi,hi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(hi,hi);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw ca=i,io}}function ua(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,io):a}}var ca=null;function iy(){if(ca===null)throw Error(s(459));var t=ca;return ca=null,t}function ry(t){if(t===io||t===dc)throw Error(s(483))}var ro=null,Tl=0;function pc(t){var i=Tl;return Tl+=1,ro===null&&(ro=[]),ny(ro,t,i)}function bl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sy(t){function i(z,V){if(t){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=hr(z,V),z.index=0,z.sibling=null,z}function d(z,V,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=67108866,V):H):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,V,H,W){return V===null||V.tag!==6?(V=Lf(H,z.mode,W),V.return=z,V):(V=f(V,H),V.return=z,V)}function N(z,V,H,W){var pe=H.type;return pe===B?$(z,V,H.props.children,W,H.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ua(pe)===V.type)?(V=f(V,H.props),bl(V,H),V.return=z,V):(V=lc(H.type,H.key,H.props,null,z.mode,W),bl(V,H),V.return=z,V)}function F(z,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Pf(H,z.mode,W),V.return=z,V):(V=f(V,H.children||[]),V.return=z,V)}function $(z,V,H,W,pe){return V===null||V.tag!==7?(V=ra(H,z.mode,W,pe),V.return=z,V):(V=f(V,H),V.return=z,V)}function ee(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Lf(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=lc(V.type,V.key,V.props,null,z.mode,H),bl(H,V),H.return=z,H;case D:return V=Pf(V,z.mode,H),V.return=z,V;case R:return V=ua(V),ee(z,V,H)}if(_t(V)||U(V))return V=ra(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return ee(z,pc(V),H);if(V.$$typeof===re)return ee(z,hc(z,V),H);gc(z,V)}return null}function G(z,V,H,W){var pe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:S(z,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===pe?N(z,V,H,W):null;case D:return H.key===pe?F(z,V,H,W):null;case R:return H=ua(H),G(z,V,H,W)}if(_t(H)||U(H))return pe!==null?null:$(z,V,H,W,null);if(typeof H.then=="function")return G(z,V,pc(H),W);if(H.$$typeof===re)return G(z,V,hc(z,H),W);gc(z,H)}return null}function Y(z,V,H,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,S(V,z,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return z=z.get(W.key===null?H:W.key)||null,N(V,z,W,pe);case D:return z=z.get(W.key===null?H:W.key)||null,F(V,z,W,pe);case R:return W=ua(W),Y(z,V,H,W,pe)}if(_t(W)||U(W))return z=z.get(H)||null,$(V,z,W,pe,null);if(typeof W.then=="function")return Y(z,V,H,pc(W),pe);if(W.$$typeof===re)return Y(z,V,H,hc(V,W),pe);gc(V,W)}return null}function he(z,V,H,W){for(var pe=null,He=null,fe=V,xe=V=0,ke=null;fe!==null&&xe<H.length;xe++){fe.index>xe?(ke=fe,fe=null):ke=fe.sibling;var Fe=G(z,fe,H[xe],W);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(z,fe),V=d(Fe,V,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe,fe=ke}if(xe===H.length)return a(z,fe),ze&&fr(z,xe),pe;if(fe===null){for(;xe<H.length;xe++)fe=ee(z,H[xe],W),fe!==null&&(V=d(fe,V,xe),He===null?pe=fe:He.sibling=fe,He=fe);return ze&&fr(z,xe),pe}for(fe=l(fe);xe<H.length;xe++)ke=Y(fe,z,xe,H[xe],W),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?xe:ke.key),V=d(ke,V,xe),He===null?pe=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(vs){return i(z,vs)}),ze&&fr(z,xe),pe}function ye(z,V,H,W){if(H==null)throw Error(s(151));for(var pe=null,He=null,fe=V,xe=V=0,ke=null,Fe=H.next();fe!==null&&!Fe.done;xe++,Fe=H.next()){fe.index>xe?(ke=fe,fe=null):ke=fe.sibling;var vs=G(z,fe,Fe.value,W);if(vs===null){fe===null&&(fe=ke);break}t&&fe&&vs.alternate===null&&i(z,fe),V=d(vs,V,xe),He===null?pe=vs:He.sibling=vs,He=vs,fe=ke}if(Fe.done)return a(z,fe),ze&&fr(z,xe),pe;if(fe===null){for(;!Fe.done;xe++,Fe=H.next())Fe=ee(z,Fe.value,W),Fe!==null&&(V=d(Fe,V,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&fr(z,xe),pe}for(fe=l(fe);!Fe.done;xe++,Fe=H.next())Fe=Y(fe,z,xe,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?xe:Fe.key),V=d(Fe,V,xe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(aA){return i(z,aA)}),ze&&fr(z,xe),pe}function it(z,V,H,W){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:e:{for(var pe=H.key;V!==null;){if(V.key===pe){if(pe=H.type,pe===B){if(V.tag===7){a(z,V.sibling),W=f(V,H.props.children),W.return=z,z=W;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ua(pe)===V.type){a(z,V.sibling),W=f(V,H.props),bl(W,H),W.return=z,z=W;break e}a(z,V);break}else i(z,V);V=V.sibling}H.type===B?(W=ra(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=lc(H.type,H.key,H.props,null,z.mode,W),bl(W,H),W.return=z,z=W)}return _(z);case D:e:{for(pe=H.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(z,V.sibling),W=f(V,H.children||[]),W.return=z,z=W;break e}else{a(z,V);break}else i(z,V);V=V.sibling}W=Pf(H,z.mode,W),W.return=z,z=W}return _(z);case R:return H=ua(H),it(z,V,H,W)}if(_t(H))return he(z,V,H,W);if(U(H)){if(pe=U(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),ye(z,V,H,W)}if(typeof H.then=="function")return it(z,V,pc(H),W);if(H.$$typeof===re)return it(z,V,hc(z,H),W);gc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(z,V.sibling),W=f(V,H),W.return=z,z=W):(a(z,V),W=Lf(H,z.mode,W),W.return=z,z=W),_(z)):a(z,V)}return function(z,V,H,W){try{Tl=0;var pe=it(z,V,H,W);return ro=null,pe}catch(fe){if(fe===io||fe===dc)throw fe;var He=xn(29,fe,null,z.mode);return He.lanes=W,He.return=z,He}finally{}}}var ha=sy(!0),ay=sy(!1),ns=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(t),Hg(t,null,a),i}return ac(t,l,i,a),oc(t)}function Sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Et(t,a)}}function Wf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Al(){if(Jf){var t=no;if(t!==null)throw t}}function wl(t,i,a,l){Jf=!1;var f=t.updateQueue;ns=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=F:S.next=F,$.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,$=F=N=null,S=d;do{var G=S.lane&-536870913,Y=G!==S.lane;if(Y?(Ve&G)===G:(l&G)===G){G!==0&&G===to&&(Jf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ye=S;G=i;var it=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){ee=he.call(it,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,G=typeof he=="function"?he.call(it,ee,G):he,G==null)break e;ee=T({},ee,G);break e;case 2:ns=!0}}G=S.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(F=$=Y,N=ee):$=$.next=Y,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),us|=_,t.lanes=_,t.memoizedState=ee}}function oy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ly(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)oy(a[t],i)}var so=k(null),yc=k(0);function uy(t,i){t=Sr,oe(yc,t),oe(so,i),Sr=t|i.baseLanes}function Zf(){oe(yc,Sr),oe(so,so.current)}function ed(){Sr=yc.current,J(so),J(yc)}var Dn=k(null),Zn=null;function ss(t){var i=t.alternate;oe(wt,wt.current&1),oe(Dn,t),Zn===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Zn=t)}function td(t){oe(wt,wt.current),oe(Dn,t),Zn===null&&(Zn=t)}function cy(t){t.tag===22?(oe(wt,wt.current),oe(Dn,t),Zn===null&&(Zn=t)):as()}function as(){oe(wt,wt.current),oe(Dn,Dn.current)}function Nn(t){J(Dn),Zn===t&&(Zn=null),J(wt)}var wt=k(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||om(a)||lm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,Ie=null,tt=null,Ot=null,vc=!1,ao=!1,fa=!1,Ec=0,Rl=0,oo=null,$1=0;function Tt(){throw Error(s(321))}function nd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!In(t[a],i[a]))return!1;return!0}function id(t,i,a,l,f,d){return pr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Yy:_d,fa=!1,d=a(l,f),fa=!1,ao&&(d=fy(i,a,l,f)),hy(t),d}function hy(t){X.H=xl;var i=tt!==null&&tt.next!==null;if(pr=0,Ot=tt=Ie=null,vc=!1,Rl=0,oo=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&cc(t)&&(Mt=!0))}function fy(t,i,a,l){Ie=t;var f=0;do{if(ao&&(oo=null),Rl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,Ot=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Ky,d=i(a,l)}while(ao);return d}function W1(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Cl(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ie.flags|=1024),i}function rd(){var t=Ec!==0;return Ec=0,t}function sd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ad(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}pr=0,Ot=tt=Ie=null,ao=!1,Rl=Ec=0,oo=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Rt(){if(tt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Ot===null?Ie.memoizedState:Ot.next;if(i!==null)Ot=i,tt=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ie.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var i=Rl;return Rl+=1,oo===null&&(oo=[]),t=ny(oo,t,i),i=Ie,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Yy:_d),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function od(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function gr(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Rt();return ld(i,tt,t)}function ld(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,N=null,F=i,$=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ve&ee)===ee:(pr&ee)===ee){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===to&&($=!0);else if((pr&G)===G){F=F.next,G===to&&($=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ie.lanes|=G,us|=G;ee=F.action,fa&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,Ie.lanes|=ee,us|=ee;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=S,!In(d,t.memoizedState)&&(Mt=!0,$&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var i=Rt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);In(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(t,i,a){var l=Ie,f=Rt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!In((tt||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,fd(gy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},py.bind(null,l,f,a,i),null),rt===null)throw Error(s(349));d||(pr&127)!==0||my(l,i,a)}return a}function my(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Tc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function py(t,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(t)}function gy(t,i,a){return a(function(){yy(i)&&_y(t)})}function yy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!In(t,a)}catch{return!0}}function _y(t){var i=ia(t,2);i!==null&&vn(i,t,2)}function cd(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),fa){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},i}function vy(t,i,a,l){return t.baseState=a,ld(t,tt,typeof l=="function"?l:gr)}function J1(t,i,a,l,f){if(Rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),N=X.S;N!==null&&N(_,S),Ty(t,i,S)}catch(F){hd(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Ty(t,i,d)}catch(F){hd(t,i,F)}}function Ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,i,l)},function(l){return hd(t,i,l)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,Sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ey(t,a)))}function hd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sy(i),i=i.next;while(i!==l)}t.action=null}function Sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ay(t,i){return i}function wy(t,i){if(ze){var a=rt.formState;if(a!==null){e:{var l=Ie;if(ze){if(ot){t:{for(var f=ot,d=Jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ot=ei(f.nextSibling),l=f.data==="F!";break e}}es(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Ie,l),l.dispatch=a,l=cd(!1),d=yd.bind(null,Ie,!1,l.queue),l=cn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=J1.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ry(t){var i=Rt();return Cy(i,tt,t)}function Cy(t,i,a){if(i=ld(t,i,Ay)[0],t=Sc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Cl(i)}catch(_){throw _===io?dc:_}else l=i;i=Rt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,lo(9,{destroy:void 0},Z1.bind(null,f,a),null)),[l,d,t]}function Z1(t,i){t.action=i}function Iy(t){var i=Rt(),a=tt;if(a!==null)return Cy(i,a,t);Rt(),i=i.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function lo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Tc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function xy(){return Rt().memoizedState}function Ac(t,i,a,l){var f=cn();Ie.flags|=t,f.memoizedState=lo(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(t,i,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;tt!==null&&l!==null&&nd(l,tt.memoizedState.deps)?f.memoizedState=lo(i,d,a,l):(Ie.flags|=t,f.memoizedState=lo(1|i,d,a,l))}function Dy(t,i){Ac(8390656,8,t,i)}function fd(t,i){wc(2048,8,t,i)}function eS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Tc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ny(t){var i=Rt().memoizedState;return eS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(t,i){return wc(4,2,t,i)}function My(t,i){return wc(4,4,t,i)}function Vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ky(t,i,a){a=a!=null?a.concat([t]):null,wc(4,4,Vy.bind(null,i,t),a)}function dd(){}function Ly(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Py(t,i){var a=Rt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=t(),fa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function md(t,i,a){return a===void 0||(pr&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=U_(),Ie.lanes|=t,us|=t,a)}function Uy(t,i,a,l){return In(a,i)?a:so.current!==null?(t=md(t,a,l),In(t,i)||(Mt=!0),t):(pr&42)===0||(pr&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,t.memoizedState=a):(t=U_(),Ie.lanes|=t,us|=t,i)}function zy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,yd(t,!1,i,a);try{var N=f(),F=X.S;if(F!==null&&F(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=X1(N,l);Il(t,i,$,Vn(t))}else Il(t,i,l,Vn(t))}catch(ee){Il(t,i,{then:function(){},status:"rejected",reason:ee},Vn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function tS(){}function pd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=jy(t).queue;zy(t,f,i,me,a===null?tS:function(){return By(t),a(l)})}function jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function By(t){var i=jy(t);i.next===null&&(i=t.alternate.memoizedState),Il(t,i.next.queue,{},Vn())}function gd(){return $t(Gl)}function qy(){return Rt().memoizedState}function Hy(){return Rt().memoizedState}function nS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vn();t=is(a);var l=rs(i,t,a);l!==null&&(vn(l,i,a),Sl(l,i,a)),i={cache:Gf()},t.payload=i;return}i=i.return}}function iS(t,i,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?Gy(i,a):(a=Vf(t,i,a,l),a!==null&&(vn(a,t,l),Qy(a,i,l)))}function Fy(t,i,a){var l=Vn();Il(t,i,a,l)}function Il(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))Gy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,In(S,_))return ac(t,i,f,0),rt===null&&sc(),!1}catch{}finally{}if(a=Vf(t,i,f,l),a!==null)return vn(a,t,l),Qy(a,i,l),!0}return!1}function yd(t,i,a,l){if(l={lane:2,revertLane:Xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(i)throw Error(s(479))}else i=Vf(t,a,l,2),i!==null&&vn(i,t,2)}function Rc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Gy(t,i){ao=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Et(t,a)}}var xl={readContext:$t,use:bc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};xl.useEffectEvent=Tt;var Yy={readContext:$t,use:bc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Dy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,Vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(fa){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var f=a(i);if(fa){hn(!0);try{a(i)}finally{hn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=iS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=cd(t);var i=t.queue,a=Fy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(t,i){var a=cn();return md(a,t,i)},useTransition:function(){var t=cd(!1);return t=zy.bind(null,Ie,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=cn();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Ve&127)!==0||my(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Dy(gy.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var t=cn(),i=rt.identifierPrefix;if(ze){var a=ji,l=zi;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gd,useFormState:wy,useActionState:wy,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:od,useCacheRefresh:function(){return cn().memoizedState=nS.bind(null,Ie)},useEffectEvent:function(t){var i=cn(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},_d={readContext:$t,use:bc,useCallback:Ly,useContext:$t,useEffect:fd,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Py,useReducer:Sc,useRef:xy,useState:function(){return Sc(gr)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Rt();return Uy(a,tt.memoizedState,t,i)},useTransition:function(){var t=Sc(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var a=Rt();return vy(a,tt,t,i)},useMemoCache:od,useCacheRefresh:Hy};_d.useEffectEvent=Ny;var Ky={readContext:$t,use:bc,useCallback:Ly,useContext:$t,useEffect:fd,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Py,useReducer:ud,useRef:xy,useState:function(){return ud(gr)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Rt();return tt===null?md(a,t,i):Uy(a,tt.memoizedState,t,i)},useTransition:function(){var t=ud(gr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=Rt();return tt!==null?vy(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Hy};Ky.useEffectEvent=Ny;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ed={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Vn(),f=is(l);f.payload=i,a!=null&&(f.callback=a),i=rs(t,f,l),i!==null&&(vn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Vn(),f=is(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=rs(t,f,l),i!==null&&(vn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Vn(),l=is(a);l.tag=2,i!=null&&(l.callback=i),i=rs(t,l,a),i!==null&&(vn(i,t,a),Sl(i,t,a))}};function Xy(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(f,d):!0}function $y(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ed.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Wy(t){rc(t)}function Jy(t){console.error(t)}function Zy(t){rc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(t,i,a){return a=is(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function t_(t){return t=is(t),t.tag=3,t}function n_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){e_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){e_(i,a,l),typeof f!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&eo(i,a,f,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?zc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(s(435,a.tag))}return Qd(t,l,f),zc(),!1}if(ze)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==jf&&(t=Error(s(422),{cause:l}),_l(Xn(t,a)))):(l!==jf&&(i=Error(s(423),{cause:l}),_l(Xn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Xn(l,a),f=Td(t.stateNode,l,f),Wf(t,f),bt!==4&&(bt=2)),!1;var d=Error(s(520),{cause:l});if(d=Xn(d,a),Pl===null?Pl=[d]:Pl.push(d),bt!==4&&(bt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Td(a.stateNode,l,t),Wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(cs===null||!cs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),n_(f,t,a,l),Wf(a,f),!1}a=a.return}while(a!==null);return!1}var bd=Error(s(461)),Mt=!1;function Wt(t,i,a,l){i.child=t===null?ay(i,null,a,l):ha(i,t.child,a,l)}function i_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return oa(i),l=id(t,i,a,_,d,f),S=rd(),t!==null&&!Mt?(sd(t,i,f),yr(t,i,f)):(ze&&S&&Uf(i),i.flags|=1,Wt(t,i,l,f),i.child)}function r_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(t,i,d,l,f)):(t=lc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Dd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(_,l)&&t.ref===i.ref)return yr(t,i,f)}return i.flags|=1,t=hr(d,l),t.ref=i.ref,t.return=i,i.child=t}function s_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Dd(t,f))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,yr(t,i,f)}return Sd(t,i,a,l,f)}function a_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return o_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):Zf(),cy(i);else return l=i.lanes=536870912,o_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(fc(i,d.cachePool),uy(i,d),as(),i.memoizedState=null):(t!==null&&fc(i,null),Zf(),as());return Wt(t,i,f,a),i.child}function Dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(t,i,a,l,f){var d=Yf();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&fc(i,null),Zf(),cy(i),t!==null&&eo(t,i,l,!0),i.childLanes=f,null}function Ic(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function l_(t,i,a){return ha(i,t.child,null,a),t=Ic(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function sS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Ic(i,l),i.lanes=536870912,Dl(null,t);if(td(i),(t=ot)?(t=Ev(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Jr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Xt=i,ot=null)):t=null,t===null)throw es(i);return i.lanes=536870912,null}return Ic(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(td(i),f)if(i.flags&256)i.flags&=-257,i=l_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||eo(t,i,a,!1),f=(a&t.childLanes)!==0,Mt||f){if(l=rt,l!==null&&(_=fn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ia(t,_),vn(l,t,_),bd;zc(),i=l_(t,i,a)}else t=d.treeContext,ot=ei(_.nextSibling),Xt=i,ze=!0,Zr=null,Jn=!1,t!==null&&Kg(i,t),i=Ic(i,l),i.flags|=4096;return i}return t=hr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,f){return oa(i),a=id(t,i,a,l,void 0,f),l=rd(),t!==null&&!Mt?(sd(t,i,f),yr(t,i,f)):(ze&&l&&Uf(i),i.flags|=1,Wt(t,i,a,f),i.child)}function u_(t,i,a,l,f,d){return oa(i),i.updateQueue=null,a=fy(i,l,a,f),hy(t),l=rd(),t!==null&&!Mt?(sd(t,i,d),yr(t,i,d)):(ze&&l&&Uf(i),i.flags|=1,Wt(t,i,a,d),i.child)}function c_(t,i,a,l,f){if(oa(i),i.stateNode===null){var d=$a,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):$a,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(vd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ed.enqueueReplaceState(d,d.state,null),wl(i,l,d,f),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=da(a,S);d.props=N;var F=d.context,$=a.contextType;_=$a,typeof $=="object"&&$!==null&&(_=$t($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&$y(i,d,l,_),ns=!1;var G=i.memoizedState;d.state=G,wl(i,l,d,f),Al(),F=i.memoizedState,S||G!==F||ns?(typeof ee=="function"&&(vd(i,a,ee,l),F=i.memoizedState),(N=ns||Xy(i,a,N,l,G,F,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),_=i.memoizedProps,$=da(a,_),d.props=$,ee=i.pendingProps,G=d.context,F=a.contextType,N=$a,typeof F=="object"&&F!==null&&(N=$t(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==N)&&$y(i,d,l,N),ns=!1,G=i.memoizedState,d.state=G,wl(i,l,d,f),Al();var Y=i.memoizedState;_!==ee||G!==Y||ns||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof S=="function"&&(vd(i,a,S,l),Y=i.memoizedState),($=ns||Xy(i,a,$,l,G,Y,N)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,xc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ha(i,t.child,null,f),i.child=ha(i,null,a,f)):Wt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=yr(t,i,f),t}function h_(t,i,a,l){return sa(),i.flags|=256,Wt(t,i,a,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:ey()}}function Rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function f_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(f?ss(i):as(),(t=ot)?(t=Ev(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Jr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Xt=i,ot=null)):t=null,t===null)throw es(i);return lm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(as(),f=i.mode,S=Dc({mode:"hidden",children:S},f),l=ra(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,_,a),i.memoizedState=Ad,Dl(null,l)):(ss(i),Cd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(ss(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(as(),i.child=t.child,i.flags|=128,i=null):(as(),S=l.fallback,f=i.mode,l=Dc({mode:"visible",children:l.children},f),S=ra(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ha(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,_,a),i.memoizedState=Ad,i=Dl(null,l));else if(ss(i),lm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,_l({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(Mt||eo(t,i,a,!1),_=(a&t.childLanes)!==0,Mt||_){if(_=rt,_!==null&&(l=fn(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ia(t,l),vn(_,t,l),bd;om(S)||zc(),i=Id(t,i,a)}else om(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ot=ei(S.nextSibling),Xt=i,ze=!0,Zr=null,Jn=!1,t!==null&&Kg(i,t),i=Cd(i,l.children),i.flags|=4096);return i}return f?(as(),S=l.fallback,f=i.mode,N=t.child,F=N.sibling,l=hr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?S=hr(F,S):(S=ra(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Dl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=wd(a):(f=S.cachePool,f!==null?(N=Nt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=ey(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Rd(t,_,a),i.memoizedState=Ad,Dl(t.child,l)):(ss(i),a=t.child,t=a.sibling,a=hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Cd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=xn(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return ha(i,t.child,null,a),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function d_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function xd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function m_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=wt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(wt,_),Wt(t,i,l,a),l=ze?yl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,a,i);else if(t.tag===19)d_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),xd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}xd(i,!0,a,null,d,l);break;case"together":xd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),us|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(eo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function aS(t,i,a){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),ts(i,Nt,t.memoizedState.cache),sa();break;case 27:case 5:ai(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,td(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ss(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(t,i,a):(ss(i),t=yr(t,i,a),t!==null?t.sibling:null);ss(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(eo(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return m_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(wt,wt.current),l)break;return null;case 22:return i.lanes=0,a_(t,i,a,i.pendingProps);case 24:ts(i,Nt,t.memoizedState.cache)}return yr(t,i,a)}function p_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Dd(t,a)&&(i.flags&128)===0)return Mt=!1,aS(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(i.flags&1048576)!==0&&Yg(i,yl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ua(i.elementType),i.type=t,typeof t=="function")kf(t)?(l=da(t,l),i.tag=1,i=c_(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===de){i.tag=11,i=i_(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=r_(null,i,t,l,a);break e}}throw i=Je(t)||t,Error(s(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=da(l,i.pendingProps),c_(t,i,l,f,a);case 3:e:{if(dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,$f(t,i),wl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ts(i,Nt,l),l!==d.cache&&Ff(i,[Nt],a,!0),Al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(t,i,l,a);break e}else if(l!==f){f=Xn(Error(s(424)),i),_l(f),i=h_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=ei(t.firstChild),Xt=i,ze=!0,Zr=null,Jn=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sa(),l===f){i=yr(t,i,a);break e}Wt(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,l=Qc(Se.current).createElement(a),l[It]=i,l[Ht]=t,Jt(l,a,t),xt(l),i.stateNode=l):i.memoizedState=Rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ai(i),t===null&&ze&&(l=i.stateNode=Sv(i.type,i.pendingProps,Se.current),Xt=i,Jn=!0,f=ot,ms(i.type)?(um=f,ot=ei(l.firstChild)):ot=f),Wt(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((f=l=ot)&&(l=LS(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Xt=i,ot=ei(l.firstChild),Jn=!1,f=!0):f=!1),f||es(i)),ai(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,rm(f,d)?l=null:_!==null&&rm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=id(t,i,W1,null,null,a),Gl._currentValue=f),xc(t,i),Wt(t,i,l,a),i.child;case 6:return t===null&&ze&&((t=a=ot)&&(a=PS(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Xt=i,ot=null,t=!0):t=!1),t||es(i)),null;case 13:return f_(t,i,a);case 4:return dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ha(i,null,l,a):Wt(t,i,l,a),i.child;case 11:return i_(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ts(i,i.type,l.value),Wt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,oa(i),f=$t(f),l=l(f),i.flags|=1,Wt(t,i,l,a),i.child;case 14:return r_(t,i,i.type,i.pendingProps,a);case 15:return s_(t,i,i.type,i.pendingProps,a);case 19:return m_(t,i,a);case 31:return sS(t,i,a);case 22:return a_(t,i,a,i.pendingProps);case 24:return oa(i),l=$t(Nt),t===null?(f=Yf(),f===null&&(f=rt,d=Gf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Xf(i),ts(i,Nt,f)):((t.lanes&a)!==0&&($f(t,i),wl(i,null,null,a),Al()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ts(i,Nt,l)):(l=d.cache,ts(i,Nt,l),l!==f.cache&&Ff(i,[Nt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _r(t){t.flags|=4}function Nd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(q_())t.flags|=8192;else throw ca=mc,Kf}else t.flags&=-16777217}function g_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(i))if(q_())t.flags|=8192;else throw ca=mc,Kf}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Va():536870912,t.lanes|=i,fo|=i)}function Nl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function oS(t,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mr(Nt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(i)?_r(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bf())),lt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(_r(i),d!==null?(lt(i),g_(i,d)):(lt(i),Nd(i,f,null,l,a))):d?d!==t.memoizedState?(_r(i),lt(i),g_(i,d)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&_r(i),lt(i),Nd(i,f,t,l,a)),null;case 27:if(tr(i),a=Se.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ue.current,Za(i)?Xg(i):(t=Sv(f,l,a),i.stateNode=t,_r(i))}return lt(i),null;case 5:if(tr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(d=ue.current,Za(i))Xg(i);else{var _=Qc(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[It]=i,d[Ht]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Jt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_r(i)}}return lt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&_r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Xt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,a)),t||es(i,!0)}else t=Qc(t).createTextNode(l),t[It]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[It]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),lt(i),null);case 4:return Ze(),t===null&&Zd(i.stateNode.containerInfo),lt(i),null;case 10:return mr(i.type),lt(i),null;case 19:if(J(wt),l=i.memoizedState,l===null)return lt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Nl(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Nl(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fg(a,t),a=a.sibling;return oe(wt,wt.current&1|2),ze&&fr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ut()>Lc&&(i.flags|=128,f=!0,Nl(l,!1),i.lanes=4194304)}else{if(!f)if(t=_c(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return lt(i),null}else 2*Ut()-l.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,f=!0,Nl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ut(),t.sibling=null,a=wt.current,oe(wt,f?a&1|2:a&1),ze&&fr(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return Nn(i),ed(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mr(Nt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lS(t,i){switch(zf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mr(Nt),Ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return tr(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(s(340));sa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(wt),null;case 4:return Ze(),null;case 10:return mr(i.type),null;case 22:case 23:return Nn(i),ed(),t!==null&&J(la),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mr(Nt),null;case 25:return null;default:return null}}function y_(t,i){switch(zf(i),i.tag){case 3:mr(Nt),Ze();break;case 26:case 27:case 5:tr(i);break;case 4:Ze();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:J(wt);break;case 10:mr(i.type);break;case 22:case 23:Nn(i),ed(),t!==null&&J(la);break;case 24:mr(Nt)}}function Ol(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){We(i,i.return,S)}}function os(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var N=a,F=S;try{F()}catch($){We(f,N,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function __(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ly(i,a)}catch(l){We(t,t.return,l)}}}function v_(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function Bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function E_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function Od(t,i,a){try{var l=t.stateNode;DS(l,t.type,a,i),l[Ht]=i}catch(f){We(t,t.return,f)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ms(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hi));else if(l!==4&&(l===27&&ms(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Vd(t,i,a),t=t.sibling;t!==null;)Vd(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function b_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,l,a),i[It]=t,i[Ht]=a}catch(d){We(t,t.return,d)}}var vr=!1,Vt=!1,kd=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function uS(t,i){if(t=t.containerInfo,nm=Zc,t=kg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,F=0,$=0,ee=t,G=null;t:for(;;){for(var Y;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(S=_),G===d&&++$===l&&(N=_),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:t,selectionRange:a},Zc=!1,Gt=i;Gt!==null;)if(i=Gt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gt=t;else for(;Gt!==null;){switch(i=Gt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=da(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Gt=t;break}Gt=i.return}}function A_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),l&4&&Ol(5,a);break;case 1:if(Tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&__(a),l&512&&Ml(a,a.return);break;case 3:if(Tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&b_(a);case 26:case 5:Tr(t,a),i===null&&l&4&&E_(a),l&512&&Ml(a,a.return);break;case 12:Tr(t,a);break;case 31:Tr(t,a),l&4&&C_(t,a);break;case 13:Tr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),US(t,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){i=i!==null&&i.memoizedState!==null||Vt,f=vr;var d=Vt;vr=l,(Vt=i)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),vr=f,Vt=d}break;case 30:break;default:Tr(t,a)}}function w_(t){var i=t.alternate;i!==null&&(t.alternate=null,w_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&La(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,pn=!1;function Er(t,i,a){for(a=a.child;a!==null;)R_(t,i,a),a=a.sibling}function R_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:Vt||Bi(a,i),Er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Bi(a,i);var l=ht,f=pn;ms(a.type)&&(ht=a.stateNode,pn=!1),Er(t,i,a),ql(a.stateNode),ht=l,pn=f;break;case 5:Vt||Bi(a,i);case 6:if(l=ht,f=pn,ht=null,Er(t,i,a),ht=l,pn=f,ht!==null)if(pn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(pn?(t=ht,_v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):_v(ht,a.stateNode));break;case 4:l=ht,f=pn,ht=a.stateNode.containerInfo,pn=!0,Er(t,i,a),ht=l,pn=f;break;case 0:case 11:case 14:case 15:os(2,a,i),Vt||os(4,a,i),Er(t,i,a);break;case 1:Vt||(Bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),Er(t,i,a);break;case 21:Er(t,i,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,Er(t,i,a),Vt=l;break;default:Er(t,i,a)}}function C_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){We(i,i.return,a)}}}function I_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){We(i,i.return,a)}}function cS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new S_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new S_),i;default:throw Error(s(435,t.tag))}}function Mc(t,i){var a=cS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=vS.bind(null,t,l);l.then(f,f)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ms(S.type)){ht=S.stateNode,pn=!1;break e}break;case 5:ht=S.stateNode,pn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,pn=!0;break e}S=S.return}if(ht===null)throw Error(s(160));R_(d,_,f),ht=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)x_(i,t),i=i.sibling}var yi=null;function x_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(os(3,t,t.return),Ol(3,t),os(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(Vt||a===null||Bi(a,a.return)),l&64&&vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=yi;if(gn(i,t),yn(t),l&512&&(Vt||a===null||Bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ci]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,a),d[It]=t,xt(d),l=d;break e;case"link":var _=xv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=xv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,xt(d),l=d}t.stateNode=l}else Dv(f,t.type,t.stateNode);else t.stateNode=Iv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dv(f,t.type,t.stateNode):Iv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Od(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(Vt||a===null||Bi(a,a.return)),a!==null&&l&4&&Od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(Vt||a===null||Bi(a,a.return)),t.flags&32){f=t.stateNode;try{mn(f,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Od(t,f,a!==null?a.memoizedProps:f)),l&1024&&(kd=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Xc=null,f=yi,yi=Yc(i.containerInfo),gn(i,t),yi=f,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(i.containerInfo)}catch(he){We(t,t.return,he)}kd&&(kd=!1,D_(t));break;case 4:l=yi,yi=Yc(t.stateNode.containerInfo),gn(i,t),yn(t),yi=l;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=Ut()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=vr,$=Vt;if(vr=F||f,Vt=$||N,gn(i,t),Vt=$,vr=F,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||vr||Vt||ma(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){We(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){We(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;f?vv(Y,!0):vv(N.stateNode,!1)}catch(he){We(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Md(t);Oc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(mn(_,""),a.flags&=-33);var S=Md(t);Oc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Md(t);Vd(t,F,N);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)A_(t,i.alternate,i),i=i.sibling}function ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:os(4,i,i.return),ma(i);break;case 1:Bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),ma(i);break;case 27:ql(i.stateNode);case 26:case 5:Bi(i,i.return),ma(i);break;case 22:i.memoizedState===null&&ma(i);break;case 30:ma(i);break;default:ma(i)}t=t.sibling}}function br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:br(f,d,a),Ol(4,d);break;case 1:if(br(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)oy(N[f],S)}catch(F){We(l,l.return,F)}}a&&_&64&&__(d),Ml(d,d.return);break;case 27:b_(d);case 26:case 5:br(f,d,a),a&&l===null&&_&4&&E_(d),Ml(d,d.return);break;case 12:br(f,d,a);break;case 31:br(f,d,a),a&&_&4&&C_(f,d);break;case 13:br(f,d,a),a&&_&4&&I_(f,d);break;case 22:d.memoizedState===null&&br(f,d,a),Ml(d,d.return);break;case 30:break;default:br(f,d,a)}i=i.sibling}}function Ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function _i(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(t,i,a,l),i=i.sibling}function N_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:_i(t,i,a,l),f&2048&&Ol(9,i);break;case 1:_i(t,i,a,l);break;case 3:_i(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(f&2048){_i(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else _i(t,i,a,l);break;case 31:_i(t,i,a,l);break;case 13:_i(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?_i(t,i,a,l):Vl(t,i):d._visibility&2?_i(t,i,a,l):(d._visibility|=2,uo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ld(_,i);break;case 24:_i(t,i,a,l),f&2048&&Pd(i.alternate,i);break;default:_i(t,i,a,l)}}function uo(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:uo(d,_,S,N,f),Ol(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?uo(d,_,S,N,f):Vl(d,_):($._visibility|=2,uo(d,_,S,N,f)),f&&F&2048&&Ld(_.alternate,_);break;case 24:uo(d,_,S,N,f),f&&F&2048&&Pd(_.alternate,_);break;default:uo(d,_,S,N,f)}i=i.sibling}}function Vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&Ld(l.alternate,l);break;case 24:Vl(a,l),f&2048&&Pd(l.alternate,l);break;default:Vl(a,l)}i=i.sibling}}var kl=8192;function co(t,i,a){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)O_(t,i,a),t=t.sibling}function O_(t,i,a){switch(t.tag){case 26:co(t,i,a),t.flags&kl&&t.memoizedState!==null&&$S(a,yi,t.memoizedState,t.memoizedProps);break;case 5:co(t,i,a);break;case 3:case 4:var l=yi;yi=Yc(t.stateNode.containerInfo),co(t,i,a),yi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,co(t,i,a),kl=l):co(t,i,a));break;default:co(t,i,a)}}function M_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,k_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&os(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Vc(t)):Ll(t);break;default:Ll(t)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,k_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:os(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}t=t.sibling}}function k_(t,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var f=l.sibling,d=l.return;if(w_(l),l===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var hS={getCacheForType:function(t){var i=$t(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Nt).controller.signal}},fS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ne=null,Ve=0,$e=0,On=null,ls=!1,ho=!1,Ud=!1,Sr=0,bt=0,us=0,pa=0,zd=0,Mn=0,fo=0,Pl=null,_n=null,jd=!1,kc=0,L_=0,Lc=1/0,Pc=null,cs=null,jt=0,hs=null,mo=null,Ar=0,Bd=0,qd=null,P_=null,Ul=0,Hd=null;function Vn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?Xd():Uu()}function U_(){if(Mn===0)if((Ve&536870912)===0||ze){var t=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Mn=t}else Mn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Mn}function vn(t,i,a){(t===rt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(po(t,0),fs(t,Ve,Mn,!1)),K(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(pa|=a),bt===4&&fs(t,Ve,Mn,!1)),qi(t))}function z_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||wn(t,i),f=l?pS(t,i):Gd(t,i,!0),d=l;do{if(f===0){ho&&!l&&fs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dS(a)){f=Gd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Pl;var N=S.current.memoizedState.isDehydrated;if(N&&(po(S,_).flags|=256),_=Gd(S,_,!1),_!==2){if(Ud&&!N){S.errorRecoveryDisabledLanes|=d,pa|=d,f=4;break e}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){po(t,0),fs(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:fs(l,i,Mn,!ls);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=kc+300-Ut(),10<f)){if(fs(l,i,Mn,!ls),Bn(l,0,!0)!==0)break e;Ar=i,l.timeoutHandle=gv(j_.bind(null,l,a,_n,Pc,jd,i,Mn,pa,fo,ls,d,"Throttled",-0,0),f);break e}j_(l,a,_n,Pc,jd,i,Mn,pa,fo,ls,d,null,-0,0)}}break}while(!0);qi(t)}function j_(t,i,a,l,f,d,_,S,N,F,$,ee,G,Y){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},O_(i,d,ee);var he=(d&62914560)===d?kc-Ut():(d&4194048)===d?L_-Ut():0;if(he=WS(ee,he),he!==null){Ar=d,t.cancelPendingCommit=he(K_.bind(null,t,i,d,a,l,f,_,S,N,$,ee,null,G,Y)),fs(t,d,_,!F);return}}K_(t,i,d,a,l,f,_,S,N)}function dS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(t,i,a,l){i&=~zd,i&=~pa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ge(t,a,i)}function Uc(){return(Ye&6)===0?(zl(0),!1):!0}function Fd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,dr=aa=null,ad(t),ro=null,Tl=0,t=Ne;for(;t!==null;)y_(t.alternate,t),t=t.return;Ne=null}}function po(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ar=0,Fd(),rt=t,Ne=a=hr(t.current,null),Ve=i,$e=0,On=null,ls=!1,ho=wn(t,i),Ud=!1,fo=Mn=zd=pa=us=bt=0,_n=Pl=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),d=1<<f;i|=t[f],l&=~d}return Sr=i,sc(),a}function B_(t,i){Ie=null,X.H=xl,i===io||i===dc?(i=iy(),$e=3):i===Kf?(i=iy(),$e=4):$e=i===bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Ne===null&&(bt=1,Cc(t,Xn(i,t.current)))}function q_(){var t=Dn.current;return t===null?!0:(Ve&4194048)===Ve?Zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Zn:!1}function H_(){var t=X.H;return X.H=xl,t===null?xl:t}function F_(){var t=X.A;return X.A=hS,t}function zc(){bt=4,ls||(Ve&4194048)!==Ve&&Dn.current!==null||(ho=!0),(us&134217727)===0&&(pa&134217727)===0||rt===null||fs(rt,Ve,Mn,!1)}function Gd(t,i,a){var l=Ye;Ye|=2;var f=H_(),d=F_();(rt!==t||Ve!==i)&&(Pc=null,po(t,i)),i=!1;var _=bt;e:do try{if($e!==0&&Ne!==null){var S=Ne,N=On;switch($e){case 8:Fd(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var F=$e;if($e=0,On=null,go(t,S,N,F),a&&ho){_=0;break e}break;default:F=$e,$e=0,On=null,go(t,S,N,F)}}mS(),_=bt;break}catch($){B_(t,$)}while(!0);return i&&t.shellSuspendCounter++,dr=aa=null,Ye=l,X.H=f,X.A=d,Ne===null&&(rt=null,Ve=0,sc()),_}function mS(){for(;Ne!==null;)G_(Ne)}function pS(t,i){var a=Ye;Ye|=2;var l=H_(),f=F_();rt!==t||Ve!==i?(Pc=null,Lc=Ut()+500,po(t,i)):ho=wn(t,i);e:do try{if($e!==0&&Ne!==null){i=Ne;var d=On;t:switch($e){case 1:$e=0,On=null,go(t,i,d,1);break;case 2:case 9:if(ty(d)){$e=0,On=null,Q_(i);break}i=function(){$e!==2&&$e!==9||rt!==t||($e=7),qi(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ty(d)?($e=0,On=null,Q_(i)):($e=0,On=null,go(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?Nv(_):S.stateNode.complete){$e=0,On=null;var N=S.sibling;if(N!==null)Ne=N;else{var F=S.return;F!==null?(Ne=F,jc(F)):Ne=null}break t}}$e=0,On=null,go(t,i,d,5);break;case 6:$e=0,On=null,go(t,i,d,6);break;case 8:Fd(),bt=6;break e;default:throw Error(s(462))}}gS();break}catch($){B_(t,$)}while(!0);return dr=aa=null,X.H=l,X.A=f,Ye=a,Ne!==null?0:(rt=null,Ve=0,sc(),bt)}function gS(){for(;Ne!==null&&!jr();)G_(Ne)}function G_(t){var i=p_(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,i===null?jc(t):Ne=i}function Q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:ad(i);default:y_(a,i),i=Ne=Fg(i,Sr),i=p_(a,i,Sr)}t.memoizedProps=t.pendingProps,i===null?jc(t):Ne=i}function go(t,i,a,l){dr=aa=null,ad(i),ro=null,Tl=0;var f=i.return;try{if(rS(t,f,i,a,Ve)){bt=1,Cc(t,Xn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;bt=1,Cc(t,Xn(a,t.current)),Ne=null;return}i.flags&32768?(ze||l===1?t=!0:ho||(Ve&536870912)!==0?t=!1:(ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,t)):jc(i)}function jc(t){var i=t;do{if((i.flags&32768)!==0){Y_(i,ls);return}t=i.return;var a=oS(i.alternate,i,Sr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);bt===0&&(bt=5)}function Y_(t,i){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);bt=6,Ne=null}function K_(t,i,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do Bc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,qe(t,a,d,_,S,N),t===rt&&(Ne=rt=null,Ve=0),mo=i,hs=t,Ar=a,Bd=d,qd=f,P_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(Un,function(){return Z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=Ye,Ye|=4;try{uS(t,i,a)}finally{Ye=_,se.p=f,X.T=l}}jt=1,X_(),$_(),W_()}}function X_(){if(jt===1){jt=0;var t=hs,i=mo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{x_(i,t);var d=im,_=kg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(N!==null&&If(S)){var F=N.start,$=N.end;if($===void 0&&($=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),he=S.textContent.length,ye=Math.min(N.start,he),it=N.end===void 0?ye:Math.min(N.end,he);!Y.extend&&ye>it&&(_=it,it=ye,ye=_);var z=Mg(S,ye),V=Mg(S,it);if(z&&V&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),ye>it?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(ee=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Zc=!!nm,im=nm=null}finally{Ye=f,se.p=l,X.T=a}}t.current=i,jt=2}}function $_(){if(jt===2){jt=0;var t=hs,i=mo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=Ye;Ye|=4;try{A_(t,i.alternate,i)}finally{Ye=f,se.p=l,X.T=a}}jt=3}}function W_(){if(jt===4||jt===3){jt=0,qs();var t=hs,i=mo,a=Ar,l=P_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,mo=hs=null,J_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(cs=null),Hn(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,se.p=f}}(Ar&3)!==0&&Bc(),qi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Hd?Ul++:(Ul=0,Hd=t):Ul=0,zl(0)}}function J_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function Bc(){return X_(),$_(),W_(),Z_()}function Z_(){if(jt!==5)return!1;var t=hs,i=Bd;Bd=0;var a=Hn(Ar),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=qd,qd=null;var d=hs,_=Ar;if(jt=0,mo=hs=null,Ar=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,V_(d.current),N_(d,d.current,_,a),Ye=S,zl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qt,d)}catch{}return!0}finally{se.p=f,X.T=l,J_(t,i)}}function ev(t,i,a){i=Xn(a,i),i=Td(t.stateNode,i,2),t=rs(t,i,2),t!==null&&(K(t,2),qi(t))}function We(t,i,a){if(t.tag===3)ev(t,t,a);else for(;i!==null;){if(i.tag===3){ev(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cs===null||!cs.has(l))){t=Xn(a,t),a=t_(2),l=rs(i,a,2),l!==null&&(n_(a,l,i,t),K(l,2),qi(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Ud=!0,f.add(a),t=yS.bind(null,t,i,a),i.then(t,t))}function yS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Ve&a)===a&&(bt===4||bt===3&&(Ve&62914560)===Ve&&300>Ut()-kc?(Ye&2)===0&&po(t,0):zd|=a,fo===Ve&&(fo=0)),qi(t)}function tv(t,i){i===0&&(i=Va()),t=ia(t,i),t!==null&&(K(t,i),qi(t))}function _S(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),tv(t,a)}function vS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),tv(t,a)}function ES(t,i){return pt(t,i)}var qc=null,yo=null,Yd=!1,Hc=!1,Kd=!1,ds=0;function qi(t){t!==yo&&t.next===null&&(yo===null?qc=yo=t:yo=yo.next=t),Hc=!0,Yd||(Yd=!0,bS())}function zl(t,i){if(!Kd&&Hc){Kd=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ve,d=Bn(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||wn(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Kd=!1}}function TS(){nv()}function nv(){Hc=Yd=!1;var t=0;ds!==0&&OS()&&(t=ds);for(var i=Ut(),a=null,l=qc;l!==null;){var f=l.next,d=iv(l,i);d===0?(l.next=null,a===null?qc=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(Hc=!0)),l=f}jt!==0&&jt!==5||zl(t),ds!==0&&(ds=0)}function iv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Wo(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=rt,a=Ve,a=Bn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&An(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&An(l),Hn(a)){case 2:case 8:a=Br;break;case 32:a=Un;break;case 268435456:a=Hs;break;default:a=Un}return l=rv.bind(null,t),a=pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&An(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=Ve;return l=Bn(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(z_(t,l,i),iv(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?rv.bind(null,t):null)}function sv(t,i){if(Bc())return null;z_(t,i,!0)}function bS(){VS(function(){(Ye&6)!==0?pt(sr,TS):nv()})}function Xd(){if(ds===0){var t=to;t===0&&(t=zn,zn<<=1,(zn&261888)===0&&(zn=256)),ds=t}return ds}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function ov(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function SS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=av((f[Ht]||null).action),_=l.submitter;_&&(i=(i=_[Ht]||null)?av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new ki("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var N=_?ov(f,_):new FormData(f);pd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?ov(f,_):new FormData(f),pd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var $d=0;$d<Of.length;$d++){var Wd=Of[$d],AS=Wd.toLowerCase(),wS=Wd[0].toUpperCase()+Wd.slice(1);gi(AS,"on"+wS)}gi(Ug,"onAnimationEnd"),gi(zg,"onAnimationIteration"),gi(jg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(B1,"onTransitionRun"),gi(q1,"onTransitionStart"),gi(H1,"onTransitionCancel"),gi(Bg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function lv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,F=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch($){rc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,F=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch($){rc($)}f.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[ka];a===void 0&&(a=i[ka]=new Set);var l=t+"__bubble";a.has(l)||(uv(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),uv(a,t,l,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Fc]){t[Fc]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,Jd("selectionchange",!1,i))}}function uv(t,i,a,l){switch(Uv(i)){case 2:var f=eA;break;case 8:f=tA;break;default:f=mm}a=f.bind(null,i,a,t),f=void 0,!Xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function em(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Ii(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Kr(function(){var F=d,$=Gn(a),ee=[];e:{var G=qg.get(t);if(G!==void 0){var Y=ki,he=t;switch(t){case"keypress":if(Ws(a)===0)break e;case"keydown":case"keyup":Y=tc;break;case"focusin":he="focus",Y=Zs;break;case"focusout":he="blur",Y=Zs;break;case"beforeblur":case"afterblur":Y=Zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Ug:case zg:case jg:Y=Ku;break;case Bg:Y=A;break;case"scroll":case"scrollend":Y=cl;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cr;break;case"toggle":case"beforetoggle":Y=Ce}var ye=(i&4)!==0,it=!ye&&(t==="scroll"||t==="scrollend"),z=ye?G!==null?G+"Capture":null:G;ye=[];for(var V=F,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=fi(V,z),W!=null&&ye.push(Bl(V,W,H))),it)break;V=V.return}0<ye.length&&(G=new Y(G,he,null,a,$),ee.push({event:G,listeners:ye}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==ol&&(he=a.relatedTarget||a.fromElement)&&(Ii(he)||he[Ri]))break e;if((Y||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=F,he=he?Ii(he):null,he!==null&&(it=u(he),ye=he.tag,he!==it||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(Y=null,he=F),Y!==he)){if(ye=hl,W="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=cr,W="onPointerLeave",z="onPointerEnter",V="pointer"),it=Y==null?G:Rn(Y),H=he==null?G:Rn(he),G=new ye(W,V+"leave",Y,a,$),G.target=it,G.relatedTarget=H,W=null,Ii($)===F&&(ye=new ye(z,V+"enter",he,a,$),ye.target=H,ye.relatedTarget=it,W=ye),it=W,Y&&he)t:{for(ye=CS,z=Y,V=he,H=0,W=z;W;W=ye(W))H++;W=0;for(var pe=V;pe;pe=ye(pe))W++;for(;0<H-W;)z=ye(z),H--;for(;0<W-H;)V=ye(V),W--;for(;H--;){if(z===V||V!==null&&z===V.alternate){ye=z;break t}z=ye(z),V=ye(V)}ye=null}else ye=null;Y!==null&&cv(ee,G,Y,ye,!1),he!==null&&it!==null&&cv(ee,it,he,ye,!0)}}e:{if(G=F?Rn(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var He=Cg;else if(wg(G))if(Ig)He=U1;else{He=L1;var fe=k1}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&za(F.elementType)&&(He=Cg):He=P1;if(He&&(He=He(t,F))){Rg(ee,He,a,$);break e}fe&&fe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&rl(G,"number",G.value)}switch(fe=F?Rn(F):window,t){case"focusin":(wg(fe)||fe.contentEditable==="true")&&(Ya=fe,xf=F,gl=null);break;case"focusout":gl=xf=Ya=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Lg(ee,a,$);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Lg(ee,a,$)}var xe;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Qa?ea(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ui&&a.locale!=="ko"&&(Qa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Qa&&(xe=ul()):(Vi=$,ll="value"in Vi?Vi.value:Vi.textContent,Qa=!0)),fe=Gc(F,ke),0<fe.length&&(ke=new Pi(ke,t,null,a,$),ee.push({event:ke,listeners:fe}),xe?ke.data=xe:(xe=Ga(a),xe!==null&&(ke.data=xe)))),(xe=Yn?N1(t,a):O1(t,a))&&(ke=Gc(F,"onBeforeInput"),0<ke.length&&(fe=new Pi("onBeforeInput","beforeinput",null,a,$),ee.push({event:fe,listeners:ke}),fe.data=xe)),SS(ee,t,F,a,$)}lv(ee,i)})}function Bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=fi(t,a),f!=null&&l.unshift(Bl(t,f,d)),f=fi(t,i),f!=null&&l.push(Bl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function CS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,F=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||F===null||(N=F,f?(F=fi(a,d),F!=null&&_.unshift(Bl(a,F,N))):f||(F=fi(a,d),F!=null&&_.push(Bl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var IS=/\r\n?/g,xS=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(xS,"")}function fv(t,i){return i=hv(i),hv(t)===i}function nt(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,l);break;case"style":al(t,l,d);break;case"data":if(i!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",f.name,f,null),nt(t,i,"formEncType",f.formEncType,f,null),nt(t,i,"formMethod",f.formMethod,f,null),nt(t,i,"formTarget",f.formTarget,f,null)):(nt(t,i,"encType",f.encType,f,null),nt(t,i,"method",f.method,f,null),nt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hi);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Pa(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gu.get(a)||a,Pa(t,a,l))}}function tm(t,i,a,l,f,d){switch(a){case"style":al(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pa(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,_,a,null)}}f&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=_=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:nt(t,i,l,$,a,null)}}qu(t,d,S,N,F,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:nt(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Fr(t,!!l,i,!1):a!=null&&Fr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:nt(t,i,_,S,a,null)}Gr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Oe(jl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,F,l,a,null)}return;default:if(za(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&tm(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&nt(t,i,S,l,a,null))}function DS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,F=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||nt(t,i,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":d=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&nt(t,i,G,Y,l,ee)}}Ua(t,_,S,N,F,$,d,f);return;case"select":Y=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&nt(t,i,f,d,l,N)}i=S,a=_,l=Y,G!=null?Fr(t,!!a,G,!1):!!l!=!!a&&(i!=null?Fr(t,!!a,i,!0):Fr(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&nt(t,i,_,f,l,d)}Hu(t,G,Y);return;case"option":for(var he in a)if(G=a[he],a.hasOwnProperty(he)&&G!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:nt(t,i,he,null,l,G)}for(N in l)if(G=l[N],Y=a[N],l.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(t,i,N,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&nt(t,i,ye,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:nt(t,i,F,G,l,Y)}return;default:if(za(i)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&tm(t,i,it,void 0,l,G);for($ in l)G=l[$],Y=a[$],!l.hasOwnProperty($)||G===Y||G===void 0&&Y===void 0||tm(t,i,$,G,l,Y);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&nt(t,i,z,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||nt(t,i,ee,G,l,Y)}function dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&dv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>S)break;var $=N.transferSize,ee=N.initiatorType;$&&dv(ee)&&(N=N.responseEnd,_+=$*(N<S?1:(S-F)/(N-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function Qc(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function OS(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(kS)}:gv;function kS(t){setTimeout(function(){throw t})}function ms(t){return t==="head"}function _v(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),To(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&ql(t.ownerDocument.body);a=f}while(a);To(i)}function vv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function PS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function Ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ei(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function US(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ei(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var um=null;function Tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ei(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Sv(t,i,a){switch(i=Qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);La(t)}var ti=new Map,Av=new Set;function Yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wr=se.d;se.d={f:zS,r:jS,D:BS,C:qS,L:HS,m:FS,X:QS,S:GS,M:YS};function zS(){var t=wr.f(),i=Uc();return t||i}function jS(t){var i=Fn(t);i!==null&&i.tag===5&&i.type==="form"?By(i):wr.r(t)}var _o=typeof document>"u"?null:document;function wv(t,i,a){var l=_o;if(l&&typeof i=="string"&&i){var f=dn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Av.has(f)||(Av.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function BS(t){wr.D(t),wv("dns-prefetch",t,null)}function qS(t,i){wr.C(t,i),wv("preconnect",t,i)}function HS(t,i,a){wr.L(t,i,a);var l=_o;if(l&&t&&i){var f='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(t)+'"]';var d=f;switch(i){case"style":d=vo(t);break;case"script":d=Eo(t)}ti.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ti.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Jt(i,"link",t),xt(i),l.head.appendChild(i)))}}function FS(t,i){wr.m(t,i);var a=_o;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!ti.has(d)&&(t=T({rel:"modulepreload",href:t},i),ti.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Jt(l,"link",t),xt(l),a.head.appendChild(l)}}}function GS(t,i,a){wr.S(t,i,a);var l=_o;if(l&&t){var f=xi(l).hoistableStyles,d=vo(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Hl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ti.get(d))&&cm(t,a);var N=_=l.createElement("link");xt(N),Jt(N,"link",t),N._p=new Promise(function(F,$){N.onload=F,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function QS(t,i){wr.X(t,i);var a=_o;if(a&&t){var l=xi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0},i),(i=ti.get(f))&&hm(t,i),d=a.createElement("script"),xt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function YS(t,i){wr.M(t,i);var a=_o;if(a&&t){var l=xi(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(Fl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=ti.get(f))&&hm(t,i),d=a.createElement("script"),xt(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Rv(t,i,a,l){var f=(f=Se.current)?Yc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=vo(a.href),a=xi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vo(a.href);var d=xi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Hl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),ti.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ti.set(t,a),d||KS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=xi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vo(t){return'href="'+dn(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Cv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),xt(i),t.head.appendChild(i))}function Eo(t){return'[src="'+dn(t)+'"]'}function Fl(t){return"script[async]"+t}function Iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Jt(l,"style",f),Kc(l,a.precedence,t),i.instance=l;case"stylesheet":f=vo(a.href);var d=t.querySelector(Hl(f));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=Cv(a),(f=ti.get(f))&&cm(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),i.state.loading|=4,Kc(d,a.precedence,t),i.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(Fl(d)))?(i.instance=f,xt(f),f):(l=a,(f=ti.get(d))&&(l=T({},a),hm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Jt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,a.precedence,t));return i.instance}function Kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function xv(t,i,a){if(Xc===null){var l=new Map,f=Xc=new Map;f.set(a,l)}else f=Xc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ci]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Dv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function XS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $S(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=vo(l.href),d=i.querySelector(Hl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=$c.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=Cv(l),(f=ti.get(f))&&cm(l,f),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$c.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var fm=0;function WS(t,i){return t.stylesheets&&t.count===0&&Jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&fm===0&&(fm=62500*NS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>fm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,i.forEach(JS,t),Wc=null,$c.call(t))}function JS(t,i){if(!(i.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Gl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ZS(t,i,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ov(t,i,a,l,f,d,_,S,N,F,$,ee){return t=new ZS(t,i,a,_,N,F,$,ee,S),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=Gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function Mv(t){return t?(t=$a,t):$a}function Vv(t,i,a,l,f,d){f=Mv(f),l.context===null?l.context=f:l.pendingContext=f,l=is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=rs(t,l,i),a!==null&&(vn(a,t,i),Sl(a,t,i))}function kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function dm(t,i){kv(t,i),(t=t.alternate)&&kv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=ia(t,67108864);i!==null&&vn(i,t,67108864),dm(t,67108864)}}function Pv(t){if(t.tag===13||t.tag===31){var i=Vn();i=or(i);var a=ia(t,i);a!==null&&vn(a,t,i),dm(t,i)}}var Zc=!0;function eA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,mm(t,i,a,l)}finally{se.p=d,X.T=f}}function tA(t,i,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,mm(t,i,a,l)}finally{se.p=d,X.T=f}}function mm(t,i,a,l){if(Zc){var f=pm(l);if(f===null)em(t,i,l,eh,a),zv(t,l);else if(iA(f,t,i,a,l))l.stopPropagation();else if(zv(t,l),i&4&&-1<nA.indexOf(t)){for(;f!==null;){var d=Fn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-gt(_);S.entanglements[1]|=N,_&=~N}qi(d),(Ye&6)===0&&(Lc=Ut()+500,zl(0))}}break;case 31:case 13:S=ia(d,2),S!==null&&vn(S,d,2),Uc(),dm(d,2)}if(d=pm(l),d===null&&em(t,i,l,eh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(t,i,l,null,a)}}function pm(t){return t=Gn(t),gm(t)}var eh=null;function gm(t){if(eh=null,t=Ii(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function Uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case sr:return 2;case Br:return 8;case Un:case Na:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var ym=!1,ps=null,gs=null,ys=null,Ql=new Map,Yl=new Map,_s=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(t,i){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Kl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Fn(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function iA(t,i,a,l,f){switch(i){case"focusin":return ps=Kl(ps,t,i,a,l,f),!0;case"dragenter":return gs=Kl(gs,t,i,a,l,f),!0;case"mouseover":return ys=Kl(ys,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,Kl(Ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Yl.set(d,Kl(Yl.get(d)||null,t,i,a,l,f)),!0}return!1}function jv(t){var i=Ii(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,ui(t.priority,function(){Pv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ui(t.priority,function(){Pv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return i=Fn(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function Bv(t,i,a){th(t)&&a.delete(i)}function rA(){ym=!1,ps!==null&&th(ps)&&(ps=null),gs!==null&&th(gs)&&(gs=null),ys!==null&&th(ys)&&(ys=null),Ql.forEach(Bv),Yl.forEach(Bv)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var ih=null;function qv(t){ih!==t&&(ih=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var d=Fn(a);d!==null&&(t.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function To(t){function i(N){return nh(N,t)}ps!==null&&nh(ps,t),gs!==null&&nh(gs,t),ys!==null&&nh(ys,t),Ql.forEach(i),Yl.forEach(i);for(var a=0;a<_s.length;a++){var l=_s[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_s.length&&(a=_s[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&_s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ht]||null;if(typeof d=="function")_||qv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ht]||null)S=_.formAction;else if(gm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function _m(t){this._internalRoot=t}rh.prototype.render=_m.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Vn();Vv(a,l,t,i,null,null)},rh.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Vv(t.current,2,null,t,null,null),Uc(),i[Ri]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Uu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_s.length&&i!==0&&i<_s[a].priority;a++);_s.splice(a,0,t),a===0&&jv(t)}};var Fv=e.version;if(Fv!=="19.2.0")throw Error(s(527,Fv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var sA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{qt=sh.inject(sA),zt=sh}catch{}}return $l.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Wy,d=Jy,_=Zy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(t,1,!1,null,null,a,l,null,f,d,_,Hv),t[Ri]=i.current,Zd(t),new _m(i)},$l.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Wy,_=Jy,S=Zy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Ov(t,1,!0,i,a??null,l,f,N,d,_,S,Hv),i.context=Mv(null),a=i.current,l=Vn(),l=or(l),f=is(l),f.callback=null,rs(a,f,l),a=l,i.current.lanes=a,K(i,a),qi(i),t[Ri]=i.current,Zd(t),new rh(i)},$l.version="19.2.0",$l}var eE;function gA(){if(eE)return Tm.exports;eE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=pA(),Tm.exports}var yA=gA();const _A=q0(yA);var tE="popstate";function vA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Hm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:cu(o)}return TA(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ri(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EA(){return Math.random().toString(36).substring(2,10)}function nE(r,e){return{usr:r.state,key:r.key,idx:e}}function Hm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||EA()}}function cu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function TA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let j=E(),te=j==null?null:j-g;g=j,p&&p({action:m,location:B.location,delta:te})}function w(j,te){m="PUSH";let ie=Hm(B.location,j,te);g=E()+1;let re=nE(ie,g),de=B.createHref(ie);try{h.pushState(re,"",de)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(de)}u&&p&&p({action:m,location:B.location,delta:1})}function O(j,te){m="REPLACE";let ie=Hm(B.location,j,te);g=E();let re=nE(ie,g),de=B.createHref(ie);h.replaceState(re,"",de),u&&p&&p({action:m,location:B.location,delta:0})}function D(j){return bA(j)}let B={get action(){return m},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(tE,T),p=j,()=>{o.removeEventListener(tE,T),p=null}},createHref(j){return e(o,j)},createURL:D,encodeLocation(j){let te=D(j);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:O,go(j){return h.go(j)}};return B}function bA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function H0(r,e,n="/"){return SA(r,e,n,!1)}function SA(r,e,n,s){let o=typeof e=="string"?Bo(e):e,u=Or(o.pathname||"/",n);if(u==null)return null;let h=F0(r);AA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=kA(u);m=MA(h[p],g,s)}return m}function F0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ft(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=xr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),F0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:NA(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of G0(h.path))u(h,m,!0,p)}),e}function G0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=G0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function AA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:OA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wA=/^:[\w-]+$/,RA=3,CA=2,IA=1,xA=10,DA=-2,iE=r=>r==="*";function NA(r,e){let n=r.split("/"),s=n.length;return n.some(iE)&&(s+=DA),e&&(s+=CA),n.filter(o=>!iE(o)).reduce((o,u)=>o+(wA.test(u)?RA:u===""?IA:xA),s)}function OA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function MA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:xr([u,T.pathname]),pathnameBase:jA(xr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=xr([u,T.pathnameBase]))}return h}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=VA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let D=m[w]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const O=m[w];return T&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function VA(r,e=!1,n=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var LA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PA=r=>LA.test(r);function UA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r,u;if(n)if(PA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=rE(n.substring(1),"/"):u=rE(n,e)}else u=e;return{pathname:u,search:BA(s),hash:qA(o)}}function rE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vp(r){let e=zA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ep(r,e,n,s=!1){let o;typeof r=="string"?o=Bo(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=UA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var xr=r=>r.join("/").replace(/\/\/+/g,"/"),jA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function HA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function FA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q0=["POST","PUT","PATCH","DELETE"];new Set(Q0);var GA=["GET",...Q0];new Set(GA);var qo=P.createContext(null);qo.displayName="DataRouter";var Xh=P.createContext(null);Xh.displayName="DataRouterState";P.createContext(!1);var Y0=P.createContext({isTransitioning:!1});Y0.displayName="ViewTransition";var QA=P.createContext(new Map);QA.displayName="Fetchers";var YA=P.createContext(null);YA.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var Au=P.createContext(null);Au.displayName="Location";var Ai=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Tp=P.createContext(null);Tp.displayName="RouteError";function KA(r,{relative:e}={}){ft(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(si),{hash:o,pathname:u,search:h}=wu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:xr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Ho(){return P.useContext(Au)!=null}function Ur(){return ft(Ho(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Au).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X0(r){P.useContext(si).static||P.useLayoutEffect(r)}function Fo(){let{isDataRoute:r}=P.useContext(Ai);return r?ow():XA()}function XA(){ft(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qo),{basename:e,navigator:n}=P.useContext(si),{matches:s}=P.useContext(Ai),{pathname:o}=Ur(),u=JSON.stringify(vp(s)),h=P.useRef(!1);return X0(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(ri(h.current,K0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:xr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function $0(){let{matches:r}=P.useContext(Ai),e=r[r.length-1];return e?e.params:{}}function wu(r,{relative:e}={}){let{matches:n}=P.useContext(Ai),{pathname:s}=Ur(),o=JSON.stringify(vp(n));return P.useMemo(()=>Ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return W0(r,e)}function W0(r,e,n,s,o){ft(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(si),{matches:h}=P.useContext(Ai),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";J0(g,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=Ur(),O;if(e){let ie=typeof e=="string"?Bo(e):e;ft(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=w;let D=O.pathname||"/",B=D;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice(ie.length).join("/")}let j=H0(r,{pathname:B});ri(T||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=tw(j&&j.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:xr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:xr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),h,n,s,o);return e&&te?P.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},te):te}function WA(){let r=aw(),e=HA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var JA=P.createElement(WA,null),ZA=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?P.createElement(Ai.Provider,{value:this.props.routeContext},P.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:r,match:e,children:n}){let s=P.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ai.Provider,{value:r},n)}function tw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:O}=n,D=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||D){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:FA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let O,D=!1,B=null,j=null;n&&(O=h&&T.route.id?h[T.route.id]:void 0,B=T.route.errorElement||JA,m&&(p<0&&w===0?(J0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):p===w&&(D=!0,j=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,w+1)),ie=()=>{let re;return O?re=B:D?re=j:T.route.Component?re=P.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,P.createElement(ew,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?P.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:B,error:O,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ie()},null)}function bp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(r){let e=P.useContext(qo);return ft(e,bp(r)),e}function iw(r){let e=P.useContext(Xh);return ft(e,bp(r)),e}function rw(r){let e=P.useContext(Ai);return ft(e,bp(r)),e}function Sp(r){let e=rw(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sw(){return Sp("useRouteId")}function aw(){let r=P.useContext(Tp),e=iw("useRouteError"),n=Sp("useRouteError");return r!==void 0?r:e.errors?.[n]}function ow(){let{router:r}=nw("useNavigate"),e=Sp("useNavigate"),n=P.useRef(!1);return X0(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ri(n.current,K0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var sE={};function J0(r,e,n){!e&&!sE[r]&&(sE[r]=!0,ri(!1,n))}P.memo(lw);function lw({routes:r,future:e,state:n,unstable_onError:s}){return W0(r,void 0,n,s,e)}function kn({to:r,replace:e,state:n,relative:s}){ft(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(si);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Ai),{pathname:h}=Ur(),m=Fo(),p=Ep(r,vp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Rr(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ft(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Bo(n));let{pathname:g="/",search:E="",hash:T="",state:w=null,key:O="default"}=n,D=P.useMemo(()=>{let B=Or(g,m);return B==null?null:{location:{pathname:B,search:E,hash:T,state:w,key:O},navigationType:s}},[m,g,E,T,w,O,s]);return ri(D!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(si.Provider,{value:p},P.createElement(Au.Provider,{children:e,value:D}))}function cw({children:r,location:e}){return $A(Fm(r),e)}function Fm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Fm(s.props.children,u));return}ft(s.type===Rr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function $h(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function hw(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function fw(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function dw(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function mw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pw(r,e){return r.button===0&&(!e||e==="_self")&&!mw(r)}var ah=null;function gw(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!yw.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function _w(r,e){let n,s,o,u,h;if(fw(r)){let m=r.getAttribute("action");s=m?Or(m,e):null,n=r.getAttribute("method")||ph,o=Rm(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(hw(r)||dw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||gh,u=new FormData(m,r),!gw()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Or(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Ew(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Ew(u,n);return h.links?h.links():[]}return[]}));return Rw(s.flat(1).filter(Tw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Sw(r,e,{includeHydrateFallback:n}={}){return Aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Aw(r){return[...new Set(r)]}function ww(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Rw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Z0(){let r=P.useContext(qo);return Ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Cw(){let r=P.useContext(Xh);return Ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wp=P.createContext(void 0);wp.displayName="FrameworkContext";function eT(){let r=P.useContext(wp);return Ap(r,"You must render this element inside a <HydratedRouter> element"),r}function Iw(r,e){let n=P.useContext(wp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=te=>{te.forEach(ie=>{h(ie.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),P.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let O=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Wl(m,O),onBlur:Wl(p,D),onMouseEnter:Wl(g,O),onMouseLeave:Wl(E,D),onTouchStart:Wl(T,O)}]:[!1,w,{}]}function Wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function xw({page:r,...e}){let{router:n}=Z0(),s=P.useMemo(()=>H0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(Nw,{page:r,matches:s,...e}):null}function Dw(r){let{manifest:e,routeModules:n}=eT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return bw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Nw({page:r,matches:e,...n}){let s=Ur(),{manifest:o,routeModules:u}=eT(),{basename:h}=Z0(),{loaderData:m,matches:p}=Cw(),g=P.useMemo(()=>aE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=P.useMemo(()=>aE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,B=!1;if(e.forEach(te=>{let ie=o.routes[te.route.id];!ie||!ie.hasLoader||(!g.some(re=>re.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ie.hasClientLoader?B=!0:D.add(te.route.id))}),D.size===0)return[];let j=vw(r,h,"data");return B&&D.size>0&&j.searchParams.set("_routes",e.filter(te=>D.has(te.route.id)).map(te=>te.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,g,e,r,u]),w=P.useMemo(()=>Sw(E,o),[E,o]),O=Dw(E);return P.createElement(P.Fragment,null,T.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),O.map(({key:D,link:B})=>P.createElement("link",{key:D,nonce:n.nonce,...B})))}function Ow(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.10.0")}catch{}function Mw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=vA({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(uw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wh=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},O){let{basename:D,unstable_useTransitions:B}=P.useContext(si),j=typeof g=="string"&&nT.test(g),te,ie=!1;if(typeof g=="string"&&j&&(te=g,tT))try{let L=new URL(window.location.href),M=g.startsWith("//")?new URL(L.protocol+g):new URL(g),U=Or(M.pathname,D);M.origin===L.origin&&U!=null?g=U+M.search+M.hash:ie=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=KA(g,{relative:o}),[de,be,Te]=Iw(s,w),x=Pw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:B});function R(L){e&&e(L),L.defaultPrevented||x(L)}let C=P.createElement("a",{...w,...Te,href:te||re,onClick:ie||u?e:R,ref:Ow(O,be),target:p,"data-discover":!j&&n==="render"?"true":void 0});return de&&!j?P.createElement(P.Fragment,null,C,P.createElement(xw,{page:re})):C});Wh.displayName="Link";var Vw=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=wu(h,{relative:g.relative}),w=Ur(),O=P.useContext(Xh),{navigator:D,basename:B}=P.useContext(si),j=O!=null&&qw(T)&&m===!0,te=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,ie=w.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&B&&(re=Or(re,B)||re);const de=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let be=ie===te||!o&&ie.startsWith(te)&&ie.charAt(de)==="/",Te=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),x={isActive:be,isPending:Te,isTransitioning:j},R=be?e:void 0,C;typeof s=="function"?C=s(x):C=[s,be?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(x):u;return P.createElement(Wh,{...g,"aria-current":R,className:C,ref:E,style:L,to:h,viewTransition:m},typeof p=="function"?p(x):p)});Vw.displayName="NavLink";var kw=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},O)=>{let{unstable_useTransitions:D}=P.useContext(si),B=jw(),j=Bw(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&nT.test(m),re=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let be=de.nativeEvent.submitter,Te=be?.getAttribute("formmethod")||h,x=()=>B(be||de.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});D&&n!==!1?P.startTransition(()=>x()):x()};return P.createElement("form",{ref:O,method:te,action:j,onSubmit:s?p:re,...w,"data-discover":!ie&&r==="render"?"true":void 0})});kw.displayName="Form";function Lw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(r){let e=P.useContext(qo);return ft(e,Lw(r)),e}function Pw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let p=Fo(),g=Ur(),E=wu(r,{relative:u});return P.useCallback(T=>{if(pw(T,e)){T.preventDefault();let w=n!==void 0?n:cu(g)===cu(E),O=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h});m?P.startTransition(()=>O()):O()}},[g,p,E,n,s,e,r,o,u,h,m])}var Uw=0,zw=()=>`__${String(++Uw)}__`;function jw(){let{router:r}=iT("useSubmit"),{basename:e}=P.useContext(si),n=sw(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=_w(u,e);if(h.navigate===!1){let w=h.fetcherKey||zw();await s(w,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function Bw(r,{relative:e}={}){let{basename:n}=P.useContext(si),s=P.useContext(Ai);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(r||".",{relative:e})},h=Ur();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:xr([n,u.pathname])),cu(u)}function qw(r,{relative:e}={}){let n=P.useContext(Y0);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iT("useViewTransitionState"),o=wu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Or(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,u)!=null}const Hw=()=>{};var oE={};const rT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Fw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(w=64)),s.push(n[E],n[T],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Fw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Gw;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const D=g<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qw=function(r){const e=rT(r);return sT.encodeByteArray(e,!0)},Ih=function(r){return Qw(r).replace(/\./g,"")},aT=function(r){try{return sT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Yw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof oE>"u")return;const r=oE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$w=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aT(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return Hw()||Kw()||Xw()||$w()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oT=r=>Jh()?.emulatorHosts?.[r],lT=r=>{const e=oT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uT=()=>Jh()?.config,cT=r=>Jh()?.[`_${r}`];class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ra(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rp(r){return(await fetch(r,{credentials:"include"})).ok}function hT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(h)),""].join(".")}const ru={};function Jw(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function Zw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let lE=!1;function Cp(r,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||ru[r]===e||ru[r]||lE)return;ru[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Jw().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lE=!0,h()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Zw(s),O=n("text"),D=document.getElementById(O)||document.createElement("span"),B=n("learnmore"),j=document.getElementById(B)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(j,B);const de=g();p(ie,te),re.append(ie,D,j,de),document.body.appendChild(re)}u?(D.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function tR(){const r=Jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const uR="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?cR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Zi(o,m,s)}}function cR(r,e){return r.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(uE(u)&&uE(h)){if(!Ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uE(r){return r!==null&&typeof r=="object"}function Cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function dR(r,e){const n=new mR(r,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cm(){}function Yt(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ww;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===ga?void 0:r}function _R(r){return r.instantiationMode==="EAGER"}class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const ER={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},TR=Le.INFO,bR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},SR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AR=(r,e)=>e.some(n=>r instanceof n);let cE,hE;function wR(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Gm=new WeakMap,dT=new WeakMap,Im=new WeakMap,xp=new WeakMap;function CR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&fT.set(n,r)}).catch(()=>{}),xp.set(e,r),e}function IR(r){if(Gm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Gm.set(r,e)}let Qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xR(r){Qm=r(Qm)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return dT.set(s,e.sort?e.sort():[e]),Rs(s)}:RR().includes(r)?function(...e){return r.apply(xm(this),e),Rs(fT.get(this))}:function(...e){return Rs(r.apply(xm(this),e))}}function NR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&IR(r),AR(r,wR())?new Proxy(r,Qm):r)}function Rs(r){if(r instanceof IDBRequest)return CR(r);if(Im.has(r))return Im.get(r);const e=NR(r);return e!==r&&(Im.set(r,e),xp.set(e,r)),e}const xm=r=>xp.get(r);function OR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Rs(h.result),p.oldVersion,p.newVersion,Rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],Dm=new Map;function fE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}xR(r=>({...r,get:(e,n,s)=>fE(e,n)||r.get(e,n,s),has:(e,n)=>!!fE(e,n)||r.has(e,n)}));class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){return r.getComponent()?.type==="VERSION"}const Ym="@firebase/app",dE="0.14.6";const Mr=new Ip("@firebase/app"),PR="@firebase/app-compat",UR="@firebase/analytics-compat",zR="@firebase/analytics",jR="@firebase/app-check-compat",BR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",KR="@firebase/functions-compat",XR="@firebase/installations",$R="@firebase/installations-compat",WR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.6.0";const Km="[DEFAULT]",cC={[Ym]:"fire-core",[PR]:"fire-core-compat",[zR]:"fire-analytics",[UR]:"fire-analytics-compat",[BR]:"fire-app-check",[jR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[KR]:"fire-fn-compat",[XR]:"fire-iid",[$R]:"fire-iid-compat",[WR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};const xh=new Map,hC=new Map,Xm=new Map;function mE(r,e){try{r.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ta(r){const e=r.name;if(Xm.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const n of xh.values())mE(n,r);for(const n of hC.values())mE(n,r);return!0}function Zh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Ru("app","Firebase",fC);class dC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}const Ca=uC;function mT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Km,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(n||(n=uT()),!n)throw Cs.create("no-options");const u=xh.get(o);if(u){if(Ea(n,u.options)&&Ea(s,u.config))return u;throw Cs.create("duplicate-app",{appName:o})}const h=new vR(o);for(const p of Xm.values())h.addComponent(p);const m=new dC(n,s,h);return xh.set(o,m),m}function Dp(r=Km){const e=xh.get(r);if(!e&&r===Km&&uT())return mT();if(!e)throw Cs.create("no-app",{appName:r});return e}function Fi(r,e,n){let s=cC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(h.join(" "));return}Ta(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mC="firebase-heartbeat-database",pC=1,hu="firebase-heartbeat-store";let Nm=null;function pT(){return Nm||(Nm=OR(mC,pC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function gC(r){try{const n=(await pT()).transaction(hu),s=await n.objectStore(hu).get(gT(r));return await n.done,s}catch(e){if(e instanceof Zi)Mr.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function pE(r,e){try{const s=(await pT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,gT(r)),await s.done}catch(n){if(n instanceof Zi)Mr.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}const yC=1024,_C=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>_C){const o=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:s}=EC(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mr.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function EC(r,e=yC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),yE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function bC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function SC(r){Ta(new Ds("platform-logger",e=>new kR(e),"PRIVATE")),Ta(new Ds("heartbeat",e=>new vC(e),"PRIVATE")),Fi(Ym,dE,r),Fi(Ym,dE,"esm2020"),Fi("fire-js","")}SC("");var AC="firebase",wC="12.6.0";Fi(AC,wC,"app");function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RC=yT,_T=new Ru("auth","Firebase",yT());const Dh=new Ip("@firebase/auth");function CC(r,...e){Dh.logLevel<=Le.WARN&&Dh.warn(`Auth (${Ca}): ${r}`,...e)}function yh(r,...e){Dh.logLevel<=Le.ERROR&&Dh.error(`Auth (${Ca}): ${r}`,...e)}function bi(r,...e){throw Np(r,...e)}function Gi(r,...e){return Np(r,...e)}function vT(r,e,n){const s={...RC(),[e]:n};return new Ru("auth","Firebase",s).create(e,{appName:r.name})}function Dr(r){return vT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _T.create(r,...e)}function ve(r,e,...n){if(!r)throw Np(e,...n)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function Vr(r,e){r||Cr(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function IC(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}function xC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||iR()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||rR()}get(){return xC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(r,e){Vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ET{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MC=new Iu(3e4,6e4);function Ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Us(r,e,n,s,o={}){return TT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Cu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return nR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ra(r.emulatorConfig.host)&&(g.credentials="include"),ET.fetch()(await bT(r,r.config.apiHost,n,m),g)})}async function TT(r,e,n){r._canInitEmulator=!1;const s={...NC,...e};try{const o=new kC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw oh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw oh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vT(r,E,g);bi(r,E)}}catch(o){if(o instanceof Zi)throw o;bi(r,"network-request-failed",{message:String(o)})}}async function xu(r,e,n,s,o={}){const u=await Us(r,e,n,s,o);return"mfaPendingCredential"in u&&bi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function bT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return OC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function VC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),MC.get())})}}function oh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gi(r,e,s);return o.customData._tokenResponse=n,o}function vE(r){return r!==void 0&&r.enterprise!==void 0}class LC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PC(r,e){return Us(r,"GET","/v2/recaptchaConfig",Ps(r,e))}async function UC(r,e){return Us(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return Us(r,"POST","/v1/accounts:lookup",e)}function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zC(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=Mp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:su(Om(o.auth_time)),issuedAtTime:su(Om(o.iat)),expirationTime:su(Om(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Om(r){return Number(r)*1e3}function Mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function EE(r){const e=Mp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&jC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class BC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(r){const e=r.auth,n=await r.getIdToken(),s=await fu(r,Nh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ST(o.providerUserInfo):[],h=HC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function qC(r){const e=Yt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ST(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FC(r,e){const n=await TT(r,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await bT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ra(r.emulatorConfig.host)&&(p.credentials="include"),ET.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GC(r,e){return Us(r,"POST","/v2/accounts:revokeToken",Ps(r,e))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function Es(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zC(this,e)}reload(){return qC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await fu(this,UC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:D,stsTokenManager:B}=n;ve(T&&B,e,"internal-error");const j=Co.fromJSON(this.name,B);ve(typeof T=="string",e,"internal-error"),Es(s,e.name),Es(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof O=="boolean",e,"internal-error"),Es(u,e.name),Es(h,e.name),Es(m,e.name),Es(p,e.name),Es(g,e.name),Es(E,e.name);const te=new Ei({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:g,lastLoginAt:E});return D&&Array.isArray(D)&&(te.providerData=D.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new Co;o.updateFromServerResponse(n);const u=new Ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Co;m.updateFromIdToken(s);const p=new Ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const TE=new Map;function Ir(r){Vr(r instanceof Function,"Expected a class definition");let e=TE.get(r);return e?(Vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,TE.set(r,e),e)}class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AT.type="NONE";const bE=AT;function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(Ir(bE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ir(bE);const h=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Nh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await Ei._fromGetAccountInfoResponse(e,w,E)}else T=Ei._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Io(u,e,s))}}function SE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(NT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function wT(r=ln()){return/firefox\//i.test(r)}function RT(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(r=ln()){return/crios\//i.test(r)}function IT(r=ln()){return/iemobile/i.test(r)}function xT(r=ln()){return/android/i.test(r)}function DT(r=ln()){return/blackberry/i.test(r)}function NT(r=ln()){return/webos/i.test(r)}function Vp(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QC(r=ln()){return Vp(r)&&!!window.navigator?.standalone}function YC(){return sR()&&document.documentMode===10}function OT(r=ln()){return Vp(r)||xT(r)||NT(r)||DT(r)||/windows phone/i.test(r)||IT(r)}function MT(r,e=[]){let n;switch(r){case"Browser":n=SE(ln());break;case"Worker":n=`${SE(ln())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${s}`}class KC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XC(r,e={}){return Us(r,"GET","/v2/passwordPolicy",Ps(r,e))}const $C=6;class WC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class JC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new KC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await Ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Dr(this));const n=e?Yt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XC(this),n=new WC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ia(r){return Yt(r)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZC(r){ef=r}function VT(r){return ef.loadJS(r)}function eI(){return ef.recaptchaEnterpriseScript}function tI(){return ef.gapiScript}function nI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iI{constructor(){this.enterprise=new rI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sI="recaptcha-enterprise",kT="NO_RECAPTCHA";class aI{constructor(e){this.type=sI,this.auth=Ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{PC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new LC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;vE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(kT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&vE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eI();p.length!==0&&(p+=m),VT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function wE(r,e,n,s=!1,o=!1){const u=new aI(r);let h;if(o)h=kT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function oI(r,e){const n=Zh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ea(u,e??{}))return o;bi(o,"already-initialized")}return n.initialize({options:e})}function lI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function uI(r,e,n){const s=Ia(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LT(e),{host:h,port:m}=cI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ea(g,s.config.emulator)&&Ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ra(h)?(Rp(`${u}//${h}${p}`),Cp("Auth",!0)):hI()}function LT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cI(r){const e=LT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:RE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:RE(h)}}}function RE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function fI(r,e){return Us(r,"POST","/v1/accounts:signUp",e)}async function dI(r,e){return xu(r,"POST","/v1/accounts:signInWithPassword",Ps(r,e))}async function mI(r,e){return xu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}async function pI(r,e){return xu(r,"POST","/v1/accounts:signInWithEmailLink",Ps(r,e))}class du extends kp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",dI);case"emailLink":return mI(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",fI);case"emailLink":return pI(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(r,e){return xu(r,"POST","/v1/accounts:signInWithIdp",Ps(r,e))}const gI="http://localhost";class ba extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ba(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}function yI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _I(r){const e=Jl(Zl(r)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(r)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||r}class Lp{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=yI(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_I(e);try{return new Lp(n)}catch{return null}}}class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Lp.parseLink(n);return ve(s,"argument-error"),du._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Du extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends Du{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class bs extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ba._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class Ss extends Du{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";class As extends Du{constructor(){super("twitter.com")}static credential(e,n){return ba._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";async function vI(r,e){return xu(r,"POST","/v1/accounts:signUp",Ps(r,e))}class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Ei._fromIdTokenResponse(e,s,o),h=CE(s);return new Sa({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=CE(s);return new Sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function CE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mh extends Zi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function UT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function EI(r,e,n=!1){const s=await fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Sa._forOperation(r,"link",s)}async function TI(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const u=await fu(r,UT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Mp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),Sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&bi(s,"user-mismatch"),u}}async function zT(r,e,n=!1){if(Ln(r.app))return Promise.reject(Dr(r));const s="signIn",o=await UT(r,s,e),u=await Sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function bI(r,e){return zT(Ia(r),e)}async function jT(r){const e=Ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SI(r,e,n){if(Ln(r.app))return Promise.reject(Dr(r));const s=Ia(r),h=await Jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&jT(r),p}),m=await Sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function AI(r,e,n){return Ln(r.app)?Promise.reject(Dr(r)):bI(Yt(r),Go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jT(r),s})}function wI(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function RI(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}const Vh="__sak";class BT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,II=10;class qT extends BT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);YC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const xI=qT;class HT extends BT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HT.type="SESSION";const FT=HT;function DI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await DI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];function Pp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class NI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Qi(){return window}function OI(r){Qi().location.href=r}function GT(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function MI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VI(){return navigator?.serviceWorker?.controller||null}function kI(){return GT()?self:null}const QT="firebaseLocalStorageDb",LI=1,kh="firebaseLocalStorage",YT="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function PI(){const r=indexedDB.deleteDatabase(QT);return new Nu(r).toPromise()}function Zm(){const r=indexedDB.open(QT,LI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:YT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await PI(),e(await Zm()))})})}async function IE(r,e,n){const s=nf(r,!0).put({[YT]:e,value:n});return new Nu(s).toPromise()}async function UI(r,e){const n=nf(r,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function xE(r,e){const n=nf(r,!0).delete(e);return new Nu(n).toPromise()}const zI=800,jI=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(kI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MI(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await IE(e,Vh,"1"),await xE(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>IE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const BI=KT;new Iu(3e4,6e4);function qI(r,e){return e?Ir(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Up extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HI(r){return zT(r.auth,new Up(r),r.bypassAuthState)}function FI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),TI(n,new Up(r),r.bypassAuthState)}async function GI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),EI(n,new Up(r),r.bypassAuthState)}class XT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:bi(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QI=new Iu(2e3,1e4);class Ro extends XT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QI.get())};e()}}Ro.currentPopupAction=null;const YI="pendingRedirect",vh=new Map;class KI extends XT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await XI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XI(r,e){const n=JI(e),s=WI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $I(r,e){vh.set(r._key(),e)}function WI(r){return Ir(r._redirectPersistence)}function JI(r){return _h(YI,r.config.apiKey,r.name)}async function ZI(r,e,n=!1){if(Ln(r.app))return Promise.reject(Dr(r));const s=Ia(r),o=qI(s,e),h=await new KI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const e2=600*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$T(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function $T({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function n2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(r);default:return!1}}async function i2(r,e={}){return Us(r,"GET","/v1/projects",e)}const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function a2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await i2(r);for(const n of e)try{if(o2(n))return}catch{}bi(r,"unauthorized-domain")}function o2(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!s2.test(n))return!1;if(r2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const l2=new Iu(3e4,6e4);function NE(){const r=Qi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function u2(r){return new Promise((e,n)=>{function s(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Gi(r,"network-request-failed"))},timeout:l2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=nI("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(Gi(r,"network-request-failed"))},VT(`${tI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function c2(r){return Eh=Eh||u2(r),Eh}const h2=new Iu(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,d2):`https://${r.config.authDomain}/${f2}`,s={apiKey:e.apiKey,appName:r.name,v:Ca},o=p2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Cu(s).slice(1)}`}async function y2(r){const e=await c2(r),n=Qi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:g2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Gi(r,"network-request-failed"),m=Qi().setTimeout(()=>{u(h)},h2.get());function p(){Qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const _2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,E2=600,T2="_blank",b2="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(r,e,n,s=v2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={..._2,width:s.toString(),height:o.toString(),top:u,left:h},g=ln().toLowerCase();n&&(m=CT(g)?T2:n),wT(g)&&(e=e||b2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,D])=>`${w}${O}=${D},`,"");if(QC(g)&&m!=="_self")return A2(e||"",m),new OE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new OE(T)}function A2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const w2="__/auth/handler",R2="emulator/auth/handler",C2=encodeURIComponent("fac");async function ME(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ca,eventId:o};if(e instanceof PT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",fR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${C2}=${encodeURIComponent(p)}`:"";return`${I2(r)}?${Cu(m).slice(1)}${g}`}function I2({config:r}){return r.emulator?Op(r,R2):`https://${r.authDomain}/${w2}`}const Mm="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=ZI,this._overrideRedirectResult=$I}async _openPopup(e,n,s,o){Vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ME(e,n,s,$m(),o);return S2(e,u,Pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ME(e,n,s,$m(),o);return OI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y2(e),s=new t2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const u=o?.[0]?.[Mm];u!==void 0&&n(!!u),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OT()||RT()||Vp()}}const D2=x2;var VE="@firebase/auth",kE="1.11.1";class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(r){Ta(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(r)},g=new JC(s,o,u,p);return lI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ta(new Ds("auth-internal",e=>{const n=Ia(e.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(VE,kE,O2(r)),Fi(VE,kE,"esm2020")}const V2=300,k2=cT("authIdTokenMaxAge")||V2;let LE=null;const L2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>k2)return;const o=n?.token;LE!==o&&(LE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(r=Dp()){const e=Zh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=oI(r,{popupRedirectResolver:D2,persistence:[BI,xI,FT]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=L2(u.toString());RI(n,h,()=>h(n.currentUser)),wI(n,m=>h(m))}}const o=oT("auth");return o&&uI(n,`http://${o}`),n}function U2(){return document.getElementsByTagName("head")?.[0]??document}ZC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,WT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(L,M,U){for(var I=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)I[Je-2]=arguments[Je];return R.prototype[M].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)L[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)L[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],M=x.g[2];let U=x.g[3],I;I=R+(U^C&(M^U))+L[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(M^R&(C^M))+L[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(C^U&(R^C))+L[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(R^M&(U^R))+L[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(U^C&(M^U))+L[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(M^R&(C^M))+L[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(C^U&(R^C))+L[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(R^M&(U^R))+L[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(U^C&(M^U))+L[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(M^R&(C^M))+L[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(C^U&(R^C))+L[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(R^M&(U^R))+L[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(U^C&(M^U))+L[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(M^R&(C^M))+L[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(C^U&(R^C))+L[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=C+(R^M&(U^R))+L[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(M^U&(C^M))+L[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(R^C))+L[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(U^R))+L[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(M^U))+L[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(C^M))+L[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(R^C))+L[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(U^R))+L[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(M^U))+L[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(C^M))+L[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(R^C))+L[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(U^R))+L[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(M^U))+L[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(C^M))+L[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^M&(R^C))+L[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(U^R))+L[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(M^U))+L[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(C^M^U)+L[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^M)+L[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^C)+L[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^R)+L[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^U)+L[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^M)+L[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^C)+L[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^R)+L[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^U)+L[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^M)+L[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^C)+L[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^R)+L[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^U)+L[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^M)+L[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^C)+L[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=C+(M^U^R)+L[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(M^(C|~U))+L[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~M))+L[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~C))+L[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~R))+L[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~U))+L[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~M))+L[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~C))+L[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~R))+L[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~U))+L[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~M))+L[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~C))+L[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~R))+L[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~U))+L[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~M))+L[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~C))+L[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=C+(U^(M|~R))+L[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,L=this.C;let M=this.h,U=0;for(;U<R;){if(M==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(L[M++]=x.charCodeAt(U++),M==this.blockSize){o(this,L),M=0;break}}else for(;U<R;)if(L[M++]=x[U++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)x[R++]=this.g[C]>>>L&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let L=!0;for(let M=x.length-1;M>=0;M--){const U=x[M]|0;L&&U==R||(C[M]=U,L=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return j(g(-x));const R=[];let C=1;for(let L=0;x>=C;L++)R[L]=x/C|0,C*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return j(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let L=T;for(let U=0;U<x.length;U+=8){var M=Math.min(8,x.length-U);const I=parseInt(x.substring(U,U+M),R);M<8?(M=g(Math.pow(R,M)),L=L.j(M).add(g(I))):(L=L.j(C),L=L.add(g(I)))}return L}var T=p(0),w=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(B(this))return-j(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);x+=(L>=0?L:4294967296+L)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(B(this))return"-"+j(this).toString(x);const R=g(Math.pow(x,6));var C=this;let L="";for(;;){const M=de(C,R).g;C=te(C,M.j(R));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=M,D(C))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function B(x){return x.h==-1}r.l=function(x){return x=te(this,x),B(x)?-1:D(x)?0:1};function j(x){const R=x.g.length,C=[];for(let L=0;L<R;L++)C[L]=~x.g[L];return new h(C,~x.h).add(w)}r.abs=function(){return B(this)?j(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let L=0;for(let M=0;M<=R;M++){let U=L+(this.i(M)&65535)+(x.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);L=I>>>16,U&=65535,I&=65535,C[M]=I<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(x,R){return x.add(j(R))}r.j=function(x){if(D(this)||D(x))return T;if(B(this))return B(x)?j(this).j(j(x)):j(j(this).j(x));if(B(x))return j(this.j(j(x)));if(this.l(O)<0&&x.l(O)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<x.g.length;M++){const U=this.i(L)>>>16,I=this.i(L)&65535,Je=x.i(M)>>>16,_t=x.i(M)&65535;C[2*L+2*M]+=I*_t,ie(C,2*L+2*M),C[2*L+2*M+1]+=U*_t,ie(C,2*L+2*M+1),C[2*L+2*M+1]+=I*Je,ie(C,2*L+2*M+1),C[2*L+2*M+2]+=U*Je,ie(C,2*L+2*M+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function ie(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function de(x,R){if(D(R))throw Error("division by zero");if(D(x))return new re(T,T);if(B(x))return R=de(j(x),R),new re(j(R.g),j(R.h));if(B(R))return R=de(x,j(R)),new re(j(R.g),R.h);if(x.g.length>30){if(B(x)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=R;L.l(x)<=0;)C=be(C),L=be(L);var M=Te(C,1),U=Te(L,1);for(L=Te(L,2),C=Te(C,2);!D(L);){var I=U.add(L);I.l(x)<=0&&(M=M.add(C),U=I),L=Te(L,1),C=Te(C,1)}return R=te(x,M.j(R)),new re(M,R)}for(M=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=g(C),I=U.j(R);B(I)||I.l(x)>0;)C-=L,U=g(C),I=U.j(R);D(U)&&(U=w),M=M.add(U),x=te(x,I)}return new re(M,x)}r.B=function(x){return de(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&x.i(L);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|x.i(L);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^x.i(L);return new h(C,this.h^x.h)};function be(x){const R=x.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=x.i(L)<<1|x.i(L-1)>>>31;return new h(C,x.h)}function Te(x,R){const C=R>>5;R%=32;const L=x.g.length-C,M=[];for(let U=0;U<L;U++)M[U]=R>0?x.i(U+C)>>>R|x.i(U+C+1)<<32-R:x.i(U+C);return new h(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Is=h}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JT,eu,ZT,Th,ep,eb,tb,nb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in v))break e;v=v[q]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,q,Q){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[q].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function D(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const Q=q.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=q[ae]}else c.push(q)}}class B{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(c){h.setTimeout(()=>{throw c},0)}function te(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new B(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Te=!1,x=new ie,R=()=>{const c=Promise.resolve(void 0);be=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){j(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Te=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Je(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Je,M),Je.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Be(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function k(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)c[v]=A[v];for(let Q=0;Q<J.length;Q++)v=J[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=Se(c,y,A,q);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new se(y,this.src,Q,!!A,q),y.fa=v,c.push(y)),y};function _e(c,y){const v=y.type;if(v in c.g){var A=c.g[v],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,y,v,A){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),dt={};function Ze(c,y,v,A,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ze(c,y[Q],v,A,q);return null}return v=rr(v),c&&c[_t]?c.J(y,v,m(A)?!!A.capture:!1,q):ai(c,y,v,!1,A,q)}function ai(c,y,v,A,q,Q){if(!y)throw Error("Invalid event type");const ae=m(q)?!!q.capture:!!q;let Ce=oi(c);if(Ce||(c[De]=Ce=new ue(c)),v=Ce.add(y,v,A,ae,Q),v.proxy)return v;if(A=tr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(Sn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tr(){function c(v){return y.call(c.src,c.listener,v)}const y=nr;return c}function wi(c,y,v,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)wi(c,y[Q],v,A,q);else A=m(A)?!!A.capture:!!A,v=rr(v),c&&c[_t]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Se(y,v,A,q),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=oi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,v,A,q)),(v=c>-1?y[c]:null)&&zr(v))}function zr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_t])_e(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Sn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=oi(y))?(_e(v,c),v.h==0&&(v.src=null,y[De]=null)):me(c)}}}function Sn(c){return c in dt?dt[c]:dt[c]="on"+c}function nr(c,y){if(c.da)c=!0;else{y=new Je(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&zr(c),c=v.call(A,y)}return c}function oi(c){return c=c[De],c instanceof ue?c:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function rr(c){return typeof c=="function"?c:(c[ir]||(c[ir]=function(y){return c.handleEvent(y)}),c[ir])}function mt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}T(mt,L),mt.prototype[_t]=!0,mt.prototype.removeEventListener=function(c,y,v,A){wi(this,c,y,v,A)};function pt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var q=y;y=new M(A,c),oe(y,q)}q=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],q=An(Q,A,!0,y)&&q;if(Q=y.g=c,q=An(Q,A,!0,y)&&q,q=An(Q,A,!1,y)&&q,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],q=An(Q,A,!1,y)&&q}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},mt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},mt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function An(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,At=ae.ha||ae.src;ae.fa&&_e(c.i,ae),q=Ce.call(At,A)!==!1&&q}}return q&&!A.defaultPrevented}function jr(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function qs(c){c.g=jr(()=>{c.g=null,c.i&&(c.i=!1,qs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ut extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){L.call(this),this.h=c,this.g={}}T(li,L);var sr=[];function Br(c){Me(c.g,function(y,v){this.g.hasOwnProperty(v)&&zr(y)},c),c.g={}}li.prototype.N=function(){li.Z.N.call(this),Br(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=h.JSON.stringify,Na=h.JSON.parse,Hs=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Fs(){}function Gs(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){M.call(this,"d")}T(zt,M);function hn(){M.call(this,"c")}T(hn,M);var gt={},Oa=null;function qr(){return Oa=Oa||new mt}gt.Ia="serverreachability";function Ma(c){M.call(this,gt.Ia,c)}T(Ma,M);function zn(c){const y=qr();pt(y,new Ma(y))}gt.STAT_EVENT="statevent";function ar(c,y){M.call(this,gt.STAT_EVENT,c),this.stat=y}T(ar,M);function vt(c){const y=qr();pt(y,new ar(y,c))}gt.Ja="timingevent";function jn(c,y){M.call(this,gt.Ja,c),this.size=y}T(jn,M);function Bn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function Wo(c,y,v,A,q,Q){c.info(function(){if(c.g)if(Q){var ae="",Ce=Q.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var At=Ce[Qe].split("=");if(At.length>1){const ct=At[0];At=At[1];const Yn=ct.split("_");ae=Yn.length>=2&&Yn[1]=="type"?ae+(ct+"="+At+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+ae})}function Va(c,y,v,A,q,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+Q+" "+ae})}function qn(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+qe(c,v)+(A?" "+A:"")})}function K(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function qe(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Un(Q)}catch{return y}}var Ge={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Et={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fn;function or(){}T(or,Fs),or.prototype.g=function(){return new XMLHttpRequest},fn=new or;function Hn(c){return encodeURIComponent(String(c))}function Uu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function ui(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Ri(c,y,v){c.M=1,c.A=Qs(Dt(y)),c.u=v,c.R=!0,ka(c,null)}function ka(c,y){c.F=Date.now(),Ci(c),c.B=Dt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),za(v.i,"t",A),c.C=0,v=c.j.L,c.h=new ci,c.g=Zu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new Ut(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(sr[0]=q.toString()),q=sr);for(let Q=0;Q<q.length;Q++){const ae=Ze(v,q[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),zn(),Wo(c.i,c.v,c.B,c.l,c.S,c.u)}ui.prototype.ba=function(c){c=c.target;const y=this.O;y&&di(c)==3?y.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=di(this.g),At=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||At==7||(At==8||Qe<=0?zn(3):zn(2)),Ii(this);var y=this.g.ca();this.X=y;var v=wf(this);if(this.o=y==200,Va(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)qn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,c);else{this.o=!1,this.m=3,vt(12),Rn(this),Fn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=ju(this,v),ct==Ht){Ce==4&&(this.m=4,vt(14),c=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==It){this.m=4,vt(15),qn(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else qn(this.i,this.l,ct,null),xi(this,ct);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)qn(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),fl(ae),ae.P=!0,vt(11))}}else qn(this.i,this.l,v,null),xi(this,v);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?Xu(this.j,this):(this.o=!1,Ci(this)))}else ur(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Rn(this),Fn(this)}}}catch{}finally{}};function wf(c){if(!zu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let v="";const A=y.length,q=di(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Rn(c),Fn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(q&&Q==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function zu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ht:(v=Number(y.substring(v,A)),isNaN(v)?It:(A+=1,A+v>y.length?Ht:(y=y.slice(A,A+v),c.C=A+v,y)))}ui.prototype.cancel=function(){this.K=!0,Rn(this)};function Ci(c){c.T=Date.now()+c.H,La(c,c.H)}function La(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Bn(g(c.aa,c),y)}function Ii(c){c.D&&(h.clearTimeout(c.D),c.D=null)}ui.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(K(this.i,this.B),this.M!=2&&(zn(),vt(17)),Rn(this),this.m=2,Fn(this)):La(this,this.T-c)};function Fn(c){c.j.I==0||c.K||Xu(c.j,c)}function Rn(c){Ii(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Br(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function xi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ni(v.h,c))){if(!c.L&&Ni(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Fa(v),$r(v);else break e;Zs(v),vt(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Bn(g(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((c.L||v.g==c)&&Fa(v),!I(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let Qe=q[y];const ct=Qe[0];if(!(ct<=v.K))if(v.K=ct,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Yn=Qe[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Ui=Qe[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const mi=Qe[5];mi!=null&&typeof mi=="number"&&mi>0&&(A=1.5*mi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const pi=c.g;if(pi){const ea=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var Q=A.h;Q.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(el(Q,Q.h),Q.h=null))}if(A.G){const Ga=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(A.wa=Ga,Xe(A.J,A.G,Ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=Ju(A,A.L?A.ba:null,A.W),ae.L){tl(A.h,ae);var Ce=ae,At=A.O;At&&(Ce.H=At),Ce.D&&(Ii(Ce),Ci(Ce)),A.g=ae}else Yu(A);v.i.length>0&&Li(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Pi(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Pi(v,7):cl(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}zn(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Jo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Di(c){return c.h?1:c.g?c.g.size:0}function Ni(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function el(c,y){c.g?c.g.add(y):c.h=y}function tl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Jo.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let q,Q=null;A>=0?(q=c[v].substring(0,A),Q=c[v].substring(A+1)):q=c[v],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Cn?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Hr(this,c.u),this.h=c.h,il(this,Gu(c.i)),this.m=c.m):c&&(y=String(c).match(Bu))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Oi(y[2]||""),this.g=Oi(y[3]||"",!0),Hr(this,y[4]),this.h=Oi(y[5]||"",!0),il(this,y[6]||"",!0),this.m=Oi(y[7]||"")):(this.l=!1,this.i=new Gr(null,this.l))}Cn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ys(y,Ua,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ys(y,Ua,!0),"@"),c.push(Hn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ys(v,v.charAt(0)=="/"?rl:qu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ys(v,Hu)),c.join("")},Cn.prototype.resolve=function(c){const y=Dt(this);let v=!!c.j;v?Ft(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Hr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ae=0;ae<q.length;){const Ce=q[ae++];Ce=="."?A&&ae==q.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==q.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=q}return v?y.h=A:v=c.i.toString()!=="",v?il(y,Gu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Dt(c){return new Cn(c)}function Ft(c,y,v){c.j=v?Oi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function il(c,y,v){y instanceof Gr?(c.i=y,ja(c.i,c.l)):(v||(y=Ys(y,Fr)),c.i=new Gr(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function Qs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Oi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,dn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ua=/[#\/\?@]/g,qu=/[#\?:]/g,rl=/[#\?]/g,Fr=/[#\?@]/g,Hu=/#/g;function Gr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Gr.prototype,r.add=function(c,y){mn(this),this.i=null,c=Qr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Fu(c,y){mn(c),y=Qr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function sl(c,y){return mn(c),y=Qr(c,y),c.g.has(y)}r.forEach=function(c,y){mn(this),this.g.forEach(function(v,A){v.forEach(function(q){c.call(y,q,A,this)},this)},this)};function al(c,y){mn(c);let v=[];if(typeof y=="string")sl(c,y)&&(v=v.concat(c.g.get(Qr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return mn(this),this.i=null,c=Qr(this,c),sl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=al(this,c),c.length>0?String(c[0]):y):y};function za(c,y,v){Fu(c,y),v.length>0&&(c.i=null,c.g.set(Qr(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const q=Hn(v);v=al(this,v);for(let Q=0;Q<v.length;Q++){let ae=q;v[Q]!==""&&(ae+="="+Hn(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Gu(c){const y=new Gr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Qr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ja(c,y){y&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(v,A){const q=A.toLowerCase();A!=q&&(Fu(this,A),za(this,q,v))},c)),c.j=y}function hi(c,y){const v=new wn;if(h.Image){const A=new Image;A.onload=E(Gn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Gn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Gn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Gn,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ol(c,y){const v=new wn,A=new AbortController,q=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Gn(v,"TestPingServer: ok",!0,y):Gn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Gn(v,"TestPingServer: error",!1,y)})}function Gn(c,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function Yr(){this.g=new Hs}function Mi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Mi,Fs),Mi.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(c,y){mt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ks,mt),r=Ks.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,fi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Kr(this):fi(this),this.readyState==3&&Ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Kr(this))},r.Na=function(c){this.g&&(this.response=c,Kr(this))},r.ga=function(){this.g&&Kr(this)};function Kr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,fi(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qn(c){let y="";return Me(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Xs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Qn(v),typeof c=="string"?v!=null&&Hn(v):Xe(c,y,v))}function et(c){mt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,mt);var Vi=/^https?$/i,ll=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fn.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){$s(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ll,y,void 0)>=0)||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){$s(this,Q)}};function $s(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,ul(c),lr(c)}function ul(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ws(this):this.Xa())},r.Xa=function(){Ws(this)};function Ws(c){if(c.h&&typeof u<"u"){if(c.v&&di(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),di(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let ae=String(c.D).match(Bu)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),A=!Vi.test(ae?ae.toLowerCase():"")}v=A}if(v)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var q=di(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",ul(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||pt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(c){return c.g?c.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Na(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(c){const y={};c=(c.g&&di(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Uu(c[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[q]||[];y[q]=Q,Q.push(v)}Be(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Xr(c){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,c),this.Za=ki("retryDelaySeedMs",1e4,c),this.Ta=ki("forwardChannelMaxRetries",2,c),this.va=ki("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Jo(c&&c.concurrentRequestLimit),this.Ba=new Yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ju(this,null,this.W),Li(this)};function cl(c){if(qa(c),c.I==3){var y=c.V++,v=Dt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Js(c,v),y=new ui(c,c.j,y),y.M=2,y.A=Qs(Dt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ci(y)}Wu(c)}function $r(c){c.g&&(fl(c),c.g.cancel(),c.g=null)}function qa(c){$r(c),c.v&&(h.clearTimeout(c.v),c.v=null),Fa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Li(c){if(!Zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;be||R(),Te||(be(),Te=!0),x.add(y,c),c.D=0}}function Ha(c,y){return Di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Bn(g(c.Ea,c,y),$u(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ui(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=k(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Qu(this,q,y),v=Dt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Js(this,v),Q&&(this.R?y="headers="+Hn(Qn(Q))+"&"+y:this.u&&Xs(v,this.u,Q)),el(this.h,q),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),q.U=!0,Ri(q,v,null)):Ri(q,v,y),this.I=2}}else this.I==3&&(c?hl(this,c):this.i.length==0||Zo(this.h)||hl(this))};function hl(c,y){var v;y?v=y.l:v=c.V++;const A=Dt(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),Js(c,A),c.u&&c.o&&Xs(A,c.u,c.o),v=new ui(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Qu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),el(c.h,v),Ri(v,A,y)}function Js(c,y){c.H&&Me(c.H,function(v,A){Xe(y,A,v)}),c.l&&Me({},function(v,A){Xe(y,A,v)})}function Qu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ce=-1;for(;;){const At=["count="+v];Ce==-1?v>0?(Ce=q[0].g,At.push("ofs="+Ce)):Ce=0:At.push("ofs="+Ce);let Qe=!0;for(let ct=0;ct<v;ct++){var Q=q[ct].g;const Yn=q[ct].map;if(Q-=Ce,Q<0)Ce=Math.max(0,q[ct].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var ae=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Ui,mi]of ae){let pi=mi;m(mi)&&(pi=Un(mi)),At.push(Q+Ui+"="+encodeURIComponent(pi))}}catch(Ui){throw At.push(Q+"type="+encodeURIComponent("_badmap")),Ui}}catch{A&&A(Yn)}}if(Qe){ae=At.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function Yu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;be||R(),Te||(be(),Te=!0),x.add(y,c),c.A=0}}function Zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Bn(g(c.Da,c),$u(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Bn(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),$r(this),Ku(this))};function fl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Ku(c){c.g=new ui(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Dt(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Js(c,y),c.u&&c.o&&Xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Qs(Dt(y)),v.u=null,v.R=!0,ka(v,c)}r.Va=function(){this.C!=null&&(this.C=null,$r(this),Zs(this),vt(19))};function Fa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Xu(c,y){var v=null;if(c.g==y){Fa(c),fl(c),c.g=null;var A=2}else if(Ni(c.h,y))v=y.G,tl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=qr(),pt(A,new jn(A,v)),Li(c)}else Yu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Ha(c,y)||A==2&&Zs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function $u(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const q=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(A,"https"),Qs(A),q?hi(A.toString(),v):ol(A.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),Wu(c),qa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Wu(c){if(c.I=0,c.ja=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ja,y),D(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Ju(c,y,v){var A=v instanceof Cn?Dt(v):new Cn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Hr(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new Cn(null);A&&Ft(Q,A),y&&(Q.g=y),q&&Hr(Q,q),v&&(Q.h=v),A=Q}return v=c.G,y=c.wa,v&&y&&Xe(A,v,y),Xe(A,"VER",c.ka),Js(c,A),A}function Zu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Mi({ab:v})):new et(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wr(){}Wr.prototype.g=function(c,y){return new un(c,y)};function un(c,y){mt.call(this),this.g=new Xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new cr(this)}T(un,mt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){cl(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Un(c),c=v);y.i.push(new xt(y.Ya++,c)),y.I==3&&Li(y)},un.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,un.Z.N.call(this)};function tc(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(tc,zt);function nc(){hn.call(this),this.status=1}T(nc,hn);function cr(c){this.g=c}T(cr,ec),cr.prototype.ra=function(){pt(this.g,"a")},cr.prototype.qa=function(c){pt(this.g,new tc(c))},cr.prototype.pa=function(c){pt(this.g,new nc)},cr.prototype.oa=function(){pt(this.g,"b")},Wr.prototype.createWebChannel=Wr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,nb=function(){return new Wr},tb=function(){return qr()},eb=gt,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Th=Ge,Et.COMPLETE="complete",ZT=Et,Gs.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",mt.prototype.listen=mt.prototype.J,eu=Gs,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,JT=et}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",zE="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Qo="12.3.0";const Aa=new Ip("@firebase/firestore");function bo(){return Aa.logLevel}function ce(r,...e){if(Aa.logLevel<=Le.DEBUG){const n=e.map(zp);Aa.debug(`Firestore (${Qo}): ${r}`,...n)}}function kr(r,...e){if(Aa.logLevel<=Le.ERROR){const n=e.map(zp);Aa.error(`Firestore (${Qo}): ${r}`,...n)}}function ko(r,...e){if(Aa.logLevel<=Le.WARN){const n=e.map(zp);Aa.warn(`Firestore (${Qo}): ${r}`,...n)}}function zp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ib(r,s,n)}function ib(r,e,n){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw kr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ib(e,o,s)}function Re(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Nr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new rb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class q2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=G2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function tp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Vm(o)===Vm(u)?Pe(o,u):Vm(o)?1:-1}return Pe(r.length,e.length)}const Q2=55296,Y2=57343;function Vm(r){const e=r.charCodeAt(0);return e>=Q2&&e<=Y2}function Lo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const BE="__name__";class Hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Hi.isNumericId(e),o=Hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class at extends Hi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const K2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Hi{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return K2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BE}static keyField(){return new en([BE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}function sb(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X2(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qE(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function HE(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ab(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ou(r,e){if(!ab(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const FE=-62135596800,GE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*GE);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FE)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Pt("string",ut._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ut(0,0))}static max(){return new Ae(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function $2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Ns(o,ge.empty(),e)}function W2(r){return new Ns(r.readTime,r.key,mu)}class Ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ns(Ae.min(),ge.empty(),mu)}static max(){return new Ns(Ae.max(),ge.empty(),mu)}}function J2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Z2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function tx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(r){return r.name==="IndexedDbTransactionError"}class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;const Bp=-1;function af(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function nx(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ob="";function ix(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=QE(e)),e=rx(r.get(n),e);return QE(e)}function rx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ob:n+="";break;default:n+=u}}return n}function QE(r){return r+ob+""}function YE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Bt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ub("Invalid base64 string: "+u):u}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=sx.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function qp(r){return(r?.mapValue?.fields||{})[hb]?.stringValue===cb}function of(r){const e=r.mapValue.fields[fb];return qp(e)?of(e):e}function pu(r){const e=Os(r.mapValue.fields[db].timestampValue);return new ut(e.seconds,e.nanos)}class ax{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ph="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}const mb="__type__",ox="__max__",ch={mapValue:{}},pb="__vector__",Uh="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:ux(r)?9007199254740991:lx(r)?10:11:Ee(28295,{value:r})}function Wi(r,e){if(r===e)return!0;const n=Vs(r);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pu(r).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Os(o.timestampValue),m=Os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ms(o.bytesValue).isEqual(Ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ct(o.doubleValue),m=Ct(u.doubleValue);return h===m?Lh(h)===Lh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Lo(r.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(YE(h)!==YE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Wi(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function yu(r,e){return(r.values||[]).find((n=>Wi(n,e)))!==void 0}function Po(r,e){if(r===e)return 0;const n=Vs(r),s=Vs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Ct(u.integerValue||u.doubleValue),p=Ct(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return XE(r.timestampValue,e.timestampValue);case 4:return XE(pu(r),pu(e));case 5:return tp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=Ms(u),p=Ms(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(Ct(u.latitude),Ct(h.latitude));return m!==0?m:Pe(Ct(u.longitude),Ct(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $E(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Uh]?.arrayValue,E=p[Uh]?.arrayValue,T=Pe(g?.values?.length||0,E?.values?.length||0);return T!==0?T:$E(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ch.mapValue&&h===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(h===ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=tp(p[T],E[T]);if(w!==0)return w;const O=Po(m[p[T]],g[E[T]]);if(O!==0)return O}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function XE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Os(r),s=Os(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function $E(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Uo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function bh(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return zs(s.fields,((u,h)=>{o+=u.length+bh(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function WE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function JE(r){return!!r&&"nullValue"in r}function ZE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function lx(r){return(r?.mapValue?.fields||{})[mb]?.stringValue===pb}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return{...r}}function ux(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(au(this.value))}}function gb(r){const e=[];return zs(r.fields,((n,s)=>{const o=new en([n]);if(Sh(s)){const u=gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Pn(e)}class on{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new on(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new on(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new on(e,2,n,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=Po(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function t0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Wi(r.position[n],e.position[n]))return!1;return!0}class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function cx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class yb{}class Lt extends yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fx(e,n,s):n==="array-contains"?new px(e,s):n==="in"?new gx(e,s):n==="not-in"?new yx(e,s):n==="array-contains-any"?new _x(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dx(e,s):new mx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Si(e,n)}matches(e){return _b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _b(r){return r.op==="and"}function vb(r){return hx(r)&&_b(r)}function hx(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function rp(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(vb(r))return r.filters.map((e=>rp(e))).join(",");{const e=r.filters.map((n=>rp(n))).join(",");return`${r.op}(${e})`}}function Eb(r,e){return r instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Wi(s.value,o.value)})(r,e):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Eb(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function Tb(r){return r instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(r):r instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"})(r):"Filter"}class fx extends Lt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class dx extends Lt{constructor(e,n){super(e,"in",n),this.keys=bb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mx extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=bb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bb(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class px extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&yu(n.arrayValue,this.value)}}class gx extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class yx extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class _x extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}class vx{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function n0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new vx(r,e,n,s,o,u,h)}function Fp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=n}return e.Te}function Gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!cx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Eb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!t0(r.startAt,e.startAt)&&t0(r.endAt,e.endAt)}function sp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Xo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ex(r,e,n,s,o,u,h,m){return new Xo(r,e,n,s,o,u,h,m)}function lf(r){return new Xo(r)}function i0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sb(r){return r.collectionGroup!==null}function ou(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(en.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _u(u,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new _u(en.keyField(),s))}return e.Ie}function Yi(r){const e=Re(r);return e.Ee||(e.Ee=Tx(e,ou(r))),e.Ee}function Tx(r,e){if(r.limitType==="F")return n0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)}));const n=r.endAt?new zh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zh(r.startAt.position,r.startAt.inclusive):null;return n0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ap(r,e){const n=r.filters.concat([e]);return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function op(r,e,n){return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function uf(r,e){return Gp(Yi(r),Yi(e))&&r.limitType===e.limitType}function Ab(r){return`${Fp(Yi(r))}|lt:${r.limitType}`}function So(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Tb(o))).join(", ")}]`),af(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(Yi(r))}; limitType=${r.limitType})`}function cf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=e0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(h,m,p){const g=e0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(r,e)}function bx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wb(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=Sx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Sx(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Po(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}const Ax=new yt(ge.comparator);function Lr(){return Ax}const Rb=new yt(ge.comparator);function tu(...r){let e=Rb;for(const n of r)e=e.insert(n.key,n);return e}function Cb(r){let e=Rb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ya(){return lu()}function Ib(){return lu()}function lu(){return new xa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wx=new yt(ge.comparator),Rx=new Bt(ge.comparator);function Ue(...r){let e=Rx;for(const n of r)e=e.add(n);return e}const Cx=new Bt(Pe);function Ix(){return Cx}function Qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function xb(r){return{integerValue:""+r}}function xx(r,e){return nx(e)?xb(e):Qp(r,e)}class hf{constructor(){this._=void 0}}function Dx(r,e,n){return r instanceof vu?(function(o,u){const h={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=of(u)),u&&(h.fields[fb]=u),{mapValue:h}})(n,e):r instanceof Eu?Nb(r,e):r instanceof Tu?Ob(r,e):(function(o,u){const h=Db(o,u),m=r0(h)+r0(o.Ae);return ip(h)&&ip(o.Ae)?xb(m):Qp(o.serializer,m)})(r,e)}function Nx(r,e,n){return r instanceof Eu?Nb(r,e):r instanceof Tu?Ob(r,e):n}function Db(r,e){return r instanceof jh?(function(s){return ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class vu extends hf{}class Eu extends hf{constructor(e){super(),this.elements=e}}function Nb(r,e){const n=Mb(e);for(const s of r.elements)n.some((o=>Wi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Tu extends hf{constructor(e){super(),this.elements=e}}function Ob(r,e){let n=Mb(e);for(const s of r.elements)n=n.filter((o=>!Wi(o,s)));return{arrayValue:{values:n}}}class jh extends hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r0(r){return Ct(r.integerValue||r.doubleValue)}function Mb(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ox{constructor(e,n){this.field=e,this.transform=n}}function Mx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Eu&&o instanceof Eu||s instanceof Tu&&o instanceof Tu?Lo(s.elements,o.elements,Wi):s instanceof jh&&o instanceof jh?Wi(s.Ae,o.Ae):s instanceof vu&&o instanceof vu})(r.transform,e.transform)}class Vx{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ff{}function Vb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yp(r.key,ii.none()):new Mu(r.key,r.data,ii.none());{const n=r.data,s=Tn.empty();let o=new Bt(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new js(r.key,s,new Pn(o.toArray()),ii.none())}}function kx(r,e,n){r instanceof Mu?(function(o,u,h){const m=o.value.clone(),p=a0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof js?(function(o,u,h){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=a0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(kb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function uu(r,e,n,s){return r instanceof Mu?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=u.value.clone(),E=o0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof js?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=o0(u.fieldTransforms,p,h),E=h.data;return E.setAll(kb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function Lx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Db(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function s0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((u,h)=>Mx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends ff{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends ff{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function a0(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Nx(h,m,n[o]))}return s}function o0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,Dx(u,h,e))}return s}class Yp extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ib();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Vb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,s)=>s0(n,s)))&&Lo(this.baseMutations,e.baseMutations,((n,s)=>s0(n,s)))}}class Kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Kp(e,n,s,o)}}class zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jx{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,je;function Bx(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Lb(r){if(r===void 0)return kr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=kt||(kt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function qx(){return new TextEncoder}const Hx=new Is([4294967295,4294967295],0);function l0(r){const e=qx().encode(r),n=new WT;return n.update(e),new Uint8Array(n.digest())}function u0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Is([n,s],0),new Is([o,u],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Is.fromNumber(s)));return o.compare(Hx)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=l0(e),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new df(Ae.min(),o,new yt(Pe),Lr(),Ue())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Ue(),Ue(),Ue())}}class wh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Pb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ub{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=h0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=hh(),this.He=hh(),this.Ye=new yt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(sp(u))if(s===0){const h=new ge(u.path);this.et(n,h,on.newNoDocument(h,Ae.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ms(s).toUint8Array()}catch(p){if(p instanceof ub)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(h,o,u)}catch(p){return ko(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&sp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,on.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new df(e,n,this.Ye,this.je,s);return this.je=Lr(),this.Je=hh(),this.He=hh(),this.Ye=new yt(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new yt(ge.comparator)}function h0(){return new yt(ge.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yx={and:"AND",or:"OR"};class Kx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(r,e){return r.useProto3Json||af(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Xx(r,e){return Bh(r,e.toTimestamp())}function Ki(r){return Ke(!!r,49232),Ae.fromTimestamp((function(n){const s=Os(n);return new ut(s.seconds,s.nanos)})(r))}function $p(r,e){return up(r,e).canonicalString()}function up(r,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function jb(r){const e=at.fromString(r);return Ke(Gb(e),10190,{key:e.toString()}),e}function cp(r,e){return $p(r.databaseId,e.path)}function km(r,e){const n=jb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(qb(n))}function Bb(r,e){return $p(r.databaseId,e)}function $x(r){const e=jb(r);return e.length===4?at.emptyPath():qb(e)}function hp(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f0(r,e,n){return{name:cp(r,e),fields:n.value.mapValue.fields}}function Wx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:Lb(g.code);return new le(E,g.message||"")})(h);n=new Ub(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(r,s.document.name),u=Ki(s.document.updateTime),h=s.document.createTime?Ki(s.document.createTime):Ae.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(r,s.document),u=s.readTime?Ki(s.readTime):Ae.min(),h=on.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new jx(o,u),m=s.targetId;n=new Pb(m,h)}}return n}function Jx(r,e){let n;if(e instanceof Mu)n={update:f0(r,e.key,e.value)};else if(e instanceof Yp)n={delete:cp(r,e.key)};else if(e instanceof js)n={update:f0(r,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof Px))return Ee(16599,{Vt:e.type});n={verify:cp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof vu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function Zx(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Ki(o.updateTime):Ki(u);return h.isEqual(Ae.min())&&(h=Ki(u)),new Vx(h,o.transformResults||[])})(n,e)))):[]}function eD(r,e){return{documents:[Bb(r,e.path)]}}function tD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Bb(r,o);const u=(function(g){if(g.length!==0)return Fb(Si.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:Ao(w.field),direction:rD(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=lp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function nD(r){let e=$x(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=Hb(T);return w instanceof Si&&vb(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(D){return new _u(wo(D.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,af(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,O=T.values||[];return new zh(O,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,O=T.values||[];return new zh(O,w)})(n.endAt)),Ex(e,o,h,u,m,"F",p,g)}function iD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Lt.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>Hb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function rD(r){return Gx[r]}function sD(r){return Qx[r]}function aD(r){return Yx[r]}function Ao(r){return{fieldPath:r.canonicalString()}}function wo(r){return en.fromServerFormat(r.fieldPath)}function Fb(r){return r instanceof Lt?(function(n){if(n.op==="=="){if(ZE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:sD(n.op),value:n.value}}})(r):r instanceof Si?(function(n){const s=n.getFilters().map((o=>Fb(o)));return s.length===1?s[0]:{compositeFilter:{op:aD(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function oD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ws{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lD{constructor(e){this.yt=e}}function uD(r){const e=nD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?op(e,e.limit,"L"):e}class cD{constructor(){this.Cn=new hD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ns.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class hD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qb=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(Qb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}const m0="LruGarbageCollector",fD=1048576;function p0([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class dD{constructor(e){this.Ir=e,this.buffer=new Bt(p0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();p0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?ce(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class pD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(sf.ce);const s=new dD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(d0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),bo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gD(r,e){return new pD(r,e)}class yD{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,Pn.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=ya();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=tu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=Lr();const h=lu(),m=(function(){return lu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),ut.now())):h.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new _D(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new yt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Pn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Ib();E.forEach((w=>{if(!u.has(w)){const O=Vb(n.get(w),s.get(w));O!==null&&T.set(w,O),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ya());let m=mu,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((E=>({batchId:m,changes:Cb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,w){return new Xo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,on.newInvalidDocument(E)))}));let m=tu();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,Pn.empty(),ut.now()),cf(n,g)&&(m=m.insert(p,g))})),m}))}}class ED{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:uD(o.bundledQuery),readTime:Ki(o.readTime)}})(n)),ne.resolve()}}class TD{constructor(){this.overlays=new yt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ya();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ya(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new yt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ya(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zx(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class bD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Wp{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new at([])),s=new Qt(n,e),o=new Qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new at([])),s=new Qt(n,e),o=new Qt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class SD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ux(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Bp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Pe);return n.forEach((o=>{const u=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Qt(new ge(u),0);let m=new Bt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class AD{constructor(e){this.ri=e,this.docs=(function(){return new yt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let s=Lr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Lr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||J2(W2(E),s)<=0||(o.has(E.key)||cf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new wD(this)}getSize(e){return ne.resolve(this.size)}}class wD extends yD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class RD{constructor(e){this.persistence=e,this.si=new xa((n=>Fp(n)),Gp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Wp,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class Yb{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new bD,this.referenceDelegate=e(this),this.Pi=new RD(this),this.indexManager=new cD,this.remoteDocumentCache=(function(o){return new AD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lD(n),this.Ii=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new SD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new CD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class CD extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Vi=null}static mi(e){return new Jp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new xa((s=>ix(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gD(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(e,n.fromCache,s,o)}}class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:tx(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ID;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(bo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(bo()<=Le.DEBUG&&ce("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ne.resolve())}ys(e,n){if(i0(n))return ne.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=op(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,op(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return i0(n)||o.isEqual(Ae.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(bo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(e,h,n,$2(o,mu)).next((m=>m)))}))}Ds(e,n){let s=new Bt(wb(e));return n.forEach(((o,u)=>{cf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return bo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(e,n,Ns.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const eg="LocalStore",DD=3e8;class ND{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(Pe),this.xs=new xa((u=>Fp(u)),Gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function OD(r,e,n,s){return new ND(r,e,n,s)}async function Kb(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function MD(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let O=ne.resolve();return w.forEach((D=>{O=O.next((()=>E.getEntry(p,D))).next((B=>{const j=g.docVersions.get(D);Ke(j!==null,48541),B.version.compareTo(j)<0&&(T.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Xb(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VD(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(tn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(T,O),(function(B,j,te){return B.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=DD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Lr(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function kD(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Lr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function LD(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function PD(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ws(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function fp(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ko(h))throw h;ce(eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function g0(r,e,n){const s=Re(r);let o=Ae.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Re(p),w=T.xs.get(E);return w!==void 0?ne.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Yi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Ue()))).next((m=>(UD(s,bx(e),m),{documents:m,Qs:u})))))}function UD(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class y0{constructor(){this.activeTargetIds=Ix()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.Mo=new y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jD{Oo(e){}shutdown(){}}const _0="ConnectivityMonitor";class v0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fh=null;function dp(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}const Lm="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=dp(),m=this.zo(e,n.toUriEncodedString());ce(Lm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ra(g);return this.Jo(e,m,p,s,E).then((T=>(ce(Lm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ko(Lm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=BD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class HD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class FD extends qD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=dp();return new Promise(((m,p)=>{const g=new JT;g.setWithCredentials(!0),g.listenOnce(ZT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const T=g.getResponseJson();ce(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Th.TIMEOUT:ce(rn,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const w=g.getStatus();if(ce(rn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const D=O?.error;if(D&&D.status&&D.message){const B=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ie)>=0?ie:Z.UNKNOWN})(D.status);p(new le(B,D.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(rn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(rn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=nb(),m=tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,O=!1;const D=new HD({Yo:j=>{O?ce(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(ce(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(rn,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Zo:()=>T.close()}),B=(j,te,ie)=>{j.listen(te,(re=>{try{ie(re)}catch(de){setTimeout((()=>{throw de}),0)}}))};return B(T,eu.EventType.OPEN,(()=>{O||(ce(rn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),B(T,eu.EventType.CLOSE,(()=>{O||(O=!0,ce(rn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(T))})),B(T,eu.EventType.ERROR,(j=>{O||(O=!0,ko(rn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),B(T,eu.EventType.MESSAGE,(j=>{if(!O){const te=j.data[0];Ke(!!te,16349);const ie=te,re=ie?.error||ie[0]?.error;if(re){ce(rn,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let be=(function(R){const C=kt[R];if(C!==void 0)return Lb(C)})(de),Te=re.message;be===void 0&&(be=Z.INTERNAL,Te="Unknown error status: "+de+" with message "+re.message),O=!0,D.a_(new le(be,Te)),T.close()}else ce(rn,`RPC '${e}' stream ${o} received:`,te),D.u_(te)}})),B(m,eb.STAT_EVENT,(j=>{j.stat===ep.PROXY?ce(rn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===ep.NOPROXY&&ce(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}function mf(r){return new Kx(r,!0)}class $b{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class Wb{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GD extends Wb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Wx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Ki(h.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:eD(u,p)}:{query:tD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zb(u,h.resumeToken);const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=iD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.q_(n)}}class QD extends Wb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Zx(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=hp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Jx(this.serializer,s)))};this.q_(n)}}class YD{}class KD extends YD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,up(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,up(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wa="RemoteStore";class $D{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Da(this)&&(ce(wa,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pf(g)})(this))}))})),this.Ra=new XD(s,o)}}async function pf(r){if(Da(r))for(const e of r.da)await e(!0)}async function ku(r){for(const e of r.da)await e(!1)}function Jb(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ig(n):$o(n).O_()&&ng(n,e))}function tg(r,e){const n=Re(r),s=$o(n);n.Ia.delete(e),s.O_()&&Zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Da(n)&&n.Ra.set("Unknown"))}function ng(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(r).Y_(e)}function Zb(r,e){r.Va.Ue(e),$o(r).Z_(e)}function ig(r){r.Va=new Fx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Ra.ua()}function rg(r){return Da(r)&&!$o(r).x_()&&r.Ia.size>0}function Da(r){return Re(r).Ea.size===0}function e1(r){r.Va=void 0}async function WD(r){r.Ra.set("Online")}async function JD(r){r.Ia.forEach(((e,n)=>{ng(r,e)}))}async function ZD(r,e){e1(r),rg(r)?(r.Ra.ha(e),ig(r)):r.Ra.set("Unknown")}async function eN(r,e,n){if(r.Ra.set("Online"),e instanceof Ub&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof wh?r.Va.Ze(e):e instanceof Pb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Xb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Zb(u,p);const T=new ws(E.target,p,g,E.sequenceNumber);ng(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(wa,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,n){if(!Ko(e))throw e;r.Ea.add(1),await ku(r),r.Ra.set("Offline"),n||(n=()=>Xb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(wa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await pf(r)}))}function t1(r,e){return e().catch((n=>Hh(r,n,e)))}async function gf(r){const e=Re(r),n=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;tN(e);)try{const o=await LD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,nN(e,o)}catch(o){await Hh(e,o)}n1(e)&&i1(e)}function tN(r){return Da(r)&&r.Ta.length<10}function nN(r,e){r.Ta.push(e);const n=ks(r);n.O_()&&n.X_&&n.ea(e.mutations)}function n1(r){return Da(r)&&!ks(r).x_()&&r.Ta.length>0}function i1(r){ks(r).start()}async function iN(r){ks(r).ra()}async function rN(r){const e=ks(r);for(const n of r.Ta)e.ea(n.mutations)}async function sN(r,e,n){const s=r.Ta.shift(),o=Kp.from(s,e,n);await t1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await gf(r)}async function aN(r,e){e&&ks(r).X_&&await(async function(s,o){if((function(h){return Bx(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ks(s).B_(),await t1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gf(s)}})(r,e),n1(r)&&i1(r)}async function T0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(wa,"RemoteStore received new credentials");const s=Da(n);n.Ea.add(3),await ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function oN(r,e){const n=Re(r);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function $o(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new GD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:WD.bind(null,r),t_:JD.bind(null,r),r_:ZD.bind(null,r),H_:eN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),e1(r))}))),r.ma}function ks(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new QD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,r),r_:aN.bind(null,r),ta:rN.bind(null,r),na:sN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await gf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new sg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,e){if(kr("AsyncQueue",`${e}: ${r}`),Ko(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class b0{constructor(){this.ga=new yt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class jo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new jo(e,n,Do.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class lN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uN{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=S0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function S0(){return new xa((r=>Ab(r)),uf)}async function og(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ag(h,`Initialization of query '${So(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ug(n)}async function lg(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ug(n)}function hN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ug(r){r.Ca.forEach((e=>{e.next()}))}var mp,A0;(A0=mp||(mp={})).Ma="default",A0.Cache="cache";class cg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}class r1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class fN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=wb(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new b0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),O=cf(this.query,T)?T:null,D=!!w&&this.mutatedKeys.has(w.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;w&&O?w.data.isEqual(O.data)?D!==B&&(s.track({type:3,doc:O}),j=!0):this.su(w,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),j=!0):w&&!O&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(O?(h=h.add(O),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(O,D){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:j})}};return B(O)-B(D)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new jo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new s1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new r1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class dN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mN{constructor(e){this.key=e,this.hu=!1}}class pN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new xa((m=>Ab(m)),uf),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ge.comparator),this.Au=new Map,this.Ru=new Wp,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gN(r,e,n=!0){const s=h1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await a1(s,e,n,!0),o}async function yN(r,e){const n=h1(r);await a1(n,e,!0,!1)}async function a1(r,e,n,s){const o=await PD(r.localStore,Yi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _N(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Jb(r.remoteStore,o),m}async function _N(r,e,n,s,o){r.pu=(T,w,O)=>(async function(B,j,te,ie){let re=j.view.ru(te);re.Cs&&(re=await g0(B.localStore,j.query,!1).then((({documents:x})=>j.view.ru(x,re))));const de=ie&&ie.targetChanges.get(j.targetId),be=ie&&ie.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(re,B.isPrimaryClient,de,be);return R0(B,j.targetId,Te.au),Te.snapshot})(r,T,w,O);const u=await g0(r.localStore,e,!0),h=new fN(e,u.Qs),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);R0(r,n,g.au);const E=new dN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function vN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!uf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tg(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(Yo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function EN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tg(n.remoteStore,s.targetId))}async function TN(r,e,n){const s=IN(r);try{const o=await(function(h,m){const p=Re(h),g=ut.now(),E=m.reduce(((O,D)=>O.add(D.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let D=Lr(),B=Ue();return p.Ns.getEntries(O,E).next((j=>{D=j,D.forEach(((te,ie)=>{ie.isValidDocument()||(B=B.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,D))).next((j=>{T=j;const te=[];for(const ie of m){const re=Lx(ie,T.get(ie.key).overlayedDocument);re!=null&&te.push(new js(ie.key,re,gb(re.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,te,m)})).next((j=>{w=j;const te=j.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(O,j.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:Cb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new yt(Pe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Lu(s,o.changes),await gf(s.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function o1(r,e){const n=Re(r);try{const s=await VD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Lu(n,s,e)}catch(s){await Yo(s)}}function w0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&ug(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new yt(ge.comparator);h=h.insert(u,on.newNoDocument(u,Ae.min()));const m=Ue().add(u),p=new df(Ae.min(),new Map,new yt(Pe),h,m);await o1(s,p),s.du=s.du.remove(u),s.Au.delete(e),fg(s)}else await fp(s.localStore,e,!1).then((()=>pp(s,e,n))).catch(Yo)}async function SN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await MD(n.localStore,e);u1(n,s,null),l1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await Yo(o)}}async function AN(r,e,n){const s=Re(r);try{const o=await(function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);u1(s,e,n),l1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await Yo(o)}}function l1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function u1(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||c1(r,s)}))}function c1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(tg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),fg(r))}function R0(r,e,n){for(const s of n)s instanceof r1?(r.Ru.addReference(s.key,e),wN(r,s)):s instanceof s1?(ce(hg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||c1(r,s.key)):Ee(19791,{wu:s})}function wN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(hg,"New document in limbo: "+n),r.Eu.add(s),fg(r))}function fg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(at.fromString(e)),s=r.fu.next();r.Au.set(s,new mN(n)),r.du=r.du.insert(n,s),Jb(r.remoteStore,new ws(Yi(lf(n.path)),s,"TargetPurposeLimboResolution",sf.ce))}}async function Lu(r,e,n){const s=Re(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Zp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(w=>ne.forEach(w.Es,(O=>E.persistence.referenceDelegate.addReference(T,w.targetId,O))).next((()=>ne.forEach(w.ds,(O=>E.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))))))}catch(T){if(!Ko(T))throw T;ce(eg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=E.Ms.get(w),D=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(D);E.Ms=E.Ms.insert(w,B)}}})(s.localStore,u))}async function RN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(hg,"User change. New user:",e.toKey());const s=await Kb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Ls)}}function CN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function h1(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bN.bind(null,e),e.Pu.H_=cN.bind(null,e.eventManager),e.Pu.yu=hN.bind(null,e.eventManager),e}function IN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OD(this.persistence,new xD,e.initialUser,this.serializer)}Cu(e){return new Yb(Jp.mi,this.serializer)}Du(e){return new zD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class xN extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Yb((s=>qh.mi(s,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uN})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),s=(function(u){return new FD(u)})(e.databaseInfo);return(function(u,h,m,p){return new KD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new $D(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>w0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new jD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new pN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(wa,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};class dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ls="FirestoreClient";class DN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Kb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function C0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await NN(r);ce(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>T0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>T0(e.remoteStore,o))),r._onlineComponents=e}async function NN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ls,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new Fh)}}else ce(Ls,"Using default OfflineComponentProvider"),await Um(r,new xN(void 0));return r._offlineComponents}async function f1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ls,"Using user provided OnlineComponentProvider"),await C0(r,r._uninitializedComponentsProvider._online)):(ce(Ls,"Using default OnlineComponentProvider"),await C0(r,new gp))),r._onlineComponents}function ON(r){return f1(r).then((e=>e.syncEngine))}async function Gh(r){const e=await f1(r),n=e.eventManager;return n.onListen=gN.bind(null,e.syncEngine),n.onUnlisten=vN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EN.bind(null,e.syncEngine),n}function MN(r,e,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new dg({next:w=>{E.Nu(),h.enqueueAndForget((()=>lg(u,T)));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new cg(lf(m.path),E,{includeMetadataChanges:!0,qa:!0});return og(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function VN(r,e,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new dg({next:w=>{E.Nu(),h.enqueueAndForget((()=>lg(u,T))),w.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new cg(m,E,{includeMetadataChanges:!0,qa:!0});return og(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function d1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const I0=new Map;const m1="firestore.googleapis.com",x0=!0;class D0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m1,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new H2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=I0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),I0.delete(n),s.terminate())})(this),Promise.resolve()}}function kN(r,e,n,s={}){r=bn(r,yf);const o=Ra(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Rp(`https://${m}`),Cp("Firestore",!0)),u.host!==m1&&u.host!==m&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ea(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=sn.MOCK_USER;else{g=hT(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new j2(new rb(g,E))}}class Bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,St._jsonSchema))return new St(e,s||null,new ge(at.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Pt("string",St._jsonSchemaVersion),referencePath:Pt("string")};class xs extends Bs{constructor(e,n,s){super(e,n,lf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ge(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function vi(r,e,...n){if(r=Yt(r),sb("collection","path",e),r instanceof yf){const s=at.fromString(e,...n);return HE(s),new xs(r,null,s)}{if(!(r instanceof St||r instanceof xs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return HE(s),new xs(r.firestore,null,s)}}function an(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=jp.newId()),sb("doc","path",e),r instanceof yf){const s=at.fromString(e,...n);return qE(s),new St(r,null,new ge(s))}{if(!(r instanceof St||r instanceof xs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return qE(s),new St(r.firestore,r instanceof xs?r.converter:null,new ge(s))}}const N0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $b(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&ce(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ce(N0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",M0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function V0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Pr extends yf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new O0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function LN(r,e){const n=typeof r=="object"?r:Dp(),s=typeof r=="string"?r:Ph,o=Zh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lT("firestore");u&&kN(o,...u)}return o}function _f(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PN(r),r._firestoreClient}function PN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new ax(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,d1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new DN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(tn.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Pt("string",ni._jsonSchemaVersion),bytes:Pt("string")};class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ef{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Pt("string",Xi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Pt("string",$i._jsonSchemaVersion),vectorValues:Pt("object")};const UN=/^__.*__$/;class zN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class p1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g1(this.Ac)&&UN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mf(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(r){const e=r._freezeSettings(),n=mf(r._databaseId);return new jN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function y1(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",h,s);const m=_1(s,h);let p,g;if(u.merge)p=new Pn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=yp(e,T,n);if(!h.contains(w))throw new le(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);E1(E,w)||E.push(w)}p=new Pn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new zN(new Tn(m),p,g)}class bf extends Ef{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}class pg extends Ef{_toFieldTransform(e){return new Ox(e.path,new vu)}isEqual(e){return e instanceof pg}}function BN(r,e,n,s){const o=r.Cc(1,e,n);gg("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();zs(s,((p,g)=>{const E=yg(e,p,n);g=Yt(g);const T=o.yc(E);if(g instanceof bf)u.push(E);else{const w=Pu(g,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Pn(u);return new p1(h,m,o.fieldTransforms)}function qN(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[yp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(yp(e,u[w])),p.push(u[w+1]);const g=[],E=Tn.empty();for(let w=m.length-1;w>=0;--w)if(!E1(g,m[w])){const O=m[w];let D=p[w];D=Yt(D);const B=h.yc(O);if(D instanceof bf)g.push(O);else{const j=Pu(D,B);j!=null&&(g.push(O),E.set(O,j))}}const T=new Pn(g);return new p1(E,T,h.fieldTransforms)}function HN(r,e,n,s=!1){return Pu(n,r.Cc(s?4:3,e))}function Pu(r,e){if(v1(r=Yt(r)))return gg("Unsupported field value:",e,r),_1(r,e);if(r instanceof Ef)return(function(s,o){if(!g1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Pu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ut.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ut){const u=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:zb(o.serializer,s._byteString)};if(s instanceof St){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $i)return(function(h,m){return{mapValue:{fields:{[mb]:{stringValue:pb},[Uh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Qp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${rf(s)}`)})(r,e)}function _1(r,e){const n={};return lb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,((s,o)=>{const u=Pu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function v1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof Xi||r instanceof ni||r instanceof St||r instanceof Ef||r instanceof $i)}function gg(r,e,n){if(!v1(n)||!ab(n)){const s=rf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function yp(r,e,n){if((e=Yt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return yg(r,e);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const FN=new RegExp("[~\\*/\\[\\]]");function yg(r,e,n){if(e.search(FN)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function E1(r,e){return r.some((n=>n.isEqual(e)))}class T1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GN extends T1{data(){return super.data()}}function _g(r,e){return typeof e=="string"?yg(r,e):e instanceof vf?e._internalPath:e._delegate._internalPath}function b1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class S1 extends vg{}function No(r,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Tg)).length,m=u.filter((p=>p instanceof Eg)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Eg extends S1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Eg(e,n,s)}_apply(e){const n=this._parse(e);return A1(e._query,n),new Bs(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=Tf(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){L0(T,E);const D=[];for(const B of T)D.push(k0(p,u,B));w={arrayValue:{values:D}}}else w=k0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||L0(T,E),w=HN(m,h,T,E==="in"||E==="not-in");return Lt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Tg extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)A1(h,p),h=ap(h,p)})(e._query,n),new Bs(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends S1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Xo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Oo(r,e="asc"){const n=e,s=_g("orderBy",r);return bg._create(s,n)}function k0(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WE(r,new ge(s))}if(n instanceof St)return WE(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function L0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A1(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QN{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Xi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ke(Gb(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function w1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends T1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Pt("string",_a._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Rh extends _a{data(e={}){return super.data(e)}}class va{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new iu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:YN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function bu(r){r=bn(r,St);const e=bn(r.firestore,Pr);return MN(_f(e),r._key).then((n=>C1(e,r,n)))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Pt("string",va._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Sg extends QN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function R1(r){r=bn(r,Bs);const e=bn(r.firestore,Pr),n=_f(e),s=new Sg(e);return b1(r._query),VN(n,r._query).then((o=>new va(e,s,r,o)))}function Su(r,e,n){r=bn(r,St);const s=bn(r.firestore,Pr),o=w1(r.converter,e,n);return Sf(s,[y1(Tf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ii.none())])}function zm(r,e,n,...s){r=bn(r,St);const o=bn(r.firestore,Pr),u=Tf(o);let h;return h=typeof(e=Yt(e))=="string"||e instanceof vf?qN(u,"updateDoc",r._key,e,n,s):BN(u,"updateDoc",r._key,e),Sf(o,[h.toMutation(r._key,ii.exists(!0))])}function jm(r){return Sf(bn(r.firestore,Pr),[new Yp(r._key,ii.none())])}function Bm(r,e){const n=bn(r.firestore,Pr),s=an(r),o=w1(r.converter,e);return Sf(n,[y1(Tf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then((()=>s))}function Mo(r,...e){r=Yt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof St)h=bn(r.firestore,Pr),m=lf(r._key.path),u={next:p=>{e[s]&&e[s](C1(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=bn(r,Bs);h=bn(p.firestore,Pr),m=p._query;const g=new Sg(h);u={next:E=>{e[s]&&e[s](new va(h,g,p,E))},error:e[s+1],complete:e[s+2]},b1(r._query)}return(function(g,E,T,w){const O=new dg(w),D=new cg(E,O,T);return g.asyncQueue.enqueueAndForget((async()=>og(await Gh(g),D))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>lg(await Gh(g),D)))}})(_f(h),m,o,u)}function Sf(r,e){return(function(s,o){const u=new Nr;return s.asyncQueue.enqueueAndForget((async()=>TN(await ON(s),o,u))),u.promise})(_f(r),e)}function C1(r,e,n){const s=n.docs.get(e._key),o=new Sg(r);return new _a(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function Vo(){return new pg("serverTimestamp")}(function(e,n=!0){(function(o){Qo=o})(Ca),Ta(new Ds("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Pr(new B2(s.getProvider("auth-internal")),new F2(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Fi(UE,zE,e),Fi(UE,zE,"esm2020")})();const I1="firebasestorage.googleapis.com",KN="storageBucket",XN=120*1e3,$N=600*1e3;class er extends Zi{constructor(e,n,s=0){super(qm(e),`Firebase Storage: ${n} (${qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function qm(r){return"storage/"+r}function WN(){const r="An unknown error occurred, please check the error payload for server response.";return new er(Ji.UNKNOWN,r)}function JN(){return new er(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZN(){return new er(Ji.CANCELED,"User canceled the upload/download.")}function eO(r){return new er(Ji.INVALID_URL,"Invalid URL '"+r+"'.")}function tO(r){return new er(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function P0(r){return new er(Ji.INVALID_ARGUMENT,r)}function x1(){return new er(Ji.APP_DELETED,"The Firebase app was deleted.")}function nO(r){return new er(Ji.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ti{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Ti.makeFromUrl(e,n)}catch{return new Ti(e,"")}if(s.path==="")return s;throw tO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(de){de.path.charAt(de.path.length-1)==="/"&&(de.path_=de.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(de){de.path_=decodeURIComponent(de.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),D={bucket:1,path:3},B=n===I1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",te=new RegExp(`^https?://${B}/${o}/${j}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:O,indices:D,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let de=0;de<re.length;de++){const be=re[de],Te=be.regex.exec(e);if(Te){const x=Te[be.indices.bucket];let R=Te[be.indices.path];R||(R=""),s=new Ti(x,R),be.postModify(s);break}}if(s==null)throw eO(e);return s}}class iO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,r(O,p())},j)}function w(){u&&clearTimeout(u)}function O(j,...te){if(g){w();return}if(j){w(),E.call(null,j,...te);return}if(p()||h){w(),E.call(null,j,...te);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,T(re)}let D=!1;function B(j){D||(D=!0,w(),!g&&(o!==null?(j||(m=2),clearTimeout(o),T(0)):j||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,B(!0)},n),B}function sO(r){r(!1)}function aO(r){return r!==void 0}function U0(r,e,n,s){if(s<e)throw P0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw P0(`Invalid value for '${r}'. Expected ${n} or less.`)}function oO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Yh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Yh||(Yh={}));function lO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class uO{constructor(e,n,s,o,u,h,m,p,g,E,T,w=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,B)=>{this.resolve_=D,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Yh.NO_ERROR,p=u.getStatus();if(!m||lO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Yh.ABORT;s(!1,new dh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new dh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());aO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=WN();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?x1():ZN();h(p)}else{const p=JN();h(p)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=rO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function cO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function hO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function dO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function mO(r,e,n,s,o,u,h=!0,m=!1){const p=oO(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return fO(E,e),cO(E,n),hO(E,u),dO(E,s),new uO(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function pO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function gO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class Kh{constructor(e,n){this._service=e,n instanceof Ti?this._location=n:this._location=Ti.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gO(this._location.path)}get storage(){return this._service}get parent(){const e=pO(this._location.path);if(e===null)return null;const n=new Ti(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nO(e)}}function z0(r,e){const n=e?.[KN];return n==null?null:Ti.makeFromBucketSpec(n,r)}function yO(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ra(e);o&&(Rp(`https://${r.host}/b`),Cp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:hT(u,r.app.options.projectId))}class _O{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=I1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XN,this._maxUploadRetryTime=$N,this._requests=new Set,o!=null?this._bucket=Ti.makeFromBucketSpec(o,this._host):this._bucket=z0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=z0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new iO(x1());{const h=mO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const j0="@firebase/storage",B0="0.14.0";const D1="storage";function vO(r=Dp(),e){r=Yt(r);const s=Zh(r,D1).getImmediate({identifier:e}),o=lT("storage");return o&&EO(s,...o),s}function EO(r,e,n,s={}){yO(r,e,n,s)}function TO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new _O(n,s,o,e,Ca)}function bO(){Ta(new Ds(D1,TO,"PUBLIC").setMultipleInstances(!0)),Fi(j0,B0,""),Fi(j0,B0,"esm2020")}bO();const SO={apiKey:"AIzaSyAsCmzOUFyOeBBKu-Dcf2DojSJ7VpDgl38",authDomain:"makerworks-31c33.firebaseapp.com",projectId:"makerworks-31c33",storageBucket:"makerworks-31c33.firebasestorage.app",messagingSenderId:"247985134020",appId:"1:247985134020:web:1ef8a8fb162a540ee92c91",measurementId:"G-TX2YPY4ZSV"},Ag=mT(SO),Af=P2(Ag),st=LN(Ag);vO(Ag);function AO(){const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(!1),[h,m]=P.useState(""),p=Fo(),g=async E=>{E.preventDefault(),m(""),u(!0);try{await AI(Af,r,n),p("/",{replace:!0})}catch(T){console.error(T),m(T.message||"Login failed")}finally{u(!1)}};return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-shell",children:[b.jsx("div",{className:"auth-illustration",children:b.jsxs("div",{className:"auth-illu-card",children:[b.jsx("div",{className:"auth-illu-badge",children:b.jsx("span",{children:" MakerWorks LMS"})}),b.jsx("div",{className:"auth-illu-avatar",children:""}),b.jsx("h2",{children:"Welcome back"}),b.jsx("p",{children:"Login to continue learning, track your progress, and complete your courses."}),b.jsxs("ul",{className:"auth-illu-list",children:[b.jsx("li",{children:" Progress tracking per lesson"}),b.jsx("li",{children:" Quizzes & certificates"}),b.jsx("li",{children:" Separate student / instructor views"})]})]})}),b.jsxs("div",{className:"auth-panel",children:[b.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),b.jsx("h1",{className:"auth-title",children:"Login"}),b.jsx("p",{className:"auth-subtitle",children:"Enter your account details to access your dashboard."}),b.jsxs("form",{className:"auth-form",onSubmit:g,children:[b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:E=>e(E.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:E=>s(E.target.value),required:!0})]}),b.jsx("div",{className:"auth-actions-row",children:b.jsx("span",{className:"tiny-text",style:{color:"#9ca3af"},children:"Use the test account you created"})}),b.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:o,children:o?"Logging in...":"Login"})]}),b.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Don't have an account?"," ",b.jsx(Wh,{to:"/signup",className:"auth-link-small",children:"Sign up"})]}),h&&b.jsx("p",{className:"auth-message error",style:{marginTop:8},children:h})]})]})})}function wO(){const[r,e]=P.useState(""),[n,s]=P.useState("student"),[o,u]=P.useState(""),[h,m]=P.useState(""),[p,g]=P.useState(!1),[E,T]=P.useState(""),w=Fo(),O=async D=>{if(D.preventDefault(),T(""),o!==h){T("Passwords do not match.");return}if(o.length<6){T("Password should be at least 6 characters.");return}g(!0);try{const j=(await SI(Af,r,o)).user;await Su(an(st,"users",j.uid),{email:j.email,role:n,createdAt:new Date}),T("Account created! Redirecting"),w("/",{replace:!0})}catch(B){console.error(B),T(B.message||"Signup failed")}finally{g(!1)}};return b.jsx("div",{className:"auth-page",children:b.jsxs("div",{className:"auth-shell",children:[b.jsx("div",{className:"auth-illustration",children:b.jsxs("div",{className:"auth-illu-card",children:[b.jsx("div",{className:"auth-illu-badge",children:b.jsx("span",{children:" Join MakerWorks"})}),b.jsx("div",{className:"auth-illu-avatar",children:""}),b.jsx("h2",{children:"Create your account"}),b.jsx("p",{children:"Set up your student or instructor account and start creating or taking courses in minutes."}),b.jsxs("ul",{className:"auth-illu-list",children:[b.jsx("li",{children:" Role-based dashboards"}),b.jsx("li",{children:" Upload lessons & resources"}),b.jsx("li",{children:" Progress + quiz analytics"})]})]})}),b.jsxs("div",{className:"auth-panel",children:[b.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),b.jsx("h1",{className:"auth-title",children:"Sign up"}),b.jsx("p",{className:"auth-subtitle",children:"Create an account to access the MakerWorks learning platform."}),b.jsxs("form",{className:"auth-form",onSubmit:O,children:[b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"email",children:"Email"}),b.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:D=>e(D.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"role",children:"Role"}),b.jsxs("select",{id:"role",value:n,onChange:D=>s(D.target.value),children:[b.jsx("option",{value:"student",children:"Student"}),b.jsx("option",{value:"instructor",children:"Instructor"})]})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{id:"password",type:"password",autoComplete:"new-password",value:o,onChange:D=>u(D.target.value),required:!0})]}),b.jsxs("div",{className:"auth-field",children:[b.jsx("label",{htmlFor:"confirm",children:"Confirm password"}),b.jsx("input",{id:"confirm",type:"password",autoComplete:"new-password",value:h,onChange:D=>m(D.target.value),required:!0})]}),b.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:p,children:p?"Creating account...":"Sign up"})]}),b.jsxs("div",{style:{marginTop:10,fontSize:12},children:["Already have an account?"," ",b.jsx(Wh,{to:"/login",className:"auth-link-small",children:"Login"})]}),E&&b.jsx("p",{className:`auth-message ${E.toLowerCase().includes("created")?"success":"error"}`,style:{marginTop:8},children:E})]})]})})}function RO({user:r}){const[e,n]=P.useState([]),[s,o]=P.useState({}),u=Fo();P.useEffect(()=>{const D=No(vi(st,"courses"),Oo("createdAt","desc"));return Mo(D,B=>{n(B.docs.map(j=>({id:j.id,...j.data()})))})},[]),P.useEffect(()=>{const D=vi(st,"users",r.uid,"progress");return Mo(D,B=>{const j={};B.forEach(te=>{j[te.id]=te.data()}),o(j)})},[r.uid]);const h=e.filter(D=>s[D.id]),m=e.filter(D=>!s[D.id]),p=r.displayName||r.email||"Learner",g=Object.values(s).reduce((D,B)=>D+(B.completedLessons?.length||0),0),E=D=>{u(`/courses/${D}`)},T=async D=>{try{const B=an(st,"users",r.uid,"progress",D);await Su(B,{startedAt:Vo(),completedLessons:[],lastOpenedLessonId:null},{merge:!0}),E(D)}catch(B){console.error("Error starting course:",B),E(D)}},w="#6d28d9",O="#f5f3ff";return b.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:O,minHeight:"100%"},children:b.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[b.jsxs("div",{style:{background:"white",borderRadius:999,padding:"8px 18px",display:"flex",alignItems:"center",gap:8,boxShadow:"0 8px 24px rgba(15,23,42,0.06)",marginBottom:18,border:"1px solid #e5e7eb"},children:[b.jsx("span",{style:{fontSize:18,color:w,fontWeight:700,marginRight:6},children:""}),b.jsx("input",{placeholder:"Search courses...",style:{flex:1,border:"none",outline:"none",fontSize:14,color:"#111827"}})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1.5fr)",gap:16,marginBottom:22},children:[b.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb",display:"flex",gap:16},children:[b.jsx("div",{style:{width:90,minWidth:90,height:90,borderRadius:18,background:"linear-gradient(135deg, #a855f7, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:30,fontWeight:700},children:p.split(" ").map(D=>D[0]?.toUpperCase()).join("").slice(0,2)}),b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#111827",marginBottom:4},children:p}),b.jsxs("div",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["ID: ",r.uid.slice(0,8),"  Email: ",r.email]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:8,fontSize:12,color:"#4b5563"},children:[b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Role: "}),"Student"]}),b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Enrolled: "}),h.length," course",h.length===1?"":"s"]}),b.jsxs("div",{children:[b.jsx("span",{style:{fontWeight:600},children:"Completed lessons: "}),g]})]})]})]}),b.jsxs("div",{style:{background:"white",borderRadius:18,padding:18,boxShadow:"0 10px 26px rgba(15,23,42,0.06)",border:"1px solid #e5e7eb"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827"},children:"Learning overview"}),b.jsxs("div",{style:{display:"flex",gap:6,fontSize:11},children:[b.jsx("span",{style:{padding:"2px 10px",borderRadius:999,background:O,color:w,fontWeight:600},children:"Active"}),b.jsx("span",{style:{padding:"2px 10px",borderRadius:999,border:"1px solid #e5e7eb",color:"#6b7280"},children:"Regular"})]})]}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:10,marginBottom:10},children:[b.jsxs("div",{style:{background:O,borderRadius:12,padding:8,fontSize:12,color:w,fontWeight:600},children:["Total courses",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:e.length})]}),b.jsxs("div",{style:{background:"#ecfdf5",borderRadius:12,padding:8,fontSize:12,color:"#15803d",fontWeight:600},children:["Enrolled",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:h.length})]}),b.jsxs("div",{style:{background:"#eff6ff",borderRadius:12,padding:8,fontSize:12,color:"#2563eb",fontWeight:600},children:["Completed lessons",b.jsx("div",{style:{fontSize:18,marginTop:2,color:"#111827"},children:g})]})]}),b.jsxs("div",{style:{fontSize:12,color:"#4b5563"},children:[b.jsxs("div",{style:{marginBottom:8},children:[b.jsx("div",{style:{marginBottom:2},children:"Active courses"}),b.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:b.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(h.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:w}})})]}),b.jsxs("div",{style:{marginBottom:8},children:[b.jsx("div",{style:{marginBottom:2},children:"Courses not started"}),b.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb"},children:b.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(m.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:"#f97316"}})})]})]})]})]}),b.jsxs("div",{style:{marginBottom:24},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Enrolled courses"}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[h.length," enrolled"]})]}),h.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"You haven't enrolled in any courses yet."}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:14},children:h.map(D=>{const B=s[D.id]||{},j=B.completedLessons?.length||0,te=B.totalLessons||B.lessonCount||Math.max(j,1),ie=Math.min(100,Math.round(j/te*100));return b.jsxs("div",{style:{background:"white",borderRadius:12,border:"1px solid #e5e7eb",boxShadow:"0 6px 18px rgba(15,23,42,0.06)",display:"flex",overflow:"hidden"},children:[b.jsx("div",{style:{width:80,minWidth:80,background:"linear-gradient(135deg, #6d28d9, #4c1d95)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:b.jsx("div",{style:{width:44,height:44,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(15,23,42,0.35)"},children:b.jsx("div",{style:{width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:"14px solid #6d28d9",marginLeft:2}})})}),b.jsxs("div",{style:{flex:1,padding:"10px 14px 8px",display:"flex",flexDirection:"column"},children:[b.jsx("div",{style:{fontSize:11,fontWeight:600,color:"#6b7280",marginBottom:2},children:D.category||"Course"}),b.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#111827",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:D.title||"Untitled course"}),b.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#6b7280"},children:["Lecture  ",j,"/",te," lessons  ",ie,"% complete"]}),b.jsx("div",{style:{marginTop:8,height:6,borderRadius:999,background:"#e5e7eb",overflow:"hidden"},children:b.jsx("div",{style:{width:`${ie}%`,height:"100%",background:"#6d28d9"}})}),b.jsx("button",{onClick:()=>E(D.id),style:{marginTop:8,alignSelf:"flex-start",padding:"6px 12px",borderRadius:999,border:"none",background:"#6d28d9",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Continue course"})]})]},D.id)})})]}),b.jsxs("div",{children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"All courses"}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[e.length," total"]})]}),e.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No courses yet."}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:20},children:e.map(D=>{const B=!!s[D.id],j=D.imageUrl||"https://via.placeholder.com/400x200.png?text=Course";return b.jsxs("div",{style:{background:"white",borderRadius:12,overflow:"hidden",border:"1px solid #e5e7eb",boxShadow:"0 6px 14px rgba(15,23,42,0.06)",display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{position:"relative"},children:[b.jsx("img",{src:j,alt:D.title,style:{width:"100%",height:140,objectFit:"cover",display:"block"}}),D.badge&&b.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:"#4c1d95",color:"white",fontSize:11,fontWeight:600},children:D.badge}),!D.badge&&B&&b.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:"#ecfdf5",color:"#15803d",fontSize:11,fontWeight:600},children:"Enrolled"})]}),b.jsxs("div",{style:{padding:12,display:"flex",flexDirection:"column",flex:1},children:[b.jsx("div",{style:{fontSize:15,fontWeight:700,color:"#111827",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:40},children:D.title||"Untitled course"}),b.jsx("div",{style:{marginTop:6,fontSize:12,color:"#6b7280",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:32},children:D.description||"No description yet."}),b.jsx("button",{onClick:()=>B?E(D.id):T(D.id),style:{marginTop:10,padding:"8px 12px",borderRadius:999,border:"none",background:B?w:"#16a34a",color:"white",fontSize:13,fontWeight:600,cursor:"pointer",alignSelf:"stretch"},children:B?"Go to course":"Start course"})]})]},D.id)})})]})]})})}function CO({user:r}){const[e,n]=P.useState([]),[s,o]=P.useState(""),[u,h]=P.useState(""),[m,p]=P.useState(null),[g,E]=P.useState(""),[T,w]=P.useState(""),[O,D]=P.useState(null),[B,j]=P.useState(""),[te,ie]=P.useState([]),[re,de]=P.useState(""),[be,Te]=P.useState(""),[x,R]=P.useState(""),[C,L]=P.useState(""),[M,U]=P.useState(""),[I,Je]=P.useState(""),[_t,X]=P.useState(""),[se,me]=P.useState(null),[Me,Be]=P.useState(""),[k,J]=P.useState(""),[oe,ue]=P.useState(""),[_e,Se]=P.useState(""),[De,dt]=P.useState(""),[Ze,ai]=P.useState(""),[tr,wi]=P.useState(""),[zr,Sn]=P.useState([]),[nr,oi]=P.useState(""),[ir,rr]=P.useState(["","","",""]),[mt,pt]=P.useState(0),[An,jr]=P.useState(null),[qs,Ut]=P.useState(""),[li,sr]=P.useState(["","","",""]),[Br,Un]=P.useState(0),[Na,Hs]=P.useState(null),[Fs,Gs]=P.useState([]),qt="#6d28d9",zt="#f5f3ff";P.useEffect(()=>{const K=No(vi(st,"courses"),Oo("createdAt","desc"));return Mo(K,qe=>{n(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[]),P.useEffect(()=>{if(!O)return ie([]);const K=No(vi(st,"courses",O,"lessons"),Oo("createdAt","asc"));return Mo(K,qe=>{ie(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[O]),P.useEffect(()=>{if(!O||!se)return Sn([]);const K=No(vi(st,"courses",O,"lessons",se,"quizzes"),Oo("createdAt","asc"));return Mo(K,qe=>{Sn(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})},[O,se]);const hn=K=>{D(K.id),j(K.title),de(""),Te(""),R(""),L(""),U(""),Je(""),X(""),me(null),Be(""),J(""),ue(""),Se(""),dt(""),ai(""),wi(""),oi(""),rr(["","","",""]),pt(0),jr(null),Ut(""),sr(["","","",""]),Un(0)},gt=async K=>{K.preventDefault(),s.trim()&&(await Bm(vi(st,"courses"),{title:s.trim(),description:u.trim(),createdBy:r.uid,createdByEmail:r.email,createdAt:Vo()}),o(""),h(""))},Oa=K=>{p(K.id),E(K.title),w(K.description||"")},qr=async K=>{K.preventDefault(),m&&(await zm(an(st,"courses",m),{title:g.trim(),description:T.trim()}),p(null),E(""),w(""))},Ma=async K=>{await jm(an(st,"courses",K)),O===K&&(D(null),ie([]))},zn=async K=>{if(K.preventDefault(),!O||!re.trim())return;const qe=I?I.split(",").map(Ge=>Ge.trim()).filter(Boolean):[];await Bm(vi(st,"courses",O,"lessons"),{title:re.trim(),description:be.trim(),content:x.trim(),youtubeUrl:C.trim()||null,pdfUrl:M.trim()||null,imageUrls:qe,duration:_t.trim()||null,createdAt:Vo()}),de(""),Te(""),R(""),L(""),U(""),Je(""),X("")},ar=K=>{me(K.id),Be(K.title),J(K.description||""),ue(K.content||""),Se(K.youtubeUrl||""),dt(K.pdfUrl||""),wi(K.duration||""),ai(Array.isArray(K.imageUrls)?K.imageUrls.join(", "):"")},vt=async K=>{if(K.preventDefault(),!O||!se)return;const qe=Ze?Ze.split(",").map(Ge=>Ge.trim()).filter(Boolean):[];await zm(an(st,"courses",O,"lessons",se),{title:Me.trim(),description:k.trim(),content:oe.trim(),youtubeUrl:_e.trim()||null,pdfUrl:De.trim()||null,imageUrls:qe,duration:tr.trim()||null}),me(null)},jn=async K=>{O&&(await jm(an(st,"courses",O,"lessons",K)),se===K&&me(null))},Bn=async K=>{K.preventDefault(),!(!O||!se)&&nr.trim()&&(await Bm(vi(st,"courses",O,"lessons",se,"quizzes"),{question:nr.trim(),options:ir.map(qe=>qe.trim()),correctIndex:mt,createdAt:Vo()}),oi(""),rr(["","","",""]),pt(0))},wn=K=>{jr(K.id),Ut(K.question),sr(K.options||["","","",""]),Un(K.correctIndex??0)},Wo=async K=>{K.preventDefault(),!(!O||!se||!An)&&(await zm(an(st,"courses",O,"lessons",se,"quizzes",An),{question:qs.trim(),options:li.map(qe=>qe.trim()),correctIndex:Br}),jr(null))},Va=async K=>{!O||!se||(await jm(an(st,"courses",O,"lessons",se,"quizzes",K)),An===K&&jr(null))},qn=async K=>{Hs(K),Gs([]);const Ge=(await R1(vi(st,"users"))).docs.map(fn=>({id:fn.id,...fn.data()})),Et=[];for(const fn of Ge){const or=an(st,"users",fn.id,"progress",K.id),Hn=await bu(or);Hn.exists()&&Et.push({email:fn.email,...Hn.data()})}Gs(Et)};return b.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:zt,minHeight:"100%"},children:b.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[b.jsx("div",{style:{marginBottom:18,display:"flex",justifyContent:"space-between",alignItems:"center"},children:b.jsxs("div",{children:[b.jsx("h2",{style:{margin:0,fontSize:20,fontWeight:700,color:"#111827"},children:"Instructor Studio"}),b.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Welcome, ",r.email]})]})}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.4fr) minmax(0, 2fr)",gap:18,alignItems:"flex-start"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[b.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.06)"},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827",marginBottom:10},children:"Create a new course"}),b.jsxs("form",{onSubmit:gt,children:[b.jsx("input",{placeholder:"Course title",value:s,onChange:K=>o(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:14}}),b.jsx("textarea",{placeholder:"Short description",value:u,onChange:K=>h(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,resize:"vertical"}}),b.jsx("button",{type:"submit",style:{padding:"8px 14px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Add course"})]})]}),b.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.05)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[b.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Your courses"}),b.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:`${e.length} total`})]}),e.length===0&&b.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No courses yet."}),b.jsx("div",{style:{marginTop:6},children:e.map(K=>{const qe=O===K.id;return b.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #eef2ff",marginBottom:8,background:qe?"#eef2ff":"#f9fafb"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:K.title}),b.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:K.description||"No description."}),b.jsxs("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:6},children:[b.jsx("button",{onClick:()=>hn(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:qe?qt:"#e5e7eb",color:qe?"white":"#111827",cursor:"pointer"},children:"Lessons"}),b.jsx("button",{onClick:()=>Oa(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit"}),b.jsx("button",{onClick:()=>Ma(K.id),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"}),b.jsx("button",{onClick:()=>qn(K),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fef9c3",color:"#92400e",cursor:"pointer"},children:"Analytics"})]})]},K.id)})}),m&&b.jsxs("div",{style:{marginTop:12,padding:10,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[b.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Edit course"}),b.jsxs("form",{onSubmit:qr,children:[b.jsx("input",{value:g,onChange:K=>E(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{value:T,onChange:K=>w(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("button",{type:"submit",style:{padding:"6px 12px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save"}),b.jsx("button",{type:"button",onClick:()=>p(null),style:{padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,marginLeft:8,cursor:"pointer"},children:"Cancel"})]})]})]}),Na&&b.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[b.jsxs("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:6},children:[" Analytics: ",Na.title]}),Fs.length===0?b.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No student progress yet."}):Fs.map((K,qe)=>{const Ge=K.completedLessons?.length||0,Et=te.length||0,fn=Et===0?0:Math.round(Ge/Et*100);return b.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginTop:8,background:"#f9fafb"},children:[b.jsx("b",{style:{fontSize:13},children:K.email}),b.jsx("div",{style:{width:"100%",background:"#e5e7eb",height:6,borderRadius:999,marginTop:4},children:b.jsx("div",{style:{width:`${fn}%`,height:"100%",borderRadius:999,background:"#16a34a"}})}),b.jsxs("div",{style:{fontSize:12,marginTop:4,color:"#4b5563"},children:[Ge,"/",Et," lessons (",fn,"%)"]})]},qe)}),b.jsx("button",{onClick:()=>Hs(null),style:{marginTop:10,padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Close analytics"})]})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:O?b.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[b.jsxs("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:["Lessons in ",B]}),b.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[te.length," lesson",te.length===1?"":"s"]})]}),b.jsxs("form",{onSubmit:zn,style:{marginBottom:12},children:[b.jsx("input",{placeholder:"Lesson title",value:re,onChange:K=>de(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Short summary (Overview tab)",value:be,onChange:K=>Te(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Full theory / explanation",value:x,onChange:K=>R(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"YouTube URL (unlisted / private link)",value:C,onChange:K=>L(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"PDF URL (optional)",value:M,onChange:K=>U(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{placeholder:"Image URLs (comma separated)",value:I,onChange:K=>Je(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("input",{placeholder:"Duration in minutes (optional)",value:_t,onChange:K=>X(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("button",{type:"submit",style:{padding:"7px 12px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add lesson"})]}),b.jsx("div",{children:te.map(K=>b.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #e5e7eb",marginTop:8,background:se===K.id?"#eef2ff":"#f9fafb"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:K.title}),b.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:K.description||K.content}),K.duration&&b.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[K.duration," min"]}),b.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,flexWrap:"wrap"},children:[b.jsx("button",{onClick:()=>ar(K),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit lesson / quiz"}),b.jsx("button",{onClick:()=>jn(K.id),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},K.id))}),se&&b.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[b.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Edit lesson"}),b.jsxs("form",{onSubmit:vt,children:[b.jsx("input",{value:Me,onChange:K=>Be(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),b.jsx("textarea",{value:k,onChange:K=>J(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Short summary (Overview)"}),b.jsx("textarea",{value:oe,onChange:K=>ue(K.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Full theory"}),b.jsx("input",{value:_e,onChange:K=>Se(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"YouTube URL"}),b.jsx("input",{value:De,onChange:K=>dt(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"PDF URL"}),b.jsx("textarea",{value:Ze,onChange:K=>ai(K.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Image URLs (comma separated)"}),b.jsx("input",{value:tr,onChange:K=>wi(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Duration in minutes"}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save lesson"})]}),b.jsx("h4",{style:{margin:"16px 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Quiz questions"}),b.jsxs("form",{onSubmit:Bn,children:[b.jsx("input",{placeholder:"Quiz question",value:nr,onChange:K=>oi(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),ir.map((K,qe)=>b.jsx("input",{placeholder:`Option ${qe+1}`,value:K,onChange:Ge=>{const Et=[...ir];Et[qe]=Ge.target.value,rr(Et)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},qe)),b.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),b.jsxs("select",{value:mt,onChange:K=>pt(Number(K.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[b.jsx("option",{value:0,children:"Option 1"}),b.jsx("option",{value:1,children:"Option 2"}),b.jsx("option",{value:2,children:"Option 3"}),b.jsx("option",{value:3,children:"Option 4"})]}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:"#16a34a",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add question"})]}),zr.map((K,qe)=>b.jsxs("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid #e5e7eb",fontSize:13},children:[b.jsxs("b",{children:["Q",qe+1,": ",K.question]}),K.options?.map((Ge,Et)=>b.jsxs("div",{style:{fontSize:12},children:[Et+1,". ",Ge," ",K.correctIndex===Et&&b.jsx("strong",{children:"(correct)"})]},Et)),b.jsxs("div",{style:{marginTop:4,display:"flex",gap:6},children:[b.jsx("button",{onClick:()=>wn(K),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#e5e7eb",cursor:"pointer"},children:"Edit"}),b.jsx("button",{onClick:()=>Va(K.id),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},K.id)),An&&b.jsxs("form",{onSubmit:Wo,style:{marginTop:14,padding:10,background:"#f3f4f6",borderRadius:10},children:[b.jsx("h5",{style:{margin:"0 0 6px",fontSize:13,fontWeight:600,color:"#111827"},children:"Edit quiz question"}),b.jsx("input",{value:qs,onChange:K=>Ut(K.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),li.map((K,qe)=>b.jsx("input",{value:K,onChange:Ge=>{const Et=[...li];Et[qe]=Ge.target.value,sr(Et)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},qe)),b.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),b.jsxs("select",{value:Br,onChange:K=>Un(Number(K.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[b.jsx("option",{value:0,children:"Option 1"}),b.jsx("option",{value:1,children:"Option 2"}),b.jsx("option",{value:2,children:"Option 3"}),b.jsx("option",{value:3,children:"Option 4"})]}),b.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:qt,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save quiz"})]})]})]}):b.jsx("div",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",fontSize:13,color:"#6b7280"},children:"Select a course on the left to manage lessons and quizzes."})})]})]})})}function IO(r){if(!r)return null;try{const e=new URL(r),n=e.searchParams.get("v");if(n)return`https://www.youtube-nocookie.com/embed/${n}`;if(e.hostname==="youtu.be"){const s=e.pathname.replace("/","");if(s)return`https://www.youtube-nocookie.com/embed/${s}`}}catch{}return null}function xO({user:r}){const{courseId:e}=$0(),[n,s]=P.useState(null),[o,u]=P.useState([]),[h,m]=P.useState(null),[p,g]=P.useState("overview"),E="#6d28d9";P.useEffect(()=>{async function D(){const B=an(st,"courses",e),j=await bu(B);j.exists()&&s({id:j.id,...j.data()})}D()},[e]),P.useEffect(()=>{async function D(){const B=vi(st,"courses",e,"lessons"),j=No(B,Oo("createdAt","asc")),ie=(await R1(j)).docs.map(re=>({id:re.id,...re.data()}));u(ie),ie.length>0&&m(ie[0])}D()},[e]),P.useEffect(()=>{if(!r)return;async function D(){const B=an(st,"users",r.uid,"progress",e);await Su(B,{startedAt:Vo()},{merge:!0})}D()},[r,e]);const T=async D=>{if(m(D),g("overview"),r)try{const B=an(st,"users",r.uid,"progress",e);await Su(B,{lastOpenedLessonId:D.id,startedAt:Vo()},{merge:!0})}catch(B){console.error("Error updating lesson progress:",B)}},w=IO(h?.youtubeUrl),O=h?.description||n?.description||"This lesson description will appear here.";return b.jsxs("div",{className:"cp-root",style:{display:"flex",height:"calc(100vh - 56px)",background:"#111827",color:"white"},children:[b.jsxs("div",{className:"cp-left",style:{flex:1,display:"flex",flexDirection:"column",background:"#0b1120",borderRight:"1px solid #020617"},children:[b.jsx("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%",background:"black"},children:h?w?b.jsx("iframe",{src:w,title:h.title||"Lesson video",style:{position:"absolute",inset:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):b.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},children:[b.jsx("div",{style:{marginBottom:12,fontSize:18,fontWeight:600},children:h.title||"Lesson"}),b.jsx("button",{style:{width:82,height:82,borderRadius:"999px",border:"none",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default"},children:b.jsx("div",{style:{marginLeft:5,width:0,height:0,borderTop:"14px solid transparent",borderBottom:"14px solid transparent",borderLeft:"24px solid #111827"}})}),b.jsx("div",{style:{marginTop:8,fontSize:12,color:"#e5e7eb"},children:"No YouTube link set for this lesson."})]}):b.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"Select a lesson on the right"})}),b.jsxs("div",{style:{background:"#f9fafb",color:"#111827",flex:1,overflowY:"auto"},children:[b.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",background:"white",padding:"0 16px"},children:[{id:"overview",label:"Overview"},{id:"theory",label:"Theory"},{id:"resources",label:"Resources"}].map(D=>b.jsx("button",{onClick:()=>g(D.id),style:{border:"none",background:"transparent",padding:"12px 14px",cursor:"pointer",fontSize:14,borderBottom:p===D.id?`2px solid ${E}`:"2px solid transparent",color:p===D.id?E:"#6b7280",fontWeight:p===D.id?600:500},children:D.label},D.id))}),b.jsxs("div",{style:{padding:"16px 20px",fontSize:14},children:[p==="overview"&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{style:{margin:"0 0 6px",fontSize:20,fontWeight:700},children:h?.title||n?.title||"Lesson overview"}),b.jsx("p",{style:{margin:"0 0 10px",color:"#4b5563"},children:O}),b.jsxs("p",{style:{margin:"12px 0 0",fontSize:13,color:"#6b7280"},children:["Course:"," ",b.jsx("span",{style:{fontWeight:600},children:n?.title||"Course"})]}),h?.duration&&b.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Duration: ",h.duration," min"]})]}),p==="theory"&&b.jsx("div",{style:{fontSize:14,color:"#374151",lineHeight:1.6},children:h?.content||"Detailed theory/content for this lesson will go here."}),p==="resources"&&b.jsxs("div",{style:{fontSize:14,color:"#4b5563",display:"flex",flexDirection:"column",gap:16},children:[h?.pdfUrl?b.jsxs("div",{children:[b.jsx("p",{style:{marginBottom:6},children:"PDF resource for this lesson:"}),b.jsx("a",{href:h.pdfUrl,target:"_blank",rel:"noreferrer",style:{fontSize:14,color:E,fontWeight:600},children:" Open PDF in new tab"}),b.jsx("div",{style:{marginTop:10,border:"1px solid #e5e7eb",borderRadius:8,overflow:"hidden",height:400,background:"white"},children:b.jsx("iframe",{src:h.pdfUrl,title:"Lesson PDF",style:{width:"100%",height:"100%",border:"none"}})})]}):b.jsx("p",{style:{color:"#6b7280",margin:0},children:"No PDF attached for this lesson."}),h?.imageUrls&&Array.isArray(h.imageUrls)&&h.imageUrls.length>0&&b.jsxs("div",{children:[b.jsx("p",{style:{marginBottom:6},children:"Images for this lesson:"}),b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:h.imageUrls.map((D,B)=>b.jsx("div",{style:{borderRadius:8,overflow:"hidden",border:"1px solid #e5e7eb",background:"white"},children:b.jsx("img",{src:D,alt:`Resource ${B+1}`,style:{width:"100%",height:120,objectFit:"cover",display:"block"}})},B))})]})]})]})]})]}),b.jsxs("aside",{className:"cp-right",style:{width:360,background:"#f9fafb",borderLeft:"1px solid #e5e7eb",display:"flex",flexDirection:"column"},children:[b.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",background:"white"},children:[b.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:n?.title||"Course content"}),b.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:[o.length," lesson",o.length===1?"":"s"]})]}),b.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[o.map((D,B)=>{const j=h?.id===D.id;return b.jsxs("button",{onClick:()=>T(D),style:{width:"100%",textAlign:"left",border:"none",background:j?"#e5e7eb":"transparent",padding:"10px 14px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"flex-start",gap:10,fontSize:13},children:[b.jsxs("span",{style:{marginTop:2,fontSize:11,color:"#6b7280"},children:[B+1,"."]}),b.jsxs("div",{children:[b.jsx("div",{style:{fontWeight:600,color:"#111827",marginBottom:2},children:D.title||"Lesson"}),D.duration&&b.jsxs("div",{style:{fontSize:11,color:"#6b7280"},children:[D.duration," min"]})]})]},D.id)}),o.length===0&&b.jsx("div",{style:{padding:14,fontSize:13,color:"#6b7280"},children:"No lessons created for this course yet."})]})]})]})}function DO({user:r}){const{courseId:e,lessonId:n}=$0(),[s,o]=P.useState(null),[u,h]=P.useState([]),[m,p]=P.useState({}),[g,E]=P.useState(!1);P.useEffect(()=>{bu(an(st,"courses",e,"lessons",n)).then(O=>{O.exists()&&o(O.data())})},[e,n]),P.useEffect(()=>{const O=No(vi(st,"courses",e,"lessons",n,"quizzes"),Oo("createdAt","asc"));return Mo(O,D=>{h(D.docs.map(B=>({id:B.id,...B.data()})))})},[]);const T=async()=>{const O=an(st,"users",r.uid,"progress",e),D=await bu(O),B=D.exists()?D.data():{completedLessons:[]};await Su(O,{...B,completedLessons:[...B.completedLessons,n]})},w=()=>{E(!0)};return b.jsx("div",{style:{padding:20},children:s&&b.jsxs(b.Fragment,{children:[b.jsx("h2",{children:s.title}),b.jsx("p",{children:s.content}),s.fileUrl&&b.jsxs("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[" ",s.fileName]}),b.jsx("h3",{style:{marginTop:20},children:"Quiz"}),u.map((O,D)=>b.jsxs("div",{style:{marginBottom:12},children:[b.jsxs("b",{children:["Q",D+1,". ",O.question]}),O.options.map((B,j)=>b.jsx("div",{children:b.jsxs("label",{children:[b.jsx("input",{type:"radio",name:O.id,disabled:g,onChange:()=>p({...m,[O.id]:j})})," ",B]})},j))]},O.id)),!g&&u.length>0&&b.jsx("button",{onClick:w,style:{padding:"6px 10px",background:"#16a34a",color:"white",border:"none",borderRadius:6},children:"Submit Quiz"}),g&&b.jsx("button",{onClick:T,style:{marginTop:10,padding:"6px 10px",background:"#2563eb",color:"white",border:"none",borderRadius:6},children:"Mark Lesson Complete"})]})})}function mh({children:r}){const e=Ur(),n=Fo(),[s,o]=P.useState(!1),u=e.pathname.startsWith("/instructor"),h=u?"/instructor":"/student",m=async()=>{try{await Af.signOut(),n("/login")}catch(D){console.error(D)}},p={display:"flex",alignItems:"center",gap:10,padding:"10px 16px",fontSize:14,cursor:"pointer"},g={width:18,textAlign:"center",fontSize:16},E={whiteSpace:"nowrap"},T=()=>o(!1),w=D=>D===h?e.pathname===h||e.pathname===`${h}/`:e.pathname===D||e.pathname.startsWith(D+"/"),O=[{key:"dashboard",label:"Dashboard",icon:"",path:h},{key:"profile",label:"My Profile",icon:"",path:`${h}/profile`},{key:"change-password",label:"Change Password",icon:"",path:`${h}/change-password`},{key:"messages",label:"Messages",icon:"",path:`${h}/messages`},{key:"notifications",label:"Notifications",icon:"",path:`${h}/notifications`}];return b.jsxs("div",{className:"layout-root",style:{display:"flex",minHeight:"100vh",background:"#f3f4f6",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif"},children:[s&&b.jsx("div",{className:"layout-backdrop",onClick:T,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.35)",zIndex:15}}),b.jsxs("aside",{className:`layout-sidebar ${s?"sidebar-open":"sidebar-closed"}`,style:{width:220,background:"#5b21b6",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:20},children:[b.jsxs("div",{children:[b.jsx("div",{className:"sidebar-logo",style:{padding:"18px 12px 14px",display:"flex",justifyContent:"center",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:b.jsx("div",{style:{width:72,height:72,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,color:"#5b21b6",boxShadow:"0 4px 10px rgba(0,0,0,0.18)"},children:"LOGO"})}),b.jsx("nav",{className:"sidebar-nav",style:{marginTop:10},children:O.map(D=>{const B=w(D.path);return b.jsxs("div",{style:{...p,backgroundColor:B?"white":"transparent",color:B?"#5b21b6":"white",borderRadius:"0 20px 20px 0",marginRight:8},onClick:()=>{n(D.path),T()},children:[b.jsx("span",{style:g,children:D.icon}),b.jsx("span",{style:E,children:D.label})]},D.key)})})]}),b.jsx("div",{className:"sidebar-help",style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.12)"},children:b.jsxs("div",{style:{...p,padding:"8px 10px",justifyContent:"center",borderRadius:999,border:"1px solid rgba(255,255,255,0.6)",fontSize:13},children:[b.jsx("span",{style:{fontSize:16},children:""}),b.jsx("span",{children:"Help & Support"})]})})]}),b.jsxs("div",{className:"layout-main",style:{flex:1,display:"flex",flexDirection:"column"},children:[b.jsxs("header",{className:"layout-topbar",style:{height:56,background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[b.jsx("button",{className:"hamburger-btn",onClick:()=>o(D=>!D),"aria-label":"Toggle menu",style:{width:34,height:34,borderRadius:999,border:"1px solid #e5e7eb",background:"white",display:"none",alignItems:"center",justifyContent:"center",padding:0,cursor:"pointer"},children:b.jsx("span",{style:{width:16,height:2,background:"#111827",display:"block",boxShadow:"0 5px 0 #111827, 0 -5px 0 #111827"}})}),b.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827"},children:u?"Instructor Panel":"Student Panel"})]}),b.jsx("button",{onClick:m,style:{padding:"6px 12px",fontSize:13,borderRadius:999,border:"1px solid #e5e7eb",background:"#f9fafb",cursor:"pointer"},children:"Logout"})]}),b.jsx("main",{className:"layout-content",style:{flex:1,padding:16,overflow:"auto"},children:r})]})]})}function NO(){const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState(!0);return P.useEffect(()=>{const h=Af.onAuthStateChanged(async m=>{if(m){e(m);const p=an(st,"users",m.uid),g=await bu(p);s(g.exists()?g.data().role:null)}else e(null),s(null);u(!1)});return()=>h()},[]),o?b.jsx("div",{style:{padding:20},children:"Loading..."}):b.jsxs(cw,{children:[b.jsx(Rr,{path:"/",element:r?b.jsx(kn,{to:n==="instructor"?"/instructor":"/student",replace:!0}):b.jsx(kn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/login",element:r?b.jsx(kn,{to:"/",replace:!0}):b.jsx(AO,{})}),b.jsx(Rr,{path:"/signup",element:r?b.jsx(kn,{to:"/",replace:!0}):b.jsx(wO,{})}),b.jsx(Rr,{path:"/student",element:r?n!=="student"?b.jsx(kn,{to:"/instructor",replace:!0}):b.jsx(mh,{children:b.jsx(RO,{user:r})}):b.jsx(kn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/courses/:courseId",element:r?n!=="student"?b.jsx(kn,{to:"/instructor",replace:!0}):b.jsx(mh,{children:b.jsx(xO,{user:r})}):b.jsx(kn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/courses/:courseId/lessons/:lessonId",element:r?n!=="student"?b.jsx(kn,{to:"/instructor",replace:!0}):b.jsx(mh,{children:b.jsx(DO,{user:r})}):b.jsx(kn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"/instructor",element:r?n!=="instructor"?b.jsx(kn,{to:"/student",replace:!0}):b.jsx(mh,{children:b.jsx(CO,{user:r})}):b.jsx(kn,{to:"/login",replace:!0})}),b.jsx(Rr,{path:"*",element:b.jsx(kn,{to:"/",replace:!0})})]})}_A.createRoot(document.getElementById("root")).render(b.jsx(cA.StrictMode,{children:b.jsx(Mw,{children:b.jsx(NO,{})})}));
