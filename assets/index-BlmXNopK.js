(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function t1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tp={exports:{}},ru={};var Jv;function Tw(){if(Jv)return ru;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var Zv;function Sw(){return Zv||(Zv=1,Tp.exports=Tw()),Tp.exports}var y=Sw(),Sp={exports:{}},De={};var e0;function ww(){if(e0)return De;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function q(k,te,he){this.props=k,this.context=te,this.refs=z,this.updater=he||B}q.prototype.isReactComponent={},q.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function ee(k,te,he){this.props=k,this.context=te,this.refs=z,this.updater=he||B}var le=ee.prototype=new Y;le.constructor=ee,Q(le,q.prototype),le.isPureReactComponent=!0;var ae=Array.isArray;function oe(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(k,te,he){var de=he.ref;return{$$typeof:r,type:k,key:te,ref:de!==void 0?de:null,props:he}}function w(k,te){return C(k.type,te,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function L(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return te[he]})}var N=/\/+/g;function Je(k,te){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):te.toString(36)}function bt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(oe,oe):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function J(k,te,he,de,Ee){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(Te){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case r:case e:Le=!0;break;case E:return Le=k._init,J(Le(k._payload),te,he,de,Ee)}}if(Le)return Ee=Ee(k),Le=de===""?"."+Je(k,0):de,ae(Ee)?(he="",Le!=null&&(he=Le.replace(N,"$&/")+"/"),J(Ee,te,he,"",function(Yn){return Yn})):Ee!=null&&(M(Ee)&&(Ee=w(Ee,he+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+Le)),te.push(Ee)),1;Le=0;var yt=de===""?".":de+":";if(ae(k))for(var rt=0;rt<k.length;rt++)de=k[rt],Te=yt+Je(de,rt),Le+=J(de,te,he,Te,Ee);else if(rt=V(k),typeof rt=="function")for(k=rt.call(k),rt=0;!(de=k.next()).done;)de=de.value,Te=yt+Je(de,rt++),Le+=J(de,te,he,Te,Ee);else if(Te==="object"){if(typeof k.then=="function")return J(bt(k),te,he,de,Ee);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ue(k,te,he){if(k==null)return k;var de=[],Ee=0;return J(k,de,"","",function(Te){return te.call(he,Te,Ee++)}),de}function ge(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var Pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Qe={map:ue,forEach:function(k,te,he){ue(k,function(){te.apply(this,arguments)},he)},count:function(k){var te=0;return ue(k,function(){te++}),te},toArray:function(k){return ue(k,function(te){return te})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return De.Activity=T,De.Children=Qe,De.Component=q,De.Fragment=n,De.Profiler=o,De.PureComponent=ee,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,De.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},De.cache=function(k){return function(){return k.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(k,te,he){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var de=Q({},k.props),Ee=k.key;if(te!=null)for(Te in te.key!==void 0&&(Ee=""+te.key),te)!A.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(de[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)de.children=he;else if(1<Te){for(var Le=Array(Te),yt=0;yt<Te;yt++)Le[yt]=arguments[yt+2];de.children=Le}return C(k.type,Ee,de)},De.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},De.createElement=function(k,te,he){var de,Ee={},Te=null;if(te!=null)for(de in te.key!==void 0&&(Te=""+te.key),te)A.call(te,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=te[de]);var Le=arguments.length-2;if(Le===1)Ee.children=he;else if(1<Le){for(var yt=Array(Le),rt=0;rt<Le;rt++)yt[rt]=arguments[rt+2];Ee.children=yt}if(k&&k.defaultProps)for(de in Le=k.defaultProps,Le)Ee[de]===void 0&&(Ee[de]=Le[de]);return C(k,Te,Ee)},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:p,render:k}},De.isValidElement=M,De.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ge}},De.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},De.startTransition=function(k){var te=D.T,he={};D.T=he;try{var de=k(),Ee=D.S;Ee!==null&&Ee(he,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(oe,Pe)}catch(Te){Pe(Te)}finally{te!==null&&he.types!==null&&(te.types=he.types),D.T=te}},De.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},De.use=function(k){return D.H.use(k)},De.useActionState=function(k,te,he){return D.H.useActionState(k,te,he)},De.useCallback=function(k,te){return D.H.useCallback(k,te)},De.useContext=function(k){return D.H.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k,te){return D.H.useDeferredValue(k,te)},De.useEffect=function(k,te){return D.H.useEffect(k,te)},De.useEffectEvent=function(k){return D.H.useEffectEvent(k)},De.useId=function(){return D.H.useId()},De.useImperativeHandle=function(k,te,he){return D.H.useImperativeHandle(k,te,he)},De.useInsertionEffect=function(k,te){return D.H.useInsertionEffect(k,te)},De.useLayoutEffect=function(k,te){return D.H.useLayoutEffect(k,te)},De.useMemo=function(k,te){return D.H.useMemo(k,te)},De.useOptimistic=function(k,te){return D.H.useOptimistic(k,te)},De.useReducer=function(k,te,he){return D.H.useReducer(k,te,he)},De.useRef=function(k){return D.H.useRef(k)},De.useState=function(k){return D.H.useState(k)},De.useSyncExternalStore=function(k,te,he){return D.H.useSyncExternalStore(k,te,he)},De.useTransition=function(){return D.H.useTransition()},De.version="19.2.0",De}var t0;function Em(){return t0||(t0=1,Sp.exports=ww()),Sp.exports}var I=Em();const Aw=t1(I);var wp={exports:{}},su={},Ap={exports:{}},xp={};var n0;function xw(){return n0||(n0=1,(function(r){function e(J,ue){var ge=J.length;J.push(ue);e:for(;0<ge;){var Pe=ge-1>>>1,Qe=J[Pe];if(0<o(Qe,ue))J[Pe]=ue,J[ge]=Qe,ge=Pe;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],ge=J.pop();if(ge!==ue){J[0]=ge;e:for(var Pe=0,Qe=J.length,k=Qe>>>1;Pe<k;){var te=2*(Pe+1)-1,he=J[te],de=te+1,Ee=J[de];if(0>o(he,ge))de<Qe&&0>o(Ee,he)?(J[Pe]=Ee,J[de]=ge,Pe=de):(J[Pe]=he,J[te]=ge,Pe=te);else if(de<Qe&&0>o(Ee,ge))J[Pe]=Ee,J[de]=ge,Pe=de;else break e}}return ue}function o(J,ue){var ge=J.sortIndex-ue.sortIndex;return ge!==0?ge:J.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var m=[],g=[],E=1,T=null,R=3,V=!1,B=!1,Q=!1,z=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(J){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=J)s(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(g)}}function ae(J){if(Q=!1,le(J),!B)if(n(m)!==null)B=!0,oe||(oe=!0,L());else{var ue=n(g);ue!==null&&bt(ae,ue.startTime-J)}}var oe=!1,D=-1,A=5,C=-1;function w(){return z?!0:!(r.unstable_now()-C<A)}function M(){if(z=!1,oe){var J=r.unstable_now();C=J;var ue=!0;try{e:{B=!1,Q&&(Q=!1,Y(D),D=-1),V=!0;var ge=R;try{t:{for(le(J),T=n(m);T!==null&&!(T.expirationTime>J&&w());){var Pe=T.callback;if(typeof Pe=="function"){T.callback=null,R=T.priorityLevel;var Qe=Pe(T.expirationTime<=J);if(J=r.unstable_now(),typeof Qe=="function"){T.callback=Qe,le(J),ue=!0;break t}T===n(m)&&s(m),le(J)}else s(m);T=n(m)}if(T!==null)ue=!0;else{var k=n(g);k!==null&&bt(ae,k.startTime-J),ue=!1}}break e}finally{T=null,R=ge,V=!1}ue=void 0}}finally{ue?L():oe=!1}}}var L;if(typeof ee=="function")L=function(){ee(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Je=N.port2;N.port1.onmessage=M,L=function(){Je.postMessage(null)}}else L=function(){q(M,0)};function bt(J,ue){D=q(function(){J(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(J){switch(R){case 1:case 2:case 3:var ue=3;break;default:ue=R}var ge=R;R=ue;try{return J()}finally{R=ge}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ge=R;R=J;try{return ue()}finally{R=ge}},r.unstable_scheduleCallback=function(J,ue,ge){var Pe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Pe+ge:Pe):ge=Pe,J){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ge+Qe,J={id:E++,callback:ue,priorityLevel:J,startTime:ge,expirationTime:Qe,sortIndex:-1},ge>Pe?(J.sortIndex=ge,e(g,J),n(m)===null&&J===n(g)&&(Q?(Y(D),D=-1):Q=!0,bt(ae,ge-Pe))):(J.sortIndex=Qe,e(m,J),B||V||(B=!0,oe||(oe=!0,L()))),J},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(J){var ue=R;return function(){var ge=R;R=ue;try{return J.apply(this,arguments)}finally{R=ge}}}})(xp)),xp}var i0;function Rw(){return i0||(i0=1,Ap.exports=xw()),Ap.exports}var Rp={exports:{}},gn={};var r0;function Cw(){if(r0)return gn;r0=1;var r=Em();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},gn.flushSync=function(m){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=E,s.d.f()}},gn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},gn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},gn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,T=p(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:V}):E==="script"&&s.d.X(m,{crossOrigin:T,integrity:R,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},gn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},gn.requestFormReset=function(m){s.d.r(m)},gn.unstable_batchedUpdates=function(m,g){return m(g)},gn.useFormState=function(m,g,E){return h.H.useFormState(m,g,E)},gn.useFormStatus=function(){return h.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var s0;function Iw(){if(s0)return Rp.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rp.exports=Cw(),Rp.exports}var a0;function Dw(){if(a0)return su;a0=1;var r=Rw(),e=Em(),n=Iw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),t;if(f===l)return m(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case q:return"Profiler";case z:return"StrictMode";case ae:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ee:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Je(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Je(t(i))}catch{}}return null}var bt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Pe=[],Qe=-1;function k(t){return{current:t}}function te(t){0>Qe||(t.current=Pe[Qe],Pe[Qe]=null,Qe--)}function he(t,i){Qe++,Pe[Qe]=t.current,t.current=i}var de=k(null),Ee=k(null),Te=k(null),Le=k(null);function yt(t,i){switch(he(Te,i),he(Ee,t),he(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ev(i),t=Tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(de),he(de,t)}function rt(){te(de),te(Ee),te(Te)}function Yn(t){t.memoizedState!==null&&he(Le,t);var i=de.current,a=Tv(i,t.type);i!==a&&(he(Ee,t),he(de,a))}function oi(t){Ee.current===t&&(te(de),te(Ee)),Le.current===t&&(te(Le),eu._currentValue=ge)}var En,Tn;function lt(t){if(En===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);En=i&&i[1]||"",Tn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+En+t+Tn}var li=!1;function Sn(t,i){if(!t||li)return"";li=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var K=W}Reflect.construct(t,[],re)}else{try{re.call()}catch(W){K=W}t.call(re.prototype)}}else{try{throw Error()}catch(W){K=W}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var O=v.split(`
`),G=S.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===G.length)for(l=O.length-1,d=G.length-1;1<=l&&0<=d&&O[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==G[d]){var Z=`
`+O[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{li=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?lt(a):""}function ui(t,i){switch(t.tag){case 26:case 27:case 5:return lt(t.type);case 16:return lt("Lazy");case 13:return t.child!==i&&i!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Sn(t.type,!1);case 11:return Sn(t.type.render,!1);case 1:return Sn(t.type,!0);case 31:return lt("Activity");default:return""}}function zt(t){try{var i="",a=null;do i+=ui(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var st=Object.prototype.hasOwnProperty,at=r.unstable_scheduleCallback,Mn=r.unstable_cancelCallback,X=r.unstable_shouldYield,Re=r.unstable_requestPaint,_e=r.unstable_now,je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,pn=r.unstable_UserBlockingPriority,$e=r.unstable_NormalPriority,wn=r.unstable_LowPriority,tn=r.unstable_IdlePriority,aa=r.log,es=r.unstable_setDisableYieldValue,kn=null,Bt=null;function An(t){if(typeof aa=="function"&&es(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(kn,t)}catch{}}var wt=Math.clz32?Math.clz32:ns,ts=Math.log,Er=Math.LN2;function ns(t){return t>>>=0,t===0?32:31-(ts(t)/Er|0)|0}var Qn=256,ci=262144,Ct=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Vn(l):(v&=S,v!==0?d=Vn(v):a||(a=S&~t,a!==0&&(d=Vn(a))))):(S=l&~f,S!==0?d=Vn(S):v!==0?d=Vn(v):a||(a=l&~t,a!==0&&(d=Vn(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Rn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $a(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function Kn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function hi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wa(t,i,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-wt(a),re=1<<Z;S[Z]=0,O[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}a&=~re}l!==0&&ki(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function ki(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function $i(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-wt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function rs(t,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xa(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function $n(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var Wn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Wn,qt="__reactProps$"+Wn,di="__reactContainer$"+Wn,ss="__reactEvents$"+Wn,cl="__reactListeners$"+Wn,Ja="__reactHandles$"+Wn,Za="__reactResources$"+Wn,fi="__reactMarker$"+Wn;function as(t){delete t[Dt],delete t[qt],delete t[ss],delete t[cl],delete t[Ja]}function pi(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Iv(t);t!==null;){if(a=t[Dt])return a;t=Iv(t)}return i}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Dt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Cn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mi(t){var i=t[Za];return i||(i=t[Za]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function P(t){t[fi]=!0}var Ce=new Set,Be={};function Xe(t,i){Ht(t,i),Ht(t+"Capture",i)}function Ht(t,i){for(Be[t]=i,t=0;t<i.length;t++)Ce.add(i[t])}var Sr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),os={},hl={};function Xu(t){return st.call(hl,t)?!0:st.call(os,t)?!1:Sr.test(t)?hl[t]=!0:(os[t]=!0,!1)}function eo(t,i,a){if(Xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Xn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ft(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ut(t){if(!t._valueTracker){var i=ls(t)?"checked":"value";t._valueTracker=dl(t,i,""+t[i])}}function oa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ls(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var la=/[\n"\\]/g;function jn(t){return t.replace(la,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function to(t,i,a,l,d,f,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?fl(t,v,nn(i)):a!=null?fl(t,v,nn(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function Ju(t,i,a,l,d,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){ut(t);return}a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ut(t)}function fl(t,i,a){i==="number"&&Wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function us(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Zu(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(bt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ut(t)}function Pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ec.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ml(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&pl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&pl(t,f,i[f])}function no(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Vi(){}var gl=null;function gi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ds=null,Xi=null;function ua(t){var i=Ln(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(to(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[qt]||null;if(!d)throw Error(s(90));to(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&oa(l)}break e;case"textarea":Zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&us(t,!!a.multiple,i,!1)}}}var ro=!1;function fs(t,i,a){if(ro)return t(i,a);ro=!0;try{var l=t(i);return l}finally{if(ro=!1,(ds!==null||Xi!==null)&&(Kc(),ds&&(i=ds,t=Xi,Xi=ds=null,ua(i),t)))for(i=0;i<t.length;i++)ua(t[i])}}function Li(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(yi)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){ca=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{ca=!1}var Ji=null,yl=null,ha=null;function _l(){if(ha)return ha;var t,i=yl,a=i.length,l,d="value"in Ji?Ji.value:Ji.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[f-l];l++);return ha=d.slice(t,1<l?1-l:void 0)}function da(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function wr(){return!0}function ji(){return!1}function an(t){function i(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wr:ji,this.isPropagationStopped=ji,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=an(Ar),ps=T({},Ar,{view:0,detail:0}),vl=an(ps),ms,so,er,ao=T({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==er&&(er&&t.type==="mousemove"?(ms=t.screenX-er.screenX,so=t.screenY-er.screenY):so=ms=0,er=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:so}}),bl=an(ao),fa=T({},ao,{dataTransfer:0}),nc=an(fa),ic=T({},ps,{relatedTarget:0}),pa=an(ic),El=T({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=an(El),oo=T({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sc=an(oo),ac=T({},Ar,{data:0}),tr=an(ac),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=uc[t])?!!i[t]:!1}function gs(){return cc}var In=T({},ps,{key:function(t){if(t.key){var i=oc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hc=an(In),dc=T({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=an(dc),c=T({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),_=an(c),b=T({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=an(b),H=T({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=an(H),ce=T({},Ar,{newState:0,oldState:0}),Me=an(ce),Vt=[9,13,27,32],nt=yi&&"CompositionEvent"in window,At=null;yi&&"documentMode"in document&&(At=document.documentMode);var _i=yi&&"TextEvent"in window&&!At,nr=yi&&(!nt||At&&8<At&&11>=At),Pi=" ",Ui=!1;function ma(t,i){switch(t){case"keyup":return Vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function YT(t,i){switch(t){case"compositionend":return lo(i);case"keypress":return i.which!==32?null:(Ui=!0,Pi);case"textInput":return t=i.data,t===Pi&&Ui?null:t;default:return null}}function QT(t,i){if(uo)return t==="compositionend"||!nt&&ma(t,i)?(t=_l(),ha=yl=Ji=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return nr&&i.locale!=="ko"?null:i.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!KT[t.type]:i==="textarea"}function Mg(t,i,a,l){ds?Xi?Xi.push(l):Xi=[l]:ds=l,i=th(i,"onChange"),0<i.length&&(a=new Zi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Tl=null,Sl=null;function $T(t){mv(t,0)}function fc(t){var i=Cn(t);if(oa(i))return t}function kg(t,i){if(t==="change")return i}var Vg=!1;if(yi){var Cd;if(yi){var Id="oninput"in document;if(!Id){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Id=typeof Lg.oninput=="function"}Cd=Id}else Cd=!1;Vg=Cd&&(!document.documentMode||9<document.documentMode)}function jg(){Tl&&(Tl.detachEvent("onpropertychange",Pg),Sl=Tl=null)}function Pg(t){if(t.propertyName==="value"&&fc(Sl)){var i=[];Mg(i,Sl,t,gi(t)),fs($T,i)}}function WT(t,i,a){t==="focusin"?(jg(),Tl=i,Sl=a,Tl.attachEvent("onpropertychange",Pg)):t==="focusout"&&jg()}function XT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(Sl)}function JT(t,i){if(t==="click")return fc(i)}function ZT(t,i){if(t==="input"||t==="change")return fc(i)}function eS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Jn=typeof Object.is=="function"?Object.is:eS;function wl(t,i){if(Jn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!st.call(i,d)||!Jn(t[d],i[d]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zg(t,i){var a=Ug(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Wi(t.document)}return i}function Dd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tS=yi&&"documentMode"in document&&11>=document.documentMode,co=null,Nd=null,Al=null,Od=!1;function Hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Od||co==null||co!==Wi(l)||(l=co,"selectionStart"in l&&Dd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Al&&wl(Al,l)||(Al=l,l=th(Nd,"onSelect"),0<l.length&&(i=new Zi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=co)))}function ga(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ho={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Md={},Fg={};yi&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ya(t){if(Md[t])return Md[t];if(!ho[t])return t;var i=ho[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Md[t]=i[a];return t}var Gg=ya("animationend"),Yg=ya("animationiteration"),Qg=ya("animationstart"),nS=ya("transitionrun"),iS=ya("transitionstart"),rS=ya("transitioncancel"),Kg=ya("transitionend"),$g=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function zi(t,i){$g.set(t,i),Xe(i,[t])}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},vi=[],fo=0,Vd=0;function mc(){for(var t=fo,i=Vd=fo=0;i<t;){var a=vi[i];vi[i++]=null;var l=vi[i];vi[i++]=null;var d=vi[i];vi[i++]=null;var f=vi[i];if(vi[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Wg(a,d,f)}}function gc(t,i,a,l){vi[fo++]=t,vi[fo++]=i,vi[fo++]=a,vi[fo++]=l,Vd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ld(t,i,a,l){return gc(t,i,a,l),yc(t)}function _a(t,i){return gc(t,null,null,i),yc(t)}function Wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-wt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function yc(t){if(50<Ql)throw Ql=0,Yf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var po={};function sS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,i,a,l){return new sS(t,i,a,l)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rr(t,i){var a=t.alternate;return a===null?(a=Zn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function _c(t,i,a,l,d,f){var v=0;if(l=t,typeof t=="function")jd(t)&&(v=1);else if(typeof t=="string")v=cw(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Zn(31,a,i,d),t.elementType=C,t.lanes=f,t;case Q:return va(a.children,d,f,i);case z:v=8,d|=24;break;case q:return t=Zn(12,a,i,d|2),t.elementType=q,t.lanes=f,t;case ae:return t=Zn(13,a,i,d),t.elementType=ae,t.lanes=f,t;case oe:return t=Zn(19,a,i,d),t.elementType=oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:v=10;break e;case Y:v=9;break e;case le:v=11;break e;case D:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Zn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function va(t,i,a,l){return t=Zn(7,t,l,i),t.lanes=a,t}function Pd(t,i,a){return t=Zn(6,t,null,i),t.lanes=a,t}function Jg(t){var i=Zn(18,null,null,0);return i.stateNode=t,i}function Ud(t,i,a){return i=Zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zg=new WeakMap;function bi(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:zt(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:zt(i)}}var mo=[],go=0,vc=null,xl=0,Ei=[],Ti=0,ys=null,ir=1,rr="";function Cr(t,i){mo[go++]=xl,mo[go++]=vc,vc=t,xl=i}function ey(t,i,a){Ei[Ti++]=ir,Ei[Ti++]=rr,Ei[Ti++]=ys,ys=t;var l=ir;t=rr;var d=32-wt(l)-1;l&=~(1<<d),a+=1;var f=32-wt(i)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,ir=1<<32-wt(i)+d|a<<d|l,rr=f+t}else ir=1<<f|a<<d|l,rr=t}function zd(t){t.return!==null&&(Cr(t,1),ey(t,1,0))}function Bd(t){for(;t===vc;)vc=mo[--go],mo[go]=null,xl=mo[--go],mo[go]=null;for(;t===ys;)ys=Ei[--Ti],Ei[Ti]=null,rr=Ei[--Ti],Ei[Ti]=null,ir=Ei[--Ti],Ei[Ti]=null}function ty(t,i){Ei[Ti++]=ir,Ei[Ti++]=rr,Ei[Ti++]=ys,ir=i.id,rr=i.overflow,ys=t}var on=null,Et=null,Ke=!1,_s=null,Si=!1,qd=Error(s(519));function vs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(bi(i,t)),qd}function ny(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[qt]=l,a){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)ze($l[a],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),cs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||vv(i.textContent,a)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=Vi),i=!0):i=!1,i||vs(t,!0)}function iy(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:on=on.return}}function yo(t){if(t!==on)return!1;if(!Ke)return iy(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||op(t.type,t.memoizedProps)),a=!a),a&&Et&&vs(t),iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Et=Cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Et=Cv(t)}else i===27?(i=Et,Ms(t.type)?(t=dp,dp=null,Et=t):Et=i):Et=on?Ai(t.stateNode.nextSibling):null;return!0}function ba(){Et=on=null,Ke=!1}function Hd(){var t=_s;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),_s=null),t}function Rl(t){_s===null?_s=[t]:_s.push(t)}var Fd=k(null),Ea=null,Ir=null;function bs(t,i,a){he(Fd,i._currentValue),i._currentValue=a}function Dr(t){t._currentValue=Fd.current,te(Fd)}function Gd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Yd(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var O=0;O<i.length;O++)if(S.context===i[O]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Gd(f.return,a,t),l||(v=null);break e}f=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Gd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function _o(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=d.type;Jn(d.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(d===Le.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(eu):t=[eu])}d=d.return}t!==null&&Yd(i,t,a,l),i.flags|=262144}function bc(t){for(t=t.firstContext;t!==null;){if(!Jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return ry(Ea,t)}function Ec(t,i){return Ea===null&&Ta(t),ry(t,i)}function ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ir===null){if(t===null)throw Error(s(308));Ir=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ir=Ir.next=i;return a}var aS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},oS=r.unstable_scheduleCallback,lS=r.unstable_NormalPriority,Gt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qd(){return{controller:new aS,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&oS(lS,function(){t.controller.abort()})}var Il=null,Kd=0,vo=0,bo=null;function uS(t,i){if(Il===null){var a=Il=[];Kd=0,vo=Jf(),bo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kd++,i.then(sy,sy),i}function sy(){if(--Kd===0&&Il!==null){bo!==null&&(bo.status="fulfilled");var t=Il;Il=null,vo=0,bo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ay=J.S;J.S=function(t,i){H_=_e(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&uS(t,i),ay!==null&&ay(t,i)};var Sa=k(null);function $d(){var t=Sa.current;return t!==null?t:gt.pooledCache}function Tc(t,i){i===null?he(Sa,Sa.current):he(Sa,i.pool)}function oy(){var t=$d();return t===null?null:{parent:Gt._currentValue,pool:t}}var Eo=Error(s(460)),Wd=Error(s(474)),Sc=Error(s(542)),wc={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Vi,Vi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t;default:if(typeof i.status=="string")i.then(Vi,Vi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t}throw Aa=i,Eo}}function wa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,Eo):a}}var Aa=null;function cy(){if(Aa===null)throw Error(s(459));var t=Aa;return Aa=null,t}function hy(t){if(t===Eo||t===Sc)throw Error(s(483))}var To=null,Dl=0;function Ac(t){var i=Dl;return Dl+=1,To===null&&(To=[]),uy(To,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(U,j){if(t){var F=U.deletions;F===null?(U.deletions=[j],U.flags|=16):F.push(j)}}function a(U,j){if(!t)return null;for(;j!==null;)i(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function d(U,j){return U=Rr(U,j),U.index=0,U.sibling=null,U}function f(U,j,F){return U.index=F,t?(F=U.alternate,F!==null?(F=F.index,F<j?(U.flags|=67108866,j):F):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,j,F,ne){return j===null||j.tag!==6?(j=Pd(F,U.mode,ne),j.return=U,j):(j=d(j,F),j.return=U,j)}function O(U,j,F,ne){var ve=F.type;return ve===Q?Z(U,j,F.props.children,ne,F.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&wa(ve)===j.type)?(j=d(j,F.props),Nl(j,F),j.return=U,j):(j=_c(F.type,F.key,F.props,null,U.mode,ne),Nl(j,F),j.return=U,j)}function G(U,j,F,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==F.containerInfo||j.stateNode.implementation!==F.implementation?(j=Ud(F,U.mode,ne),j.return=U,j):(j=d(j,F.children||[]),j.return=U,j)}function Z(U,j,F,ne,ve){return j===null||j.tag!==7?(j=va(F,U.mode,ne,ve),j.return=U,j):(j=d(j,F),j.return=U,j)}function re(U,j,F){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Pd(""+j,U.mode,F),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return F=_c(j.type,j.key,j.props,null,U.mode,F),Nl(F,j),F.return=U,F;case B:return j=Ud(j,U.mode,F),j.return=U,j;case A:return j=wa(j),re(U,j,F)}if(bt(j)||L(j))return j=va(j,U.mode,F,null),j.return=U,j;if(typeof j.then=="function")return re(U,Ac(j),F);if(j.$$typeof===ee)return re(U,Ec(U,j),F);xc(U,j)}return null}function K(U,j,F,ne){var ve=j!==null?j.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ve!==null?null:S(U,j,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return F.key===ve?O(U,j,F,ne):null;case B:return F.key===ve?G(U,j,F,ne):null;case A:return F=wa(F),K(U,j,F,ne)}if(bt(F)||L(F))return ve!==null?null:Z(U,j,F,ne,null);if(typeof F.then=="function")return K(U,j,Ac(F),ne);if(F.$$typeof===ee)return K(U,j,Ec(U,F),ne);xc(U,F)}return null}function W(U,j,F,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(F)||null,S(j,U,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case V:return U=U.get(ne.key===null?F:ne.key)||null,O(j,U,ne,ve);case B:return U=U.get(ne.key===null?F:ne.key)||null,G(j,U,ne,ve);case A:return ne=wa(ne),W(U,j,F,ne,ve)}if(bt(ne)||L(ne))return U=U.get(F)||null,Z(j,U,ne,ve,null);if(typeof ne.then=="function")return W(U,j,F,Ac(ne),ve);if(ne.$$typeof===ee)return W(U,j,F,Ec(j,ne),ve);xc(j,ne)}return null}function me(U,j,F,ne){for(var ve=null,et=null,ye=j,Ve=j=0,He=null;ye!==null&&Ve<F.length;Ve++){ye.index>Ve?(He=ye,ye=null):He=ye.sibling;var tt=K(U,ye,F[Ve],ne);if(tt===null){ye===null&&(ye=He);break}t&&ye&&tt.alternate===null&&i(U,ye),j=f(tt,j,Ve),et===null?ve=tt:et.sibling=tt,et=tt,ye=He}if(Ve===F.length)return a(U,ye),Ke&&Cr(U,Ve),ve;if(ye===null){for(;Ve<F.length;Ve++)ye=re(U,F[Ve],ne),ye!==null&&(j=f(ye,j,Ve),et===null?ve=ye:et.sibling=ye,et=ye);return Ke&&Cr(U,Ve),ve}for(ye=l(ye);Ve<F.length;Ve++)He=W(ye,U,Ve,F[Ve],ne),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?Ve:He.key),j=f(He,j,Ve),et===null?ve=He:et.sibling=He,et=He);return t&&ye.forEach(function(Ps){return i(U,Ps)}),Ke&&Cr(U,Ve),ve}function Se(U,j,F,ne){if(F==null)throw Error(s(151));for(var ve=null,et=null,ye=j,Ve=j=0,He=null,tt=F.next();ye!==null&&!tt.done;Ve++,tt=F.next()){ye.index>Ve?(He=ye,ye=null):He=ye.sibling;var Ps=K(U,ye,tt.value,ne);if(Ps===null){ye===null&&(ye=He);break}t&&ye&&Ps.alternate===null&&i(U,ye),j=f(Ps,j,Ve),et===null?ve=Ps:et.sibling=Ps,et=Ps,ye=He}if(tt.done)return a(U,ye),Ke&&Cr(U,Ve),ve;if(ye===null){for(;!tt.done;Ve++,tt=F.next())tt=re(U,tt.value,ne),tt!==null&&(j=f(tt,j,Ve),et===null?ve=tt:et.sibling=tt,et=tt);return Ke&&Cr(U,Ve),ve}for(ye=l(ye);!tt.done;Ve++,tt=F.next())tt=W(ye,U,Ve,tt.value,ne),tt!==null&&(t&&tt.alternate!==null&&ye.delete(tt.key===null?Ve:tt.key),j=f(tt,j,Ve),et===null?ve=tt:et.sibling=tt,et=tt);return t&&ye.forEach(function(Ew){return i(U,Ew)}),Ke&&Cr(U,Ve),ve}function mt(U,j,F,ne){if(typeof F=="object"&&F!==null&&F.type===Q&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case V:e:{for(var ve=F.key;j!==null;){if(j.key===ve){if(ve=F.type,ve===Q){if(j.tag===7){a(U,j.sibling),ne=d(j,F.props.children),ne.return=U,U=ne;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&wa(ve)===j.type){a(U,j.sibling),ne=d(j,F.props),Nl(ne,F),ne.return=U,U=ne;break e}a(U,j);break}else i(U,j);j=j.sibling}F.type===Q?(ne=va(F.props.children,U.mode,ne,F.key),ne.return=U,U=ne):(ne=_c(F.type,F.key,F.props,null,U.mode,ne),Nl(ne,F),ne.return=U,U=ne)}return v(U);case B:e:{for(ve=F.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===F.containerInfo&&j.stateNode.implementation===F.implementation){a(U,j.sibling),ne=d(j,F.children||[]),ne.return=U,U=ne;break e}else{a(U,j);break}else i(U,j);j=j.sibling}ne=Ud(F,U.mode,ne),ne.return=U,U=ne}return v(U);case A:return F=wa(F),mt(U,j,F,ne)}if(bt(F))return me(U,j,F,ne);if(L(F)){if(ve=L(F),typeof ve!="function")throw Error(s(150));return F=ve.call(F),Se(U,j,F,ne)}if(typeof F.then=="function")return mt(U,j,Ac(F),ne);if(F.$$typeof===ee)return mt(U,j,Ec(U,F),ne);xc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,j!==null&&j.tag===6?(a(U,j.sibling),ne=d(j,F),ne.return=U,U=ne):(a(U,j),ne=Pd(F,U.mode,ne),ne.return=U,U=ne),v(U)):a(U,j)}return function(U,j,F,ne){try{Dl=0;var ve=mt(U,j,F,ne);return To=null,ve}catch(ye){if(ye===Eo||ye===Sc)throw ye;var et=Zn(29,ye,null,U.mode);return et.lanes=ne,et.return=U,et}finally{}}}var xa=dy(!0),fy=dy(!1),Es=!1;function Xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=yc(t),Wg(t,null,a),i}return gc(t,l,i,a),yc(t)}function Ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,$i(t,a)}}function Zd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ef=!1;function Ml(){if(ef){var t=bo;if(t!==null)throw t}}function kl(t,i,a,l){ef=!1;var d=t.updateQueue;Es=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var O=S,G=O.next;O.next=null,v===null?f=G:v.next=G,v=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==v&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=O))}if(f!==null){var re=d.baseState;v=0,Z=G=O=null,S=f;do{var K=S.lane&-536870913,W=K!==S.lane;if(W?(qe&K)===K:(l&K)===K){K!==0&&K===vo&&(ef=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=t,Se=S;K=i;var mt=a;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){re=me.call(mt,re,K);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,K=typeof me=="function"?me.call(mt,re,K):me,K==null)break e;re=T({},re,K);break e;case 2:Es=!0}}K=S.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=d.callbacks,W===null?d.callbacks=[K]:W.push(K))}else W={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=W,O=re):Z=Z.next=W,v|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;W=S,S=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(O=re),d.baseState=O,d.firstBaseUpdate=G,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),Cs|=v,t.lanes=v,t.memoizedState=re}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function my(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var So=k(null),Rc=k(0);function gy(t,i){t=Ur,he(Rc,t),he(So,i),Ur=t|i.baseLanes}function tf(){he(Rc,Ur),he(So,So.current)}function nf(){Ur=Rc.current,te(So),te(Rc)}var ei=k(null),wi=null;function ws(t){var i=t.alternate;he(Lt,Lt.current&1),he(ei,t),wi===null&&(i===null||So.current!==null||i.memoizedState!==null)&&(wi=t)}function rf(t){he(Lt,Lt.current),he(ei,t),wi===null&&(wi=t)}function yy(t){t.tag===22?(he(Lt,Lt.current),he(ei,t),wi===null&&(wi=t)):As()}function As(){he(Lt,Lt.current),he(ei,ei.current)}function ti(t){te(ei),wi===t&&(wi=null),te(Lt)}var Lt=k(0);function Cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cp(a)||hp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nr=0,ke=null,ft=null,Yt=null,Ic=!1,wo=!1,Ra=!1,Dc=0,Vl=0,Ao=null,hS=0;function Nt(){throw Error(s(321))}function sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Jn(t[a],i[a]))return!1;return!0}function af(t,i,a,l,d,f){return Nr=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?e_:Ef,Ra=!1,f=a(l,d),Ra=!1,wo&&(f=vy(i,a,l,d)),_y(t),f}function _y(t){J.H=Pl;var i=ft!==null&&ft.next!==null;if(Nr=0,Yt=ft=ke=null,Ic=!1,Vl=0,Ao=null,i)throw Error(s(300));t===null||Qt||(t=t.dependencies,t!==null&&bc(t)&&(Qt=!0))}function vy(t,i,a,l){ke=t;var d=0;do{if(wo&&(Ao=null),Vl=0,wo=!1,25<=d)throw Error(s(301));if(d+=1,Yt=ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}J.H=t_,f=i(a,l)}while(wo);return f}function dS(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?Ll(i):i,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(ke.flags|=1024),i}function of(){var t=Dc!==0;return Dc=0,t}function lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function uf(t){if(Ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ic=!1}Nr=0,Yt=ft=ke=null,wo=!1,Vl=Dc=0,Ao=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ke.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function jt(){if(ft===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var i=Yt===null?ke.memoizedState:Yt.next;if(i!==null)Yt=i,ft=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Yt===null?ke.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var i=Vl;return Vl+=1,Ao===null&&(Ao=[]),t=uy(Ao,t,i),i=ke,(Yt===null?i.memoizedState:Yt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?e_:Ef),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===ee)return ln(t)}throw Error(s(438,String(t)))}function cf(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Nc(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=w;return i.index++,a}function Or(t,i){return typeof i=="function"?i(t):i}function Mc(t){var i=jt();return hf(i,ft,t)}function hf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var S=v=null,O=null,G=i,Z=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(qe&re)===re:(Nr&re)===re){var K=G.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===vo&&(Z=!0);else if((Nr&K)===K){G=G.next,K===vo&&(Z=!0);continue}else re={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=re,v=f):O=O.next=re,ke.lanes|=K,Cs|=K;re=G.action,Ra&&a(f,re),f=G.hasEagerState?G.eagerState:a(f,re)}else K={lane:re,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=K,v=f):O=O.next=K,ke.lanes|=re,Cs|=re;G=G.next}while(G!==null&&G!==i);if(O===null?v=f:O.next=S,!Jn(f,t.memoizedState)&&(Qt=!0,Z&&(a=bo,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function df(t){var i=jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Jn(f,i.memoizedState)||(Qt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function by(t,i,a){var l=ke,d=jt(),f=Ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Jn((ft||d).memoizedState,a);if(v&&(d.memoizedState=a,Qt=!0),d=d.queue,mf(Sy.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,xo(9,{destroy:void 0},Ty.bind(null,l,d,a,i),null),gt===null)throw Error(s(349));f||(Nr&127)!==0||Ey(l,i,a)}return a}function Ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Nc(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ty(t,i,a,l){i.value=a,i.getSnapshot=l,wy(i)&&Ay(t)}function Sy(t,i,a){return a(function(){wy(i)&&Ay(t)})}function wy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Jn(t,a)}catch{return!0}}function Ay(t){var i=_a(t,2);i!==null&&Hn(i,t,2)}function ff(t){var i=Dn();if(typeof t=="function"){var a=t;if(t=a(),Ra){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},i}function xy(t,i,a,l){return t.baseState=a,hf(t,ft,typeof l=="function"?l:Or)}function fS(t,i,a,l,d){if(Lc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};J.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Ry(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Ry(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=J.T,v={};J.T=v;try{var S=a(d,l),O=J.S;O!==null&&O(v,S),Cy(t,i,S)}catch(G){pf(t,i,G)}finally{f!==null&&v.types!==null&&(f.types=v.types),J.T=f}}else try{f=a(d,l),Cy(t,i,f)}catch(G){pf(t,i,G)}}function Cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iy(t,i,l)},function(l){return pf(t,i,l)}):Iy(t,i,a)}function Iy(t,i,a){i.status="fulfilled",i.value=a,Dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ry(t,a)))}function pf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}t.action=null}function Dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ny(t,i){return i}function Oy(t,i){if(Ke){var a=gt.formState;if(a!==null){e:{var l=ke;if(Ke){if(Et){t:{for(var d=Et,f=Si;d.nodeType!==8;){if(!f){d=null;break t}if(d=Ai(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Et=Ai(d.nextSibling),l=d.data==="F!";break e}}vs(l)}l=!1}l&&(i=a[0])}}return a=Dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:i},a.queue=l,a=Xy.bind(null,ke,l),l.dispatch=a,l=ff(!1),f=bf.bind(null,ke,!1,l.queue),l=Dn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=fS.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function My(t){var i=jt();return ky(i,ft,t)}function ky(t,i,a){if(i=hf(t,i,Ny)[0],t=Mc(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ll(i)}catch(v){throw v===Eo?Sc:v}else l=i;i=jt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,xo(9,{destroy:void 0},pS.bind(null,d,a),null)),[l,f,t]}function pS(t,i){t.action=i}function Vy(t){var i=jt(),a=ft;if(a!==null)return ky(i,a,t);jt(),i=i.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Nc(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return jt().memoizedState}function kc(t,i,a,l){var d=Dn();ke.flags|=t,d.memoizedState=xo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,i,a,l){var d=jt();l=l===void 0?null:l;var f=d.memoizedState.inst;ft!==null&&l!==null&&sf(l,ft.memoizedState.deps)?d.memoizedState=xo(i,f,a,l):(ke.flags|=t,d.memoizedState=xo(1|i,f,a,l))}function jy(t,i){kc(8390656,8,t,i)}function mf(t,i){Vc(2048,8,t,i)}function mS(t){ke.flags|=4;var i=ke.updateQueue;if(i===null)i=Nc(),ke.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Py(t){var i=jt().memoizedState;return mS({ref:i,nextImpl:t}),function(){if((it&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Uy(t,i){return Vc(4,2,t,i)}function zy(t,i){return Vc(4,4,t,i)}function By(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qy(t,i,a){a=a!=null?a.concat([t]):null,Vc(4,4,By.bind(null,i,t),a)}function gf(){}function Hy(t,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sf(i,l[1]))return l[0];if(l=t(),Ra){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function yf(t,i,a){return a===void 0||(Nr&1073741824)!==0&&(qe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=G_(),ke.lanes|=t,Cs|=t,a)}function Gy(t,i,a,l){return Jn(a,i)?a:So.current!==null?(t=yf(t,a,l),Jn(t,i)||(Qt=!0),t):(Nr&42)===0||(Nr&1073741824)!==0&&(qe&261930)===0?(Qt=!0,t.memoizedState=a):(t=G_(),ke.lanes|=t,Cs|=t,i)}function Yy(t,i,a,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var v=J.T,S={};J.T=S,bf(t,!1,i,a);try{var O=d(),G=J.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=cS(O,l);jl(t,i,Z,ri(t))}else jl(t,i,l,ri(t))}catch(re){jl(t,i,{then:function(){},status:"rejected",reason:re},ri())}finally{ue.p=f,v!==null&&S.types!==null&&(v.types=S.types),J.T=v}}function gS(){}function _f(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=Qy(t).queue;Yy(t,d,i,ge,a===null?gS:function(){return Ky(t),a(l)})}function Qy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Qy(t);i.next===null&&(i=t.alternate.memoizedState),jl(t,i.next.queue,{},ri())}function vf(){return ln(eu)}function $y(){return jt().memoizedState}function Wy(){return jt().memoizedState}function yS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=ri();t=Ts(a);var l=Ss(i,t,a);l!==null&&(Hn(l,i,a),Ol(l,i,a)),i={cache:Qd()},t.payload=i;return}i=i.return}}function _S(t,i,a){var l=ri();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(t)?Jy(i,a):(a=Ld(t,i,a,l),a!==null&&(Hn(a,t,l),Zy(a,i,l)))}function Xy(t,i,a){var l=ri();jl(t,i,a,l)}function jl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(t))Jy(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,S=f(v,a);if(d.hasEagerState=!0,d.eagerState=S,Jn(S,v))return gc(t,i,d,0),gt===null&&mc(),!1}catch{}finally{}if(a=Ld(t,i,d,l),a!==null)return Hn(a,t,l),Zy(a,i,l),!0}return!1}function bf(t,i,a,l){if(l={lane:2,revertLane:Jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lc(t)){if(i)throw Error(s(479))}else i=Ld(t,a,l,2),i!==null&&Hn(i,t,2)}function Lc(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function Jy(t,i){wo=Ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,$i(t,a)}}var Pl={readContext:ln,use:Oc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Pl.useEffectEvent=Nt;var e_={readContext:ln,use:Oc,useCallback:function(t,i){return Dn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:jy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,kc(4194308,4,By.bind(null,i,t),a)},useLayoutEffect:function(t,i){return kc(4194308,4,t,i)},useInsertionEffect:function(t,i){kc(4,2,t,i)},useMemo:function(t,i){var a=Dn();i=i===void 0?null:i;var l=t();if(Ra){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Dn();if(a!==void 0){var d=a(i);if(Ra){An(!0);try{a(i)}finally{An(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=_S.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=Dn();return t={current:t},i.memoizedState=t},useState:function(t){t=ff(t);var i=t.queue,a=Xy.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(t,i){var a=Dn();return yf(a,t,i)},useTransition:function(){var t=ff(!1);return t=Yy.bind(null,ke,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=Dn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),gt===null)throw Error(s(349));(qe&127)!==0||Ey(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,jy(Sy.bind(null,l,f,t),[t]),l.flags|=2048,xo(9,{destroy:void 0},Ty.bind(null,l,f,a,i),null),a},useId:function(){var t=Dn(),i=gt.identifierPrefix;if(Ke){var a=rr,l=ir;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vf,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var i=Dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:cf,useCacheRefresh:function(){return Dn().memoizedState=yS.bind(null,ke)},useEffectEvent:function(t){var i=Dn(),a={impl:t};return i.memoizedState=a,function(){if((it&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ef={readContext:ln,use:Oc,useCallback:Hy,useContext:ln,useEffect:mf,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Fy,useReducer:Mc,useRef:Ly,useState:function(){return Mc(Or)},useDebugValue:gf,useDeferredValue:function(t,i){var a=jt();return Gy(a,ft.memoizedState,t,i)},useTransition:function(){var t=Mc(Or)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:by,useId:$y,useHostTransitionStatus:vf,useFormState:My,useActionState:My,useOptimistic:function(t,i){var a=jt();return xy(a,ft,t,i)},useMemoCache:cf,useCacheRefresh:Wy};Ef.useEffectEvent=Py;var t_={readContext:ln,use:Oc,useCallback:Hy,useContext:ln,useEffect:mf,useImperativeHandle:qy,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Fy,useReducer:df,useRef:Ly,useState:function(){return df(Or)},useDebugValue:gf,useDeferredValue:function(t,i){var a=jt();return ft===null?yf(a,t,i):Gy(a,ft.memoizedState,t,i)},useTransition:function(){var t=df(Or)[0],i=jt().memoizedState;return[typeof t=="boolean"?t:Ll(t),i]},useSyncExternalStore:by,useId:$y,useHostTransitionStatus:vf,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=jt();return ft!==null?xy(a,ft,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Wy};t_.useEffectEvent=Py;function Tf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=ri(),d=Ts(l);d.payload=i,a!=null&&(d.callback=a),i=Ss(t,d,l),i!==null&&(Hn(i,t,l),Ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=ri(),d=Ts(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ss(t,d,l),i!==null&&(Hn(i,t,l),Ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=ri(),l=Ts(a);l.tag=2,i!=null&&(l.callback=i),i=Ss(t,l,a),i!==null&&(Hn(i,t,a),Ol(i,t,a))}};function n_(t,i,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!wl(a,l)||!wl(d,f):!0}function i_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Sf.enqueueReplaceState(i,i.state,null)}function Ca(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function r_(t){pc(t)}function s_(t){console.error(t)}function a_(t){pc(t)}function jc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function o_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wf(t,i,a){return a=Ts(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(t,i)},a}function l_(t){return t=Ts(t),t.tag=3,t}function u_(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){o_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){o_(i,a,l),typeof d!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function vS(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_o(i,a,d,!0),a=ei.current,a!==null){switch(a.tag){case 31:case 13:return wi===null?$c():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===wc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$f(t,l,d)),!1;case 22:return a.flags|=65536,l===wc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$f(t,l,d)),!1}throw Error(s(435,a.tag))}return $f(t,l,d),$c(),!1}if(Ke)return i=ei.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==qd&&(t=Error(s(422),{cause:l}),Rl(bi(t,a)))):(l!==qd&&(i=Error(s(423),{cause:l}),Rl(bi(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=bi(l,a),d=wf(t.stateNode,l,d),Zd(t,d),Ot!==4&&(Ot=2)),!1;var f=Error(s(520),{cause:l});if(f=bi(f,a),Yl===null?Yl=[f]:Yl.push(f),Ot!==4&&(Ot=2),i===null)return!0;l=bi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=wf(a.stateNode,l,t),Zd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=l_(d),u_(d,t,a,l),Zd(a,d),!1}a=a.return}while(a!==null);return!1}var Af=Error(s(461)),Qt=!1;function un(t,i,a,l){i.child=t===null?fy(i,null,a,l):xa(i,t.child,a,l)}function c_(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Ta(i),l=af(t,i,a,v,f,d),S=of(),t!==null&&!Qt?(lf(t,i,d),Mr(t,i,d)):(Ke&&S&&zd(i),i.flags|=1,un(t,i,l,d),i.child)}function h_(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!jd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,d_(t,i,f,l,d)):(t=_c(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Mf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(v,l)&&t.ref===i.ref)return Mr(t,i,d)}return i.flags|=1,t=Rr(f,l),t.ref=i.ref,t.return=i,i.child=t}function d_(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(wl(f,l)&&t.ref===i.ref)if(Qt=!1,i.pendingProps=l=f,Mf(t,d))(t.flags&131072)!==0&&(Qt=!0);else return i.lanes=t.lanes,Mr(t,i,d)}return xf(t,i,a,l,d)}function f_(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return p_(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(i,f!==null?f.cachePool:null),f!==null?gy(i,f):tf(),yy(i);else return l=i.lanes=536870912,p_(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Tc(i,f.cachePool),gy(i,f),As(),i.memoizedState=null):(t!==null&&Tc(i,null),tf(),As());return un(t,i,d,a),i.child}function Ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function p_(t,i,a,l,d){var f=$d();return f=f===null?null:{parent:Gt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Tc(i,null),tf(),yy(i),t!==null&&_o(t,i,l,!0),i.childLanes=d,null}function Pc(t,i){return i=zc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function m_(t,i,a){return xa(i,t.child,null,a),t=Pc(i,i.pendingProps),t.flags|=2,ti(i),i.memoizedState=null,t}function bS(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=Pc(i,l),i.lanes=536870912,Ul(null,t);if(rf(i),(t=Et)?(t=Rv(t,Si),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ys!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,on=i,Et=null)):t=null,t===null)throw vs(i);return i.lanes=536870912,null}return Pc(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(rf(i),d)if(i.flags&256)i.flags&=-257,i=m_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Qt||_o(t,i,a,!1),d=(a&t.childLanes)!==0,Qt||d){if(l=gt,l!==null&&(v=rs(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,_a(t,v),Hn(l,t,v),Af;$c(),i=m_(t,i,a)}else t=f.treeContext,Et=Ai(v.nextSibling),on=i,Ke=!0,_s=null,Si=!1,t!==null&&ty(i,t),i=Pc(i,l),i.flags|=4096;return i}return t=Rr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xf(t,i,a,l,d){return Ta(i),a=af(t,i,a,l,void 0,d),l=of(),t!==null&&!Qt?(lf(t,i,d),Mr(t,i,d)):(Ke&&l&&zd(i),i.flags|=1,un(t,i,a,d),i.child)}function g_(t,i,a,l,d,f){return Ta(i),i.updateQueue=null,a=vy(i,l,a,d),_y(t),l=of(),t!==null&&!Qt?(lf(t,i,f),Mr(t,i,f)):(Ke&&l&&zd(i),i.flags|=1,un(t,i,a,f),i.child)}function y_(t,i,a,l,d){if(Ta(i),i.stateNode===null){var f=po,v=a.contextType;typeof v=="object"&&v!==null&&(f=ln(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Xd(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?ln(v):po,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Tf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Sf.enqueueReplaceState(f,f.state,null),kl(i,l,f,d),Ml(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,O=Ca(a,S);f.props=O;var G=f.context,Z=a.contextType;v=po,typeof Z=="object"&&Z!==null&&(v=ln(Z));var re=a.getDerivedStateFromProps;Z=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||G!==v)&&i_(i,f,l,v),Es=!1;var K=i.memoizedState;f.state=K,kl(i,l,f,d),Ml(),G=i.memoizedState,S||K!==G||Es?(typeof re=="function"&&(Tf(i,a,re,l),G=i.memoizedState),(O=Es||n_(i,a,O,l,K,G,v))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=v,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Jd(t,i),v=i.memoizedProps,Z=Ca(a,v),f.props=Z,re=i.pendingProps,K=f.context,G=a.contextType,O=po,typeof G=="object"&&G!==null&&(O=ln(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==re||K!==O)&&i_(i,f,l,O),Es=!1,K=i.memoizedState,f.state=K,kl(i,l,f,d),Ml();var W=i.memoizedState;v!==re||K!==W||Es||t!==null&&t.dependencies!==null&&bc(t.dependencies)?(typeof S=="function"&&(Tf(i,a,S,l),W=i.memoizedState),(Z=Es||n_(i,a,Z,l,K,W,O)||t!==null&&t.dependencies!==null&&bc(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,W,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,W,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),f.props=l,f.state=W,f.context=O,l=Z):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Uc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=xa(i,t.child,null,d),i.child=xa(i,null,a,d)):un(t,i,a,d),i.memoizedState=f.state,t=i.child):t=Mr(t,i,d),t}function __(t,i,a,l){return ba(),i.flags|=256,un(t,i,a,l),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:oy()}}function If(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=ii),t}function v_(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(d?ws(i):As(),(t=Et)?(t=Rv(t,Si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ys!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,on=i,Et=null)):t=null,t===null)throw vs(i);return hp(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(As(),d=i.mode,S=zc({mode:"hidden",children:S},d),l=va(l,d,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Cf(a),l.childLanes=If(t,v,a),i.memoizedState=Rf,Ul(null,l)):(ws(i),Df(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(f)i.flags&256?(ws(i),i.flags&=-257,i=Nf(t,i,a)):i.memoizedState!==null?(As(),i.child=t.child,i.flags|=128,i=null):(As(),S=l.fallback,d=i.mode,l=zc({mode:"visible",children:l.children},d),S=va(S,d,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,xa(i,t.child,null,a),l=i.child,l.memoizedState=Cf(a),l.childLanes=If(t,v,a),i.memoizedState=Rf,i=Ul(null,l));else if(ws(i),hp(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,Rl({value:l,source:null,stack:null}),i=Nf(t,i,a)}else if(Qt||_o(t,i,a,!1),v=(a&t.childLanes)!==0,Qt||v){if(v=gt,v!==null&&(l=rs(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,_a(t,l),Hn(v,t,l),Af;cp(S)||$c(),i=Nf(t,i,a)}else cp(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,Et=Ai(S.nextSibling),on=i,Ke=!0,_s=null,Si=!1,t!==null&&ty(i,t),i=Df(i,l.children),i.flags|=4096);return i}return d?(As(),S=l.fallback,d=i.mode,O=t.child,G=O.sibling,l=Rr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?S=Rr(G,S):(S=va(S,d,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Ul(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Cf(a):(d=S.cachePool,d!==null?(O=Gt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=oy(),S={baseLanes:S.baseLanes|a,cachePool:d}),l.memoizedState=S,l.childLanes=If(t,v,a),i.memoizedState=Rf,Ul(t.child,l)):(ws(i),a=t.child,t=a.sibling,a=Rr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Df(t,i){return i=zc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function zc(t,i){return t=Zn(22,t,null,i),t.lanes=0,t}function Nf(t,i,a){return xa(i,t.child,null,a),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function b_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gd(t.return,i,a)}function Of(t,i,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function E_(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=Lt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,he(Lt,v),un(t,i,l,a),l=Ke?xl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b_(t,a,i);else if(t.tag===19)b_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Of(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Cc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Of(i,!0,a,null,f,l);break;case"together":Of(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Mr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Cs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_o(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Rr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Rr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Mf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&bc(t)))}function ES(t,i,a){switch(i.tag){case 3:yt(i,i.stateNode.containerInfo),bs(i,Gt,t.memoizedState.cache),ba();break;case 27:case 5:Yn(i);break;case 4:yt(i,i.stateNode.containerInfo);break;case 10:bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(i),i.flags|=128,null):(a&i.child.childLanes)!==0?v_(t,i,a):(ws(i),t=Mr(t,i,a),t!==null?t.sibling:null);ws(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_o(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return E_(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Lt,Lt.current),l)break;return null;case 22:return i.lanes=0,f_(t,i,a,i.pendingProps);case 24:bs(i,Gt,t.memoizedState.cache)}return Mr(t,i,a)}function T_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qt=!0;else{if(!Mf(t,a)&&(i.flags&128)===0)return Qt=!1,ES(t,i,a);Qt=(t.flags&131072)!==0}else Qt=!1,Ke&&(i.flags&1048576)!==0&&ey(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=wa(i.elementType),i.type=t,typeof t=="function")jd(t)?(l=Ca(t,l),i.tag=1,i=y_(null,i,t,l,a)):(i.tag=0,i=xf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===le){i.tag=11,i=c_(null,i,t,l,a);break e}else if(d===D){i.tag=14,i=h_(null,i,t,l,a);break e}}throw i=Je(t)||t,Error(s(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Ca(l,i.pendingProps),y_(t,i,l,d,a);case 3:e:{if(yt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Jd(t,i),kl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,bs(i,Gt,l),l!==f.cache&&Yd(i,[Gt],a,!0),Ml(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=__(t,i,l,a);break e}else if(l!==d){d=bi(Error(s(424)),i),Rl(d),i=__(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Ai(t.firstChild),on=i,Ke=!0,_s=null,Si=!0,a=fy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ba(),l===d){i=Mr(t,i,a);break e}un(t,i,l,a)}i=i.child}return i;case 26:return Uc(t,i),t===null?(a=Mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=nh(Te.current).createElement(a),l[Dt]=i,l[qt]=t,cn(l,a,t),P(l),i.stateNode=l):i.memoizedState=Mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Yn(i),t===null&&Ke&&(l=i.stateNode=Dv(i.type,i.pendingProps,Te.current),on=i,Si=!0,d=Et,Ms(i.type)?(dp=d,Et=Ai(l.firstChild)):Et=d),un(t,i,i.pendingProps.children,a),Uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((d=l=Et)&&(l=XS(l,i.type,i.pendingProps,Si),l!==null?(i.stateNode=l,on=i,Et=Ai(l.firstChild),Si=!1,d=!0):d=!1),d||vs(i)),Yn(i),d=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,op(d,f)?l=null:v!==null&&op(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=af(t,i,dS,null,null,a),eu._currentValue=d),Uc(t,i),un(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=Et)&&(a=JS(a,i.pendingProps,Si),a!==null?(i.stateNode=a,on=i,Et=null,t=!0):t=!1),t||vs(i)),null;case 13:return v_(t,i,a);case 4:return yt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xa(i,null,l,a):un(t,i,l,a),i.child;case 11:return c_(t,i,i.type,i.pendingProps,a);case 7:return un(t,i,i.pendingProps,a),i.child;case 8:return un(t,i,i.pendingProps.children,a),i.child;case 12:return un(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bs(i,i.type,l.value),un(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Ta(i),d=ln(d),l=l(d),i.flags|=1,un(t,i,l,a),i.child;case 14:return h_(t,i,i.type,i.pendingProps,a);case 15:return d_(t,i,i.type,i.pendingProps,a);case 19:return E_(t,i,a);case 31:return bS(t,i,a);case 22:return f_(t,i,a,i.pendingProps);case 24:return Ta(i),l=ln(Gt),t===null?(d=$d(),d===null&&(d=gt,f=Qd(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},Xd(i),bs(i,Gt,d)):((t.lanes&a)!==0&&(Jd(t,i),kl(i,null,null,a),Ml()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),bs(i,Gt,l)):(l=f.cache,bs(i,Gt,l),l!==d.cache&&Yd(i,[Gt],a,!0))),un(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function kr(t){t.flags|=4}function kf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if($_())t.flags|=8192;else throw Aa=wc,Wd}else t.flags&=-16777217}function S_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(i))if($_())t.flags|=8192;else throw Aa=wc,Wd}function Bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?is():536870912,t.lanes|=i,Do|=i)}function zl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function TS(t,i,a){var l=i.pendingProps;switch(Bd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Dr(Gt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yo(i)?kr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hd())),Tt(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(kr(i),f!==null?(Tt(i),S_(i,f)):(Tt(i),kf(i,d,null,l,a))):f?f!==t.memoizedState?(kr(i),Tt(i),S_(i,f)):(Tt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&kr(i),Tt(i),kf(i,d,t,l,a)),null;case 27:if(oi(i),a=Te.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}t=de.current,yo(i)?ny(i):(t=Dv(d,l,a),i.stateNode=t,kr(i))}return Tt(i),null;case 5:if(oi(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(f=de.current,yo(i))ny(i);else{var v=nh(Te.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Dt]=i,f[qt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(cn(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kr(i)}}return Tt(i),kf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Te.current,yo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=on,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||vv(t.nodeValue,a)),t||vs(i,!0)}else t=nh(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return Tt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=yo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Dt]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),t=!1}else a=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(ti(i),i):(ti(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Dt]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),d=!1}else d=Hd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(ti(i),i):(ti(i),null)}return ti(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Bc(i,i.updateQueue),Tt(i),null);case 4:return rt(),t===null&&np(i.stateNode.containerInfo),Tt(i),null;case 10:return Dr(i.type),Tt(i),null;case 19:if(te(Lt),l=i.memoizedState,l===null)return Tt(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)zl(l,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Cc(t),f!==null){for(i.flags|=128,zl(l,!1),t=f.updateQueue,i.updateQueue=t,Bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xg(a,t),a=a.sibling;return he(Lt,Lt.current&1|2),Ke&&Cr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&_e()>Yc&&(i.flags|=128,d=!0,zl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Cc(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Bc(i,t),zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ke)return Tt(i),null}else 2*_e()-l.renderingStartTime>Yc&&a!==536870912&&(i.flags|=128,d=!0,zl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=_e(),t.sibling=null,a=Lt.current,he(Lt,d?a&1|2:a&1),Ke&&Cr(i,l.treeForkCount),t):(Tt(i),null);case 22:case 23:return ti(i),nf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),a=i.updateQueue,a!==null&&Bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Sa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Dr(Gt),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function SS(t,i){switch(Bd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Dr(Gt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oi(i),null;case 31:if(i.memoizedState!==null){if(ti(i),i.alternate===null)throw Error(s(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ti(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Lt),null;case 4:return rt(),null;case 10:return Dr(i.type),null;case 22:case 23:return ti(i),nf(),t!==null&&te(Sa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Dr(Gt),null;case 25:return null;default:return null}}function w_(t,i){switch(Bd(i),i.tag){case 3:Dr(Gt),rt();break;case 26:case 27:case 5:oi(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&ti(i);break;case 13:ti(i);break;case 19:te(Lt);break;case 10:Dr(i.type);break;case 22:case 23:ti(i),nf(),t!==null&&te(Sa);break;case 24:Dr(Gt)}}function Bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(S){ht(i,i.return,S)}}function xs(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=i;var O=a,G=S;try{G()}catch(Z){ht(d,O,Z)}}}l=l.next}while(l!==f)}}catch(Z){ht(i,i.return,Z)}}function A_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{my(i,a)}catch(l){ht(t,t.return,l)}}}function x_(t,i,a){a.props=Ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ht(t,i,l)}}function ql(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){ht(t,i,d)}}function sr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ht(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ht(t,i,d)}else a.current=null}function R_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ht(t,t.return,d)}}function Vf(t,i,a){try{var l=t.stateNode;GS(l,t.type,a,i),l[qt]=i}catch(d){ht(t,t.return,d)}}function C_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Vi));else if(l!==4&&(l===27&&Ms(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(jf(t,i,a),t=t.sibling;t!==null;)jf(t,i,a),t=t.sibling}function qc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qc(t,i,a),t=t.sibling;t!==null;)qc(t,i,a),t=t.sibling}function I_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);cn(i,l,a),i[Dt]=t,i[qt]=a}catch(f){ht(t,t.return,f)}}var Vr=!1,Kt=!1,Pf=!1,D_=typeof WeakSet=="function"?WeakSet:Set,rn=null;function wS(t,i){if(t=t.containerInfo,sp=uh,t=qg(t),Dd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,G=0,Z=0,re=t,K=null;t:for(;;){for(var W;re!==a||d!==0&&re.nodeType!==3||(S=v+d),re!==f||l!==0&&re.nodeType!==3||(O=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(W=re.firstChild)!==null;)K=re,re=W;for(;;){if(re===t)break t;if(K===a&&++G===d&&(S=v),K===f&&++Z===l&&(O=v),(W=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=W}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(ap={focusedElem:t,selectionRange:a},uh=!1,rn=i;rn!==null;)if(i=rn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,rn=t;else for(;rn!==null;){switch(i=rn,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=Ca(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ht(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)up(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":up(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,rn=t;break}rn=i.return}}function N_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(t,a),l&4&&Bl(5,a);break;case 1:if(jr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ht(a,a.return,v)}else{var d=Ca(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(a,a.return,v)}}l&64&&A_(a),l&512&&ql(a,a.return);break;case 3:if(jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{my(t,i)}catch(v){ht(a,a.return,v)}}break;case 27:i===null&&l&4&&I_(a);case 26:case 5:jr(t,a),i===null&&l&4&&R_(a),l&512&&ql(a,a.return);break;case 12:jr(t,a);break;case 31:jr(t,a),l&4&&k_(t,a);break;case 13:jr(t,a),l&4&&V_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=MS.bind(null,a),ZS(t,a))));break;case 22:if(l=a.memoizedState!==null||Vr,!l){i=i!==null&&i.memoizedState!==null||Kt,d=Vr;var f=Kt;Vr=l,(Kt=i)&&!f?Pr(t,a,(a.subtreeFlags&8772)!==0):jr(t,a),Vr=d,Kt=f}break;case 30:break;default:jr(t,a)}}function O_(t){var i=t.alternate;i!==null&&(t.alternate=null,O_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&as(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Un=!1;function Lr(t,i,a){for(a=a.child;a!==null;)M_(t,i,a),a=a.sibling}function M_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:Kt||sr(a,i),Lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||sr(a,i);var l=xt,d=Un;Ms(a.type)&&(xt=a.stateNode,Un=!1),Lr(t,i,a),Xl(a.stateNode),xt=l,Un=d;break;case 5:Kt||sr(a,i);case 6:if(l=xt,d=Un,xt=null,Lr(t,i,a),xt=l,Un=d,xt!==null)if(Un)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(a.stateNode)}catch(f){ht(a,i,f)}else try{xt.removeChild(a.stateNode)}catch(f){ht(a,i,f)}break;case 18:xt!==null&&(Un?(t=xt,Av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Po(t)):Av(xt,a.stateNode));break;case 4:l=xt,d=Un,xt=a.stateNode.containerInfo,Un=!0,Lr(t,i,a),xt=l,Un=d;break;case 0:case 11:case 14:case 15:xs(2,a,i),Kt||xs(4,a,i),Lr(t,i,a);break;case 1:Kt||(sr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&x_(a,i,l)),Lr(t,i,a);break;case 21:Lr(t,i,a);break;case 22:Kt=(l=Kt)||a.memoizedState!==null,Lr(t,i,a),Kt=l;break;default:Lr(t,i,a)}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Po(t)}catch(a){ht(i,i.return,a)}}}function V_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(a){ht(i,i.return,a)}}function AS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new D_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new D_),i;default:throw Error(s(435,t.tag))}}function Hc(t,i){var a=AS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=kS.bind(null,t,l);l.then(d,d)}})}function zn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Ms(S.type)){xt=S.stateNode,Un=!1;break e}break;case 5:xt=S.stateNode,Un=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,Un=!0;break e}S=S.return}if(xt===null)throw Error(s(160));M_(f,v,d),xt=null,Un=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)L_(i,t),i=i.sibling}var Bi=null;function L_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(i,t),Bn(t),l&4&&(xs(3,t,t.return),Bl(3,t),xs(5,t,t.return));break;case 1:zn(i,t),Bn(t),l&512&&(Kt||a===null||sr(a,a.return)),l&64&&Vr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Bi;if(zn(i,t),Bn(t),l&512&&(Kt||a===null||sr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[fi]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),cn(f,l,a),f[Dt]=t,P(f),l=f;break e;case"link":var v=Lv("link","href",d).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}f=d.createElement(l),cn(f,l,a),d.head.appendChild(f);break;case"meta":if(v=Lv("meta","content",d).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}f=d.createElement(l),cn(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Dt]=t,P(f),l=f}t.stateNode=l}else jv(d,t.type,t.stateNode);else t.stateNode=Vv(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?jv(d,t.type,t.stateNode):Vv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,a.memoizedProps)}break;case 27:zn(i,t),Bn(t),l&512&&(Kt||a===null||sr(a,a.return)),a!==null&&l&4&&Vf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zn(i,t),Bn(t),l&512&&(Kt||a===null||sr(a,a.return)),t.flags&32){d=t.stateNode;try{Pn(d,"")}catch(me){ht(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Vf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Pf=!0);break;case 6:if(zn(i,t),Bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){ht(t,t.return,me)}}break;case 3:if(sh=null,d=Bi,Bi=ih(i.containerInfo),zn(i,t),Bi=d,Bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(me){ht(t,t.return,me)}Pf&&(Pf=!1,j_(t));break;case 4:l=Bi,Bi=ih(t.stateNode.containerInfo),zn(i,t),Bn(t),Bi=l;break;case 12:zn(i,t),Bn(t);break;case 31:zn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 13:zn(i,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=_e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=Vr,Z=Kt;if(Vr=G||d,Kt=Z||O,zn(i,t),Kt=Z,Vr=G,Bn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||Vr||Kt||Ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var re=O.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){ht(O,O.return,me)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(me){ht(O,O.return,me)}}}else if(i.tag===18){if(a===null){O=i;try{var W=O.stateNode;d?xv(W,!0):xv(O.stateNode,!1)}catch(me){ht(O,O.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hc(t,a))));break;case 19:zn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 30:break;case 21:break;default:zn(i,t),Bn(t)}}function Bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(C_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Lf(t);qc(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(Pn(v,""),a.flags&=-33);var S=Lf(t);qc(t,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Lf(t);jf(t,G,O);break;default:throw Error(s(161))}}catch(Z){ht(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function j_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;j_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function jr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)N_(t,i.alternate,i),i=i.sibling}function Ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:xs(4,i,i.return),Ia(i);break;case 1:sr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&x_(i,i.return,a),Ia(i);break;case 27:Xl(i.stateNode);case 26:case 5:sr(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}t=t.sibling}}function Pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Pr(d,f,a),Bl(4,f);break;case 1:if(Pr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ht(l,l.return,G)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)py(O[d],S)}catch(G){ht(l,l.return,G)}}a&&v&64&&A_(f),ql(f,f.return);break;case 27:I_(f);case 26:case 5:Pr(d,f,a),a&&l===null&&v&4&&R_(f),ql(f,f.return);break;case 12:Pr(d,f,a);break;case 31:Pr(d,f,a),a&&v&4&&k_(d,f);break;case 13:Pr(d,f,a),a&&v&4&&V_(d,f);break;case 22:f.memoizedState===null&&Pr(d,f,a),ql(f,f.return);break;case 30:break;default:Pr(d,f,a)}i=i.sibling}}function Uf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function zf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t))}function qi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:qi(t,i,a,l),d&2048&&Bl(9,i);break;case 1:qi(t,i,a,l);break;case 3:qi(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t)));break;case 12:if(d&2048){qi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ht(i,i.return,O)}}else qi(t,i,a,l);break;case 31:qi(t,i,a,l);break;case 13:qi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?qi(t,i,a,l):Hl(t,i):f._visibility&2?qi(t,i,a,l):(f._visibility|=2,Ro(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Uf(v,i);break;case 24:qi(t,i,a,l),d&2048&&zf(i.alternate,i);break;default:qi(t,i,a,l)}}function Ro(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,S=a,O=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Ro(f,v,S,O,d),Bl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Ro(f,v,S,O,d):Hl(f,v):(Z._visibility|=2,Ro(f,v,S,O,d)),d&&G&2048&&Uf(v.alternate,v);break;case 24:Ro(f,v,S,O,d),d&&G&2048&&zf(v.alternate,v);break;default:Ro(f,v,S,O,d)}i=i.sibling}}function Hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Hl(a,l),d&2048&&Uf(l.alternate,l);break;case 24:Hl(a,l),d&2048&&zf(l.alternate,l);break;default:Hl(a,l)}i=i.sibling}}var Fl=8192;function Co(t,i,a){if(t.subtreeFlags&Fl)for(t=t.child;t!==null;)U_(t,i,a),t=t.sibling}function U_(t,i,a){switch(t.tag){case 26:Co(t,i,a),t.flags&Fl&&t.memoizedState!==null&&hw(a,Bi,t.memoizedState,t.memoizedProps);break;case 5:Co(t,i,a);break;case 3:case 4:var l=Bi;Bi=ih(t.stateNode.containerInfo),Co(t,i,a),Bi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,Co(t,i,a),Fl=l):Co(t,i,a));break;default:Co(t,i,a)}}function z_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Gl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,q_(l,t)}z_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B_(t),t=t.sibling}function B_(t){switch(t.tag){case 0:case 11:case 15:Gl(t),t.flags&2048&&xs(9,t,t.return);break;case 3:Gl(t);break;case 12:Gl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fc(t)):Gl(t);break;default:Gl(t)}}function Fc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,q_(l,t)}z_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:xs(8,i,i.return),Fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(i));break;default:Fc(i)}t=t.sibling}}function q_(t,i){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:xs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else e:for(a=t;rn!==null;){l=rn;var d=l.sibling,f=l.return;if(O_(l),l===a){rn=null;break e}if(d!==null){d.return=f,rn=d;break e}rn=f}}}var xS={getCacheForType:function(t){var i=ln(Gt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return ln(Gt).controller.signal}},RS=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Ue=null,qe=0,ct=0,ni=null,Rs=!1,Io=!1,Bf=!1,Ur=0,Ot=0,Cs=0,Da=0,qf=0,ii=0,Do=0,Yl=null,qn=null,Hf=!1,Gc=0,H_=0,Yc=1/0,Qc=null,Is=null,Jt=0,Ds=null,No=null,zr=0,Ff=0,Gf=null,F_=null,Ql=0,Yf=null;function ri(){return(it&2)!==0&&qe!==0?qe&-qe:J.T!==null?Jf():Xa()}function G_(){if(ii===0)if((qe&536870912)===0||Ke){var t=ci;ci<<=1,(ci&3932160)===0&&(ci=262144),ii=t}else ii=536870912;return t=ei.current,t!==null&&(t.flags|=32),ii}function Hn(t,i,a){(t===gt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),Ns(t,qe,ii,!1)),hi(t,a),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(Da|=a),Ot===4&&Ns(t,qe,ii,!1)),ar(t))}function Y_(t,i,a){if((it&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Rn(t,i),d=l?DS(t,i):Kf(t,i,!0),f=l;do{if(d===0){Io&&!l&&Ns(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!CS(a)){d=Kf(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;d=Yl;var O=S.current.memoizedState.isDehydrated;if(O&&(Oo(S,v).flags|=256),v=Kf(S,v,!1),v!==2){if(Bf&&!O){S.errorRecoveryDisabledLanes|=f,Da|=f,d=4;break e}f=qn,qn=d,f!==null&&(qn===null?qn=f:qn.push.apply(qn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){Oo(t,0),Ns(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ns(l,i,ii,!Rs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Gc+300-_e(),10<d)){if(Ns(l,i,ii,!Rs),xn(l,0,!0)!==0)break e;zr=i,l.timeoutHandle=Sv(Q_.bind(null,l,a,qn,Qc,Hf,i,ii,Da,Do,Rs,f,"Throttled",-0,0),d);break e}Q_(l,a,qn,Qc,Hf,i,ii,Da,Do,Rs,f,null,-0,0)}}break}while(!0);ar(t)}function Q_(t,i,a,l,d,f,v,S,O,G,Z,re,K,W){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},U_(i,f,re);var me=(f&62914560)===f?Gc-_e():(f&4194048)===f?H_-_e():0;if(me=dw(re,me),me!==null){zr=f,t.cancelPendingCommit=me(tv.bind(null,t,i,f,a,l,d,v,S,O,Z,re,null,K,W)),Ns(t,f,v,!G);return}}tv(t,i,f,a,l,d,v,S,O)}function CS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Jn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ns(t,i,a,l){i&=~qf,i&=~Da,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-wt(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&ki(t,a,i)}function Kc(){return(it&6)===0?(Kl(0),!1):!0}function Qf(){if(Ue!==null){if(ct===0)var t=Ue.return;else t=Ue,Ir=Ea=null,uf(t),To=null,Dl=0,t=Ue;for(;t!==null;)w_(t.alternate,t),t=t.return;Ue=null}}function Oo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zr=0,Qf(),gt=t,Ue=a=Rr(t.current,null),qe=i,ct=0,ni=null,Rs=!1,Io=Rn(t,i),Bf=!1,Do=ii=qf=Da=Cs=Ot=0,qn=Yl=null,Hf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-wt(l),f=1<<d;i|=t[d],l&=~f}return Ur=i,mc(),a}function K_(t,i){ke=null,J.H=Pl,i===Eo||i===Sc?(i=cy(),ct=3):i===Wd?(i=cy(),ct=4):ct=i===Af?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ni=i,Ue===null&&(Ot=1,jc(t,bi(i,t.current)))}function $_(){var t=ei.current;return t===null?!0:(qe&4194048)===qe?wi===null:(qe&62914560)===qe||(qe&536870912)!==0?t===wi:!1}function W_(){var t=J.H;return J.H=Pl,t===null?Pl:t}function X_(){var t=J.A;return J.A=xS,t}function $c(){Ot=4,Rs||(qe&4194048)!==qe&&ei.current!==null||(Io=!0),(Cs&134217727)===0&&(Da&134217727)===0||gt===null||Ns(gt,qe,ii,!1)}function Kf(t,i,a){var l=it;it|=2;var d=W_(),f=X_();(gt!==t||qe!==i)&&(Qc=null,Oo(t,i)),i=!1;var v=Ot;e:do try{if(ct!==0&&Ue!==null){var S=Ue,O=ni;switch(ct){case 8:Qf(),v=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(i=!0);var G=ct;if(ct=0,ni=null,Mo(t,S,O,G),a&&Io){v=0;break e}break;default:G=ct,ct=0,ni=null,Mo(t,S,O,G)}}IS(),v=Ot;break}catch(Z){K_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ir=Ea=null,it=l,J.H=d,J.A=f,Ue===null&&(gt=null,qe=0,mc()),v}function IS(){for(;Ue!==null;)J_(Ue)}function DS(t,i){var a=it;it|=2;var l=W_(),d=X_();gt!==t||qe!==i?(Qc=null,Yc=_e()+500,Oo(t,i)):Io=Rn(t,i);e:do try{if(ct!==0&&Ue!==null){i=Ue;var f=ni;t:switch(ct){case 1:ct=0,ni=null,Mo(t,i,f,1);break;case 2:case 9:if(ly(f)){ct=0,ni=null,Z_(i);break}i=function(){ct!==2&&ct!==9||gt!==t||(ct=7),ar(t)},f.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ly(f)?(ct=0,ni=null,Z_(i)):(ct=0,ni=null,Mo(t,i,f,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var S=Ue;if(v?Pv(v):S.stateNode.complete){ct=0,ni=null;var O=S.sibling;if(O!==null)Ue=O;else{var G=S.return;G!==null?(Ue=G,Wc(G)):Ue=null}break t}}ct=0,ni=null,Mo(t,i,f,5);break;case 6:ct=0,ni=null,Mo(t,i,f,6);break;case 8:Qf(),Ot=6;break e;default:throw Error(s(462))}}NS();break}catch(Z){K_(t,Z)}while(!0);return Ir=Ea=null,J.H=l,J.A=d,it=a,Ue!==null?0:(gt=null,qe=0,mc(),Ot)}function NS(){for(;Ue!==null&&!X();)J_(Ue)}function J_(t){var i=T_(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,i===null?Wc(t):Ue=i}function Z_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=g_(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=g_(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:uf(i);default:w_(a,i),i=Ue=Xg(i,Ur),i=T_(a,i,Ur)}t.memoizedProps=t.pendingProps,i===null?Wc(t):Ue=i}function Mo(t,i,a,l){Ir=Ea=null,uf(i),To=null,Dl=0;var d=i.return;try{if(vS(t,d,i,a,qe)){Ot=1,jc(t,bi(a,t.current)),Ue=null;return}}catch(f){if(d!==null)throw Ue=d,f;Ot=1,jc(t,bi(a,t.current)),Ue=null;return}i.flags&32768?(Ke||l===1?t=!0:Io||(qe&536870912)!==0?t=!1:(Rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),ev(i,t)):Wc(i)}function Wc(t){var i=t;do{if((i.flags&32768)!==0){ev(i,Rs);return}t=i.return;var a=TS(i.alternate,i,Ur);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);Ot===0&&(Ot=5)}function ev(t,i){do{var a=SS(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);Ot=6,Ue=null}function tv(t,i,a,l,d,f,v,S,O){t.cancelPendingCommit=null;do Xc();while(Jt!==0);if((it&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Vd,Wa(t,a,f,v,S,O),t===gt&&(Ue=gt=null,qe=0),No=i,Ds=t,zr=a,Ff=f,Gf=d,F_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VS($e,function(){return av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=ue.p,ue.p=2,v=it,it|=4;try{wS(t,i,a)}finally{it=v,ue.p=d,J.T=l}}Jt=1,nv(),iv(),rv()}}function nv(){if(Jt===1){Jt=0;var t=Ds,i=No,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{L_(i,t);var f=ap,v=qg(t.containerInfo),S=f.focusedElem,O=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&Bg(S.ownerDocument.documentElement,S)){if(O!==null&&Dd(S)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var re=S.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var W=K.getSelection(),me=S.textContent.length,Se=Math.min(O.start,me),mt=O.end===void 0?Se:Math.min(O.end,me);!W.extend&&Se>mt&&(v=mt,mt=Se,Se=v);var U=zg(S,Se),j=zg(S,mt);if(U&&j&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var F=re.createRange();F.setStart(U.node,U.offset),W.removeAllRanges(),Se>mt?(W.addRange(F),W.extend(j.node,j.offset)):(F.setEnd(j.node,j.offset),W.addRange(F))}}}}for(re=[],W=S;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ne=re[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}uh=!!sp,ap=sp=null}finally{it=d,ue.p=l,J.T=a}}t.current=i,Jt=2}}function iv(){if(Jt===2){Jt=0;var t=Ds,i=No,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ue.p;ue.p=2;var d=it;it|=4;try{N_(t,i.alternate,i)}finally{it=d,ue.p=l,J.T=a}}Jt=3}}function rv(){if(Jt===4||Jt===3){Jt=0,Re();var t=Ds,i=No,a=zr,l=F_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,No=Ds=null,sv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Is=null),mn(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,d=ue.p,ue.p=2,J.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];f(S.value,{componentStack:S.stack})}}finally{J.T=i,ue.p=d}}(zr&3)!==0&&Xc(),ar(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Yf?Ql++:(Ql=0,Yf=t):Ql=0,Kl(0)}}function sv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cl(i)))}function Xc(){return nv(),iv(),rv(),av()}function av(){if(Jt!==5)return!1;var t=Ds,i=Ff;Ff=0;var a=mn(zr),l=J.T,d=ue.p;try{ue.p=32>a?32:a,J.T=null,a=Gf,Gf=null;var f=Ds,v=zr;if(Jt=0,No=Ds=null,zr=0,(it&6)!==0)throw Error(s(331));var S=it;if(it|=4,B_(f.current),P_(f,f.current,v,a),it=S,Kl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{ue.p=d,J.T=l,sv(t,i)}}function ov(t,i,a){i=bi(a,i),i=wf(t.stateNode,i,2),t=Ss(t,i,2),t!==null&&(hi(t,2),ar(t))}function ht(t,i,a){if(t.tag===3)ov(t,t,a);else for(;i!==null;){if(i.tag===3){ov(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){t=bi(a,t),a=l_(2),l=Ss(i,a,2),l!==null&&(u_(a,l,i,t),hi(l,2),ar(l));break}}i=i.return}}function $f(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RS;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Bf=!0,d.add(a),t=OS.bind(null,t,i,a),i.then(t,t))}function OS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gt===t&&(qe&a)===a&&(Ot===4||Ot===3&&(qe&62914560)===qe&&300>_e()-Gc?(it&2)===0&&Oo(t,0):qf|=a,Do===qe&&(Do=0)),ar(t)}function lv(t,i){i===0&&(i=is()),t=_a(t,i),t!==null&&(hi(t,i),ar(t))}function MS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),lv(t,a)}function kS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),lv(t,a)}function VS(t,i){return at(t,i)}var Jc=null,ko=null,Wf=!1,Zc=!1,Xf=!1,Os=0;function ar(t){t!==ko&&t.next===null&&(ko===null?Jc=ko=t:ko=ko.next=t),Zc=!0,Wf||(Wf=!0,jS())}function Kl(t,i){if(!Xf&&Zc){Xf=!0;do for(var a=!1,l=Jc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=d&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,dv(l,f))}else f=qe,f=xn(l,l===gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rn(l,f)||(a=!0,dv(l,f));l=l.next}while(a);Xf=!1}}function LS(){uv()}function uv(){Zc=Wf=!1;var t=0;Os!==0&&QS()&&(t=Os);for(var i=_e(),a=null,l=Jc;l!==null;){var d=l.next,f=cv(l,i);f===0?(l.next=null,a===null?Jc=d:a.next=d,d===null&&(ko=a)):(a=l,(t!==0||(f&3)!==0)&&(Zc=!0)),l=d}Jt!==0&&Jt!==5||Kl(t),Os!==0&&(Os=0)}function cv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-wt(f),S=1<<v,O=d[v];O===-1?((S&a)===0||(S&l)!==0)&&(d[v]=$a(S,i)):O<=i&&(t.expiredLanes|=S),f&=~S}if(i=gt,a=qe,a=xn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Rn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Mn(l),mn(a)){case 2:case 8:a=pn;break;case 32:a=$e;break;case 268435456:a=tn;break;default:a=$e}return l=hv.bind(null,t),a=at(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function hv(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xc()&&t.callbackNode!==a)return null;var l=qe;return l=xn(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Y_(t,l,i),cv(t,_e()),t.callbackNode!=null&&t.callbackNode===a?hv.bind(null,t):null)}function dv(t,i){if(Xc())return null;Y_(t,i,!0)}function jS(){$S(function(){(it&6)!==0?at(Ze,LS):uv()})}function Jf(){if(Os===0){var t=vo;t===0&&(t=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Os=t}return Os}function fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function pv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function PS(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=fv((d[qt]||null).action),v=l.submitter;v&&(i=(i=v[qt]||null)?fv(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var S=new Zi("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var O=v?pv(d,v):new FormData(d);_f(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(S.preventDefault(),O=v?pv(d,v):new FormData(d),_f(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var Zf=0;Zf<kd.length;Zf++){var ep=kd[Zf],US=ep.toLowerCase(),zS=ep[0].toUpperCase()+ep.slice(1);zi(US,"on"+zS)}zi(Gg,"onAnimationEnd"),zi(Yg,"onAnimationIteration"),zi(Qg,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(nS,"onTransitionRun"),zi(iS,"onTransitionStart"),zi(rS,"onTransitionCancel"),zi(Kg,"onTransitionEnd"),Ht("onMouseEnter",["mouseout","mouseover"]),Ht("onMouseLeave",["mouseout","mouseover"]),Ht("onPointerEnter",["pointerout","pointerover"]),Ht("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function mv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=G;try{f(d)}catch(Z){pc(Z)}d.currentTarget=null,f=O}else for(v=0;v<l.length;v++){if(S=l[v],O=S.instance,G=S.currentTarget,S=S.listener,O!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=G;try{f(d)}catch(Z){pc(Z)}d.currentTarget=null,f=O}}}}function ze(t,i){var a=i[ss];a===void 0&&(a=i[ss]=new Set);var l=t+"__bubble";a.has(l)||(gv(i,t,2,!1),a.add(l))}function tp(t,i,a){var l=0;i&&(l|=4),gv(a,t,l,i)}var eh="_reactListening"+Math.random().toString(36).slice(2);function np(t){if(!t[eh]){t[eh]=!0,Ce.forEach(function(a){a!=="selectionchange"&&(BS.has(a)||tp(a,!1,t),tp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[eh]||(i[eh]=!0,tp("selectionchange",!1,i))}}function gv(t,i,a,l){switch(Gv(i)){case 2:var d=mw;break;case 8:d=gw;break;default:d=yp}a=d.bind(null,i,a,t),d=void 0,!ca||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function ip(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=pi(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=f=v;continue e}S=S.parentNode}}l=l.return}fs(function(){var G=f,Z=gi(a),re=[];e:{var K=$g.get(t);if(K!==void 0){var W=Zi,me=t;switch(t){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":W=hc;break;case"focusin":me="focus",W=pa;break;case"focusout":me="blur",W=pa;break;case"beforeblur":case"afterblur":W=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case Gg:case Yg:case Qg:W=rc;break;case Kg:W=x;break;case"scroll":case"scrollend":W=vl;break;case"wheel":W=$;break;case"copy":case"cut":case"paste":W=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=xr;break;case"toggle":case"beforetoggle":W=Me}var Se=(i&4)!==0,mt=!Se&&(t==="scroll"||t==="scrollend"),U=Se?K!==null?K+"Capture":null:K;Se=[];for(var j=G,F;j!==null;){var ne=j;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||U===null||(ne=Li(j,U),ne!=null&&Se.push(Wl(j,ne,F))),mt)break;j=j.return}0<Se.length&&(K=new W(K,me,null,a,Z),re.push({event:K,listeners:Se}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==gl&&(me=a.relatedTarget||a.fromElement)&&(pi(me)||me[di]))break e;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=a.relatedTarget||a.toElement,W=G,me=me?pi(me):null,me!==null&&(mt=u(me),Se=me.tag,me!==mt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(W=null,me=G),W!==me)){if(Se=bl,ne="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Se=xr,ne="onPointerLeave",U="onPointerEnter",j="pointer"),mt=W==null?K:Cn(W),F=me==null?K:Cn(me),K=new Se(ne,j+"leave",W,a,Z),K.target=mt,K.relatedTarget=F,ne=null,pi(Z)===G&&(Se=new Se(U,j+"enter",me,a,Z),Se.target=F,Se.relatedTarget=mt,ne=Se),mt=ne,W&&me)t:{for(Se=qS,U=W,j=me,F=0,ne=U;ne;ne=Se(ne))F++;ne=0;for(var ve=j;ve;ve=Se(ve))ne++;for(;0<F-ne;)U=Se(U),F--;for(;0<ne-F;)j=Se(j),ne--;for(;F--;){if(U===j||j!==null&&U===j.alternate){Se=U;break t}U=Se(U),j=Se(j)}Se=null}else Se=null;W!==null&&yv(re,K,W,Se,!1),me!==null&&mt!==null&&yv(re,mt,me,Se,!0)}}e:{if(K=G?Cn(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var et=kg;else if(Og(K))if(Vg)et=ZT;else{et=XT;var ye=WT}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&no(G.elementType)&&(et=kg):et=JT;if(et&&(et=et(t,G))){Mg(re,et,a,Z);break e}ye&&ye(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&fl(K,"number",K.value)}switch(ye=G?Cn(G):window,t){case"focusin":(Og(ye)||ye.contentEditable==="true")&&(co=ye,Nd=G,Al=null);break;case"focusout":Al=Nd=co=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Hg(re,a,Z);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":Hg(re,a,Z)}var Ve;if(nt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else uo?ma(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(nr&&a.locale!=="ko"&&(uo||He!=="onCompositionStart"?He==="onCompositionEnd"&&uo&&(Ve=_l()):(Ji=Z,yl="value"in Ji?Ji.value:Ji.textContent,uo=!0)),ye=th(G,He),0<ye.length&&(He=new tr(He,t,null,a,Z),re.push({event:He,listeners:ye}),Ve?He.data=Ve:(Ve=lo(a),Ve!==null&&(He.data=Ve)))),(Ve=_i?YT(t,a):QT(t,a))&&(He=th(G,"onBeforeInput"),0<He.length&&(ye=new tr("onBeforeInput","beforeinput",null,a,Z),re.push({event:ye,listeners:He}),ye.data=Ve)),PS(re,t,G,a,Z)}mv(re,i)})}function Wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function th(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Li(t,a),d!=null&&l.unshift(Wl(t,d,f)),d=Li(t,i),d!=null&&l.push(Wl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function qS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yv(t,i,a,l,d){for(var f=i._reactName,v=[];a!==null&&a!==l;){var S=a,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||G===null||(O=G,d?(G=Li(a,f),G!=null&&v.unshift(Wl(a,G,O))):d||(G=Li(a,f),G!=null&&v.push(Wl(a,G,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var HS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(FS,"")}function vv(t,i){return i=_v(i),_v(t)===i}function pt(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":ml(t,l,f);break;case"data":if(i!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=io(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&pt(t,i,"name",d.name,d,null),pt(t,i,"formEncType",d.formEncType,d,null),pt(t,i,"formMethod",d.formMethod,d,null),pt(t,i,"formTarget",d.formTarget,d,null)):(pt(t,i,"encType",d.encType,d,null),pt(t,i,"method",d.method,d,null),pt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=io(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=io(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),eo(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":eo(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tc.get(a)||a,eo(t,a,l))}}function rp(t,i,a,l,d,f){switch(a){case"style":ml(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Be.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):eo(t,a,l)}}}function cn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(t,i,f,v,a,null)}}d&&pt(t,i,"srcSet",a.srcSet,a,null),l&&pt(t,i,"src",a.src,a,null);return;case"input":ze("invalid",t);var S=f=v=d=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":v=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:pt(t,i,l,Z,a,null)}}Ju(t,f,S,O,G,v,d,!1);return;case"select":ze("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:pt(t,i,d,S,a,null)}i=f,a=v,t.multiple=!!l,i!=null?us(t,!!l,i,!1):a!=null&&us(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:pt(t,i,v,S,a,null)}cs(t,l,d,f);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:pt(t,i,O,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)ze($l[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(t,i,G,l,a,null)}return;default:if(no(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&rp(t,i,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&pt(t,i,S,l,a,null))}function GS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,S=null,O=null,G=null,Z=null;for(W in a){var re=a[W];if(a.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=re;default:l.hasOwnProperty(W)||pt(t,i,W,null,l,re)}}for(var K in l){var W=l[K];if(re=a[K],l.hasOwnProperty(K)&&(W!=null||re!=null))switch(K){case"type":f=W;break;case"name":d=W;break;case"checked":G=W;break;case"defaultChecked":Z=W;break;case"value":v=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==re&&pt(t,i,K,W,l,re)}}to(t,v,S,O,G,Z,f,d);return;case"select":W=v=S=K=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(f)||pt(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":K=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==O&&pt(t,i,d,f,l,O)}i=S,a=v,l=W,K!=null?us(t,!!a,K,!1):!!l!=!!a&&(i!=null?us(t,!!a,i,!0):us(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(t,i,S,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":K=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&pt(t,i,v,d,l,f)}Zu(t,K,W);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:pt(t,i,me,null,l,K)}for(O in l)if(K=l[O],W=a[O],l.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null))switch(O){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:pt(t,i,O,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)K=a[Se],a.hasOwnProperty(Se)&&K!=null&&!l.hasOwnProperty(Se)&&pt(t,i,Se,null,l,K);for(G in l)if(K=l[G],W=a[G],l.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:pt(t,i,G,K,l,W)}return;default:if(no(i)){for(var mt in a)K=a[mt],a.hasOwnProperty(mt)&&K!==void 0&&!l.hasOwnProperty(mt)&&rp(t,i,mt,void 0,l,K);for(Z in l)K=l[Z],W=a[Z],!l.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||rp(t,i,Z,K,l,W);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&pt(t,i,U,null,l,K);for(re in l)K=l[re],W=a[re],!l.hasOwnProperty(re)||K===W||K==null&&W==null||pt(t,i,re,K,l,W)}function bv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,S=d.duration;if(f&&S&&bv(v)){for(v=0,S=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],G=O.startTime;if(G>S)break;var Z=O.transferSize,re=O.initiatorType;Z&&bv(re)&&(O=O.responseEnd,v+=Z*(O<S?1:(S-G)/(O-G)))}if(--l,i+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sp=null,ap=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function Ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function op(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lp=null;function QS(){var t=window.event;return t&&t.type==="popstate"?t===lp?!1:(lp=t,!0):(lp=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(WS)}:Sv;function WS(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function Av(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Po(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,S=f.nodeName;f[fi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Xl(t.ownerDocument.body);a=d}while(a);Po(i)}function xv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function up(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":up(a),as(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ai(t.nextSibling),t===null)break}return null}function JS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ai(t.nextSibling),t===null))return null;return t}function Rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ai(t.nextSibling),t===null))return null;return t}function cp(t){return t.data==="$?"||t.data==="$~"}function hp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ZS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ai(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var dp=null;function Cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ai(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Dv(t,i,a){switch(i=nh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);as(t)}var xi=new Map,Nv=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Br=ue.d;ue.d={f:ew,r:tw,D:nw,C:iw,L:rw,m:sw,X:ow,S:aw,M:lw};function ew(){var t=Br.f(),i=Kc();return t||i}function tw(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):Br.r(t)}var Vo=typeof document>"u"?null:document;function Ov(t,i,a){var l=Vo;if(l&&typeof i=="string"&&i){var d=jn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Nv.has(d)||(Nv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),cn(i,"link",t),P(i),l.head.appendChild(i)))}}function nw(t){Br.D(t),Ov("dns-prefetch",t,null)}function iw(t,i){Br.C(t,i),Ov("preconnect",t,i)}function rw(t,i,a){Br.L(t,i,a);var l=Vo;if(l&&t&&i){var d='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+jn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+jn(a.imageSizes)+'"]')):d+='[href="'+jn(t)+'"]';var f=d;switch(i){case"style":f=Lo(t);break;case"script":f=jo(t)}xi.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xi.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Jl(f))||i==="script"&&l.querySelector(Zl(f))||(i=l.createElement("link"),cn(i,"link",t),P(i),l.head.appendChild(i)))}}function sw(t,i){Br.m(t,i);var a=Vo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=jo(t)}if(!xi.has(f)&&(t=T({rel:"modulepreload",href:t},i),xi.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zl(f)))return}l=a.createElement("link"),cn(l,"link",t),P(l),a.head.appendChild(l)}}}function aw(t,i,a){Br.S(t,i,a);var l=Vo;if(l&&t){var d=mi(l).hoistableStyles,f=Lo(t);i=i||"default";var v=d.get(f);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Jl(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xi.get(f))&&fp(t,a);var O=v=l.createElement("link");P(O),cn(O,"link",t),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(f,v)}}}function ow(t,i){Br.X(t,i);var a=Vo;if(a&&t){var l=mi(a).hoistableScripts,d=jo(t),f=l.get(d);f||(f=a.querySelector(Zl(d)),f||(t=T({src:t,async:!0},i),(i=xi.get(d))&&pp(t,i),f=a.createElement("script"),P(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function lw(t,i){Br.M(t,i);var a=Vo;if(a&&t){var l=mi(a).hoistableScripts,d=jo(t),f=l.get(d);f||(f=a.querySelector(Zl(d)),f||(t=T({src:t,async:!0,type:"module"},i),(i=xi.get(d))&&pp(t,i),f=a.createElement("script"),P(f),cn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Mv(t,i,a,l){var d=(d=Te.current)?ih(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Lo(a.href),a=mi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Lo(a.href);var f=mi(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Jl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),xi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(t,a),f||uw(d,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(a),a=mi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Lo(t){return'href="'+jn(t)+'"'}function Jl(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function uw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",a),P(i),t.head.appendChild(i))}function jo(t){return'[src="'+jn(t)+'"]'}function Zl(t){return"script[async]"+t}function Vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+jn(a.href)+'"]');if(l)return i.instance=l,P(l),l;var d=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),P(l),cn(l,"style",d),rh(l,a.precedence,t),i.instance=l;case"stylesheet":d=Lo(a.href);var f=t.querySelector(Jl(d));if(f)return i.state.loading|=4,i.instance=f,P(f),f;l=kv(a),(d=xi.get(d))&&fp(l,d),f=(t.ownerDocument||t).createElement("link"),P(f);var v=f;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),cn(f,"link",l),i.state.loading|=4,rh(f,a.precedence,t),i.instance=f;case"script":return f=jo(a.src),(d=t.querySelector(Zl(f)))?(i.instance=d,P(d),d):(l=a,(d=xi.get(f))&&(l=T({},a),pp(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),P(d),cn(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rh(l,a.precedence,t));return i.instance}function rh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function fp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sh=null;function Lv(t,i,a){if(sh===null){var l=new Map,d=sh=new Map;d.set(a,l)}else d=sh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[fi]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(f):l.set(v,[f])}}return l}function jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Lo(l.href),f=i.querySelector(Jl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ah.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,P(f);return}f=i.ownerDocument||i,l=kv(l),(d=xi.get(d))&&fp(l,d),f=f.createElement("link"),P(f);var v=f;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),cn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var mp=0;function dw(t,i){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&mp===0&&(mp=62500*YS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>mp?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,i.forEach(fw,t),oh=null,ah.call(t))}function fw(t,i){if(!(i.state.loading&4)){var a=oh.get(t);if(a)var l=a.get(null);else{a=new Map,oh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=ah.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var eu={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function pw(t,i,a,l,d,f,v,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Uv(t,i,a,l,d,f,v,S,O,G,Z,re){return t=new pw(t,i,a,v,O,G,Z,re,S),i=1,f===!0&&(i|=24),f=Zn(3,null,null,i),t.current=f,f.stateNode=t,i=Qd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Xd(f),t}function zv(t){return t?(t=po,t):po}function Bv(t,i,a,l,d,f){d=zv(d),l.context===null?l.context=d:l.pendingContext=d,l=Ts(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ss(t,l,i),a!==null&&(Hn(a,t,i),Ol(a,t,i))}function qv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gp(t,i){qv(t,i),(t=t.alternate)&&qv(t,i)}function Hv(t){if(t.tag===13||t.tag===31){var i=_a(t,67108864);i!==null&&Hn(i,t,67108864),gp(t,67108864)}}function Fv(t){if(t.tag===13||t.tag===31){var i=ri();i=Tr(i);var a=_a(t,i);a!==null&&Hn(a,t,i),gp(t,i)}}var uh=!0;function mw(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=2,yp(t,i,a,l)}finally{ue.p=f,J.T=d}}function gw(t,i,a,l){var d=J.T;J.T=null;var f=ue.p;try{ue.p=8,yp(t,i,a,l)}finally{ue.p=f,J.T=d}}function yp(t,i,a,l){if(uh){var d=_p(l);if(d===null)ip(t,i,l,ch,a),Yv(t,l);else if(_w(d,t,i,a,l))l.stopPropagation();else if(Yv(t,l),i&4&&-1<yw.indexOf(t)){for(;d!==null;){var f=Ln(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Vn(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-wt(v);S.entanglements[1]|=O,v&=~O}ar(f),(it&6)===0&&(Yc=_e()+500,Kl(0))}}break;case 31:case 13:S=_a(f,2),S!==null&&Hn(S,f,2),Kc(),gp(f,2)}if(f=_p(l),f===null&&ip(t,i,l,ch,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else ip(t,i,l,null,a)}}function _p(t){return t=gi(t),vp(t)}var ch=null;function vp(t){if(ch=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ch=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ze:return 2;case pn:return 8;case $e:case wn:return 32;case tn:return 268435456;default:return 32}default:return 32}}var bp=!1,ks=null,Vs=null,Ls=null,tu=new Map,nu=new Map,js=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yv(t,i){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function iu(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Ln(i),i!==null&&Hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function _w(t,i,a,l,d){switch(i){case"focusin":return ks=iu(ks,t,i,a,l,d),!0;case"dragenter":return Vs=iu(Vs,t,i,a,l,d),!0;case"mouseover":return Ls=iu(Ls,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return tu.set(f,iu(tu.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,nu.set(f,iu(nu.get(f)||null,t,i,a,l,d)),!0}return!1}function Qv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Fv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Fv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=_p(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);gl=l,a.target.dispatchEvent(l),gl=null}else return i=Ln(a),i!==null&&Hv(i),t.blockedOn=a,!1;i.shift()}return!0}function Kv(t,i,a){hh(t)&&a.delete(i)}function vw(){bp=!1,ks!==null&&hh(ks)&&(ks=null),Vs!==null&&hh(Vs)&&(Vs=null),Ls!==null&&hh(Ls)&&(Ls=null),tu.forEach(Kv),nu.forEach(Kv)}function dh(t,i){t.blockedOn===i&&(t.blockedOn=null,bp||(bp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vw)))}var fh=null;function $v(t){fh!==t&&(fh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===t&&(fh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(vp(l||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(i,3),i-=3,_f(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Po(t){function i(O){return dh(O,t)}ks!==null&&dh(ks,t),Vs!==null&&dh(Vs,t),Ls!==null&&dh(Ls,t),tu.forEach(i),nu.forEach(i);for(var a=0;a<js.length;a++){var l=js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<js.length&&(a=js[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[qt]||null;if(typeof f=="function")v||$v(a);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[qt]||null)S=v.formAction;else if(vp(d)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),$v(a)}}}function Wv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Ep(t){this._internalRoot=t}ph.prototype.render=Ep.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=ri();Bv(a,l,t,i,null,null)},ph.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bv(t.current,2,null,t,null,null),Kc(),i[di]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var i=Xa();t={blockedOn:null,target:t,priority:i};for(var a=0;a<js.length&&i!==0&&i<js[a].priority;a++);js.splice(a,0,t),a===0&&Qv(t)}};var Xv=e.version;if(Xv!=="19.2.0")throw Error(s(527,Xv,"19.2.0"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var bw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{kn=mh.inject(bw),Bt=mh}catch{}}return su.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=r_,f=s_,v=a_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Uv(t,1,!1,null,null,a,l,null,d,f,v,Wv),t[di]=i.current,np(t),new Ep(i)},su.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=r_,v=s_,S=a_,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=Uv(t,1,!0,i,a??null,l,d,O,f,v,S,Wv),i.context=zv(null),a=i.current,l=ri(),l=Tr(l),d=Ts(l),d.callback=null,Ss(a,d,l),a=l,i.current.lanes=a,hi(i,a),ar(i),t[di]=i.current,np(t),new ph(i)},su.version="19.2.0",su}var o0;function Nw(){if(o0)return wp.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wp.exports=Dw(),wp.exports}var Ow=Nw();const Mw=t1(Ow);var l0="popstate";function kw(r={}){function e(s,o){let{pathname:u,search:h,hash:p}=s.location;return Yp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:bu(o)}return Lw(e,n,null,r)}function Rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Oi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function u0(r,e){return{usr:r.state,key:r.key,idx:e}}function Yp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:n,key:e&&e.key||s||Vw()}}function bu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function nl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Lw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,p="POP",m=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){p="POP";let z=E(),q=z==null?null:z-g;g=z,m&&m({action:p,location:Q.location,delta:q})}function R(z,q){p="PUSH";let Y=Yp(Q.location,z,q);g=E()+1;let ee=u0(Y,g),le=Q.createHref(Y);try{h.pushState(ee,"",le)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(le)}u&&m&&m({action:p,location:Q.location,delta:1})}function V(z,q){p="REPLACE";let Y=Yp(Q.location,z,q);g=E();let ee=u0(Y,g),le=Q.createHref(Y);h.replaceState(ee,"",le),u&&m&&m({action:p,location:Q.location,delta:0})}function B(z){return jw(z)}let Q={get action(){return p},get location(){return r(o,h)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,T),m=z,()=>{o.removeEventListener(l0,T),m=null}},createHref(z){return e(o,z)},createURL:B,encodeLocation(z){let q=B(z);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:V,go(z){return h.go(z)}};return Q}function jw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:bu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function n1(r,e,n="/"){return Pw(r,e,n,!1)}function Pw(r,e,n,s){let o=typeof e=="string"?nl(e):e,u=Qr(o.pathname||"/",n);if(u==null)return null;let h=i1(r);Uw(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=Ww(u);p=Kw(h[m],g,s)}return p}function i1(r,e=[],n=[],s="",o=!1){let u=(h,p,m=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&m)return;Rt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Fr([s,E.relativePath]),R=n.concat(E);h.children&&h.children.length>0&&(Rt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),i1(h.children,e,R,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:Yw(T,h.index),routesMeta:R})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let m of r1(h.path))u(h,p,!0,m)}),e}function r1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=r1(s.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...h),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Uw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Qw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zw=/^:[\w-]+$/,Bw=3,qw=2,Hw=1,Fw=10,Gw=-2,c0=r=>r==="*";function Yw(r,e){let n=r.split("/"),s=n.length;return n.some(c0)&&(s+=Gw),e&&(s+=qw),n.filter(o=>!c0(o)).reduce((o,u)=>o+(zw.test(u)?Bw:u===""?Hw:Fw),s)}function Qw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Kw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),R=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Fr([u,T.pathname]),pathnameBase:tA(Fr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=Fr([u,T.pathnameBase]))}return h}function Lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$w(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let B=p[R]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=p[R];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function $w(r,e=!1,n=!0){Oi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ww(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jw=r=>Xw.test(r);function Zw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?nl(r):r,u;if(n)if(Jw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=h0(n.substring(1),"/"):u=h0(n,e)}else u=e;return{pathname:u,search:nA(s),hash:iA(o)}}function h0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(r){let e=eA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sm(r,e,n,s=!1){let o;typeof r=="string"?o=nl(r):(o={...r},Rt(!o.pathname||!o.pathname.includes("?"),Cp("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),Cp("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),Cp("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}p=T>=0?e[T]:"/"}let m=Zw(o,p),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var Fr=r=>r.join("/").replace(/\/\/+/g,"/"),tA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,iA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function sA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var s1=["POST","PUT","PATCH","DELETE"];new Set(s1);var aA=["GET",...s1];new Set(aA);var il=I.createContext(null);il.displayName="DataRouter";var rd=I.createContext(null);rd.displayName="DataRouterState";I.createContext(!1);var a1=I.createContext({isTransitioning:!1});a1.displayName="ViewTransition";var oA=I.createContext(new Map);oA.displayName="Fetchers";var lA=I.createContext(null);lA.displayName="Await";var Mi=I.createContext(null);Mi.displayName="Navigation";var Ou=I.createContext(null);Ou.displayName="Location";var Ki=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var wm=I.createContext(null);wm.displayName="RouteError";function uA(r,{relative:e}={}){Rt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Mi),{hash:o,pathname:u,search:h}=ku(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Fr([n,u])),s.createHref({pathname:p,search:h,hash:o})}function rl(){return I.useContext(Ou)!=null}function Jr(){return Rt(rl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ou).location}var o1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l1(r){I.useContext(Mi).static||I.useLayoutEffect(r)}function Mu(){let{isDataRoute:r}=I.useContext(Ki);return r?TA():cA()}function cA(){Rt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(il),{basename:e,navigator:n}=I.useContext(Mi),{matches:s}=I.useContext(Ki),{pathname:o}=Jr(),u=JSON.stringify(Tm(s)),h=I.useRef(!1);return l1(()=>{h.current=!0}),I.useCallback((m,g={})=>{if(Oi(h.current,o1),!h.current)return;if(typeof m=="number"){n.go(m);return}let E=Sm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Fr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}I.createContext(null);function u1(){let{matches:r}=I.useContext(Ki),e=r[r.length-1];return e?e.params:{}}function ku(r,{relative:e}={}){let{matches:n}=I.useContext(Ki),{pathname:s}=Jr(),o=JSON.stringify(Tm(n));return I.useMemo(()=>Sm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function hA(r,e){return c1(r,e)}function c1(r,e,n,s,o){Rt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(Mi),{matches:h}=I.useContext(Ki),p=h[h.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",T=p&&p.route;{let Y=T&&T.path||"";h1(g,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=Jr(),V;if(e){let Y=typeof e=="string"?nl(e):e;Rt(E==="/"||Y.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),V=Y}else V=R;let B=V.pathname||"/",Q=B;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");Q="/"+B.replace(/^\//,"").split("/").slice(Y.length).join("/")}let z=n1(r,{pathname:Q});Oi(T||z!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Oi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=gA(z&&z.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:Fr([E,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:Fr([E,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),h,n,s,o);return e&&q?I.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},q):q}function dA(){let r=EA(),e=rA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,h)}var fA=I.createElement(dA,null),pA=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?I.createElement(Ki.Provider,{value:this.props.routeContext},I.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mA({routeContext:r,match:e,children:n}){let s=I.useContext(il);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Ki.Provider,{value:r},n)}function gA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);Rt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,m=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=E),T.route.id){let{loaderData:R,errors:V}=n,B=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||B){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:sA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let V,B=!1,Q=null,z=null;n&&(V=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||fA,p&&(m<0&&R===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,z=null):m===R&&(B=!0,z=T.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,R+1)),Y=()=>{let ee;return V?ee=Q:B?ee=z:T.route.Component?ee=I.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=E,I.createElement(mA,{match:T,routeContext:{outlet:E,matches:q,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?I.createElement(pA,{location:n.location,revalidation:n.revalidation,component:Q,error:V,children:Y(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:g}):Y()},null)}function Am(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(r){let e=I.useContext(il);return Rt(e,Am(r)),e}function _A(r){let e=I.useContext(rd);return Rt(e,Am(r)),e}function vA(r){let e=I.useContext(Ki);return Rt(e,Am(r)),e}function xm(r){let e=vA(r),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bA(){return xm("useRouteId")}function EA(){let r=I.useContext(wm),e=_A("useRouteError"),n=xm("useRouteError");return r!==void 0?r:e.errors?.[n]}function TA(){let{router:r}=yA("useNavigate"),e=xm("useNavigate"),n=I.useRef(!1);return l1(()=>{n.current=!0}),I.useCallback(async(o,u={})=>{Oi(n.current,o1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d0={};function h1(r,e,n){!e&&!d0[r]&&(d0[r]=!0,Oi(!1,n))}I.memo(SA);function SA({routes:r,future:e,state:n,unstable_onError:s}){return c1(r,void 0,n,s,e)}function Ne({to:r,replace:e,state:n,relative:s}){Rt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Mi);Oi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=I.useContext(Ki),{pathname:h}=Jr(),p=Mu(),m=Sm(r,Tm(u),h,s==="path"),g=JSON.stringify(m);return I.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Zt(r){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){Rt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[p,o,u,h]);typeof n=="string"&&(n=nl(n));let{pathname:g="/",search:E="",hash:T="",state:R=null,key:V="default"}=n,B=I.useMemo(()=>{let Q=Qr(g,p);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:R,key:V},navigationType:s}},[p,g,E,T,R,V,s]);return Oi(B!=null,`<Router basename="${p}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:I.createElement(Mi.Provider,{value:m},I.createElement(Ou.Provider,{children:e,value:B}))}function AA({children:r,location:e}){return hA(Qp(r),e)}function Qp(r,e=[]){let n=[];return I.Children.forEach(r,(s,o)=>{if(!I.isValidElement(s))return;let u=[...e,o];if(s.type===I.Fragment){n.push.apply(n,Qp(s.props.children,u));return}Rt(s.type===Zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Qp(s.props.children,u)),n.push(h)}),n}var wh="get",Ah="application/x-www-form-urlencoded";function sd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function xA(r){return sd(r)&&r.tagName.toLowerCase()==="button"}function RA(r){return sd(r)&&r.tagName.toLowerCase()==="form"}function CA(r){return sd(r)&&r.tagName.toLowerCase()==="input"}function IA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function DA(r,e){return r.button===0&&(!e||e==="_self")&&!IA(r)}var gh=null;function NA(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var OA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(r){return r!=null&&!OA.has(r)?(Oi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):r}function MA(r,e){let n,s,o,u,h;if(RA(r)){let p=r.getAttribute("action");s=p?Qr(p,e):null,n=r.getAttribute("method")||wh,o=Ip(r.getAttribute("enctype"))||Ah,u=new FormData(r)}else if(xA(r)||CA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?Qr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||wh,o=Ip(r.getAttribute("formenctype"))||Ip(p.getAttribute("enctype"))||Ah,u=new FormData(p,r),!NA()){let{name:g,type:E,value:T}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(sd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,s=null,o=Ah,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function VA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await VA(u,n);return h.links?h.links():[]}return[]}));return BA(s.flat(1).filter(LA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f0(r,e,n,s,o,u){let h=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>h(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function PA(r,e,{includeHydrateFallback:n}={}){return UA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UA(r){return[...new Set(r)]}function zA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function BA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(zA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function d1(){let r=I.useContext(il);return Rm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qA(){let r=I.useContext(rd);return Rm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cm=I.createContext(void 0);Cm.displayName="FrameworkContext";function f1(){let r=I.useContext(Cm);return Rm(r,"You must render this element inside a <HydratedRouter> element"),r}function HA(r,e){let n=I.useContext(Cm),[s,o]=I.useState(!1),[u,h]=I.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,R=I.useRef(null);I.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=q=>{q.forEach(Y=>{h(Y.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[r]),I.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:au(p,V),onBlur:au(m,B),onMouseEnter:au(g,V),onMouseLeave:au(E,B),onTouchStart:au(T,V)}]:[!1,R,{}]}function au(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function FA({page:r,...e}){let{router:n}=d1(),s=I.useMemo(()=>n1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?I.createElement(YA,{page:r,matches:s,...e}):null}function GA(r){let{manifest:e,routeModules:n}=f1(),[s,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return jA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function YA({page:r,matches:e,...n}){let s=Jr(),{manifest:o,routeModules:u}=f1(),{basename:h}=d1(),{loaderData:p,matches:m}=qA(),g=I.useMemo(()=>f0(r,e,m,o,s,"data"),[r,e,m,o,s]),E=I.useMemo(()=>f0(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=I.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,Q=!1;if(e.forEach(q=>{let Y=o.routes[q.route.id];!Y||!Y.hasLoader||(!g.some(ee=>ee.route.id===q.route.id)&&q.route.id in p&&u[q.route.id]?.shouldRevalidate||Y.hasClientLoader?Q=!0:B.add(q.route.id))}),B.size===0)return[];let z=kA(r,h,"data");return Q&&B.size>0&&z.searchParams.set("_routes",e.filter(q=>B.has(q.route.id)).map(q=>q.route.id).join(",")),[z.pathname+z.search]},[h,p,s,o,g,e,r,u]),R=I.useMemo(()=>PA(E,o),[E,o]),V=GA(E);return I.createElement(I.Fragment,null,T.map(B=>I.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),R.map(B=>I.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),V.map(({key:B,link:Q})=>I.createElement("link",{key:B,nonce:n.nonce,...Q})))}function QA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p1&&(window.__reactRouterVersion="7.10.0")}catch{}function KA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=I.useRef();o.current==null&&(o.current=kw({window:s,v5Compat:!0}));let u=o.current,[h,p]=I.useState({action:u.action,location:u.location}),m=I.useCallback(g=>{n===!1?p(g):I.startTransition(()=>p(g))},[n]);return I.useLayoutEffect(()=>u.listen(m),[u,m]),I.createElement(wA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var m1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:p,target:m,to:g,preventScrollReset:E,viewTransition:T,...R},V){let{basename:B,unstable_useTransitions:Q}=I.useContext(Mi),z=typeof g=="string"&&m1.test(g),q,Y=!1;if(typeof g=="string"&&z&&(q=g,p1))try{let w=new URL(window.location.href),M=g.startsWith("//")?new URL(w.protocol+g):new URL(g),L=Qr(M.pathname,B);M.origin===w.origin&&L!=null?g=L+M.search+M.hash:Y=!0}catch{Oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=uA(g,{relative:o}),[le,ae,oe]=HA(s,R),D=JA(g,{replace:h,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:Q});function A(w){e&&e(w),w.defaultPrevented||D(w)}let C=I.createElement("a",{...R,...oe,href:q||ee,onClick:Y||u?e:A,ref:QA(V,ae),target:m,"data-discover":!z&&n==="render"?"true":void 0});return le&&!z?I.createElement(I.Fragment,null,C,I.createElement(FA,{page:ee})):C});g1.displayName="Link";var $A=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:p,children:m,...g},E){let T=ku(h,{relative:g.relative}),R=Jr(),V=I.useContext(rd),{navigator:B,basename:Q}=I.useContext(Mi),z=V!=null&&ix(T)&&p===!0,q=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,Y=R.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ee=ee?ee.toLowerCase():null,q=q.toLowerCase()),ee&&Q&&(ee=Qr(ee,Q)||ee);const le=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=Y===q||!o&&Y.startsWith(q)&&Y.charAt(le)==="/",oe=ee!=null&&(ee===q||!o&&ee.startsWith(q)&&ee.charAt(q.length)==="/"),D={isActive:ae,isPending:oe,isTransitioning:z},A=ae?e:void 0,C;typeof s=="function"?C=s(D):C=[s,ae?"active":null,oe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(D):u;return I.createElement(g1,{...g,"aria-current":A,className:C,ref:E,style:w,to:h,viewTransition:p},typeof m=="function"?m(D):m)});$A.displayName="NavLink";var WA=I.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=wh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:T,...R},V)=>{let{unstable_useTransitions:B}=I.useContext(Mi),Q=tx(),z=nx(p,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",Y=typeof p=="string"&&m1.test(p),ee=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let ae=le.nativeEvent.submitter,oe=ae?.getAttribute("formmethod")||h,D=()=>Q(ae||le.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});B&&n!==!1?I.startTransition(()=>D()):D()};return I.createElement("form",{ref:V,method:q,action:z,onSubmit:s?m:ee,...R,"data-discover":!Y&&r==="render"?"true":void 0})});WA.displayName="Form";function XA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y1(r){let e=I.useContext(il);return Rt(e,XA(r)),e}function JA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:p}={}){let m=Mu(),g=Jr(),E=ku(r,{relative:u});return I.useCallback(T=>{if(DA(T,e)){T.preventDefault();let R=n!==void 0?n:bu(g)===bu(E),V=()=>m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:h});p?I.startTransition(()=>V()):V()}},[g,m,E,n,s,e,r,o,u,h,p])}var ZA=0,ex=()=>`__${String(++ZA)}__`;function tx(){let{router:r}=y1("useSubmit"),{basename:e}=I.useContext(Mi),n=bA(),s=r.fetch,o=r.navigate;return I.useCallback(async(u,h={})=>{let{action:p,method:m,encType:g,formData:E,body:T}=MA(u,e);if(h.navigate===!1){let R=h.fetcherKey||ex();await s(R,n,h.action||p,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||m,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||p,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||m,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function nx(r,{relative:e}={}){let{basename:n}=I.useContext(Mi),s=I.useContext(Ki);Rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ku(r||".",{relative:e})},h=Jr();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fr([n,u.pathname])),bu(u)}function ix(r,{relative:e}={}){let n=I.useContext(a1);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y1("useViewTransitionState"),o=ku(r,{relative:e});if(!n.isTransitioning)return!1;let u=Qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Lh(o.pathname,h)!=null||Lh(o.pathname,u)!=null}const rx=()=>{};var p0={};const _1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let R=(p&15)<<2|g>>6,V=g&63;m||(V=64,h||(R=64)),s.push(n[E],n[T],n[R],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new ax;const R=u<<2|p>>4;if(s.push(R),g!==64){const V=p<<4&240|g>>2;if(s.push(V),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ox=function(r){const e=_1(r);return v1.encodeByteArray(e,!0)},jh=function(r){return ox(r).replace(/\./g,"")},b1=function(r){try{return v1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ux=()=>lx().__FIREBASE_DEFAULTS__,cx=()=>{if(typeof process>"u"||typeof p0>"u")return;const r=p0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&b1(r[1]);return e&&JSON.parse(e)},ad=()=>{try{return rx()||ux()||cx()||hx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E1=r=>ad()?.emulatorHosts?.[r],T1=r=>{const e=E1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},S1=()=>ad()?.config,w1=r=>ad()?.[`_${r}`];class dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ha(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Im(r){return(await fetch(r,{credentials:"include"})).ok}function A1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jh(JSON.stringify(n)),jh(JSON.stringify(h)),""].join(".")}const pu={};function fx(){const r={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?r.emulator.push(e):r.prod.push(e);return r}function px(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m0=!1;function Dm(r,e){if(typeof window>"u"||typeof document>"u"||!Ha(window.location.host)||pu[r]===e||pu[r]||m0)return;pu[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=fx().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function m(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{m0=!0,h()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=px(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),q=n("preprendIcon"),Y=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ee=R.element;p(ee),E(z,Q);const le=g();m(Y,q),ee.append(Y,B,z,le),document.body.appendChild(ee)}u?(B.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function gx(){const r=ad()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _x(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bx(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ex(){return!gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tx(){try{return typeof indexedDB=="object"}catch{return!1}}function Sx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const wx="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wx,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Ax(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new _r(o,p,s)}}function Ax(r,e){return r.replace(xx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xx=/\{\$([^}]+)}/g;function Rx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(g0(u)&&g0(h)){if(!Pa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function g0(r){return r!==null&&typeof r=="object"}function Lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ou(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function lu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Cx(r,e){const n=new Ix(r,e);return n.subscribe.bind(n)}class Ix{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Dx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dp),o.error===void 0&&(o.error=Dp),o.complete===void 0&&(o.complete=Dp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dp(){}function kt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Na="[DEFAULT]";class Nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mx(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(r){return r===Na?void 0:r}function Mx(r){return r.instantiationMode==="EAGER"}class kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const Vx={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},Lx=Fe.INFO,jx={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},Px=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=Lx,this._logHandler=Px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const Ux=(r,e)=>e.some(n=>r instanceof n);let y0,_0;function zx(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bx(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,Kp=new WeakMap,R1=new WeakMap,Np=new WeakMap,Om=new WeakMap;function qx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Gs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&x1.set(n,r)}).catch(()=>{}),Om.set(e,r),e}function Hx(r){if(Kp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Kp.set(r,e)}let $p={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Kp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Fx(r){$p=r($p)}function Gx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Op(this),e,...n);return R1.set(s,e.sort?e.sort():[e]),Gs(s)}:Bx().includes(r)?function(...e){return r.apply(Op(this),e),Gs(x1.get(this))}:function(...e){return Gs(r.apply(Op(this),e))}}function Yx(r){return typeof r=="function"?Gx(r):(r instanceof IDBTransaction&&Hx(r),Ux(r,zx())?new Proxy(r,$p):r)}function Gs(r){if(r instanceof IDBRequest)return qx(r);if(Np.has(r))return Np.get(r);const e=Yx(r);return e!==r&&(Np.set(r,e),Om.set(e,r)),e}const Op=r=>Om.get(r);function Qx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=Gs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Gs(h.result),m.oldVersion,m.newVersion,Gs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Kx=["get","getKey","getAll","getAllKeys","count"],$x=["put","add","delete","clear"],Mp=new Map;function v0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$x.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Kx.includes(n)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Mp.set(e,u),u}Fx(r=>({...r,get:(e,n,s)=>v0(e,n)||r.get(e,n,s),has:(e,n)=>!!v0(e,n)||r.has(e,n)}));class Wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Xx(r){return r.getComponent()?.type==="VERSION"}const Wp="@firebase/app",b0="0.14.6";const Kr=new Nm("@firebase/app"),Jx="@firebase/app-compat",Zx="@firebase/analytics-compat",eR="@firebase/analytics",tR="@firebase/app-check-compat",nR="@firebase/app-check",iR="@firebase/auth",rR="@firebase/auth-compat",sR="@firebase/database",aR="@firebase/data-connect",oR="@firebase/database-compat",lR="@firebase/functions",uR="@firebase/functions-compat",cR="@firebase/installations",hR="@firebase/installations-compat",dR="@firebase/messaging",fR="@firebase/messaging-compat",pR="@firebase/performance",mR="@firebase/performance-compat",gR="@firebase/remote-config",yR="@firebase/remote-config-compat",_R="@firebase/storage",vR="@firebase/storage-compat",bR="@firebase/firestore",ER="@firebase/ai",TR="@firebase/firestore-compat",SR="firebase",wR="12.6.0";const Xp="[DEFAULT]",AR={[Wp]:"fire-core",[Jx]:"fire-core-compat",[eR]:"fire-analytics",[Zx]:"fire-analytics-compat",[nR]:"fire-app-check",[tR]:"fire-app-check-compat",[iR]:"fire-auth",[rR]:"fire-auth-compat",[sR]:"fire-rtdb",[aR]:"fire-data-connect",[oR]:"fire-rtdb-compat",[lR]:"fire-fn",[uR]:"fire-fn-compat",[cR]:"fire-iid",[hR]:"fire-iid-compat",[dR]:"fire-fcm",[fR]:"fire-fcm-compat",[pR]:"fire-perf",[mR]:"fire-perf-compat",[gR]:"fire-rc",[yR]:"fire-rc-compat",[_R]:"fire-gcs",[vR]:"fire-gcs-compat",[bR]:"fire-fst",[TR]:"fire-fst-compat",[ER]:"fire-vertex","fire-js":"fire-js",[SR]:"fire-js-all"};const Ph=new Map,xR=new Map,Jp=new Map;function E0(r,e){try{r.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ua(r){const e=r.name;if(Jp.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,r);for(const n of Ph.values())E0(n,r);for(const n of xR.values())E0(n,r);return!0}function od(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ri(r){return r==null?!1:r.settings!==void 0}const RR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Vu("app","Firebase",RR);class CR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const Fa=wR;function C1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Xp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(n||(n=S1()),!n)throw Ys.create("no-options");const u=Ph.get(o);if(u){if(Pa(n,u.options)&&Pa(s,u.config))return u;throw Ys.create("duplicate-app",{appName:o})}const h=new kx(o);for(const m of Jp.values())h.addComponent(m);const p=new CR(n,s,h);return Ph.set(o,p),p}function Mm(r=Xp){const e=Ph.get(r);if(!e&&r===Xp&&S1())return C1();if(!e)throw Ys.create("no-app",{appName:r});return e}function lr(r,e,n){let s=AR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(h.join(" "));return}Ua(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IR="firebase-heartbeat-database",DR=1,Eu="firebase-heartbeat-store";let kp=null;function I1(){return kp||(kp=Qx(IR,DR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),kp}async function NR(r){try{const n=(await I1()).transaction(Eu),s=await n.objectStore(Eu).get(D1(r));return await n.done,s}catch(e){if(e instanceof _r)Kr.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}}async function T0(r,e){try{const s=(await I1()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,D1(r)),await s.done}catch(n){if(n instanceof _r)Kr.warn(n.message);else{const s=Ys.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(s.message)}}}function D1(r){return`${r.name}!${r.options.appId}`}const OR=1024,MR=30;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>MR){const o=jR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S0(),{heartbeatsToSend:n,unsentEntries:s}=VR(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function S0(){return new Date().toISOString().substring(0,10)}function VR(r,e=OR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),w0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tx()?Sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w0(r){return jh(JSON.stringify({version:2,heartbeats:r})).length}function jR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function PR(r){Ua(new Ws("platform-logger",e=>new Wx(e),"PRIVATE")),Ua(new Ws("heartbeat",e=>new kR(e),"PRIVATE")),lr(Wp,b0,r),lr(Wp,b0,"esm2020"),lr("fire-js","")}PR("");var UR="firebase",zR="12.6.0";lr(UR,zR,"app");function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=N1,O1=new Vu("auth","Firebase",N1());const Uh=new Nm("@firebase/auth");function qR(r,...e){Uh.logLevel<=Fe.WARN&&Uh.warn(`Auth (${Fa}): ${r}`,...e)}function xh(r,...e){Uh.logLevel<=Fe.ERROR&&Uh.error(`Auth (${Fa}): ${r}`,...e)}function Yi(r,...e){throw km(r,...e)}function ur(r,...e){return km(r,...e)}function M1(r,e,n){const s={...BR(),[e]:n};return new Vu("auth","Firebase",s).create(e,{appName:r.name})}function Qs(r){return M1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return O1.create(r,...e)}function we(r,e,...n){if(!r)throw km(e,...n)}function qr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xh(e),new Error(e)}function $r(r,e){r||qr(e)}function Zp(){return typeof self<"u"&&self.location?.href||""}function HR(){return A0()==="http:"||A0()==="https:"}function A0(){return typeof self<"u"&&self.location?.protocol||null}function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||_x()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=mx()||vx()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(r,e){$r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class k1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new ju(3e4,6e4);function ia(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vr(r,e,n,s,o={}){return V1(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=Lu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...u};return yx()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ha(r.emulatorConfig.host)&&(g.credentials="include"),k1.fetch()(await L1(r,r.config.apiHost,n,p),g)})}async function V1(r,e,n){r._canInitEmulator=!1;const s={...YR,...e};try{const o=new WR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw yh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw yh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw yh(r,"user-disabled",h);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw M1(r,E,g);Yi(r,E)}}catch(o){if(o instanceof _r)throw o;Yi(r,"network-request-failed",{message:String(o)})}}async function ld(r,e,n,s,o={}){const u=await vr(r,e,n,s,o);return"mfaPendingCredential"in u&&Yi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function L1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Vm(r.config,o):`${r.config.apiScheme}://${o}`;return QR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function $R(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),KR.get())})}}function yh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ur(r,e,s);return o.customData._tokenResponse=n,o}function x0(r){return r!==void 0&&r.enterprise!==void 0}class XR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $R(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JR(r,e){return vr(r,"GET","/v2/recaptchaConfig",ia(r,e))}async function ZR(r,e){return vr(r,"POST","/v1/accounts:delete",e)}async function zh(r,e){return vr(r,"POST","/v1/accounts:lookup",e)}function mu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eC(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=Lm(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:mu(Vp(o.auth_time)),issuedAtTime:mu(Vp(o.iat)),expirationTime:mu(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vp(r){return Number(r)*1e3}function Lm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=b1(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R0(r){const e=Lm(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&tC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class nC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bh(r){const e=r.auth,n=await r.getIdToken(),s=await Ko(r,zh(e,{idToken:n}));we(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?j1(o.providerUserInfo):[],h=rC(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!h?.length,g=p?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function iC(r){const e=kt(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function j1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sC(r,e){const n=await V1(r,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await L1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ha(r.emulatorConfig.host)&&(m.credentials="include"),k1.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(r,e){return vr(r,"POST","/v2/accounts:revokeToken",ia(r,e))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=R0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Fo;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return qr("not implemented")}}function Us(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eC(this,e)}reload(){return iC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Ko(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:V,providerData:B,stsTokenManager:Q}=n;we(T&&Q,e,"internal-error");const z=Fo.fromJSON(this.name,Q);we(typeof T=="string",e,"internal-error"),Us(s,e.name),Us(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof V=="boolean",e,"internal-error"),Us(u,e.name),Us(h,e.name),Us(p,e.name),Us(m,e.name),Us(g,e.name),Us(E,e.name);const q=new Fi({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:z,createdAt:g,lastLoginAt:E});return B&&Array.isArray(B)&&(q.providerData=B.map(Y=>({...Y}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,n,s=!1){const o=new Fo;o.updateFromServerResponse(n);const u=new Fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?j1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Fo;p.updateFromIdToken(s);const m=new Fi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}const C0=new Map;function Hr(r){$r(r instanceof Function,"Expected a class definition");let e=C0.get(r);return e?($r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,C0.set(r,e),e)}class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P1.type="NONE";const I0=P1;function Rh(r,e,n){return`firebase:${r}:${e}:${n}`}class Go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zh(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Go(Hr(I0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Hr(I0);const h=Rh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const R=await zh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Fi._fromGetAccountInfoResponse(e,R,E)}else T=Fi._fromJSON(e,E);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Go(u,e,s):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Go(u,e,s))}}function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F1(e))return"Blackberry";if(G1(e))return"Webos";if(z1(e))return"Safari";if((e.includes("chrome/")||B1(e))&&!e.includes("edge/"))return"Chrome";if(H1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function U1(r=bn()){return/firefox\//i.test(r)}function z1(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B1(r=bn()){return/crios\//i.test(r)}function q1(r=bn()){return/iemobile/i.test(r)}function H1(r=bn()){return/android/i.test(r)}function F1(r=bn()){return/blackberry/i.test(r)}function G1(r=bn()){return/webos/i.test(r)}function jm(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oC(r=bn()){return jm(r)&&!!window.navigator?.standalone}function lC(){return bx()&&document.documentMode===10}function Y1(r=bn()){return jm(r)||H1(r)||G1(r)||F1(r)||/windows phone/i.test(r)||q1(r)}function Q1(r,e=[]){let n;switch(r){case"Browser":n=D0(bn());break;case"Worker":n=`${D0(bn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${s}`}class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,p)=>{try{const m=e(u);h(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function cC(r,e={}){return vr(r,"GET","/v2/passwordPolicy",ia(r,e))}const hC=6;class dC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zh(this,{idToken:e}),s=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Qs(this));const n=e?kt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cC(this),n=new dC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ga(r){return kt(r)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cx(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pC(r){ud=r}function K1(r){return ud.loadJS(r)}function mC(){return ud.recaptchaEnterpriseScript}function gC(){return ud.gapiScript}function yC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _C{constructor(){this.enterprise=new vC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bC="recaptcha-enterprise",$1="NO_RECAPTCHA";class EC{constructor(e){this.type=bC,this.auth=Ga(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{JR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new XR(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,h,p){const m=window.grecaptcha;x0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h($1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _C().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!n&&x0(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mC();m.length!==0&&(m+=p),K1(m).then(()=>{o(p,u,h)}).catch(g=>{h(g)})}}).catch(p=>{h(p)})})}}async function O0(r,e,n,s=!1,o=!1){const u=new EC(r);let h;if(o)h=$1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function tm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await O0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await O0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function TC(r,e){const n=od(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Pa(u,e??{}))return o;Yi(o,"already-initialized")}return n.initialize({options:e})}function SC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function wC(r,e,n){const s=Ga(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=W1(e),{host:h,port:p}=AC(e),m=p===null?"":`:${p}`,g={url:`${u}//${h}${m}/`},E=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Pa(g,s.config.emulator)&&Pa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ha(h)?(Im(`${u}//${h}${m}`),Dm("Auth",!0)):xC()}function W1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AC(r){const e=W1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:M0(h)}}}function M0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function RC(r,e){return vr(r,"POST","/v1/accounts:update",e)}async function CC(r,e){return vr(r,"POST","/v1/accounts:signUp",e)}async function IC(r,e){return ld(r,"POST","/v1/accounts:signInWithPassword",ia(r,e))}async function DC(r,e){return vr(r,"POST","/v1/accounts:sendOobCode",ia(r,e))}async function NC(r,e){return DC(r,e)}async function OC(r,e){return ld(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}async function MC(r,e){return ld(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}class Tu extends Pm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,n,"signInWithPassword",IC);case"emailLink":return OC(e,{email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,s,"signUpPassword",CC);case"emailLink":return MC(e,{idToken:n,email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yo(r,e){return ld(r,"POST","/v1/accounts:signInWithIdp",ia(r,e))}const kC="http://localhost";class za extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new za(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:kC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}function VC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LC(r){const e=ou(lu(r)).link,n=e?ou(lu(e)).deep_link_id:null,s=ou(lu(r)).deep_link_id;return(s?ou(lu(s)).link:null)||s||n||e||r}class Um{constructor(e){const n=ou(lu(e)),s=n.apiKey??null,o=n.oobCode??null,u=VC(n.mode??null);we(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=LC(e);try{return new Um(n)}catch{return null}}}class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return Tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Um.parseLink(n);return we(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class X1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pu extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zs extends Pu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class Bs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return za._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Bs.credential(n,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Pu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Pu{constructor(){super("twitter.com")}static credential(e,n){return za._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Hs.credential(n,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fi._fromIdTokenResponse(e,s,o),h=k0(s);return new $o({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=k0(s);return new $o({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function k0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class qh extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function J1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function jC(r,e,n=!1){const s=await Ko(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $o._forOperation(r,"link",s)}async function Z1(r,e,n=!1){const{auth:s}=r;if(Ri(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await Ko(r,J1(s,o,e,r),n);we(u.idToken,s,"internal-error");const h=Lm(u.idToken);we(h,s,"internal-error");const{sub:p}=h;return we(r.uid===p,s,"user-mismatch"),$o._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yi(s,"user-mismatch"),u}}async function eE(r,e,n=!1){if(Ri(r.app))return Promise.reject(Qs(r));const s="signIn",o=await J1(r,s,e),u=await $o._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function PC(r,e){return eE(Ga(r),e)}async function UC(r,e){return Z1(kt(r),e)}async function zC(r){const e=Ga(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BC(r,e,n){const s=Ga(r);await tm(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",NC)}function qC(r,e,n){return Ri(r.app)?Promise.reject(Qs(r)):PC(kt(r),Ya.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&zC(r),s})}function HC(r,e){return FC(kt(r),null,e)}async function FC(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await Ko(r,RC(s,u));await r._updateTokensIfNecessary(h,!0)}function GC(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function YC(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}const Hh="__sak";class tE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QC=1e3,KC=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);lC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const $C=nE;class iE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iE.type="SESSION";const rE=iE;function WC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async g=>g(n.origin,u)),m=await WC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];function zm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const g=zm("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function cr(){return window}function JC(r){cr().location.href=r}function sE(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function ZC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){return navigator?.serviceWorker?.controller||null}function t2(){return sE()?self:null}const aE="firebaseLocalStorageDb",n2=1,Fh="firebaseLocalStorage",oE="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function i2(){const r=indexedDB.deleteDatabase(aE);return new Uu(r).toPromise()}function nm(){const r=indexedDB.open(aE,n2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:oE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await i2(),e(await nm()))})})}async function V0(r,e,n){const s=hd(r,!0).put({[oE]:e,value:n});return new Uu(s).toPromise()}async function r2(r,e){const n=hd(r,!1).get(e),s=await new Uu(n).toPromise();return s===void 0?null:s.value}function L0(r,e){const n=hd(r,!0).delete(e);return new Uu(n).toPromise()}const s2=800,a2=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>a2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await V0(e,Hh,"1"),await L0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>r2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hd(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const o2=lE;new ju(3e4,6e4);function l2(r,e){return e?Hr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Bm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u2(r){return eE(r.auth,new Bm(r),r.bypassAuthState)}function c2(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),Z1(n,new Bm(r),r.bypassAuthState)}async function h2(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),jC(n,new Bm(r),r.bypassAuthState)}class uE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:Yi(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const d2=new ju(2e3,1e4);class Ho extends uE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d2.get())};e()}}Ho.currentPopupAction=null;const f2="pendingRedirect",Ch=new Map;class p2 extends uE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await m2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m2(r,e){const n=_2(e),s=y2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function g2(r,e){Ch.set(r._key(),e)}function y2(r){return Hr(r._redirectPersistence)}function _2(r){return Rh(f2,r.config.apiKey,r.name)}async function v2(r,e,n=!1){if(Ri(r.app))return Promise.reject(Qs(r));const s=Ga(r),o=l2(s,e),h=await new p2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const b2=600*1e3;class E2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function T2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(r);default:return!1}}async function S2(r,e={}){return vr(r,"GET","/v1/projects",e)}const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function x2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await S2(r);for(const n of e)try{if(R2(n))return}catch{}Yi(r,"unauthorized-domain")}function R2(r){const e=Zp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!A2.test(n))return!1;if(w2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const C2=new ju(3e4,6e4);function P0(){const r=cr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function I2(r){return new Promise((e,n)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),n(ur(r,"network-request-failed"))},timeout:C2.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)s();else{const o=yC("iframefcb");return cr()[o]=()=>{gapi.load?s():n(ur(r,"network-request-failed"))},K1(`${gC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function D2(r){return Ih=Ih||I2(r),Ih}const N2=new ju(5e3,15e3),O2="__/auth/iframe",M2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Vm(e,M2):`https://${r.config.authDomain}/${O2}`,s={apiKey:e.apiKey,appName:r.name,v:Fa},o=V2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Lu(s).slice(1)}`}async function j2(r){const e=await D2(r),n=cr().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:L2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ur(r,"network-request-failed"),p=cr().setTimeout(()=>{u(h)},N2.get());function m(){cr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(h)})}))}const P2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,z2=600,B2="_blank",q2="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(r,e,n,s=U2,o=z2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...P2,width:s.toString(),height:o.toString(),top:u,left:h},g=bn().toLowerCase();n&&(p=B1(g)?B2:n),U1(g)&&(e=e||q2,m.scrollbars="yes");const E=Object.entries(m).reduce((R,[V,B])=>`${R}${V}=${B},`,"");if(oC(g)&&p!=="_self")return F2(e||"",p),new U0(null);const T=window.open(e||"",p,E);we(T,r,"popup-blocked");try{T.focus()}catch{}return new U0(T)}function F2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const G2="__/auth/handler",Y2="emulator/auth/handler",Q2=encodeURIComponent("fac");async function z0(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Fa,eventId:o};if(e instanceof X1){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Rx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Pu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${Q2}=${encodeURIComponent(m)}`:"";return`${K2(r)}?${Lu(p).slice(1)}${g}`}function K2({config:r}){return r.emulator?Vm(r,Y2):`https://${r.authDomain}/${G2}`}const Lp="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=v2,this._overrideRedirectResult=g2}async _openPopup(e,n,s,o){$r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await z0(e,n,s,Zp(),o);return H2(e,u,zm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await z0(e,n,s,Zp(),o);return JC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await j2(e),s=new E2(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},o=>{const u=o?.[0]?.[Lp];u!==void 0&&n(!!u),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y1()||z1()||jm()}}const W2=$2;var B0="@firebase/auth",q0="1.11.1";class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(r){Ua(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(r)},g=new fC(s,o,u,m);return SC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ua(new Ws("auth-internal",e=>{const n=Ga(e.getProvider("auth").getImmediate());return(s=>new X2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(B0,q0,J2(r)),lr(B0,q0,"esm2020")}const eI=300,tI=w1("authIdTokenMaxAge")||eI;let H0=null;const nI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tI)return;const o=n?.token;H0!==o&&(H0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iI(r=Mm()){const e=od(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(r,{popupRedirectResolver:W2,persistence:[o2,$C,rE]}),s=w1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=nI(u.toString());YC(n,h,()=>h(n.currentUser)),GC(n,p=>h(p))}}const o=E1("auth");return o&&wC(n,`http://${o}`),n}function rI(){return document.getElementsByTagName("head")?.[0]??document}pC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ur("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,hE;(function(){var r;function e(D,A){function C(){}C.prototype=A.prototype,D.F=A.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(w,M,L){for(var N=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)N[Je-2]=arguments[Je];return A.prototype[M].apply(w,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,C){C||(C=0);const w=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)w[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)w[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=D.g[0],C=D.g[1],M=D.g[2];let L=D.g[3],N;N=A+(L^C&(M^L))+w[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(M^A&(C^M))+w[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=M+(C^L&(A^C))+w[2]+606105819&4294967295,M=L+(N<<17&4294967295|N>>>15),N=C+(A^M&(L^A))+w[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(L^C&(M^L))+w[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(M^A&(C^M))+w[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=M+(C^L&(A^C))+w[6]+2821735955&4294967295,M=L+(N<<17&4294967295|N>>>15),N=C+(A^M&(L^A))+w[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(L^C&(M^L))+w[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(M^A&(C^M))+w[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=M+(C^L&(A^C))+w[10]+4294925233&4294967295,M=L+(N<<17&4294967295|N>>>15),N=C+(A^M&(L^A))+w[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(L^C&(M^L))+w[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(M^A&(C^M))+w[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=M+(C^L&(A^C))+w[14]+2792965006&4294967295,M=L+(N<<17&4294967295|N>>>15),N=C+(A^M&(L^A))+w[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=A+(M^L&(C^M))+w[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^M&(A^C))+w[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(L^A))+w[11]+643717713&4294967295,M=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(M^L))+w[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^L&(C^M))+w[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^M&(A^C))+w[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(L^A))+w[15]+3634488961&4294967295,M=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(M^L))+w[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^L&(C^M))+w[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^M&(A^C))+w[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(L^A))+w[3]+4107603335&4294967295,M=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(M^L))+w[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(M^L&(C^M))+w[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^M&(A^C))+w[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=M+(A^C&(L^A))+w[7]+1735328473&4294967295,M=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(M^L))+w[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=A+(C^M^L)+w[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^M)+w[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=M+(L^A^C)+w[11]+1839030562&4294967295,M=L+(N<<16&4294967295|N>>>16),N=C+(M^L^A)+w[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^L)+w[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^M)+w[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=M+(L^A^C)+w[7]+4139469664&4294967295,M=L+(N<<16&4294967295|N>>>16),N=C+(M^L^A)+w[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^L)+w[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^M)+w[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=M+(L^A^C)+w[3]+3572445317&4294967295,M=L+(N<<16&4294967295|N>>>16),N=C+(M^L^A)+w[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(C^M^L)+w[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^M)+w[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=M+(L^A^C)+w[15]+530742520&4294967295,M=L+(N<<16&4294967295|N>>>16),N=C+(M^L^A)+w[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=A+(M^(C|~L))+w[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~M))+w[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=M+(A^(L|~C))+w[14]+2878612391&4294967295,M=L+(N<<15&4294967295|N>>>17),N=C+(L^(M|~A))+w[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~L))+w[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~M))+w[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=M+(A^(L|~C))+w[10]+4293915773&4294967295,M=L+(N<<15&4294967295|N>>>17),N=C+(L^(M|~A))+w[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~L))+w[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~M))+w[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=M+(A^(L|~C))+w[6]+2734768916&4294967295,M=L+(N<<15&4294967295|N>>>17),N=C+(L^(M|~A))+w[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=A+(M^(C|~L))+w[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~M))+w[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=M+(A^(L|~C))+w[2]+718787259&4294967295,M=L+(N<<15&4294967295|N>>>17),N=C+(L^(M|~A))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,A){A===void 0&&(A=D.length);const C=A-this.blockSize,w=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=C;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(w[M++]=D.charCodeAt(L++),M==this.blockSize){o(this,w),M=0;break}}else for(;L<A;)if(w[M++]=D[L++],M==this.blockSize){o(this,w),M=0;break}}this.h=M,this.o+=A},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,C=0;C<4;++C)for(let w=0;w<32;w+=8)D[A++]=this.g[C]>>>w&255;return D};function u(D,A){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=A(D)}function h(D,A){this.h=A;const C=[];let w=!0;for(let M=D.length-1;M>=0;M--){const L=D[M]|0;w&&L==A||(C[M]=L,w=!1)}this.g=C}var p={};function m(D){return-128<=D&&D<128?u(D,function(A){return new h([A|0],A<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return z(g(-D));const A=[];let C=1;for(let w=0;D>=C;w++)A[w]=D/C|0,C*=4294967296;return new h(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return z(E(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let w=T;for(let L=0;L<D.length;L+=8){var M=Math.min(8,D.length-L);const N=parseInt(D.substring(L,L+M),A);M<8?(M=g(Math.pow(A,M)),w=w.j(M).add(g(N))):(w=w.j(C),w=w.add(g(N)))}return w}var T=m(0),R=m(1),V=m(16777216);r=h.prototype,r.m=function(){if(Q(this))return-z(this).m();let D=0,A=1;for(let C=0;C<this.g.length;C++){const w=this.i(C);D+=(w>=0?w:4294967296+w)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(B(this))return"0";if(Q(this))return"-"+z(this).toString(D);const A=g(Math.pow(D,6));var C=this;let w="";for(;;){const M=le(C,A).g;C=q(C,M.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=M,B(C))return L+w;for(;L.length<6;)L="0"+L;w=L+w}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function B(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function Q(D){return D.h==-1}r.l=function(D){return D=q(this,D),Q(D)?-1:B(D)?0:1};function z(D){const A=D.g.length,C=[];for(let w=0;w<A;w++)C[w]=~D.g[w];return new h(C,~D.h).add(R)}r.abs=function(){return Q(this)?z(this):this},r.add=function(D){const A=Math.max(this.g.length,D.g.length),C=[];let w=0;for(let M=0;M<=A;M++){let L=w+(this.i(M)&65535)+(D.i(M)&65535),N=(L>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);w=N>>>16,L&=65535,N&=65535,C[M]=N<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(D,A){return D.add(z(A))}r.j=function(D){if(B(this)||B(D))return T;if(Q(this))return Q(D)?z(this).j(z(D)):z(z(this).j(D));if(Q(D))return z(this.j(z(D)));if(this.l(V)<0&&D.l(V)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,C=[];for(var w=0;w<2*A;w++)C[w]=0;for(w=0;w<this.g.length;w++)for(let M=0;M<D.g.length;M++){const L=this.i(w)>>>16,N=this.i(w)&65535,Je=D.i(M)>>>16,bt=D.i(M)&65535;C[2*w+2*M]+=N*bt,Y(C,2*w+2*M),C[2*w+2*M+1]+=L*bt,Y(C,2*w+2*M+1),C[2*w+2*M+1]+=N*Je,Y(C,2*w+2*M+1),C[2*w+2*M+2]+=L*Je,Y(C,2*w+2*M+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new h(C,0)};function Y(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function ee(D,A){this.g=D,this.h=A}function le(D,A){if(B(A))throw Error("division by zero");if(B(D))return new ee(T,T);if(Q(D))return A=le(z(D),A),new ee(z(A.g),z(A.h));if(Q(A))return A=le(D,z(A)),new ee(z(A.g),A.h);if(D.g.length>30){if(Q(D)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=R,w=A;w.l(D)<=0;)C=ae(C),w=ae(w);var M=oe(C,1),L=oe(w,1);for(w=oe(w,2),C=oe(C,2);!B(w);){var N=L.add(w);N.l(D)<=0&&(M=M.add(C),L=N),w=oe(w,1),C=oe(C,1)}return A=q(D,M.j(A)),new ee(M,A)}for(M=T;D.l(A)>=0;){for(C=Math.max(1,Math.floor(D.m()/A.m())),w=Math.ceil(Math.log(C)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),L=g(C),N=L.j(A);Q(N)||N.l(D)>0;)C-=w,L=g(C),N=L.j(A);B(L)&&(L=R),M=M.add(L),D=q(D,N)}return new ee(M,D)}r.B=function(D){return le(this,D).h},r.and=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let w=0;w<A;w++)C[w]=this.i(w)&D.i(w);return new h(C,this.h&D.h)},r.or=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let w=0;w<A;w++)C[w]=this.i(w)|D.i(w);return new h(C,this.h|D.h)},r.xor=function(D){const A=Math.max(this.g.length,D.g.length),C=[];for(let w=0;w<A;w++)C[w]=this.i(w)^D.i(w);return new h(C,this.h^D.h)};function ae(D){const A=D.g.length+1,C=[];for(let w=0;w<A;w++)C[w]=D.i(w)<<1|D.i(w-1)>>>31;return new h(C,D.h)}function oe(D,A){const C=A>>5;A%=32;const w=D.g.length-C,M=[];for(let L=0;L<w;L++)M[L]=A>0?D.i(L+C)>>>A|D.i(L+C+1)<<32-A:D.i(L+C);return new h(M,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,hE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Ks=h}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,uu,fE,Dh,im,pE,mE,gE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<c.length;++_){var b=c[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var b=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var H=c[x];if(!(H in b))break e;b=b[H]}c=c[c.length-1],x=b[c],_=_(x),_!=x&&_!=null&&e(b,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var b=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&b.push([x,_[x]]);return b}});var u=u||{},h=this||self;function p(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function m(c,_,b){return c.call.apply(c.bind,arguments)}function g(c,_,b){return g=m,g.apply(null,arguments)}function E(c,_){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function T(c,_){function b(){}b.prototype=_.prototype,c.Z=_.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(x,H,$){for(var ce=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ce[Me-2]=arguments[Me];return _.prototype[H].apply(x,ce)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const _=c.length;if(_>0){const b=Array(_);for(let x=0;x<_;x++)b[x]=c[x];return b}return[]}function B(c,_){for(let x=1;x<arguments.length;x++){const H=arguments[x];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=c.length||0;const $=H.length||0;c.length=b+$;for(let ce=0;ce<$;ce++)c[b+ce]=H[ce]}else c.push(H)}}class Q{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(c){h.setTimeout(()=>{throw c},0)}function q(){var c=D;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Y{constructor(){this.h=this.g=null}add(_,b){const x=ee.get();x.set(_,b),this.h?this.h.next=x:this.g=x,this.h=x}}var ee=new Q(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,oe=!1,D=new Y,A=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(C)}};function C(){for(var c;c=q();){try{c.h.call(c.g)}catch(b){z(b)}var _=ee;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}oe=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};h.addEventListener("test",b,_),h.removeEventListener("test",b,_)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Je(c,_){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}T(Je,M),Je.prototype.init=function(c,_){const b=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(b=="mouseover"?_=c.fromElement:b=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),J=0;function ue(c,_,b,x,H){this.listener=c,this.proxy=null,this.src=_,this.type=b,this.capture=!!x,this.ha=H,this.key=++J,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c,_,b){for(const x in c)_.call(b,c[x],x,c)}function Qe(c,_){for(const b in c)_.call(void 0,c[b],b,c)}function k(c){const _={};for(const b in c)_[b]=c[b];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(c,_){let b,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(b in x)c[b]=x[b];for(let $=0;$<te.length;$++)b=te[$],Object.prototype.hasOwnProperty.call(x,b)&&(c[b]=x[b])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,_,b,x,H){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const ce=Te(c,_,x,H);return ce>-1?(_=c[ce],b||(_.fa=!1)):(_=new ue(_,this.src,$,!!x,H),_.fa=b,c.push(_)),_};function Ee(c,_){const b=_.type;if(b in c.g){var x=c.g[b],H=Array.prototype.indexOf.call(x,_,void 0),$;($=H>=0)&&Array.prototype.splice.call(x,H,1),$&&(ge(_),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Te(c,_,b,x){for(let H=0;H<c.length;++H){const $=c[H];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==x)return H}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),yt={};function rt(c,_,b,x,H){if(Array.isArray(_)){for(let $=0;$<_.length;$++)rt(c,_[$],b,x,H);return null}return b=zt(b),c&&c[bt]?c.J(_,b,p(x)?!!x.capture:!1,H):Yn(c,_,b,!1,x,H)}function Yn(c,_,b,x,H,$){if(!_)throw Error("Invalid event type");const ce=p(H)?!!H.capture:!!H;let Me=Sn(c);if(Me||(c[Le]=Me=new de(c)),b=Me.add(_,b,x,ce,$),b.proxy)return b;if(x=oi(),b.proxy=x,x.src=c,x.listener=b,c.addEventListener)L||(H=ce),H===void 0&&(H=!1),c.addEventListener(_.toString(),x,H);else if(c.attachEvent)c.attachEvent(lt(_.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function oi(){function c(b){return _.call(c.src,c.listener,b)}const _=li;return c}function En(c,_,b,x,H){if(Array.isArray(_))for(var $=0;$<_.length;$++)En(c,_[$],b,x,H);else x=p(x)?!!x.capture:!!x,b=zt(b),c&&c[bt]?(c=c.i,$=String(_).toString(),$ in c.g&&(_=c.g[$],b=Te(_,b,x,H),b>-1&&(ge(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete c.g[$],c.h--)))):c&&(c=Sn(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Te(_,b,x,H)),(b=c>-1?_[c]:null)&&Tn(b))}function Tn(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[bt])Ee(_.i,c);else{var b=c.type,x=c.proxy;_.removeEventListener?_.removeEventListener(b,x,c.capture):_.detachEvent?_.detachEvent(lt(b),x):_.addListener&&_.removeListener&&_.removeListener(x),(b=Sn(_))?(Ee(b,c),b.h==0&&(b.src=null,_[Le]=null)):ge(c)}}}function lt(c){return c in yt?yt[c]:yt[c]="on"+c}function li(c,_){if(c.da)c=!0;else{_=new Je(_,this);const b=c.listener,x=c.ha||c.src;c.fa&&Tn(c),c=b.call(x,_)}return c}function Sn(c){return c=c[Le],c instanceof de?c:null}var ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function zt(c){return typeof c=="function"?c:(c[ui]||(c[ui]=function(_){return c.handleEvent(_)}),c[ui])}function st(){w.call(this),this.i=new de(this),this.M=this,this.G=null}T(st,w),st.prototype[bt]=!0,st.prototype.removeEventListener=function(c,_,b,x){En(this,c,_,b,x)};function at(c,_){var b,x=c.G;if(x)for(b=[];x;x=x.G)b.push(x);if(c=c.M,x=_.type||_,typeof _=="string")_=new M(_,c);else if(_ instanceof M)_.target=_.target||c;else{var H=_;_=new M(x,c),he(_,H)}H=!0;let $,ce;if(b)for(ce=b.length-1;ce>=0;ce--)$=_.g=b[ce],H=Mn($,x,!0,_)&&H;if($=_.g=c,H=Mn($,x,!0,_)&&H,H=Mn($,x,!1,_)&&H,b)for(ce=0;ce<b.length;ce++)$=_.g=b[ce],H=Mn($,x,!1,_)&&H}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const b=c.g[_];for(let x=0;x<b.length;x++)ge(b[x]);delete c.g[_],c.h--}}this.G=null},st.prototype.J=function(c,_,b,x){return this.i.add(String(c),_,!1,b,x)},st.prototype.K=function(c,_,b,x){return this.i.add(String(c),_,!0,b,x)};function Mn(c,_,b,x){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let $=0;$<_.length;++$){const ce=_[$];if(ce&&!ce.da&&ce.capture==b){const Me=ce.listener,Vt=ce.ha||ce.src;ce.fa&&Ee(c.i,ce),H=Me.call(Vt,x)!==!1&&H}}return H&&!x.defaultPrevented}function X(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(c,_||0)}function Re(c){c.g=X(()=>{c.g=null,c.i&&(c.i=!1,Re(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class _e extends w{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(c){w.call(this),this.h=c,this.g={}}T(je,w);var Ze=[];function pn(c){Pe(c.g,function(_,b){this.g.hasOwnProperty(b)&&Tn(_)},c),c.g={}}je.prototype.N=function(){je.Z.N.call(this),pn(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $e=h.JSON.stringify,wn=h.JSON.parse,tn=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function aa(){}function es(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){M.call(this,"d")}T(Bt,M);function An(){M.call(this,"c")}T(An,M);var wt={},ts=null;function Er(){return ts=ts||new st}wt.Ia="serverreachability";function ns(c){M.call(this,wt.Ia,c)}T(ns,M);function Qn(c){const _=Er();at(_,new ns(_))}wt.STAT_EVENT="statevent";function ci(c,_){M.call(this,wt.STAT_EVENT,c),this.stat=_}T(ci,M);function Ct(c){const _=Er();at(_,new ci(_,c))}wt.Ja="timingevent";function Vn(c,_){M.call(this,wt.Ja,c),this.size=_}T(Vn,M);function xn(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},_)}function Rn(){this.g=!0}Rn.prototype.ua=function(){this.g=!1};function $a(c,_,b,x,H,$){c.info(function(){if(c.g)if($){var ce="",Me=$.split("&");for(let nt=0;nt<Me.length;nt++){var Vt=Me[nt].split("=");if(Vt.length>1){const At=Vt[0];Vt=Vt[1];const _i=At.split("_");ce=_i.length>=2&&_i[1]=="type"?ce+(At+"="+Vt+"&"):ce+(At+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+_+`
`+b+`
`+ce})}function is(c,_,b,x,H,$,ce){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+_+`
`+b+`
`+$+" "+ce})}function Kn(c,_,b,x){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Wa(c,b)+(x?" "+x:"")})}function hi(c,_){c.info(function(){return"TIMEOUT: "+_})}Rn.prototype.info=function(){};function Wa(c,_){if(!c.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var b=$[c];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<x.length;ce++)x[ce]=""}}}}return $e($)}catch{return _}}var ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$i={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rs;function Tr(){}T(Tr,aa),Tr.prototype.g=function(){return new XMLHttpRequest},rs=new Tr;function mn(c){return encodeURIComponent(String(c))}function Xa(c){var _=1;c=c.split(":");const b=[];for(;_>0&&c.length;)b.push(c.shift()),_--;return c.length&&b.push(c.join(":")),b}function $n(c,_,b,x){this.j=c,this.i=_,this.l=b,this.S=x||1,this.V=new je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Dt={},qt={};function di(c,_,b){c.M=1,c.A=oa(Ft(_)),c.u=b,c.R=!0,ss(c,null)}function ss(c,_){c.F=Date.now(),fi(c),c.B=Ft(c.A);var b=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),no(b.i,"t",x),c.C=0,b=c.j.L,c.h=new Wn,c.g=uc(c.j,b?_:null,!c.u),c.P>0&&(c.O=new _e(g(c.Y,c,c.g),c.P)),_=c.V,b=c.g,x=c.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ze[0]=H.toString()),H=Ze);for(let $=0;$<H.length;$++){const ce=rt(b,H[$],x||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Qn(),$a(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const _=this.O;_&&ji(c)==3?_.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const Me=ji(this.g),Vt=this.g.ya(),nt=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Me!=4||Vt==7||(Vt==8||nt<=0?Qn(3):Qn(2)),pi(this);var _=this.g.ca();this.X=_;var b=cl(this);if(this.o=_==200,is(this.i,this.v,this.B,this.l,this.S,Me,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var $=x;break t}}$=null}if(c=$)Kn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Ct(12),Cn(this),Ln(this);break e}}if(this.R){c=!0;let At;for(;!this.K&&this.C<b.length;)if(At=Za(this,b),At==qt){Me==4&&(this.m=4,Ct(14),c=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Dt){this.m=4,Ct(15),Kn(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else Kn(this.i,this.l,At,null),mi(this,At);if(Ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,Ct(16),c=!1),this.o=this.o&&c,!c)Kn(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),El(ce),ce.P=!0,Ct(11))}}else Kn(this.i,this.l,b,null),mi(this,b);Me==4&&Cn(this),this.o&&!this.K&&(Me==4?sc(this.j,this):(this.o=!1,fi(this)))}else Ar(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Cn(this),Ln(this)}}}catch{}finally{}};function cl(c){if(!Ja(c))return c.g.la();const _=an(c.g);if(_==="")return"";let b="";const x=_.length,H=ji(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),Ln(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<x;$++)c.h.h=!0,b+=c.h.i.decode(_[$],{stream:!(H&&$==x-1)});return _.length=0,c.h.g+=b,c.C=0,c.h.g}function Ja(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Za(c,_){var b=c.C,x=_.indexOf(`
`,b);return x==-1?qt:(b=Number(_.substring(b,x)),isNaN(b)?Dt:(x+=1,x+b>_.length?qt:(_=_.slice(x,x+b),c.C=x+b,_)))}$n.prototype.cancel=function(){this.K=!0,Cn(this)};function fi(c){c.T=Date.now()+c.H,as(c,c.H)}function as(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=xn(g(c.aa,c),_)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hi(this.i,this.B),this.M!=2&&(Qn(),Ct(17)),Cn(this),this.m=2,Ln(this)):as(this,this.T-c)};function Ln(c){c.j.I==0||c.K||sc(c.j,c)}function Cn(c){pi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,pn(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function mi(c,_){try{var b=c.j;if(b.I!=0&&(b.g==c||Ht(b.h,c))){if(!c.L&&Ht(b.h,c)&&b.I==3){try{var x=b.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)oo(b),ms(b);else break e;pa(b),Ct(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xn(g(b.Va,b),6e3));Xe(b.h)<=1&&b.ta&&(b.ta=void 0)}else tr(b,11)}else if((c.L||b.g==c)&&oo(b),!N(_))for(H=b.Ba.g.parse(_),_=0;_<H.length;_++){let nt=H[_];const At=nt[0];if(!(At<=b.K))if(b.K=At,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const _i=nt[3];_i!=null&&(b.ka=_i,b.j.info("VER="+b.ka));const nr=nt[4];nr!=null&&(b.za=nr,b.j.info("SVER="+b.za));const Pi=nt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(x=1.5*Pi,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Ui=c.g;if(Ui){const ma=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var $=x.h;$.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Sr($,$.h),$.h=null))}if(x.G){const lo=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(x.wa=lo,ut(x.J,x.G,lo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ce=c;if(x.na=lc(x,x.L?x.ba:null,x.W),ce.L){os(x.h,ce);var Me=ce,Vt=x.O;Vt&&(Me.H=Vt),Me.D&&(pi(Me),fi(Me)),x.g=ce}else ic(x);b.i.length>0&&er(b)}else nt[0]!="stop"&&nt[0]!="close"||tr(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?tr(b,7):vl(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}Qn(4)}catch{}}var P=class{constructor(c,_){this.g=c,this.map=_}};function Ce(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Be(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xe(c){return c.h?1:c.g?c.g.size:0}function Ht(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Sr(c,_){c.g?c.g.add(_):c.h=_}function os(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ce.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const b of c.g.values())_=_.concat(b.G);return _}return V(c.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(c,_){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const x=c[b].indexOf("=");let H,$=null;x>=0?(H=c[b].substring(0,x),$=c[b].substring(x+1)):H=c[b],_(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Xn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof Xn?(this.l=c.l,nn(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,dl(this,tc(c.i)),this.m=c.m):c&&(_=String(c).match(Xu))?(this.l=!1,nn(this,_[1]||"",!0),this.o=Wi(_[2]||""),this.g=Wi(_[3]||"",!0),ls(this,_[4]),this.h=Wi(_[5]||"",!0),dl(this,_[6]||"",!0),this.m=Wi(_[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Xn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(la(_,to,!0),":");var b=this.g;return(b||_=="file")&&(c.push("//"),(_=this.o)&&c.push(la(_,to,!0),"@"),c.push(mn(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(la(b,b.charAt(0)=="/"?fl:Ju,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",la(b,Zu)),c.join("")},Xn.prototype.resolve=function(c){const _=Ft(this);let b=!!c.j;b?nn(_,c.j):b=!!c.o,b?_.o=c.o:b=!!c.g,b?_.g=c.g:b=c.u!=null;var x=c.h;if(b)ls(_,c.u);else if(b=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=_.h.lastIndexOf("/");H!=-1&&(x=_.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let ce=0;ce<H.length;){const Me=H[ce++];Me=="."?x&&ce==H.length&&$.push(""):Me==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),x&&ce==H.length&&$.push("")):($.push(Me),x=!0)}x=$.join("/")}else x=H}return b?_.h=x:b=c.i.toString()!=="",b?dl(_,tc(c.i)):b=!!c.m,b&&(_.m=c.m),_};function Ft(c){return new Xn(c)}function nn(c,_,b){c.j=b?Wi(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function dl(c,_,b){_ instanceof cs?(c.i=_,io(c.i,c.l)):(b||(_=la(_,us)),c.i=new cs(_,c.l))}function ut(c,_,b){c.i.set(_,b)}function oa(c){return ut(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Wi(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function la(c,_,b){return typeof c=="string"?(c=encodeURI(c).replace(_,jn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var to=/[#\/\?@]/g,Ju=/[#\?:]/g,fl=/[#\?]/g,us=/[#\?@]/g,Zu=/#/g;function cs(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&eo(c.i,function(_,b){c.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}r=cs.prototype,r.add=function(c,_){Pn(this),this.i=null,c=hs(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(_),this.h+=1,this};function ec(c,_){Pn(c),_=hs(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function pl(c,_){return Pn(c),_=hs(c,_),c.g.has(_)}r.forEach=function(c,_){Pn(this),this.g.forEach(function(b,x){b.forEach(function(H){c.call(_,H,x,this)},this)},this)};function ml(c,_){Pn(c);let b=[];if(typeof _=="string")pl(c,_)&&(b=b.concat(c.g.get(hs(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)b=b.concat(c[_]);return b}r.set=function(c,_){return Pn(this),this.i=null,c=hs(this,c),pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=ml(this,c),c.length>0?String(c[0]):_):_};function no(c,_,b){ec(c,_),b.length>0&&(c.i=null,c.g.set(hs(c,_),V(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var b=_[x];const H=mn(b);b=ml(this,b);for(let $=0;$<b.length;$++){let ce=H;b[$]!==""&&(ce+="="+mn(b[$])),c.push(ce)}}return this.i=c.join("&")};function tc(c){const _=new cs;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function hs(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function io(c,_){_&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(b,x){const H=x.toLowerCase();x!=H&&(ec(this,x),no(this,H,b))},c)),c.j=_}function Vi(c,_){const b=new Rn;if(h.Image){const x=new Image;x.onload=E(gi,b,"TestLoadImage: loaded",!0,_,x),x.onerror=E(gi,b,"TestLoadImage: error",!1,_,x),x.onabort=E(gi,b,"TestLoadImage: abort",!1,_,x),x.ontimeout=E(gi,b,"TestLoadImage: timeout",!1,_,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else _(!1)}function gl(c,_){const b=new Rn,x=new AbortController,H=setTimeout(()=>{x.abort(),gi(b,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:x.signal}).then($=>{clearTimeout(H),$.ok?gi(b,"TestPingServer: ok",!0,_):gi(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),gi(b,"TestPingServer: error",!1,_)})}function gi(c,_,b,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(b)}catch{}}function ds(){this.g=new tn}function Xi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Xi,aa),Xi.prototype.g=function(){return new ua(this.i,this.h)};function ua(c,_){st.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ua,st),r=ua.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Li(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?fs(this):Li(this),this.readyState==3&&ro(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},r.Na=function(c){this.g&&(this.response=c,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Li(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=_.next();return c.join(`\r
`)};function Li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yi(c){let _="";return Pe(c,function(b,x){_+=x,_+=":",_+=b,_+=`\r
`}),_}function ca(c,_,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=yi(b),typeof c=="string"?b!=null&&mn(b):ut(c,_,b))}function dt(c){st.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(dt,st);var Ji=/^https?$/i,yl=["POST","PUT"];r=dt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rs.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch($){ha(this,$);return}if(c=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)b.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())b.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(yl,_,void 0)>=0)||x||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of b)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){ha(this,$)}};function ha(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,_l(c),wr(c)}function _l(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,at(this,"complete"),at(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},r.Xa=function(){da(this)};function da(c){if(c.h&&typeof u<"u"){if(c.v&&ji(c)==4)setTimeout(c.Ca.bind(c),0);else if(at(c,"readystatechange"),ji(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var x;if(x=$===0){let ce=String(c.D).match(Xu)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),x=!Ji.test(ce?ce.toLowerCase():"")}b=x}if(b)at(c,"complete"),at(c,"success");else{c.o=6;try{var H=ji(c)>2?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.ca()+"]",_l(c)}}finally{wr(c)}}}}function wr(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,_||at(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ji(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),wn(_)}};function an(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ar(c){const _={};c=(c.g&&ji(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(N(c[x]))continue;var b=Xa(c[x]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[H]||[];_[H]=$,$.push(b)}Qe(_,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(c,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||_}function ps(c){this.za=0,this.i=[],this.j=new Rn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,c),this.Za=Zi("retryDelaySeedMs",1e4,c),this.Ta=Zi("forwardChannelMaxRetries",2,c),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ce(c&&c.concurrentRequestLimit),this.Ba=new ds,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(c,_,b,x){Ct(0),this.W=c,this.H=_||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=lc(this,null,this.W),er(this)};function vl(c){if(so(c),c.I==3){var _=c.V++,b=Ft(c.J);if(ut(b,"SID",c.M),ut(b,"RID",_),ut(b,"TYPE","terminate"),fa(c,b),_=new $n(c,c.j,_),_.M=2,_.A=oa(Ft(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=_.A,b=!0),b||(_.g=uc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),fi(_)}oc(c)}function ms(c){c.g&&(El(c),c.g.cancel(),c.g=null)}function so(c){ms(c),c.v&&(h.clearTimeout(c.v),c.v=null),oo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function er(c){if(!Be(c.h)&&!c.m){c.m=!0;var _=c.Ea;ae||A(),oe||(ae(),oe=!0),D.add(_,c),c.D=0}}function ao(c,_){return Xe(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=xn(g(c.Ea,c,_),ac(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const H=new $n(this,this.j,c);let $=this.o;if(this.U&&($?($=k($),he($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=nc(this,H,_),b=Ft(this.J),ut(b,"RID",c),ut(b,"CVER",22),this.G&&ut(b,"X-HTTP-Session-Id",this.G),fa(this,b),$&&(this.R?_="headers="+mn(yi($))+"&"+_:this.u&&ca(b,this.u,$)),Sr(this.h,H),this.Ra&&ut(b,"TYPE","init"),this.S?(ut(b,"$req",_),ut(b,"SID","null"),H.U=!0,di(H,b,null)):di(H,b,_),this.I=2}}else this.I==3&&(c?bl(this,c):this.i.length==0||Be(this.h)||bl(this))};function bl(c,_){var b;_?b=_.l:b=c.V++;const x=Ft(c.J);ut(x,"SID",c.M),ut(x,"RID",b),ut(x,"AID",c.K),fa(c,x),c.u&&c.o&&ca(x,c.u,c.o),b=new $n(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),_&&(c.i=_.G.concat(c.i)),_=nc(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Sr(c.h,b),di(b,x,_)}function fa(c,_){c.H&&Pe(c.H,function(b,x){ut(_,x,b)}),c.l&&Pe({},function(b,x){ut(_,x,b)})}function nc(c,_,b){b=Math.min(c.i.length,b);const x=c.l?g(c.l.Ka,c.l,c):null;e:{var H=c.i;let Me=-1;for(;;){const Vt=["count="+b];Me==-1?b>0?(Me=H[0].g,Vt.push("ofs="+Me)):Me=0:Vt.push("ofs="+Me);let nt=!0;for(let At=0;At<b;At++){var $=H[At].g;const _i=H[At].map;if($-=Me,$<0)Me=Math.max(0,H[At].g-100),nt=!1;else try{$="req"+$+"_"||"";try{var ce=_i instanceof Map?_i:Object.entries(_i);for(const[nr,Pi]of ce){let Ui=Pi;p(Pi)&&(Ui=$e(Pi)),Vt.push($+nr+"="+encodeURIComponent(Ui))}}catch(nr){throw Vt.push($+"type="+encodeURIComponent("_badmap")),nr}}catch{x&&x(_i)}}if(nt){ce=Vt.join("&");break e}}ce=void 0}return c=c.i.splice(0,b),_.G=c,ce}function ic(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;ae||A(),oe||(ae(),oe=!0),D.add(_,c),c.A=0}}function pa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=xn(g(c.Da,c),ac(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=xn(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ms(this),rc(this))};function El(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function rc(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=Ft(c.na);ut(_,"RID","rpc"),ut(_,"SID",c.M),ut(_,"AID",c.K),ut(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&ut(_,"TO",c.ia),ut(_,"TYPE","xmlhttp"),fa(c,_),c.u&&c.o&&ca(_,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=oa(Ft(_)),b.u=null,b.R=!0,ss(b,c)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),pa(this),Ct(19))};function oo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function sc(c,_){var b=null;if(c.g==_){oo(c),El(c),c.g=null;var x=2}else if(Ht(c.h,_))b=_.G,os(c.h,_),x=1;else return;if(c.I!=0){if(_.o)if(x==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var H=c.D;x=Er(),at(x,new Vn(x,b)),er(c)}else ic(c);else if(H=_.m,H==3||H==0&&_.X>0||!(x==1&&ao(c,_)||x==2&&pa(c)))switch(b&&b.length>0&&(_=c.h,_.i=_.i.concat(b)),H){case 1:tr(c,5);break;case 4:tr(c,10);break;case 3:tr(c,6);break;default:tr(c,2)}}}function ac(c,_){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*_}function tr(c,_){if(c.j.info("Error code "+_),_==2){var b=g(c.bb,c),x=c.Ua;const H=!x;x=new Xn(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||nn(x,"https"),oa(x),H?Vi(x.toString(),b):gl(x.toString(),b)}else Ct(2);c.I=0,c.l&&c.l.pa(_),oc(c),so(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function oc(c){if(c.I=0,c.ja=[],c.l){const _=hl(c.h);(_.length!=0||c.i.length!=0)&&(B(c.ja,_),B(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function lc(c,_,b){var x=b instanceof Xn?Ft(b):new Xn(b);if(x.g!="")_&&(x.g=_+"."+x.g),ls(x,x.u);else{var H=h.location;x=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const $=new Xn(null);x&&nn($,x),_&&($.g=_),H&&ls($,H),b&&($.h=b),x=$}return b=c.G,_=c.wa,b&&_&&ut(x,b,_),ut(x,"VER",c.ka),fa(c,x),x}function uc(c,_,b){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new dt(new Xi({ab:b})):new dt(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}r=cc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(c,_){return new In(c,_)};function In(c,_){st.call(this),this.g=new ps(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!N(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new xr(this)}T(In,st),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){vl(this.g)},In.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=$e(c),c=b);_.i.push(new P(_.Ya++,c)),_.I==3&&er(_)},In.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,In.Z.N.call(this)};function hc(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const b in _){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}T(hc,Bt);function dc(){An.call(this),this.status=1}T(dc,An);function xr(c){this.g=c}T(xr,cc),xr.prototype.ra=function(){at(this.g,"a")},xr.prototype.qa=function(c){at(this.g,new hc(c))},xr.prototype.pa=function(c){at(this.g,new dc)},xr.prototype.oa=function(){at(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,gE=function(){return new gs},mE=function(){return Er()},pE=wt,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Dh=ki,$i.COMPLETE="complete",fE=$i,es.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",st.prototype.listen=st.prototype.J,uu=es,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,dE=dt}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",Y0="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let sl="12.3.0";const Ba=new Nm("@firebase/firestore");function Uo(){return Ba.logLevel}function pe(r,...e){if(Ba.logLevel<=Fe.DEBUG){const n=e.map(qm);Ba.debug(`Firestore (${sl}): ${r}`,...n)}}function Wr(r,...e){if(Ba.logLevel<=Fe.ERROR){const n=e.map(qm);Ba.error(`Firestore (${sl}): ${r}`,...n)}}function Wo(r,...e){if(Ba.logLevel<=Fe.WARN){const n=e.map(qm);Ba.warn(`Firestore (${sl}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,yE(r,s,n)}function yE(r,e,n){let s=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Wr(s),new Error(s)}function ot(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||yE(e,o,s)}function Oe(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class _E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class aI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new _E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class lI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return jp(o)===jp(u)?Ge(o,u):jp(o)?1:-1}return Ge(r.length,e.length)}const dI=55296,fI=57343;function jp(r){const e=r.charCodeAt(0);return e>=dI&&e<=fI}function Xo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const K0="__name__";class or{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=or.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=or.isNumericId(e),o=or.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?or.extractNumericId(e).compare(or.extractNumericId(n)):rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class vt extends or{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const pI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends or{construct(e,n,s){return new dn(e,n,s)}static isValidIdentifier(e){return pI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new dn([K0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(vt.fromString(e))}static fromName(e){return new be(vt.fromString(e).popFirst(5))}static empty(){return new be(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new vt(e.slice()))}}function vE(r,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mI(r,e,n,s){if(e===!0&&s===!0)throw new fe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $0(r){if(!be.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function W0(r){if(be.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Nn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(r);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function zu(r,e){if(!bE(r))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}const X0=-62135596800,J0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*J0);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<X0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Xt("string",St._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new St(0,0))}static max(){return new Ie(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Su=-1;function gI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new Xs(o,be.empty(),e)}function yI(r){return new Xs(r.readTime,r.key,Su)}class Xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xs(Ie.min(),be.empty(),Su)}static max(){return new Xs(Ie.max(),be.empty(),Su)}}function _I(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==vI)throw r;pe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next((E=>{h[g]=E,++p,p===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new se(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function EI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(r){return r.name==="IndexedDbTransactionError"}class fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fd.ce=-1;const Fm=-1;function pd(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function TI(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const EE="";function SI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z0(e)),e=wI(r.get(n),e);return Z0(e)}function wI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case EE:n+="";break;default:n+=u}}return n}function Z0(r){return r+EE+""}function eb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ra(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function TE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new hn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new en(dn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new SE("Invalid base64 string: "+u):u}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const n=AI.exec(r);if(ot(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}const wE="server_timestamp",AE="__type__",xE="__previous_value__",RE="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===wE}function md(r){const e=r.mapValue.fields[xE];return Gm(e)?md(e):e}function wu(r){const e=Js(r.mapValue.fields[RE].timestampValue);return new St(e.seconds,e.nanos)}class xI{constructor(e,n,s,o,u,h,p,m,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E}}const Yh="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}const CE="__type__",RI="__max__",bh={mapValue:{}},IE="__vector__",Qh="value";function ea(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:II(r)?9007199254740991:CI(r)?10:11:Ae(28295,{value:r})}function mr(r,e){if(r===e)return!0;const n=ea(r);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return wu(r).isEqual(wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Js(o.timestampValue),p=Js(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Zs(o.bytesValue).isEqual(Zs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ut(o.geoPointValue.latitude)===Ut(u.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ut(o.integerValue)===Ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ut(o.doubleValue),p=Ut(u.doubleValue);return h===p?Gh(h)===Gh(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(eb(h)!==eb(p))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(p[m]===void 0||!mr(h[m],p[m])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function xu(r,e){return(r.values||[]).find((n=>mr(n,e)))!==void 0}function Jo(r,e){if(r===e)return 0;const n=ea(r),s=ea(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Ut(u.integerValue||u.doubleValue),m=Ut(h.integerValue||h.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(r,e);case 3:return nb(r.timestampValue,e.timestampValue);case 4:return nb(wu(r),wu(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(u,h){const p=Zs(u),m=Zs(h);return p.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),m=h.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Ge(p[g],m[g]);if(E!==0)return E}return Ge(p.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Ge(Ut(u.latitude),Ut(h.latitude));return p!==0?p:Ge(Ut(u.longitude),Ut(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ib(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},m=h.fields||{},g=p[Qh]?.arrayValue,E=m[Qh]?.arrayValue,T=Ge(g?.values?.length||0,E?.values?.length||0);return T!==0?T:ib(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===bh.mapValue&&h===bh.mapValue)return 0;if(u===bh.mapValue)return 1;if(h===bh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=h.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const R=rm(m[T],E[T]);if(R!==0)return R;const V=Jo(p[m[T]],g[E[T]]);if(V!==0)return V}return Ge(m.length,E.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function nb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=Js(r),s=Js(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function ib(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Jo(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function Zo(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Js(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Zs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sm(n.fields[h])}`;return o+"}"})(r.mapValue):Ae(61005,{value:r})}function Nh(r){switch(ea(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(r);return e?16+Nh(e):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ra(s.fields,((u,h)=>{o+=u.length+Nh(h)})),o})(r.mapValue);default:throw Ae(13486,{value:r})}}function rb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function am(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function sb(r){return!!r&&"nullValue"in r}function ab(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function CI(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===IE}function gu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=gu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(r.arrayValue.values[n]);return e}return{...r}}function II(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RI}class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=dn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=gu(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ra(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Gn(gu(this.value))}}function DE(r){const e=[];return ra(r.fields,((n,s)=>{const o=new dn([n]);if(Oh(s)){const u=DE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ai(e)}class vn{constructor(e,n,s,o,u,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new vn(e,0,Ie.min(),Ie.min(),Ie.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,o){return new vn(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new vn(e,2,n,Ie.min(),Ie.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Ie.min(),Ie.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function ob(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(h.referenceValue),n.key):s=Jo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mr(r.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function DI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class NE{}class Wt extends NE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new OI(e,n,s):n==="array-contains"?new VI(e,s):n==="in"?new LI(e,s):n==="not-in"?new jI(e,s):n==="array-contains-any"?new PI(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MI(e,s):new kI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends NE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qi(e,n)}matches(e){return OE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(r){return r.op==="and"}function ME(r){return NI(r)&&OE(r)}function NI(r){for(const e of r.filters)if(e instanceof Qi)return!1;return!0}function om(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+Zo(r.value);if(ME(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((n=>om(n))).join(",");return`${r.op}(${e})`}}function kE(r,e){return r instanceof Wt?(function(s,o){return o instanceof Wt&&s.op===o.op&&s.field.isEqual(o.field)&&mr(s.value,o.value)})(r,e):r instanceof Qi?(function(s,o){return o instanceof Qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&kE(h,o.filters[p])),!0):!1})(r,e):void Ae(19439)}function VE(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(r):r instanceof Qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(VE).join(" ,")+"}"})(r):"Filter"}class OI extends Wt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class MI extends Wt{constructor(e,n){super(e,"in",n),this.keys=LE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kI extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=LE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function LE(r,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class VI extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&xu(n.arrayValue,this.value)}}class LI extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class jI extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class PI extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>xu(this.value.arrayValue,s)))}}class UI{constructor(e,n=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function ub(r,e=null,n=[],s=[],o=null,u=null,h=null){return new UI(r,e,n,s,o,u,h)}function Qm(r){const e=Oe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>om(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zo(s))).join(",")),e.Te=n}return e.Te}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!DI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!kE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lb(r.startAt,e.startAt)&&lb(r.endAt,e.endAt)}function lm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ll{constructor(e,n=null,s=[],o=[],u=null,h="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zI(r,e,n,s,o,u,h,p){return new ll(r,e,n,s,o,u,h,p)}function gd(r){return new ll(r)}function cb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jE(r){return r.collectionGroup!==null}function yu(r){const e=Oe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new en(dn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ru(u,s))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Ru(dn.keyField(),s))}return e.Ie}function hr(r){const e=Oe(r);return e.Ee||(e.Ee=BI(e,yu(r))),e.Ee}function BI(r,e){if(r.limitType==="F")return ub(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)}));const n=r.endAt?new Kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kh(r.startAt.position,r.startAt.inclusive):null;return ub(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function um(r,e){const n=r.filters.concat([e]);return new ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $h(r,e,n){return new ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function yd(r,e){return Km(hr(r),hr(e))&&r.limitType===e.limitType}function PE(r){return`${Qm(hr(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>VE(o))).join(", ")}]`),pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Zo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Zo(o))).join(",")),`Target(${s})`})(hr(r))}; limitType=${r.limitType})`}function _d(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of yu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,m){const g=ob(h,p,m);return h.inclusive?g<=0:g<0})(s.startAt,yu(s),o)||s.endAt&&!(function(h,p,m){const g=ob(h,p,m);return h.inclusive?g>=0:g>0})(s.endAt,yu(s),o))})(r,e)}function qI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UE(r){return(e,n)=>{let s=!1;for(const o of yu(r)){const u=HI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function HI(r,e,n){const s=r.field.isKeyField()?be.comparator(e.key,n.key):(function(u,h,p){const m=h.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Jo(m,g):Ae(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const FI=new It(be.comparator);function Xr(){return FI}const zE=new It(be.comparator);function cu(...r){let e=zE;for(const n of r)e=e.insert(n.key,n);return e}function BE(r){let e=zE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ma(){return _u()}function qE(){return _u()}function _u(){return new Qa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GI=new It(be.comparator),YI=new en(be.comparator);function Ye(...r){let e=YI;for(const n of r)e=e.add(n);return e}const QI=new en(Ge);function KI(){return QI}function $m(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function HE(r){return{integerValue:""+r}}function FE(r,e){return TI(e)?HE(e):$m(r,e)}class vd{constructor(){this._=void 0}}function $I(r,e,n){return r instanceof Cu?(function(o,u){const h={fields:{[AE]:{stringValue:wE},[RE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gm(u)&&(u=md(u)),u&&(h.fields[xE]=u),{mapValue:h}})(n,e):r instanceof Iu?YE(r,e):r instanceof Du?QE(r,e):(function(o,u){const h=GE(o,u),p=hb(h)+hb(o.Ae);return am(h)&&am(o.Ae)?HE(p):$m(o.serializer,p)})(r,e)}function WI(r,e,n){return r instanceof Iu?YE(r,e):r instanceof Du?QE(r,e):n}function GE(r,e){return r instanceof Nu?(function(s){return am(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Cu extends vd{}class Iu extends vd{constructor(e){super(),this.elements=e}}function YE(r,e){const n=KE(e);for(const s of r.elements)n.some((o=>mr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends vd{constructor(e){super(),this.elements=e}}function QE(r,e){let n=KE(e);for(const s of r.elements)n=n.filter((o=>!mr(o,s)));return{arrayValue:{values:n}}}class Nu extends vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hb(r){return Ut(r.integerValue||r.doubleValue)}function KE(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class $E{constructor(e,n){this.field=e,this.transform=n}}function XI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Iu&&o instanceof Iu||s instanceof Du&&o instanceof Du?Xo(s.elements,o.elements,mr):s instanceof Nu&&o instanceof Nu?mr(s.Ae,o.Ae):s instanceof Cu&&o instanceof Cu})(r.transform,e.transform)}class JI{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bd{}function WE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ed(r.key,On.none()):new Bu(r.key,r.data,On.none());{const n=r.data,s=Gn.empty();let o=new en(dn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new sa(r.key,s,new ai(o.toArray()),On.none())}}function ZI(r,e,n){r instanceof Bu?(function(o,u,h){const p=o.value.clone(),m=fb(o.fieldTransforms,u,h.transformResults);p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof sa?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=fb(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(XE(o)),m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function vu(r,e,n,s){return r instanceof Bu?(function(u,h,p,m){if(!Mh(u.precondition,h))return p;const g=u.value.clone(),E=pb(u.fieldTransforms,m,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof sa?(function(u,h,p,m){if(!Mh(u.precondition,h))return p;const g=pb(u.fieldTransforms,m,h),E=h.data;return E.setAll(XE(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,p){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function eD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=GE(s.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,u))}return n||null}function db(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xo(s,o,((u,h)=>XI(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends bd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends bd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function fb(r,e,n){const s=new Map;ot(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,WI(h,p,n[o]))}return s}function pb(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,$I(u,h,e))}return s}class Ed extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tD extends bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ZI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=qE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const m=WE(h,p);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,s)=>db(n,s)))&&Xo(this.baseMutations,e.baseMutations,((n,s)=>db(n,s)))}}class Wm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return GI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Wm(e,n,s,o)}}class iD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rD{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,We;function sD(r){switch(r){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function JE(r){if(r===void 0)return Wr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case $t.OK:return ie.OK;case $t.CANCELLED:return ie.CANCELLED;case $t.UNKNOWN:return ie.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ie.INTERNAL;case $t.UNAVAILABLE:return ie.UNAVAILABLE;case $t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case $t.NOT_FOUND:return ie.NOT_FOUND;case $t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case $t.ABORTED:return ie.ABORTED;case $t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case $t.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:r})}}(We=$t||($t={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function aD(){return new TextEncoder}const oD=new Ks([4294967295,4294967295],0);function mb(r){const e=aD().encode(r),n=new hE;return n.update(e),new Uint8Array(n.digest())}function gb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ks([n,s],0),new Ks([o,u],0)]}class Xm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(s<0)throw new hu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ks.fromNumber(s)));return o.compare(oD)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mb(e),[s,o]=gb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xm(u,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=mb(e),[s,o]=gb(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Td{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Td(Ie.min(),o,new It(Ge),Xr(),Ye())}}class qu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new qu(s,n,Ye(),Ye(),Ye())}}class kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ZE{constructor(e,n){this.targetId=e,this.Ce=n}}class eT{constructor(e,n,s=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yb{constructor(){this.ve=0,this.Fe=_b(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=_b()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=Eh(),this.He=Eh(),this.Ye=new It(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lm(u))if(s===0){const h=new be(u.path);this.et(n,h,vn.newNoDocument(h,Ie.min()))}else ot(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),m=p?this.ct(p,e,h):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Zs(s).toUint8Array()}catch(m){if(m instanceof SE)return Wo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Xm(h,o,u)}catch(m){return Wo(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&lm(p.target)){const m=new be(p.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,vn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Td(e,n,this.Ye,this.je,s);return this.je=Xr(),this.Je=Eh(),this.He=Eh(),this.Ye=new It(Ge),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Eh(){return new It(be.comparator)}function _b(){return new It(be.comparator)}const uD={asc:"ASCENDING",desc:"DESCENDING"},cD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hD={and:"AND",or:"OR"};class dD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cm(r,e){return r.useProto3Json||pd(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fD(r,e){return Wh(r,e.toTimestamp())}function dr(r){return ot(!!r,49232),Ie.fromTimestamp((function(n){const s=Js(n);return new St(s.seconds,s.nanos)})(r))}function Jm(r,e){return hm(r,e).canonicalString()}function hm(r,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function nT(r){const e=vt.fromString(r);return ot(oT(e),10190,{key:e.toString()}),e}function dm(r,e){return Jm(r.databaseId,e.path)}function Pp(r,e){const n=nT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(rT(n))}function iT(r,e){return Jm(r.databaseId,e)}function pD(r){const e=nT(r);return e.length===4?vt.emptyPath():rT(e)}function fm(r){return new vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rT(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vb(r,e,n){return{name:dm(r,e),fields:n.value.mapValue.fields}}function mD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(ot(E===void 0||typeof E=="string",58123),fn.fromBase64String(E||"")):(ot(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),fn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(g){const E=g.code===void 0?ie.UNKNOWN:JE(g.code);return new fe(E,g.message||"")})(h);n=new eT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pp(r,s.document.name),u=dr(s.document.updateTime),h=s.document.createTime?dr(s.document.createTime):Ie.min(),p=new Gn({mapValue:{fields:s.document.fields}}),m=vn.newFoundDocument(o,u,h,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new kh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pp(r,s.document),u=s.readTime?dr(s.readTime):Ie.min(),h=vn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new kh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pp(r,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new rD(o,u),p=s.targetId;n=new ZE(p,h)}}return n}function gD(r,e){let n;if(e instanceof Bu)n={update:vb(r,e.key,e.value)};else if(e instanceof Ed)n={delete:dm(r,e.key)};else if(e instanceof sa)n={update:vb(r,e.key,e.data),updateMask:AD(e.fieldMask)};else{if(!(e instanceof tD))return Ae(16599,{Vt:e.type});n={verify:dm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Cu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Nu)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:fD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(r,e.precondition)),n}function yD(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?dr(o.updateTime):dr(u);return h.isEqual(Ie.min())&&(h=dr(u)),new JI(h,o.transformResults||[])})(n,e)))):[]}function _D(r,e){return{documents:[iT(r,e.path)]}}function vD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iT(r,o);const u=(function(g){if(g.length!==0)return aT(Qi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:Bo(R.field),direction:TD(R.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=cm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function bD(r){let e=pD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=sT(T);return R instanceof Qi&&ME(R)?R.getFilters():[R]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((R=>(function(B){return new Ru(qo(B.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let R;return R=typeof T=="object"?T.value:T,pd(R)?null:R})(n.limit));let m=null;n.startAt&&(m=(function(T){const R=!!T.before,V=T.values||[];return new Kh(V,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,V=T.values||[];return new Kh(V,R)})(n.endAt)),zI(e,o,h,u,p,"F",m,g)}function ED(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qo(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qo(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=qo(n.unaryFilter.field);return Wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(qo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Qi.create(n.compositeFilter.filters.map((s=>sT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(r):Ae(30097,{filter:r})}function TD(r){return uD[r]}function SD(r){return cD[r]}function wD(r){return hD[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function qo(r){return dn.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(ab(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(sb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ab(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(sb(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:SD(n.op),value:n.value}}})(r):r instanceof Qi?(function(n){const s=n.getFilters().map((o=>aT(o)));return s.length===1?s[0]:{compositeFilter:{op:wD(n.op),filters:s}}})(r):Ae(54877,{filter:r})}function AD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Fs{constructor(e,n,s,o,u=Ie.min(),h=Ie.min(),p=fn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xD{constructor(e){this.yt=e}}function RD(r){const e=bD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$h(e,e.limit,"L"):e}class CD{constructor(){this.Cn=new ID}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Xs.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class ID{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new en(vt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new en(vt.comparator)).toArray()}}const bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(lT,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Eb="LruGarbageCollector",DD=1048576;function Tb([r,e],[n,s]){const o=Ge(r,n);return o===0?Ge(e,s):o}class ND{constructor(e){this.Ir=e,this.buffer=new en(Tb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Tb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(Eb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?pe(Eb,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Vr(3e5)}))}}class MD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(fd.ce);const s=new ND(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(bb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Uo()<=Fe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function kD(r,e){return new MD(r,e)}class VD{constructor(){this.changes=new Qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&vu(s.mutation,o,ai.empty(),St.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=Ma();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=cu();return u.forEach(((p,m)=>{h=h.insert(p,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let u=Xr();const h=_u(),p=(function(){return _u()})();return n.forEach(((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof sa)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),vu(E.mutation,g,E.mutation.getFieldMask(),St.now())):h.set(g.key,ai.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>p.set(g,new LD(E,h.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=_u();let o=new It(((h,p)=>h-p)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||ai.empty();E=p.applyToLocalView(g,E),s.set(m,E);const T=(o.get(p.batchId)||Ye()).add(m);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,T=qE();E.forEach((R=>{if(!u.has(R)){const V=WE(n.get(R),s.get(R));V!==null&&T.set(R,V),u=u.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return se.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(Ma());let p=Su,m=u;return h.next((g=>se.forEach(g,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{m=m.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,Ye()))).next((E=>({batchId:p,changes:BE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=cu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=cu();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(m=>{const g=(function(T,R){return new ll(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,R)=>{h=h.insert(T,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,vn.newInvalidDocument(E)))}));let p=cu();return h.forEach(((m,g)=>{const E=u.get(m);E!==void 0&&vu(E.mutation,g,ai.empty(),St.now()),_d(n,g)&&(p=p.insert(m,g))})),p}))}}class PD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:RD(o.bundledQuery),readTime:dr(o.readTime)}})(n)),se.resolve()}}class UD{constructor(){this.overlays=new It(be.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ma();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=Ma(),u=n.length+1,h=new be(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new It(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ma(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Ma(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,E)=>p.set(g,E))),!(p.size()>=o)););return se.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new iD(n,s));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class zD{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Zm{constructor(){this.Qr=new en(sn.$r),this.Ur=new en(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new vt([])),s=new sn(n,e),o=new sn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new vt([])),s=new sn(n,e),o=new sn(n,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class BD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(sn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new nD(u,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new sn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new sn(n,0),o=new sn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new en(Ge);return n.forEach((o=>{const u=new sn(o,0),h=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const h=new sn(new be(u),0);let p=new en(Ge);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)}),h),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(o=>{const u=new sn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new sn(n,0),o=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qD{constructor(e){this.ri=e,this.docs=(function(){return new It(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let s=Xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Xr();const h=n.path,p=new be(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||_I(yI(E),s)<=0||(o.has(E.key)||_d(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HD(this)}getSize(e){return se.resolve(this.size)}}class HD extends VD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class FD{constructor(e){this.persistence=e,this.si=new Qa((n=>Qm(n)),Km),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new el(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class uT{constructor(e,n){this.ui={},this.overlays={},this.ci=new fd(0),this.li=!1,this.li=!0,this.hi=new zD,this.referenceDelegate=e(this),this.Pi=new FD(this),this.indexManager=new CD,this.remoteDocumentCache=(function(o){return new qD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new xD(n),this.Ii=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new BD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new GD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class GD extends bI{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.pi=new Qa((s=>SI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=kD(this,n)}static mi(e,n){return new Xh(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(s++,u.removeEntry(h,Ie.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nh(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ex()?8:EI(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new YD;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Uo()<=Fe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Uo()<=Fe.DEBUG&&pe("QueryEngine","Query:",zo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Uo()<=Fe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):se.resolve())}ys(e,n){if(cb(n))return se.resolve(null);let s=hr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$h(n,null,"F"),s=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ye(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,p);return this.Cs(n,g,h,m.readTime)?this.ys(e,$h(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,o){return cb(n)||o.isEqual(Ie.min())?se.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?se.resolve(null):(Uo()<=Fe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(n)),this.vs(e,h,n,gI(o,Su)).next((p=>p)))}))}Ds(e,n){let s=new en(UE(e));return n.forEach(((o,u)=>{_d(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Uo()<=Fe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Xs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ng="LocalStore",KD=3e8;class $D{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new It(Ge),this.xs=new Qa((u=>Qm(u)),Km),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function WD(r,e,n,s){return new $D(r,e,n,s)}async function cT(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let m=Ye();for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:p})))}))}))}function XD(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,E){const T=g.batch,R=T.keys();let V=se.resolve();return R.forEach((B=>{V=V.next((()=>E.getEntry(m,B))).next((Q=>{const z=g.docVersions.get(B);ot(z!==null,48541),Q.version.compareTo(z)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Ye();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function hT(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JD(r,e){const n=Oe(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(fn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(Q,z,q){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=KD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(R,V,E)&&p.push(n.Pi.updateTargetData(u,V))}));let m=Xr(),g=Ye();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(ZD(u,h,e.documentUpdates).next((E=>{m=E.ks,g=E.qs}))),!s.isEqual(Ie.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return se.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(n.Ms=o,u)))}function ZD(r,e,n){let s=Ye(),o=Ye();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=Xr();return n.forEach(((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(p,m.readTime),h=h.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(p,m)):pe(ng,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function eN(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tN(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,se.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function pm(r,e,n){const s=Oe(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ol(h))throw h;pe(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Sb(r,e,n){const s=Oe(r);let o=Ie.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,g,E){const T=Oe(m),R=T.xs.get(E);return R!==void 0?se.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,E)})(s,h,hr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?u:Ye()))).next((p=>(nN(s,qI(e),p),{documents:p,Qs:u})))))}function nN(r,e,n){let s=r.Os.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class wb{constructor(){this.activeTargetIds=KI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iN{constructor(){this.Mo=new wb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rN{Oo(e){}shutdown(){}}const Ab="ConnectivityMonitor";class xb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(Ab,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(Ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function mm(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const Up="RestConnection",sN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=mm(),p=this.zo(e,n.toUriEncodedString());pe(Up,`Sending RPC '${e}' ${h}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),E=Ha(g);return this.Jo(e,p,m,s,E).then((T=>(pe(Up,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Wo(Up,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=sN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class oN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class lN extends aN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=mm();return new Promise(((p,m)=>{const g=new dE;g.setWithCredentials(!0),g.listenOnce(fE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Dh.NO_ERROR:const T=g.getResponseJson();pe(yn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Dh.TIMEOUT:pe(yn,`RPC '${e}' ${h} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const R=g.getStatus();if(pe(yn,`RPC '${e}' ${h} failed with status:`,R,"response text:",g.getResponseText()),R>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V?.error;if(B&&B.status&&B.message){const Q=(function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN})(B.status);m(new fe(Q,B.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(yn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);pe(yn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=gE(),p=mE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");pe(yn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=h.createWebChannel(E,m);this.I_(T);let R=!1,V=!1;const B=new oN({Yo:z=>{V?pe(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(pe(yn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),pe(yn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Q=(z,q,Y)=>{z.listen(q,(ee=>{try{Y(ee)}catch(le){setTimeout((()=>{throw le}),0)}}))};return Q(T,uu.EventType.OPEN,(()=>{V||(pe(yn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Q(T,uu.EventType.CLOSE,(()=>{V||(V=!0,pe(yn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),Q(T,uu.EventType.ERROR,(z=>{V||(V=!0,Wo(yn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),B.a_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Q(T,uu.EventType.MESSAGE,(z=>{if(!V){const q=z.data[0];ot(!!q,16349);const Y=q,ee=Y?.error||Y[0]?.error;if(ee){pe(yn,`RPC '${e}' stream ${o} received error:`,ee);const le=ee.status;let ae=(function(A){const C=$t[A];if(C!==void 0)return JE(C)})(le),oe=ee.message;ae===void 0&&(ae=ie.INTERNAL,oe="Unknown error status: "+le+" with message "+ee.message),V=!0,B.a_(new fe(ae,oe)),T.close()}else pe(yn,`RPC '${e}' stream ${o} received:`,q),B.u_(q)}})),Q(p,pE.STAT_EVENT,(z=>{z.stat===im.PROXY?pe(yn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===im.NOPROXY&&pe(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zp(){return typeof document<"u"?document:null}function Sd(r){return new dD(r,!0)}class dT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Rb="PersistentStream";class fT{constructor(e,n,s,o,u,h,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(Rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(Rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uN extends fT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?dr(h.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fm(this.serializer),n.addTarget=(function(u,h){let p;const m=h.target;if(p=lm(m)?{documents:_D(u,m)}:{query:vD(u,m).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=tT(u,h.resumeToken);const g=cm(u,h.expectedCount);g!==null&&(p.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=cm(u,h.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=ED(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.q_(n)}}class cN extends fT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yD(e.writeResults,e.commitTime),s=dr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>gD(this.serializer,s)))};this.q_(n)}}class hN{}class dN extends hN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,hm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,hm(n,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class pN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ka(this)&&(pe(qa,"Restarting streams for network reachability change."),await(async function(m){const g=Oe(m);g.Ea.add(4),await Hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await wd(g)})(this))}))})),this.Ra=new fN(s,o)}}async function wd(r){if(Ka(r))for(const e of r.da)await e(!0)}async function Hu(r){for(const e of r.da)await e(!1)}function pT(r,e){const n=Oe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?sg(n):ul(n).O_()&&rg(n,e))}function ig(r,e){const n=Oe(r),s=ul(n);n.Ia.delete(e),s.O_()&&mT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ka(n)&&n.Ra.set("Unknown"))}function rg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(r).Y_(e)}function mT(r,e){r.Va.Ue(e),ul(r).Z_(e)}function sg(r){r.Va=new lD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Ra.ua()}function ag(r){return Ka(r)&&!ul(r).x_()&&r.Ia.size>0}function Ka(r){return Oe(r).Ea.size===0}function gT(r){r.Va=void 0}async function mN(r){r.Ra.set("Online")}async function gN(r){r.Ia.forEach(((e,n)=>{rg(r,e)}))}async function yN(r,e){gT(r),ag(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function _N(r,e,n){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){pe(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(r,s)}else if(e instanceof kh?r.Va.Ze(e):e instanceof ZE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await hT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(m.resumeToken,h))}})),p.targetMismatches.forEach(((m,g)=>{const E=u.Ia.get(m);if(!E)return;u.Ia.set(m,E.withResumeToken(fn.EMPTY_BYTE_STRING,E.snapshotVersion)),mT(u,m);const T=new Fs(E.target,m,g,E.sequenceNumber);rg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){pe(qa,"Failed to raise snapshot:",s),await Jh(r,s)}}async function Jh(r,e,n){if(!ol(e))throw e;r.Ea.add(1),await Hu(r),r.Ra.set("Offline"),n||(n=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(qa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await wd(r)}))}function yT(r,e){return e().catch((n=>Jh(r,n,e)))}async function Ad(r){const e=Oe(r),n=ta(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fm;for(;vN(e);)try{const o=await eN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,bN(e,o)}catch(o){await Jh(e,o)}_T(e)&&vT(e)}function vN(r){return Ka(r)&&r.Ta.length<10}function bN(r,e){r.Ta.push(e);const n=ta(r);n.O_()&&n.X_&&n.ea(e.mutations)}function _T(r){return Ka(r)&&!ta(r).x_()&&r.Ta.length>0}function vT(r){ta(r).start()}async function EN(r){ta(r).ra()}async function TN(r){const e=ta(r);for(const n of r.Ta)e.ea(n.mutations)}async function SN(r,e,n){const s=r.Ta.shift(),o=Wm.from(s,e,n);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ad(r)}async function wN(r,e){e&&ta(r).X_&&await(async function(s,o){if((function(h){return sD(h)&&h!==ie.ABORTED})(o.code)){const u=s.Ta.shift();ta(s).B_(),await yT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ad(s)}})(r,e),_T(r)&&vT(r)}async function Cb(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),pe(qa,"RemoteStore received new credentials");const s=Ka(n);n.Ea.add(3),await Hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wd(n)}async function AN(r,e){const n=Oe(r);e?(n.Ea.delete(2),await wd(n)):e||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(n,s,o){const u=Oe(n);return u.sa(),new uN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:mN.bind(null,r),t_:gN.bind(null,r),r_:yN.bind(null,r),H_:_N.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ag(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function ta(r){return r.fa||(r.fa=(function(n,s,o){const u=Oe(n);return u.sa(),new cN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:EN.bind(null,r),r_:wN.bind(null,r),ta:TN.bind(null,r),na:SN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ad(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(qa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,p=new og(e,n,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(Wr("AsyncQueue",`${e}: ${r}`),ol(r))return new fe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=cu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Ib{constructor(){this.ga=new It(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class tl{constructor(e,n,s,o,u,h,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new tl(e,n,Qo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class xN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RN{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=Db(),u.forEach(((h,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function Db(){return new Qa((r=>PE(r)),yd)}async function ug(r,e){const n=Oe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new xN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=lg(h,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&hg(n)}async function cg(r,e){const n=Oe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CN(r,e){const n=Oe(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&hg(n)}function IN(r,e,n){const s=Oe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function hg(r){r.Ca.forEach((e=>{e.next()}))}var gm,Nb;(Nb=gm||(gm={})).Ma="default",Nb.Cache="cache";class dg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}class bT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=UE(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ib,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),V=_d(this.query,T)?T:null,B=!!R&&this.mutatedKeys.has(R.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let z=!1;R&&V?R.data.isEqual(V.data)?B!==Q&&(s.track({type:3,doc:V}),z=!0):this.su(R,V)||(s.track({type:2,doc:V}),z=!0,(m&&this.eu(V,m)>0||g&&this.eu(V,g)<0)&&(p=!0)):!R&&V?(s.track({type:0,doc:V}),z=!0):R&&!V&&(s.track({type:1,doc:R}),z=!0,(m||g)&&(p=!0)),z&&(V?(h=h.add(V),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(V,B){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:z})}};return Q(V)-Q(B)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,h.length!==0||g?{snapshot:new tl(this.query,e.tu,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ET(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new bT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class NN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ON{constructor(e){this.key=e,this.hu=!1}}class MN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Qa((p=>PE(p)),yd),this.Iu=new Map,this.Eu=new Set,this.du=new It(be.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kN(r,e,n=!0){const s=RT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await TT(s,e,n,!0),o}async function VN(r,e){const n=RT(r);await TT(n,e,!0,!1)}async function TT(r,e,n,s){const o=await tN(r.localStore,hr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await LN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&pT(r.remoteStore,o),p}async function LN(r,e,n,s,o){r.pu=(T,R,V)=>(async function(Q,z,q,Y){let ee=z.view.ru(q);ee.Cs&&(ee=await Sb(Q.localStore,z.query,!1).then((({documents:D})=>z.view.ru(D,ee))));const le=Y&&Y.targetChanges.get(z.targetId),ae=Y&&Y.targetMismatches.get(z.targetId)!=null,oe=z.view.applyChanges(ee,Q.isPrimaryClient,le,ae);return Mb(Q,z.targetId,oe.au),oe.snapshot})(r,T,R,V);const u=await Sb(r.localStore,e,!0),h=new DN(e,u.Qs),p=h.ru(u.documents),m=qu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(p,r.isPrimaryClient,m);Mb(r,n,g.au);const E=new NN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function jN(r,e,n){const s=Oe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!yd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),ym(s,o.targetId)})).catch(al)):(ym(s,o.targetId),await pm(s.localStore,o.targetId,!0))}async function PN(r,e){const n=Oe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function UN(r,e,n){const s=YN(r);try{const o=await(function(h,p){const m=Oe(h),g=St.now(),E=p.reduce(((V,B)=>V.add(B.key)),Ye());let T,R;return m.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=Xr(),Q=Ye();return m.Ns.getEntries(V,E).next((z=>{B=z,B.forEach(((q,Y)=>{Y.isValidDocument()||(Q=Q.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(V,B))).next((z=>{T=z;const q=[];for(const Y of p){const ee=eD(Y,T.get(Y.key).overlayedDocument);ee!=null&&q.push(new sa(Y.key,ee,DE(ee.value.mapValue),On.exists(!0)))}return m.mutationQueue.addMutationBatch(V,g,q,p)})).next((z=>{R=z;const q=z.applyToLocalDocumentSet(T,Q);return m.documentOverlayCache.saveOverlays(V,z.batchId,q)}))})).then((()=>({batchId:R.batchId,changes:BE(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,m){let g=h.Vu[h.currentUser.toKey()];g||(g=new It(Ge)),g=g.insert(p,m),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Fu(s,o.changes),await Ad(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function ST(r,e){const n=Oe(r);try{const s=await JD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ot(h.hu,14607):o.removedDocuments.size>0&&(ot(h.hu,42227),h.hu=!1))})),await Fu(n,s,e)}catch(s){await al(s)}}function Ob(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const m=Oe(h);m.onlineState=p;let g=!1;m.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(p)&&(g=!0)})),g&&hg(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zN(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new It(be.comparator);h=h.insert(u,vn.newNoDocument(u,Ie.min()));const p=Ye().add(u),m=new Td(Ie.min(),new Map,new It(Ge),h,p);await ST(s,m),s.du=s.du.remove(u),s.Au.delete(e),pg(s)}else await pm(s.localStore,e,!1).then((()=>ym(s,e,n))).catch(al)}async function BN(r,e){const n=Oe(r),s=e.batch.batchId;try{const o=await XD(n.localStore,e);AT(n,s,null),wT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(n,o)}catch(o){await al(o)}}async function qN(r,e,n){const s=Oe(r);try{const o=await(function(h,p){const m=Oe(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next((T=>(ot(T!==null,37113),E=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>m.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);AT(s,e,n),wT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fu(s,o)}catch(o){await al(o)}}function wT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function AT(r,e,n){const s=Oe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||xT(r,s)}))}function xT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ig(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),pg(r))}function Mb(r,e,n){for(const s of n)s instanceof bT?(r.Ru.addReference(s.key,e),HN(r,s)):s instanceof ET?(pe(fg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||xT(r,s.key)):Ae(19791,{wu:s})}function HN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(pe(fg,"New document in limbo: "+n),r.Eu.add(s),pg(r))}function pg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(vt.fromString(e)),s=r.fu.next();r.Au.set(s,new ON(n)),r.du=r.du.insert(n,s),pT(r.remoteStore,new Fs(hr(gd(n.path)),s,"TargetPurposeLimboResolution",fd.ce))}}async function Fu(r,e,n){const s=Oe(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{h.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){o.push(g);const E=tg.As(m.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(m,g){const E=Oe(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(g,(R=>se.forEach(R.Es,(V=>E.persistence.referenceDelegate.addReference(T,R.targetId,V))).next((()=>se.forEach(R.ds,(V=>E.persistence.referenceDelegate.removeReference(T,R.targetId,V)))))))))}catch(T){if(!ol(T))throw T;pe(ng,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const V=E.Ms.get(R),B=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(R,Q)}}})(s.localStore,u))}async function FN(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){pe(fg,"User change. New user:",e.toKey());const s=await cT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new fe(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(n,s.Ls)}}function GN(r,e){const n=Oe(r),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function RT(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zN.bind(null,e),e.Pu.H_=CN.bind(null,e.eventManager),e.Pu.yu=IN.bind(null,e.eventManager),e}function YN(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return WD(this.persistence,new QD,e.initialUser,this.serializer)}Cu(e){return new uT(eg.mi,this.serializer)}Du(e){return new iN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class QN extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new uT((s=>Xh.mi(s,n)),this.serializer)}}class _m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ob(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FN.bind(null,this.syncEngine),await AN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RN})()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),s=(function(u){return new lN(u)})(e.databaseInfo);return(function(u,h,p,m){return new dN(u,h,p,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,p){return new pN(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ob(this.syncEngine,n,0)),(function(){return xb.v()?new xb:new rN})())}createSyncEngine(e,n){return(function(o,u,h,p,m,g,E){const T=new MN(o,u,h,p,m,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);pe(qa,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const na="FirestoreClient";class KN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{pe(na,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(pe(na,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bp(r,e){r.asyncQueue.verifyOperationInProgress(),pe(na,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function kb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await $N(r);pe(na,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Cb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Cb(e.remoteStore,o))),r._onlineComponents=e}async function $N(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(na,"Using user provided OfflineComponentProvider");try{await Bp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await Bp(r,new Zh)}}else pe(na,"Using default OfflineComponentProvider"),await Bp(r,new QN(void 0));return r._offlineComponents}async function CT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(na,"Using user provided OnlineComponentProvider"),await kb(r,r._uninitializedComponentsProvider._online)):(pe(na,"Using default OnlineComponentProvider"),await kb(r,new _m))),r._onlineComponents}function WN(r){return CT(r).then((e=>e.syncEngine))}async function ed(r){const e=await CT(r),n=e.eventManager;return n.onListen=kN.bind(null,e.syncEngine),n.onUnlisten=jN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PN.bind(null,e.syncEngine),n}function XN(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,m,g){const E=new mg({next:R=>{E.Nu(),h.enqueueAndForget((()=>cg(u,T)));const V=R.docs.has(p);!V&&R.fromCache?g.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&m&&m.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new dg(gd(p.path),E,{includeMetadataChanges:!0,qa:!0});return ug(u,T)})(await ed(r),r.asyncQueue,e,n,s))),s.promise}function JN(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,m,g){const E=new mg({next:R=>{E.Nu(),h.enqueueAndForget((()=>cg(u,T))),R.fromCache&&m.source==="server"?g.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new dg(p,E,{includeMetadataChanges:!0,qa:!0});return ug(u,T)})(await ed(r),r.asyncQueue,e,n,s))),s.promise}function IT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Vb=new Map;const DT="firestore.googleapis.com",Lb=!0;class jb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=Lb}else this.host=e.host,this.ssl=e.ssl??Lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sI;switch(s.type){case"firstParty":return new uI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Vb.get(n);s&&(pe("ComponentProvider","Removing Datastore"),Vb.delete(n),s.terminate())})(this),Promise.resolve()}}function ZN(r,e,n,s={}){r=Nn(r,xd);const o=Ha(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Im(`https://${p}`),Dm("Firestore",!0)),u.host!==DT&&u.host!==p&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!Pa(m,h)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=_n.MOCK_USER;else{g=A1(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _n(T)}r._authCredentials=new aI(new _E(g,E))}}class Zr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zu(n,Mt._jsonSchema))return new Mt(e,s||null,new be(vt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Xt("string",Mt._jsonSchemaVersion),referencePath:Xt("string")};class $s extends Zr{constructor(e,n,s){super(e,n,gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new be(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Pt(r,e,...n){if(r=kt(r),vE("collection","path",e),r instanceof xd){const s=vt.fromString(e,...n);return W0(s),new $s(r,null,s)}{if(!(r instanceof Mt||r instanceof $s))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vt.fromString(e,...n));return W0(s),new $s(r.firestore,null,s)}}function _t(r,e,...n){if(r=kt(r),arguments.length===1&&(e=Hm.newId()),vE("doc","path",e),r instanceof xd){const s=vt.fromString(e,...n);return $0(s),new Mt(r,null,new be(s))}{if(!(r instanceof Mt||r instanceof $s))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(vt.fromString(e,...n));return $0(s),new Mt(r.firestore,r instanceof $s?r.converter:null,new be(s))}}const Pb="AsyncQueue";class Ub{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const s=zp();s&&pe(Pb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;pe(Pb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",zb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:zb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Bb(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class gr extends xd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Ub,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ub(e),this._firestoreClient=void 0,await e}}}function eO(r,e){const n=typeof r=="object"?r:Mm(),s=typeof r=="string"?r:Yh,o=od(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=T1("firestore");u&&ZN(o,...u)}return o}function Gu(r){if(r._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tO(r),r._firestoreClient}function tO(r){const e=r._freezeSettings(),n=(function(o,u,h,p){return new xI(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,IT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new KN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ci(fn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ci(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Ci._jsonSchema))return Ci.fromBase64String(e.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Xt("string",Ci._jsonSchemaVersion),bytes:Xt("string")};class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._methodName=e}}class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(zu(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:Xt("string",fr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class pr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new pr(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:Xt("string",pr._jsonSchemaVersion),vectorValues:Xt("object")};const nO=/^__.*__$/;class iO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class NT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:r})}}class gg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&nO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sd(e)}Cc(e,n,s,o=!1){return new gg({Ac:e,methodName:n,Dc:s,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(r){const e=r._freezeSettings(),n=Sd(r._databaseId);return new rO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function yg(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);bg("Data must be an object, but it was:",h,s);const p=VT(s,h);let m,g;if(u.merge)m=new ai(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=vm(e,T,n);if(!h.contains(R))throw new fe(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);jT(E,R)||E.push(R)}m=new ai(E),g=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=h.fieldTransforms;return new iO(new Gn(p),m,g)}class Rd extends Qu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rd}}class _g extends Qu{_toFieldTransform(e){return new $E(e.path,new Cu)}isEqual(e){return e instanceof _g}}class vg extends Qu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Nu(e.serializer,FE(e.serializer,this.Fc));return new $E(e.path,n)}isEqual(e){return e instanceof vg&&this.Fc===e.Fc}}function MT(r,e,n,s){const o=r.Cc(1,e,n);bg("Data must be an object, but it was:",o,s);const u=[],h=Gn.empty();ra(s,((m,g)=>{const E=Eg(e,m,n);g=kt(g);const T=o.yc(E);if(g instanceof Rd)u.push(E);else{const R=$u(g,T);R!=null&&(u.push(E),h.set(E,R))}}));const p=new ai(u);return new NT(h,p,o.fieldTransforms)}function kT(r,e,n,s,o,u){const h=r.Cc(1,e,n),p=[vm(e,s,n)],m=[o];if(u.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(vm(e,u[R])),m.push(u[R+1]);const g=[],E=Gn.empty();for(let R=p.length-1;R>=0;--R)if(!jT(g,p[R])){const V=p[R];let B=m[R];B=kt(B);const Q=h.yc(V);if(B instanceof Rd)g.push(V);else{const z=$u(B,Q);z!=null&&(g.push(V),E.set(V,z))}}const T=new ai(g);return new NT(E,T,h.fieldTransforms)}function sO(r,e,n,s=!1){return $u(n,r.Cc(s?4:3,e))}function $u(r,e){if(LT(r=kt(r)))return bg("Unsupported field value:",e,r),VT(r,e);if(r instanceof Qu)return(function(s,o){if(!OT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let m=$u(p,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FE(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ci)return{bytesValue:tT(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pr)return(function(h,p){return{mapValue:{fields:{[CE]:{stringValue:IE},[Qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return $m(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${dd(s)}`)})(r,e)}function VT(r,e){const n={};return TE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,((s,o)=>{const u=$u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function LT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof fr||r instanceof Ci||r instanceof Mt||r instanceof Qu||r instanceof pr)}function bg(r,e,n){if(!LT(n)||!bE(n)){const s=dd(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function vm(r,e,n){if((e=kt(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw td("Field path arguments must be of type string or ",r,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,n){if(e.search(aO)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function td(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new fe(ie.INVALID_ARGUMENT,p+r+m)}function jT(r,e){return r.some((n=>n.isEqual(e)))}class PT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends PT{data(){return super.data()}}function Tg(r,e){return typeof e=="string"?Eg(r,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}function UT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class wg extends Sg{}function Ii(r,e,...n){let s=[];e instanceof Sg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof xg)).length,p=u.filter((m=>m instanceof Ag)).length;if(h>1||h>0&&p>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ag extends wg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ag(e,n,s)}_apply(e){const n=this._parse(e);return zT(e._query,n),new Zr(e.firestore,e.converter,um(e._query,n))}_parse(e){const n=Ku(e.firestore);return(function(u,h,p,m,g,E,T){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Hb(T,E);const B=[];for(const Q of T)B.push(qb(m,u,Q));R={arrayValue:{values:B}}}else R=qb(m,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Hb(T,E),R=sO(p,h,T,E==="in"||E==="not-in");return Wt.create(g,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class xg extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const m of p)zT(h,m),h=um(h,m)})(e._query,n),new Zr(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends wg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(u,h)})(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new ll(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Di(r,e="asc"){const n=e,s=Tg("orderBy",r);return Rg._create(s,n)}class Cg extends wg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Cg(e,n,s)}_apply(e){return new Zr(e.firestore,e.converter,$h(e._query,this._limit,this._limitType))}}function lO(r){return Cg._create("limit",r,"F")}function qb(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jE(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(vt.fromString(n));if(!be.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rb(r,new be(s))}if(n instanceof Mt)return rb(r,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function Hb(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(r,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uO{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ra(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((s=>Ut(s.doubleValue)));return new pr(n)}convertGeoPoint(e){return new fr(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=md(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Js(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);ot(oT(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||Wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Ig(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends PT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Xt("string",Va._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Vh extends Va{data(e={}){return super.data(e)}}class La{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new du(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vh(this._firestore,this._userDataWriter,s.key,s,new du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new Vh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),E=h.indexOf(p.doc.key)),{type:cO(p.type),doc:m,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}function Yr(r){r=Nn(r,Mt);const e=Nn(r.firestore,gr);return XN(Gu(e),r._key).then((n=>BT(e,r,n)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Xt("string",La._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Dg extends uO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function bm(r){r=Nn(r,Zr);const e=Nn(r.firestore,gr),n=Gu(e),s=new Dg(e);return UT(r._query),JN(n,r._query).then((o=>new La(e,s,r,o)))}function ja(r,e,n){r=Nn(r,Mt);const s=Nn(r.firestore,gr),o=Ig(r.converter,e,n);return Wu(s,[yg(Ku(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,On.none())])}function Oa(r,e,n,...s){r=Nn(r,Mt);const o=Nn(r.firestore,gr),u=Ku(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof Yu?kT(u,"updateDoc",r._key,e,n,s):MT(u,"updateDoc",r._key,e),Wu(o,[h.toMutation(r._key,On.exists(!0))])}function qp(r){return Wu(Nn(r.firestore,gr),[new Ed(r._key,On.none())])}function fu(r,e){const n=Nn(r.firestore,gr),s=_t(r),o=Ig(r.converter,e);return Wu(n,[yg(Ku(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then((()=>s))}function Ni(r,...e){r=kt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Bb(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bb(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let u,h,p;if(r instanceof Mt)h=Nn(r.firestore,gr),p=gd(r._key.path),u={next:m=>{e[s]&&e[s](BT(h,r,m))},error:e[s+1],complete:e[s+2]};else{const m=Nn(r,Zr);h=Nn(m.firestore,gr),p=m._query;const g=new Dg(h);u={next:E=>{e[s]&&e[s](new La(h,g,m,E))},error:e[s+1],complete:e[s+2]},UT(r._query)}return(function(g,E,T,R){const V=new mg(R),B=new dg(E,V,T);return g.asyncQueue.enqueueAndForget((async()=>ug(await ed(g),B))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>cg(await ed(g),B)))}})(Gu(h),p,o,u)}function Wu(r,e){return(function(s,o){const u=new Gr;return s.asyncQueue.enqueueAndForget((async()=>UN(await WN(s),o,u))),u.promise})(Gu(r),e)}function BT(r,e,n){const s=n.docs.get(e._key),o=new Dg(r);return new Va(r,o,e._key,s,new du(n.hasPendingWrites,n.fromCache),e.converter)}class hO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,n,s){this._verifyNotCommitted();const o=Hp(e,this._firestore),u=Ig(o.converter,n,s),h=yg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,On.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Hp(e,this._firestore);let h;return h=typeof(n=kt(n))=="string"||n instanceof Yu?kT(this._dataReader,"WriteBatch.update",u._key,n,s,o):MT(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Hp(e,this._firestore);return this._mutations=this._mutations.concat(new Ed(n._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hp(r,e){if((r=kt(r)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Hi(){return new _g("serverTimestamp")}function Fb(r){return new vg("increment",r)}function qT(r){return Gu(r=Nn(r,gr)),new hO(r,(e=>Wu(r,e)))}(function(e,n=!0){(function(o){sl=o})(Fa),Ua(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new gr(new oI(s.getProvider("auth-internal")),new cI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),lr(G0,Y0,e),lr(G0,Y0,"esm2020")})();const HT="firebasestorage.googleapis.com",dO="storageBucket",fO=120*1e3,pO=600*1e3;class br extends _r{constructor(e,n,s=0){super(Fp(e),`Firebase Storage: ${n} (${Fp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yr||(yr={}));function Fp(r){return"storage/"+r}function mO(){const r="An unknown error occurred, please check the error payload for server response.";return new br(yr.UNKNOWN,r)}function gO(){return new br(yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yO(){return new br(yr.CANCELED,"User canceled the upload/download.")}function _O(r){return new br(yr.INVALID_URL,"Invalid URL '"+r+"'.")}function vO(r){return new br(yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Gb(r){return new br(yr.INVALID_ARGUMENT,r)}function FT(){return new br(yr.APP_DELETED,"The Firebase app was deleted.")}function bO(r){return new br(yr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Gi.makeFromUrl(e,n)}catch{return new Gi(e,"")}if(s.path==="")return s;throw vO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",V=new RegExp(`^https?://${T}/${E}/b/${o}/o${R}`,"i"),B={bucket:1,path:3},Q=n===HT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",q=new RegExp(`^https?://${Q}/${o}/${z}`,"i"),ee=[{regex:p,indices:m,postModify:u},{regex:V,indices:B,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<ee.length;le++){const ae=ee[le],oe=ae.regex.exec(e);if(oe){const D=oe[ae.indices.bucket];let A=oe[ae.indices.path];A||(A=""),s=new Gi(D,A),ae.postModify(s);break}}if(s==null)throw _O(e);return s}}class EO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function TO(r,e,n){let s=1,o=null,u=null,h=!1,p=0;function m(){return p===2}let g=!1;function E(...z){g||(g=!0,e.apply(null,z))}function T(z){o=setTimeout(()=>{o=null,r(V,m())},z)}function R(){u&&clearTimeout(u)}function V(z,...q){if(g){R();return}if(z){R(),E.call(null,z,...q);return}if(m()||h){R(),E.call(null,z,...q);return}s<64&&(s*=2);let ee;p===1?(p=2,ee=0):ee=(s+Math.random())*1e3,T(ee)}let B=!1;function Q(z){B||(B=!0,R(),!g&&(o!==null?(z||(p=2),clearTimeout(o),T(0)):z||(p=1)))}return T(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function SO(r){r(!1)}function wO(r){return r!==void 0}function Yb(r,e,n,s){if(s<e)throw Gb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Gb(`Invalid value for '${r}'. Expected ${n} or less.`)}function AO(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var nd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(nd||(nd={}));function xO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class RO{constructor(e,n,s,o,u,h,p,m,g,E,T,R=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,Q)=>{this.resolve_=B,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const m=p.loaded,g=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===nd.NO_ERROR,m=u.getStatus();if(!p||xO(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===nd.ABORT;s(!1,new Sh(!1,null,E));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Sh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());wO(m)?u(m):u()}catch(m){h(m)}else if(p!==null){const m=mO();m.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,m)):h(m)}else if(o.canceled){const m=this.appDelete_?FT():yO();h(m)}else{const m=gO();h(m)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=TO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function CO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function NO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function OO(r,e,n,s,o,u,h=!0,p=!1){const m=AO(r.urlParams),g=r.url+m,E=Object.assign({},r.headers);return DO(E,e),CO(E,n),IO(E,u),NO(E,s),new RO(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function MO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function kO(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class id{constructor(e,n){this._service=e,n instanceof Gi?this._location=n:this._location=Gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new id(e,n)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kO(this._location.path)}get storage(){return this._service}get parent(){const e=MO(this._location.path);if(e===null)return null;const n=new Gi(this._location.bucket,e);return new id(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bO(e)}}function Qb(r,e){const n=e?.[dO];return n==null?null:Gi.makeFromBucketSpec(n,r)}function VO(r,e,n,s={}){r.host=`${e}:${n}`;const o=Ha(e);o&&(Im(`https://${r.host}/b`),Dm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:A1(u,r.app.options.projectId))}class LO{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=HT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fO,this._maxUploadRetryTime=pO,this._requests=new Set,o!=null?this._bucket=Gi.makeFromBucketSpec(o,this._host):this._bucket=Qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gi.makeFromBucketSpec(this._url,e):this._bucket=Qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new id(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new EO(FT());{const h=OO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Kb="@firebase/storage",$b="0.14.0";const GT="storage";function jO(r=Mm(),e){r=kt(r);const s=od(r,GT).getImmediate({identifier:e}),o=T1("storage");return o&&PO(s,...o),s}function PO(r,e,n,s={}){VO(r,e,n,s)}function UO(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new LO(n,s,o,e,Fa)}function zO(){Ua(new Ws(GT,UO,"PUBLIC").setMultipleInstances(!0)),lr(Kb,$b,""),lr(Kb,$b,"esm2020")}zO();const BO={apiKey:"AIzaSyAsCmzOUFyOeBBKu-Dcf2DojSJ7VpDgl38",authDomain:"makerworks-31c33.firebaseapp.com",projectId:"makerworks-31c33",storageBucket:"makerworks-31c33.firebasestorage.app",messagingSenderId:"247985134020",appId:"1:247985134020:web:1ef8a8fb162a540ee92c91",measurementId:"G-TX2YPY4ZSV"},Ng=C1(BO),ka=iI(Ng),xe=eO(Ng);jO(Ng);function qO({user:r}){const[e,n]=I.useState([]),[s,o]=I.useState({}),[u,h]=I.useState({}),[p,m]=I.useState(null),[g,E]=I.useState([]),[T,R]=I.useState({}),[V,B]=I.useState({}),[Q,z]=I.useState(null),q="#f5f3ff";I.useEffect(()=>{const ee=Ii(Pt(xe,"courses"),Di("createdAt","desc"));return Ni(ee,le=>{const ae=le.docs.map(oe=>({id:oe.id,...oe.data()}));n(ae),o(oe=>{const D={...oe};return ae.forEach(A=>{D[A.id]||(D[A.id]=A.imageUrl||"")}),D})})},[]),I.useEffect(()=>{const ee=Ii(Pt(xe,"users"),Di("email","asc"));return Ni(ee,le=>{const ae=le.docs.map(oe=>({id:oe.id,...oe.data()}));E(ae),R(oe=>{const D={...oe};return ae.forEach(A=>{D[A.id]||(D[A.id]={name:A.name||"",avatarPath:A.avatarPath||"",role:A.role||"student",studentId:A.studentId||""})}),D})})},[]);const Y=async ee=>{const le=T[ee]||{name:"",avatarPath:"",role:"student",studentId:""};B(ae=>({...ae,[ee]:!0})),z(null);try{await Oa(_t(xe,"users",ee),{name:le.name.trim()||null,avatarPath:le.avatarPath.trim()||null,role:le.role||"student",studentId:le.studentId.trim()||null}),z("Saved user profile.")}catch(ae){console.error(ae),z("Error saving user  see console.")}B(ae=>({...ae,[ee]:!1}))};return y.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:q,minHeight:"100%"},children:y.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[y.jsx("h2",{style:{margin:0,fontSize:22,fontWeight:700,color:"#111827",marginBottom:16},children:"Admin Panel"}),y.jsxs("p",{style:{fontSize:13,color:"#6b7280",marginTop:0},children:["Logged in as ",y.jsx("b",{children:r?.email}),". You can edit course images and user profiles stored in Firestore."]}),y.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:4},children:" Passwords are handled by Firebase Auth and are never visible here."}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.4fr) minmax(0, 1.4fr)",gap:18,alignItems:"flex-start"},children:y.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.06)"},children:[y.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827",marginBottom:8},children:"Users  name, avatar, role & custom ID"}),y.jsxs("p",{style:{fontSize:12,color:"#6b7280",marginTop:0},children:["All data is from the ",y.jsx("code",{children:"users"})," collection."]}),g.length===0&&y.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No users yet."}),y.jsx("div",{style:{marginTop:6,display:"flex",flexDirection:"column",gap:8},children:g.map(ee=>{const le=T[ee.id]||{name:"",avatarPath:"",role:"student",studentId:""};return y.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[y.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#111827"},children:ee.email||"(no email field)"}),y.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginBottom:4},children:["ID (auth UID): ",ee.id]}),y.jsx("label",{style:{fontSize:11,color:"#6b7280"},children:"Custom ID (roll no / student ID)"}),y.jsx("input",{value:le.studentId,onChange:ae=>R(oe=>({...oe,[ee.id]:{...oe[ee.id],studentId:ae.target.value}})),placeholder:"e.g. STU-001 / 23BA001",style:{display:"block",width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,marginBottom:6}}),y.jsx("label",{style:{fontSize:11,color:"#6b7280"},children:"Display name"}),y.jsx("input",{value:le.name,onChange:ae=>R(oe=>({...oe,[ee.id]:{...oe[ee.id],name:ae.target.value}})),placeholder:"Display name",style:{display:"block",width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,marginBottom:6}}),y.jsx("label",{style:{fontSize:11,color:"#6b7280"},children:"Avatar path or URL"}),y.jsx("input",{value:le.avatarPath,onChange:ae=>R(oe=>({...oe,[ee.id]:{...oe[ee.id],avatarPath:ae.target.value}})),placeholder:"/images/avatars/vinay.jpeg",style:{display:"block",width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,marginBottom:6}}),y.jsx("label",{style:{fontSize:11,color:"#6b7280"},children:"Role"}),y.jsxs("select",{value:le.role,onChange:ae=>R(oe=>({...oe,[ee.id]:{...oe[ee.id],role:ae.target.value}})),style:{display:"block",width:"100%",padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,marginBottom:6},children:[y.jsx("option",{value:"student",children:"student"}),y.jsx("option",{value:"instructor",children:"instructor"}),y.jsx("option",{value:"admin",children:"admin"})]}),y.jsx("button",{onClick:()=>Y(ee.id),disabled:V[ee.id],style:{padding:"6px 11px",borderRadius:999,border:"none",background:V[ee.id]?"#9ca3af":"#2563eb",color:"white",fontSize:12,fontWeight:600,cursor:V[ee.id]?"not-allowed":"pointer"},children:V[ee.id]?"Saving...":"Save user"})]},ee.id)})}),Q&&y.jsx("p",{style:{fontSize:12,color:Q.startsWith("Error")?"#b91c1c":"#16a34a",marginTop:8},children:Q})]})})]})})}function HO(){const[r,e]=I.useState(""),[n,s]=I.useState(""),[o,u]=I.useState(!1),[h,p]=I.useState(""),m=Mu(),g=async E=>{E.preventDefault(),p(""),u(!0);try{await qC(ka,r,n),m("/",{replace:!0})}catch(T){console.error(T),p(T.message||"Login failed")}finally{u(!1)}};return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"auth-shell",children:[y.jsx("div",{className:"auth-illustration",children:y.jsxs("div",{className:"auth-illu-card",children:[y.jsx("div",{className:"auth-illu-badge",children:y.jsx("span",{children:" MakerWorks LMS"})}),y.jsx("div",{className:"auth-illu-avatar",children:""}),y.jsx("h2",{children:"Welcome back"}),y.jsx("p",{children:"Login to continue learning, track your progress, and complete your courses."}),y.jsxs("ul",{className:"auth-illu-list",children:[y.jsx("li",{children:" Progress tracking per lesson"}),y.jsx("li",{children:" Quizzes & certificates"}),y.jsx("li",{children:" Separate student / instructor views"})]})]})}),y.jsxs("div",{className:"auth-panel",children:[y.jsx("div",{className:"auth-logo",children:"MakerWorks LMS"}),y.jsx("h1",{className:"auth-title",children:"Login"}),y.jsx("p",{className:"auth-subtitle",children:"Enter your account details to access your dashboard."}),y.jsxs("form",{className:"auth-form",onSubmit:g,children:[y.jsxs("div",{className:"auth-field",children:[y.jsx("label",{htmlFor:"email",children:"Email"}),y.jsx("input",{id:"email",type:"email",autoComplete:"email",value:r,onChange:E=>e(E.target.value),required:!0})]}),y.jsxs("div",{className:"auth-field",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{id:"password",type:"password",autoComplete:"current-password",value:n,onChange:E=>s(E.target.value),required:!0})]}),y.jsx("div",{className:"auth-actions-row",children:y.jsx("span",{className:"tiny-text",style:{color:"#9ca3af"},children:"Use the test account you created"})}),y.jsx("button",{type:"submit",className:"auth-primary-btn",disabled:o,children:o?"Logging in...":"Login"})]}),h&&y.jsx("p",{className:"auth-message error",style:{marginTop:8},children:h})]})]})})}function FO(){const[r,e]=I.useState([]),[n,s]=I.useState(!0);return I.useEffect(()=>{const o=Ii(Pt(xe,"newsletters"),Di("createdAt","desc")),u=Ni(o,h=>{e(h.docs.map(p=>({id:p.id,...p.data()}))),s(!1)},h=>{console.error("Newsletter load error:",h),s(!1)});return()=>u()},[]),y.jsx("div",{style:{minHeight:"100vh",background:"#f5f3ff",display:"flex",justifyContent:"center",padding:24},children:y.jsxs("div",{style:{width:"100%",maxWidth:900,background:"white",borderRadius:18,padding:20,border:"1px solid #e5e7eb",boxShadow:"0 10px 26px rgba(15,23,42,0.06)"},children:[y.jsx("h1",{style:{marginTop:0,fontSize:22,fontWeight:700,color:"#111827"},children:"News & Announcements"}),y.jsx("p",{style:{fontSize:13,color:"#6b7280",marginTop:2},children:"Posted by instructors. This page is public, login not required."}),n&&y.jsx("p",{style:{fontSize:14},children:"Loading"}),!n&&r.length===0&&y.jsx("p",{style:{fontSize:14,color:"#6b7280"},children:"No news yet."}),!n&&r.map(o=>{const u=o.body||o.content||o.message||"",h=o.createdAt&&o.createdAt.toDate?o.createdAt.toDate().toLocaleString():"Recently";return y.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[y.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#111827",marginBottom:4},children:o.title||"Untitled"}),y.jsx("div",{style:{fontSize:14,color:"#4b5563",whiteSpace:"pre-wrap",marginBottom:6},children:u}),y.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:[h,"  ",o.authorEmail||"Instructor"]})]},o.id)})]})})}const GO=["light","dark","green","orange"],YO={light:{name:"Light",background:"#f3f4f6",surface:"#ffffff",surfaceSoft:"#f9fafb",primary:"#2563eb",primarySoft:"#dbeafe",accent:"#10b981",textMain:"#111827",textMuted:"#6b7280",border:"#e5e7eb",heroGradient:"linear-gradient(135deg,#ffffff,#f9fafb)",chipBgActive:"#2563eb",chipTextActive:"#ffffff"},dark:{name:"Dark",background:"#020617",surface:"#0f172a",surfaceSoft:"#020617",primary:"#38bdf8",primarySoft:"#082f49",accent:"#22c55e",textMain:"#e5e7eb",textMuted:"#9ca3af",border:"#1f2937",heroGradient:"linear-gradient(135deg,#020617,#020617)",chipBgActive:"#38bdf8",chipTextActive:"#020617"},green:{name:"Green",background:"#ecfdf5",surface:"#ffffff",surfaceSoft:"#f0fdf4",primary:"#16a34a",primarySoft:"#dcfce7",accent:"#0ea5e9",textMain:"#022c22",textMuted:"#047857",border:"#bbf7d0",heroGradient:"linear-gradient(135deg,#ecfdf5,#ffffff)",chipBgActive:"#16a34a",chipTextActive:"#ffffff"},orange:{name:"Orange",background:"#fff7ed",surface:"#ffffff",surfaceSoft:"#fff7ed",primary:"#f97316",primarySoft:"#ffedd5",accent:"#22c55e",textMain:"#7c2d12",textMuted:"#9a3412",border:"#fed7aa",heroGradient:"linear-gradient(135deg,#fff7ed,#ffffff)",chipBgActive:"#f97316",chipTextActive:"#ffffff"}};function QO({user:r}){const[e,n]=I.useState([]),[s,o]=I.useState({}),[u,h]=I.useState(null),[p,m]=I.useState(!1),[g,E]=I.useState(""),[T,R]=I.useState(!0),[V,B]=I.useState(!0),[Q,z]=I.useState("all"),[q,Y]=I.useState("all"),[ee,le]=I.useState("newest"),[ae,oe]=I.useState("light"),[D,A]=I.useState(!1),C=Mu();I.useEffect(()=>{const X=localStorage.getItem("makerworks-theme");X&&GO.includes(X)&&oe(X)},[]),I.useEffect(()=>{localStorage.setItem("makerworks-theme",ae)},[ae]),I.useEffect(()=>{const X=setTimeout(()=>A(!0),10);return()=>clearTimeout(X)},[]);const w=YO[ae],M=T||V,L=X=>{if(!X)return"";if(/^https?:\/\//.test(X))return X;const Re="/learn/",_e=Re.endsWith("/")?Re.slice(0,-1):Re,je=X.startsWith("/")?X:`/${X}`;return _e+je};if(I.useEffect(()=>{if(!r)return;(async()=>{try{const Re=_t(xe,"users",r.uid),_e=await Yr(Re);_e.exists()?h(_e.data()):h(null)}catch(Re){console.error("Error loading profile:",Re),h(null)}})()},[r]),I.useEffect(()=>{R(!0);const X=Ii(Pt(xe,"courses"),Di("createdAt","desc")),Re=Ni(X,_e=>{n(_e.docs.map(je=>({id:je.id,...je.data()}))),R(!1)},_e=>{console.error("Error loading courses:",_e),R(!1)});return()=>Re()},[]),I.useEffect(()=>{if(!r)return;B(!0);const X=Pt(xe,"users",r.uid,"progress"),Re=Ni(X,_e=>{const je={};_e.forEach(Ze=>{je[Ze.id]=Ze.data()}),o(je),B(!1)},_e=>{console.error("Error loading progress:",_e),B(!1)});return()=>Re()},[r]),!r)return y.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:w.background,color:w.textMuted,fontSize:14},children:"Loading your Makerworks LMS dashboard..."});const N=e.filter(X=>s[X.id]);e.filter(X=>!s[X.id]);const Je=u&&u.name&&u.name.trim()||r.displayName||r.email||"Learner",bt=u&&typeof u.studentId=="string"&&u.studentId.trim()||null,J=u?.avatarPath||"",ue=J?L(J):"",ge=X=>{C(`/courses/${X}`)},Pe=async X=>{try{const Re=_t(xe,"users",r.uid,"progress",X);await ja(Re,{startedAt:Hi(),completedLessons:[],lastOpenedLessonId:null,lastOpenedAt:Hi()},{merge:!0}),ge(X)}catch(Re){console.error("Error starting course:",Re),ge(X)}},Qe=Je.split(" ").map(X=>X[0]?.toUpperCase()).join("").slice(0,2),k=g.trim().toLowerCase(),te=X=>{if(!k)return!0;const Re=(X.title||"").toLowerCase(),_e=(X.description||"").toLowerCase(),je=(X.category||"").toLowerCase();return Re.includes(k)||_e.includes(k)||je.includes(k)},he=Array.from(new Set(e.map(X=>X.category).filter(Boolean))).sort(),de=Object.entries(s),Ee=de.length>0?de.filter(([,X])=>X.lastOpenedAt||X.startedAt).sort((X,Re)=>{const _e=je=>{const Ze=je.lastOpenedAt||je.startedAt;return!Ze||typeof Ze.toMillis!="function"?0:Ze.toMillis()};return _e(Re[1])-_e(X[1])})[0]:null,Te=Ee&&e.find(X=>X.id===Ee[0]),Le=Ee?Ee[1]:null,yt=new Date,rt=new Date;rt.setDate(yt.getDate()-6);const Yn=X=>X.toISOString().slice(0,10),oi=new Set;de.forEach(([,X])=>{[X.lastOpenedAt,X.startedAt].filter(Boolean).forEach(_e=>{if(_e&&typeof _e.toMillis=="function"){const je=new Date(_e.toMillis());je>=rt&&je<=yt&&oi.add(Yn(je))}})});const En=oi.size,Tn=X=>{const Re=s[X]||{},_e=Re.completedLessons?.length||0,je=e.find(pn=>pn.id===X),Ze=Re.totalLessons||Re.lessonCount||je?.lessonCount||0;return!Ze||Ze<=0?0:Math.min(100,Math.round(_e/Ze*100))};let lt=e.filter(te);Q==="enrolled"?lt=lt.filter(X=>s[X.id]):Q==="available"&&(lt=lt.filter(X=>!s[X.id])),q!=="all"&&(lt=lt.filter(X=>X.category===q)),lt=[...lt],ee==="az"?lt.sort((X,Re)=>(X.title||"Untitled").localeCompare(Re.title||"Untitled")):ee==="progress"&&lt.sort((X,Re)=>Tn(Re.id)-Tn(X.id));const li=lt.filter(X=>s[X.id]),Sn=X=>({padding:"4px 10px",borderRadius:999,border:X?"none":`1px solid ${w.border}`,background:X?w.chipBgActive:w.surface,color:X?w.chipTextActive:w.textMuted,fontSize:11,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease"}),ui=X=>{const Re=ae===X;return{padding:"4px 10px",borderRadius:999,border:Re?"none":`1px solid ${w.border}`,background:Re?w.primary:w.surface,color:Re?"#ffffff":w.textMuted,fontSize:11,fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",transform:Re?"scale(1.02)":"scale(1)"}},zt=(X=0)=>({opacity:D?1:0,transform:D?"translateY(0)":"translateY(12px)",transition:`opacity 0.35s ease ${X}ms, transform 0.35s ease ${X}ms, box-shadow 0.2s ease, transform 0.2s ease`}),st={transition:"transform 0.2s ease, box-shadow 0.2s ease"},at={transition:"background 0.2s ease, transform 0.15s ease, boxShadow 0.15s ease"},Mn=Te?Tn(Te.id):0;return y.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:w.background,minHeight:"100vh",transition:"background 0.3s ease, color 0.3s ease"},children:y.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[y.jsxs("div",{style:{marginBottom:12,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,...zt(0)},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[y.jsx("div",{style:{width:32,height:32,borderRadius:10,background:w.primarySoft,display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,fontWeight:800,color:w.primary,boxShadow:ae==="dark"?"0 6px 10px rgba(0,0,0,0.6)":"0 3px 6px rgba(15,23,42,0.15)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:"M"}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:14,fontWeight:700,color:w.textMain},children:"Makerworks LMS"}),y.jsx("div",{style:{fontSize:11,color:w.textMuted},children:"Student dashboard"})]})]}),y.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center",fontSize:11,color:w.textMuted},children:[y.jsx("span",{children:"Theme:"}),y.jsx("button",{style:ui("light"),onClick:()=>oe("light"),children:"Light"}),y.jsx("button",{style:ui("dark"),onClick:()=>oe("dark"),children:"Dark"}),y.jsx("button",{style:ui("green"),onClick:()=>oe("green"),children:"Green"}),y.jsx("button",{style:ui("orange"),onClick:()=>oe("orange"),children:"Orange"})]})]}),y.jsxs("div",{style:{marginBottom:20,padding:18,borderRadius:18,background:w.heroGradient,color:w.textMain,display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:ae==="dark"?"0 18px 40px rgba(15,23,42,0.7)":"0 12px 30px rgba(15,23,42,0.12)",border:`1px solid ${w.border}`,...zt(80)},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:w.textMuted,marginBottom:4},children:M?"Setting up your learning space...":"Welcome back "}),y.jsx("div",{style:{fontSize:20,fontWeight:700,marginBottom:4},children:Je}),y.jsxs("div",{style:{fontSize:12,color:w.textMuted},children:["Makerworks LMS  Active on"," ",y.jsx("strong",{children:En})," day",En===1?"":"s"," in the last week."]})]}),y.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[y.jsxs("div",{style:{padding:"8px 12px",borderRadius:999,background:w.surfaceSoft,fontSize:11,fontWeight:600,textAlign:"right",border:`1px solid ${w.border}`,color:w.textMain,transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:[y.jsx("div",{style:{color:w.textMuted},children:"Enrolled"}),y.jsx("div",{style:{fontSize:15},children:N.length})]}),y.jsx("button",{onClick:()=>C("/profile"),style:{padding:"8px 14px",borderRadius:999,border:"none",background:w.primary,color:"#ffffff",fontSize:12,fontWeight:700,cursor:"pointer",boxShadow:ae==="dark"?"0 8px 18px rgba(15,23,42,0.8)":"0 8px 18px rgba(15,23,42,0.25)",...at},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)"},children:"Profile & settings"})]})]}),y.jsxs("div",{style:{background:w.surface,borderRadius:999,padding:"8px 18px",display:"flex",alignItems:"center",gap:8,boxShadow:ae==="dark"?"0 8px 20px rgba(15,23,42,0.7)":"0 8px 24px rgba(15,23,42,0.06)",marginBottom:18,border:`1px solid ${w.border}`,...zt(120)},children:[y.jsx("span",{style:{fontSize:18,color:w.primary,fontWeight:700,marginRight:6},children:""}),y.jsx("input",{placeholder:"Search courses by title, category, or description...",value:g,onChange:X=>E(X.target.value),style:{flex:1,border:"none",outline:"none",fontSize:14,color:w.textMain,background:"transparent"}}),g&&y.jsx("button",{onClick:()=>E(""),style:{border:"none",background:"transparent",fontSize:12,color:w.textMuted,cursor:"pointer",...at},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)"},children:"Clear"})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 2fr) minmax(0, 1.5fr)",gap:16,marginBottom:22},children:[y.jsxs("div",{style:{background:w.surface,borderRadius:18,padding:18,boxShadow:ae==="dark"?"0 10px 26px rgba(15,23,42,0.7)":"0 10px 26px rgba(15,23,42,0.06)",border:`1px solid ${w.border}`,display:"flex",gap:16,...zt(160),...st},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-2px)",X.currentTarget.style.boxShadow=ae==="dark"?"0 16px 32px rgba(0,0,0,0.9)":"0 16px 32px rgba(15,23,42,0.16)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow=ae==="dark"?"0 10px 26px rgba(15,23,42,0.7)":"0 10px 26px rgba(15,23,42,0.06)"},children:[y.jsx("div",{style:{width:90,minWidth:90,height:90,borderRadius:24,overflow:"hidden",background:w.primarySoft,display:"flex",alignItems:"center",justifyContent:"center",color:w.primary,fontSize:30,fontWeight:700,transition:"transform 0.2s ease"},children:ue&&!p?y.jsx("img",{src:ue,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"},onError:()=>m(!0)}):Qe}),y.jsxs("div",{style:{flex:1},children:[y.jsx("div",{style:{fontSize:18,fontWeight:700,color:w.textMain,marginBottom:4},children:Je}),y.jsx("div",{style:{fontSize:13,color:w.textMuted,marginBottom:10},children:bt?`Student ID: ${bt}`:`ID: ${r.uid.slice(0,8)}`}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(110px, 1fr))",gap:8,fontSize:12,color:w.textMuted,marginBottom:8},children:[y.jsxs("div",{children:[y.jsxs("span",{style:{fontWeight:600,color:w.textMain},children:["Role:"," "]}),"Student"]}),y.jsxs("div",{children:[y.jsxs("span",{style:{fontWeight:600,color:w.textMain},children:["Enrolled:"," "]}),N.length," course",N.length===1?"":"s"]}),y.jsxs("div",{children:[y.jsxs("span",{style:{fontWeight:600,color:w.textMain},children:["Active days (7d):"," "]}),En]})]}),y.jsx("div",{style:{fontSize:11,color:w.textMuted},children:M?"Syncing your progress...":"Tip: 2030 minutes a day beats one long weekend binge."})]})]}),y.jsxs("div",{style:{background:w.surface,borderRadius:18,padding:18,boxShadow:ae==="dark"?"0 10px 26px rgba(15,23,42,0.7)":"0 10px 26px rgba(15,23,42,0.06)",border:`1px solid ${w.border}`,...zt(200),...st},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-2px)",X.currentTarget.style.boxShadow=ae==="dark"?"0 16px 32px rgba(0,0,0,0.9)":"0 16px 32px rgba(15,23,42,0.16)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow=ae==="dark"?"0 10px 26px rgba(15,23,42,0.7)":"0 10px 26px rgba(15,23,42,0.06)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center"},children:[y.jsx("div",{style:{fontSize:15,fontWeight:700,color:w.textMain},children:"Learning overview"}),y.jsxs("div",{style:{display:"flex",gap:6,fontSize:11},children:[y.jsx("span",{style:{padding:"2px 10px",borderRadius:999,background:w.primarySoft,color:w.primary,fontWeight:600},children:"Active"}),y.jsxs("span",{style:{padding:"2px 10px",borderRadius:999,border:`1px solid ${w.border}`,color:w.textMuted},children:["Last 7 days: ",En,"d"]})]})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:10,marginBottom:10},children:[y.jsxs("div",{style:{background:w.surfaceSoft,borderRadius:12,padding:8,fontSize:12,color:w.textMuted,fontWeight:600,border:`1px solid ${w.border}`,transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:["Total courses",y.jsx("div",{style:{fontSize:18,marginTop:2,color:w.textMain},children:e.length})]}),y.jsxs("div",{style:{background:w.surfaceSoft,borderRadius:12,padding:8,fontSize:12,color:w.textMuted,fontWeight:600,border:`1px solid ${w.border}`,transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:["Enrolled",y.jsx("div",{style:{fontSize:18,marginTop:2,color:w.textMain},children:N.length})]})]}),y.jsx("div",{style:{fontSize:12,color:w.textMuted},children:y.jsxs("div",{style:{marginBottom:8},children:[y.jsx("div",{style:{marginBottom:2},children:"Active courses"}),y.jsx("div",{style:{height:7,borderRadius:999,background:"#e5e7eb33"},children:y.jsx("div",{style:{width:e.length===0?"0%":`${Math.min(N.length/e.length*100,100).toFixed(0)}%`,height:"100%",borderRadius:999,background:w.primary,transition:"width 0.3s ease"}})})]})})]})]}),Te&&!M&&y.jsxs("div",{style:{marginBottom:24,padding:16,borderRadius:16,background:ae==="dark"?"#1f2937":"#fefce8",border:`1px solid ${ae==="dark"?"#374151":"#fef08a"}`,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,color:ae==="dark"?"#f9fafb":"#78350f",...zt(240),...st},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-2px)",X.currentTarget.style.boxShadow=ae==="dark"?"0 12px 26px rgba(0,0,0,0.8)":"0 12px 26px rgba(15,23,42,0.15)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="none"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:4},children:"Continue learning"}),y.jsx("div",{style:{fontSize:15,fontWeight:700,marginBottom:4},children:Te.title||"Untitled course"}),Le?.lastOpenedLessonTitle&&y.jsxs("div",{style:{fontSize:12,opacity:.9,marginBottom:2},children:["Last lesson:"," ",y.jsx("strong",{children:Le.lastOpenedLessonTitle})]}),y.jsxs("div",{style:{fontSize:11,opacity:.8},children:["Progress: ",Mn,"% complete"]})]}),y.jsx("button",{onClick:()=>ge(Te.id),style:{padding:"8px 14px",borderRadius:999,border:"none",background:w.accent,color:"#ffffff",fontSize:13,fontWeight:600,cursor:"pointer",...at},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)"},children:"Resume course"})]}),y.jsxs("div",{style:{marginBottom:24},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,alignItems:"center",...zt(260)},children:[y.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:w.textMain},children:"Enrolled courses"}),y.jsxs("span",{style:{fontSize:12,color:w.textMuted},children:[li.length," enrolled",k||Q!=="all"?" (filtered)":""]})]}),T||V?y.jsx("p",{style:{fontSize:13,color:w.textMuted},children:"Loading your enrolled courses..."}):li.length===0?y.jsx("p",{style:{fontSize:13,color:w.textMuted},children:k||Q!=="all"?"No enrolled courses match your filters.":"You haven&apos;t enrolled in any courses yet."}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:14},children:li.map((X,Re)=>{const _e=s[X.id]||{},je=_e.completedLessons?.length||0,Ze=_e.totalLessons||_e.lessonCount||Math.max(je,1),pn=Ze>0?Math.min(100,Math.round(je/Ze*100)):0,$e=_e.courseCompleted||Ze>0&&je>=Ze,wn=$e?`All ${Ze} lessons completed`:_e.lastOpenedLessonTitle?`Currently on: ${_e.lastOpenedLessonTitle}`:`Progress: ${je}/${Ze} lessons`;return y.jsxs("div",{style:{background:w.surface,borderRadius:12,border:`1px solid ${w.border}`,boxShadow:ae==="dark"?"0 6px 18px rgba(15,23,42,0.7)":"0 6px 18px rgba(15,23,42,0.06)",display:"flex",overflow:"hidden",...zt(280+Re*40),...st},onMouseEnter:tn=>{tn.currentTarget.style.transform="translateY(-3px)",tn.currentTarget.style.boxShadow=ae==="dark"?"0 14px 30px rgba(0,0,0,0.9)":"0 14px 30px rgba(15,23,42,0.18)"},onMouseLeave:tn=>{tn.currentTarget.style.transform="translateY(0)",tn.currentTarget.style.boxShadow=ae==="dark"?"0 6px 18px rgba(15,23,42,0.7)":"0 6px 18px rgba(15,23,42,0.06)"},children:[y.jsx("div",{style:{width:80,minWidth:80,background:w.primary,display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx("div",{style:{width:44,height:44,borderRadius:"999px",background:w.surface,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(15,23,42,0.35)",...at},children:y.jsx("div",{style:{width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:`14px solid ${w.primary}`,marginLeft:2}})})}),y.jsxs("div",{style:{flex:1,padding:"10px 14px 8px",display:"flex",flexDirection:"column"},children:[y.jsx("div",{style:{fontSize:11,fontWeight:600,color:w.textMuted,marginBottom:2},children:X.category||"Course"}),y.jsx("div",{style:{fontSize:14,fontWeight:700,color:w.textMain,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:X.title||"Untitled course"}),y.jsx("div",{style:{marginTop:6,fontSize:12,color:w.textMuted},children:$e?y.jsxs(y.Fragment,{children:[" Completed  ",Ze," lessons"]}):y.jsxs(y.Fragment,{children:[wn,"  ",pn,"% complete"]})}),y.jsx("div",{style:{marginTop:8,height:6,borderRadius:999,background:"#e5e7eb33",overflow:"hidden"},children:y.jsx("div",{style:{width:`${pn}%`,height:"100%",background:w.primary,transition:"width 0.3s ease"}})}),$e&&y.jsx("div",{style:{marginTop:6,fontSize:11,fontWeight:600,color:w.accent},children:"Course completed "}),y.jsx("button",{onClick:()=>ge(X.id),style:{marginTop:8,alignSelf:"flex-start",padding:"6px 12px",borderRadius:999,border:"none",background:w.primary,color:"#ffffff",fontSize:12,fontWeight:600,cursor:"pointer",...at},onMouseEnter:tn=>{tn.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:tn=>{tn.currentTarget.style.transform="translateY(0)"},children:$e?"Review course":"Continue course"})]})]},X.id)})})]}),y.jsxs("div",{children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,alignItems:"center",gap:10,...zt(320)},children:[y.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:w.textMain},children:"All courses"}),y.jsxs("span",{style:{fontSize:12,color:w.textMuted},children:[lt.length," shown",k||Q!=="all"||q!=="all"?` of ${e.length} (filtered)`:""]})]}),y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,marginBottom:14,alignItems:"center",justifyContent:"space-between",...zt(340)},children:[y.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.jsx("button",{style:Sn(Q==="all"),onClick:()=>z("all"),children:"All"}),y.jsx("button",{style:Sn(Q==="enrolled"),onClick:()=>z("enrolled"),children:"Enrolled"}),y.jsx("button",{style:Sn(Q==="available"),onClick:()=>z("available"),children:"Not enrolled"})]}),y.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[y.jsxs("select",{value:q,onChange:X=>Y(X.target.value),style:{fontSize:11,padding:"6px 10px",borderRadius:999,border:`1px solid ${w.border}`,background:w.surface,color:w.textMain,transition:"border 0.2s ease, box-shadow 0.2s ease"},children:[y.jsx("option",{value:"all",children:"All categories"}),he.map(X=>y.jsx("option",{value:X,children:X},X))]}),y.jsxs("select",{value:ee,onChange:X=>le(X.target.value),style:{fontSize:11,padding:"6px 10px",borderRadius:999,border:`1px solid ${w.border}`,background:w.surface,color:w.textMain,transition:"border 0.2s ease, box-shadow 0.2s ease"},children:[y.jsx("option",{value:"newest",children:"Sort: Newest"}),y.jsx("option",{value:"az",children:"Sort: AZ"}),y.jsx("option",{value:"progress",children:"Sort: Progress"})]})]})]}),T?y.jsx("p",{style:{fontSize:13,color:w.textMuted},children:"Loading courses..."}):lt.length===0?y.jsx("p",{style:{fontSize:13,color:w.textMuted},children:k||Q!=="all"||q!=="all"?"No courses match your filters.":"No courses yet."}):y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:20},children:lt.map((X,Re)=>{const _e=!!s[X.id],je=X.imageUrl||"",Ze=je?L(je):"",pn=_e?Tn(X.id):0;return y.jsxs("div",{style:{background:w.surface,borderRadius:12,overflow:"hidden",border:`1px solid ${w.border}`,boxShadow:ae==="dark"?"0 6px 14px rgba(15,23,42,0.7)":"0 6px 14px rgba(15,23,42,0.06)",display:"flex",flexDirection:"column",...zt(360+Re*40),...st},onMouseEnter:$e=>{$e.currentTarget.style.transform="translateY(-3px)",$e.currentTarget.style.boxShadow=ae==="dark"?"0 14px 28px rgba(0,0,0,0.9)":"0 14px 28px rgba(15,23,42,0.18)"},onMouseLeave:$e=>{$e.currentTarget.style.transform="translateY(0)",$e.currentTarget.style.boxShadow=ae==="dark"?"0 6px 14px rgba(15,23,42,0.7)":"0 6px 14px rgba(15,23,42,0.06)"},children:[y.jsxs("div",{style:{position:"relative"},children:[Ze?y.jsx("img",{src:Ze,alt:X.title,style:{width:"100%",height:140,objectFit:"cover",display:"block",transition:"transform 0.25s ease"},onMouseEnter:$e=>{$e.currentTarget.style.transform="scale(1.03)"},onMouseLeave:$e=>{$e.currentTarget.style.transform="scale(1)"},onError:$e=>{$e.currentTarget.style.display="none";const wn=$e.currentTarget.parentElement;wn.style.background="linear-gradient(135deg, #e5e7eb, #d1d5db)",wn.style.display="flex",wn.style.alignItems="center",wn.style.justifyContent="center",wn.textContent="No image"}}):y.jsx("div",{style:{width:"100%",height:140,background:"linear-gradient(135deg, #e5e7eb, #d1d5db)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:13,color:"#4b5563",fontWeight:500},children:"No image"}),X.badge&&y.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:w.primary,color:"white",fontSize:11,fontWeight:600},children:X.badge}),!X.badge&&_e&&y.jsxs("div",{style:{position:"absolute",top:8,left:8,padding:"4px 10px",borderRadius:999,background:w.primarySoft,color:w.primary,fontSize:11,fontWeight:600},children:["Enrolled",pn?`  ${pn}%`:""]})]}),y.jsxs("div",{style:{padding:12,display:"flex",flexDirection:"column",flex:1},children:[y.jsx("div",{style:{fontSize:15,fontWeight:700,color:w.textMain,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:40},children:X.title||"Untitled course"}),y.jsx("div",{style:{marginTop:6,fontSize:12,color:w.textMuted,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:32},children:X.description||"No description yet."}),y.jsx("button",{onClick:()=>_e?ge(X.id):Pe(X.id),style:{marginTop:10,padding:"8px 12px",borderRadius:999,border:"none",background:_e?w.primary:w.accent,color:"#ffffff",fontSize:13,fontWeight:600,cursor:"pointer",alignSelf:"stretch",...at},onMouseEnter:$e=>{$e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:$e=>{$e.currentTarget.style.transform="translateY(0)"},children:_e?"Go to course":"Start course"})]})]},X.id)})})]})]})})}function KO({user:r}){const[e,n]=I.useState([]),[s,o]=I.useState(""),[u,h]=I.useState(""),[p,m]=I.useState(""),[g,E]=I.useState(null),[T,R]=I.useState(""),[V,B]=I.useState(""),[Q,z]=I.useState(""),[q,Y]=I.useState(null),[ee,le]=I.useState(""),[ae,oe]=I.useState([]),[D,A]=I.useState(""),[C,w]=I.useState(""),[M,L]=I.useState(""),[N,Je]=I.useState(""),[bt,J]=I.useState(""),[ue,ge]=I.useState(""),[Pe,Qe]=I.useState(""),[k,te]=I.useState(null),[he,de]=I.useState(""),[Ee,Te]=I.useState(""),[Le,yt]=I.useState(""),[rt,Yn]=I.useState(""),[oi,En]=I.useState(""),[Tn,lt]=I.useState(""),[li,Sn]=I.useState(""),[ui,zt]=I.useState([]),[st,at]=I.useState(""),[Mn,X]=I.useState(["","","",""]),[Re,_e]=I.useState(0),[je,Ze]=I.useState(null),[pn,$e]=I.useState(""),[wn,tn]=I.useState(["","","",""]),[aa,es]=I.useState(0),[kn,Bt]=I.useState(null),[An,wt]=I.useState([]),[ts,Er]=I.useState(""),[ns,Qn]=I.useState(""),[ci,Ct]=I.useState(!1),[Vn,xn]=I.useState(null),[Rn,$a]=I.useState(""),[is,Kn]=I.useState(""),[hi,Wa]=I.useState(!1),[ki,$i]=I.useState(null),[rs,Tr]=I.useState([]),mn="#6d28d9",Xa="#f5f3ff";I.useEffect(()=>{const P=Ii(Pt(xe,"courses"),Di("createdAt","desc"));return Ni(P,Ce=>{n(Ce.docs.map(Be=>({id:Be.id,...Be.data()})))})},[]),I.useEffect(()=>{if(!q)return oe([]);const P=Ii(Pt(xe,"courses",q,"lessons"),Di("createdAt","asc"));return Ni(P,Ce=>{oe(Ce.docs.map(Be=>({id:Be.id,...Be.data()})))})},[q]),I.useEffect(()=>{if(!q||!k)return zt([]);const P=Ii(Pt(xe,"courses",q,"lessons",k,"quizzes"),Di("createdAt","asc"));return Ni(P,Ce=>{zt(Ce.docs.map(Be=>({id:Be.id,...Be.data()})))})},[q,k]),I.useEffect(()=>{const P=Ii(Pt(xe,"newsletters"),Di("createdAt","desc")),Ce=Ni(P,Be=>{Tr(Be.docs.map(Xe=>({id:Xe.id,...Xe.data()})))});return()=>Ce()},[]);const $n=P=>{Y(P.id),le(P.title),A(""),w(""),L(""),Je(""),J(""),ge(""),Qe(""),te(null),de(""),Te(""),yt(""),Yn(""),En(""),lt(""),Sn(""),at(""),X(["","","",""]),_e(0),Ze(null),$e(""),tn(["","","",""]),es(0)},Wn=async P=>{P.preventDefault(),s.trim()&&(await fu(Pt(xe,"courses"),{title:s.trim(),description:u.trim(),imageUrl:p.trim()||null,createdBy:r.uid,createdByEmail:r.email,lessonCount:0,createdAt:Hi()}),o(""),h(""),m(""))},Dt=P=>{E(P.id),R(P.title),B(P.description||""),z(P.imageUrl||"")},qt=async P=>{P.preventDefault(),g&&(await Oa(_t(xe,"courses",g),{title:T.trim(),description:V.trim(),imageUrl:Q.trim()||null}),E(null),R(""),B(""),z(""))},di=async P=>{await qp(_t(xe,"courses",P)),q===P&&(Y(null),oe([]))},ss=async P=>{if(P.preventDefault(),!q||!D.trim())return;const Ce=ue?ue.split(",").map(Be=>Be.trim()).filter(Boolean):[];await fu(Pt(xe,"courses",q,"lessons"),{title:D.trim(),description:C.trim(),content:M.trim(),youtubeUrl:N.trim()||null,pdfUrl:bt.trim()||null,imageUrls:Ce,duration:Pe.trim()||null,createdAt:Hi()}),await Oa(_t(xe,"courses",q),{lessonCount:Fb(1)}),A(""),w(""),L(""),Je(""),J(""),ge(""),Qe("")},cl=P=>{te(P.id),de(P.title),Te(P.description||""),yt(P.content||""),Yn(P.youtubeUrl||""),En(P.pdfUrl||""),Sn(P.duration||""),lt(Array.isArray(P.imageUrls)?P.imageUrls.join(", "):"")},Ja=async P=>{if(P.preventDefault(),!q||!k)return;const Ce=Tn?Tn.split(",").map(Be=>Be.trim()).filter(Boolean):[];await Oa(_t(xe,"courses",q,"lessons",k),{title:he.trim(),description:Ee.trim(),content:Le.trim(),youtubeUrl:rt.trim()||null,pdfUrl:oi.trim()||null,imageUrls:Ce,duration:li.trim()||null}),te(null)},Za=async P=>{q&&(await qp(_t(xe,"courses",q,"lessons",P)),await Oa(_t(xe,"courses",q),{lessonCount:Fb(-1)}),k===P&&te(null))},fi=async P=>{P.preventDefault(),!(!q||!k)&&st.trim()&&(await fu(Pt(xe,"courses",q,"lessons",k,"quizzes"),{question:st.trim(),options:Mn.map(Ce=>Ce.trim()),correctIndex:Re,createdAt:Hi()}),at(""),X(["","","",""]),_e(0))},as=P=>{Ze(P.id),$e(P.question),tn(P.options||["","","",""]),es(P.correctIndex??0)},pi=async P=>{P.preventDefault(),!(!q||!k||!je)&&(await Oa(_t(xe,"courses",q,"lessons",k,"quizzes",je),{question:pn.trim(),options:wn.map(Ce=>Ce.trim()),correctIndex:aa}),Ze(null))},Ln=async P=>{!q||!k||(await qp(_t(xe,"courses",q,"lessons",k,"quizzes",P)),je===P&&Ze(null))},Cn=async P=>{Bt(P),wt([]);const Be=(await bm(Pt(xe,"users"))).docs.map(Ht=>({id:Ht.id,...Ht.data()})),Xe=[];for(const Ht of Be){const Sr=_t(xe,"users",Ht.id,"progress",P.id),os=await Yr(Sr);os.exists()&&Xe.push({email:Ht.email,...os.data()})}wt(Xe)},mi=async P=>{if(P.preventDefault(),xn(null),!ts.trim()||!ns.trim()){xn("missing");return}Ct(!0);try{const Ce=await bm(Pt(xe,"users")),Be=qT(xe);Ce.forEach(Xe=>{if(Xe.data().role==="student"){const Sr=_t(Pt(xe,"users",Xe.id,"notifications"));Be.set(Sr,{title:ts.trim(),body:ns.trim(),createdAt:Hi(),read:!1,from:r.email||r.uid})}}),await Be.commit(),xn("ok"),Er(""),Qn("")}catch(Ce){console.error("Error sending notifications:",Ce),xn("error")}Ct(!1)};return y.jsx("div",{style:{padding:0,display:"flex",justifyContent:"center",background:Xa,minHeight:"100%"},children:y.jsxs("div",{style:{width:"100%",maxWidth:1200,padding:24},children:[y.jsx("div",{style:{marginBottom:18,display:"flex",justifyContent:"space-between",alignItems:"center"},children:y.jsxs("div",{children:[y.jsx("h2",{style:{margin:0,fontSize:20,fontWeight:700,color:"#111827"},children:"Instructor Studio"}),y.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:"#6b7280"},children:["Welcome, ",r.email]})]})}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.4fr) minmax(0, 2fr)",gap:18,alignItems:"flex-start"},children:[y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:14},children:[y.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.06)"},children:[y.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827",marginBottom:10},children:"Create a new course"}),y.jsxs("form",{onSubmit:Wn,children:[y.jsx("input",{placeholder:"Course title",value:s,onChange:P=>o(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:14}}),y.jsx("textarea",{placeholder:"Short description",value:u,onChange:P=>h(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13,resize:"vertical"}}),y.jsx("input",{placeholder:"Course image URL (optional)",value:p,onChange:P=>m(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"8px 10px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("button",{type:"submit",style:{padding:"8px 14px",borderRadius:999,border:"none",background:mn,color:"white",fontSize:13,fontWeight:600,cursor:"pointer"},children:"Add course"})]})]}),y.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 22px rgba(15,23,42,0.05)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[y.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:"Your courses"}),y.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:`${e.length} total`})]}),e.length===0&&y.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No courses yet."}),y.jsx("div",{style:{marginTop:6},children:e.map(P=>{const Ce=q===P.id;return y.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #eef2ff",marginBottom:8,background:Ce?"#eef2ff":"#f9fafb"},children:[y.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:P.title}),y.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:P.description||"No description."}),typeof P.lessonCount=="number"&&y.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[P.lessonCount," lesson",P.lessonCount===1?"":"s"]}),y.jsxs("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:6},children:[y.jsx("button",{onClick:()=>$n(P),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,fontWeight:600,background:Ce?mn:"#e5e7eb",color:Ce?"white":"#111827",cursor:"pointer"},children:"Lessons"}),y.jsx("button",{onClick:()=>Dt(P),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit"}),y.jsx("button",{onClick:()=>di(P.id),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"}),y.jsx("button",{onClick:()=>Cn(P),style:{padding:"4px 10px",borderRadius:999,border:"none",fontSize:12,background:"#fef9c3",color:"#92400e",cursor:"pointer"},children:"Analytics"})]})]},P.id)})}),g&&y.jsxs("div",{style:{marginTop:12,padding:10,borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[y.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Edit course"}),y.jsxs("form",{onSubmit:qt,children:[y.jsx("input",{value:T,onChange:P=>R(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{value:V,onChange:P=>B(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("input",{placeholder:"Course image URL (optional)",value:Q,onChange:P=>z(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("button",{type:"submit",style:{padding:"6px 12px",borderRadius:999,border:"none",background:mn,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save"}),y.jsx("button",{type:"button",onClick:()=>E(null),style:{padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,marginLeft:8,cursor:"pointer"},children:"Cancel"})]})]})]}),kn&&y.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[y.jsxs("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:6},children:[" Analytics: ",kn.title]}),An.length===0?y.jsx("p",{style:{fontSize:13,color:"#6b7280"},children:"No student progress yet."}):An.map((P,Ce)=>{const Be=P.completedLessons?.length||0,Xe=ae.length||0,Ht=Xe===0?0:Math.round(Be/Xe*100);return y.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginTop:8,background:"#f9fafb"},children:[y.jsx("b",{style:{fontSize:13},children:P.email}),y.jsx("div",{style:{width:"100%",background:"#e5e7eb",height:6,borderRadius:999,marginTop:4},children:y.jsx("div",{style:{width:`${Ht}%`,height:"100%",borderRadius:999,background:"#16a34a"}})}),y.jsxs("div",{style:{fontSize:12,marginTop:4,color:"#4b5563"},children:[Be,"/",Xe," lessons (",Ht,"%)"]})]},Ce)}),y.jsx("button",{onClick:()=>Bt(null),style:{marginTop:10,padding:"6px 12px",borderRadius:999,border:"none",background:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Close analytics"})]}),y.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[y.jsx("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:8},children:"Send notification to all students"}),y.jsxs("form",{onSubmit:mi,children:[y.jsx("input",{placeholder:"Notification title",value:ts,onChange:P=>Er(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{placeholder:"Message body",value:ns,onChange:P=>Qn(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("button",{type:"submit",disabled:ci,style:{padding:"7px 12px",borderRadius:999,border:"none",background:ci?"#9ca3af":"#5b21b6",color:"white",fontSize:13,fontWeight:600,cursor:ci?"not-allowed":"pointer"},children:ci?"Sending...":"Send to all students"})]}),Vn==="missing"&&y.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Please fill both title and message."}),Vn==="ok"&&y.jsx("p",{style:{fontSize:12,color:"#16a34a",marginTop:6},children:"Notification sent to all students."}),Vn==="error"&&y.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Something went wrong while sending."})]}),y.jsxs("section",{style:{background:"white",borderRadius:18,padding:14,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[y.jsx("h3",{style:{margin:0,fontSize:15,fontWeight:700,color:"#111827",marginBottom:8},children:"Write newsletter / announcement (visible to everyone)"}),y.jsxs("form",{onSubmit:async P=>{if(P.preventDefault(),$i(null),!Rn.trim()||!is.trim()){$i("missing");return}Wa(!0);try{await fu(Pt(xe,"newsletters"),{title:Rn.trim(),content:is.trim(),createdAt:Hi(),authorId:r.uid,authorEmail:r.email}),$a(""),Kn(""),$i("ok")}catch(Ce){console.error("Newsletter error:",Ce),$i("error")}Wa(!1)},children:[y.jsx("input",{placeholder:"Title",value:Rn,onChange:P=>$a(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{placeholder:"Newsletter / announcement content",value:is,onChange:P=>Kn(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("button",{type:"submit",disabled:hi,style:{padding:"7px 12px",borderRadius:999,border:"none",background:hi?"#9ca3af":"#6d28d9",color:"white",fontSize:13,fontWeight:600,cursor:hi?"not-allowed":"pointer"},children:hi?"Publishing...":"Publish newsletter"})]}),ki==="missing"&&y.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Please fill both title and content."}),ki==="ok"&&y.jsx("p",{style:{fontSize:12,color:"#16a34a",marginTop:6},children:"Newsletter published."}),ki==="error"&&y.jsx("p",{style:{fontSize:12,color:"#b91c1c",marginTop:6},children:"Something went wrong."}),y.jsx("hr",{style:{margin:"14px 0 10px",border:"none",borderTop:"1px solid #e5e7eb"}}),y.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:600,color:"#111827"},children:"Recent newsletters"}),rs.length===0?y.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:"No newsletters yet."}):rs.map(P=>{const Ce=P.content||P.body||P.message||"",Be=P.createdAt&&P.createdAt.toDate?P.createdAt.toDate().toLocaleString():"Recently";return y.jsxs("div",{style:{padding:8,borderRadius:10,border:"1px solid #e5e7eb",marginBottom:8,background:"#f9fafb"},children:[y.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:2,color:"#111827"},children:P.title||"Untitled"}),y.jsx("div",{style:{fontSize:13,color:"#4b5563",whiteSpace:"pre-wrap",marginBottom:4},children:Ce}),y.jsxs("div",{style:{fontSize:11,color:"#9ca3af"},children:[Be,"  ",P.authorEmail||"Instructor"]})]},P.id)})]})]}),y.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:q?y.jsxs("section",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[y.jsxs("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#111827"},children:["Lessons in ",ee]}),y.jsxs("span",{style:{fontSize:12,color:"#6b7280"},children:[ae.length," lesson",ae.length===1?"":"s"]})]}),y.jsxs("form",{onSubmit:ss,style:{marginBottom:12},children:[y.jsx("input",{placeholder:"Lesson title",value:D,onChange:P=>A(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{placeholder:"Short summary (Overview tab)",value:C,onChange:P=>w(P.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{placeholder:"Full theory / explanation",value:M,onChange:P=>L(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("input",{placeholder:"YouTube URL (unlisted / private link)",value:N,onChange:P=>Je(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("input",{placeholder:"PDF URL (optional)",value:bt,onChange:P=>J(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{placeholder:"Image URLs (comma separated)",value:ue,onChange:P=>ge(P.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("input",{placeholder:"Duration in minutes (optional)",value:Pe,onChange:P=>Qe(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("button",{type:"submit",style:{padding:"7px 12px",borderRadius:999,border:"none",background:mn,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add lesson"})]}),y.jsx("div",{children:ae.map(P=>y.jsxs("div",{style:{padding:10,borderRadius:12,border:"1px solid #e5e7eb",marginTop:8,background:k===P.id?"#eef2ff":"#f9fafb"},children:[y.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:P.title}),y.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:2},children:P.description||P.content}),P.duration&&y.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginTop:2},children:[P.duration," min"]}),y.jsxs("div",{style:{marginTop:6,display:"flex",gap:6,flexWrap:"wrap"},children:[y.jsx("button",{onClick:()=>cl(P),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"white",borderWidth:1,borderStyle:"solid",borderColor:"#e5e7eb",cursor:"pointer"},children:"Edit lesson / quiz"}),y.jsx("button",{onClick:()=>Za(P.id),style:{padding:"4px 9px",borderRadius:999,border:"none",fontSize:12,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},P.id))}),k&&y.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f9fafb"},children:[y.jsx("h4",{style:{margin:"0 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Edit lesson"}),y.jsxs("form",{onSubmit:Ja,children:[y.jsx("input",{value:he,onChange:P=>de(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),y.jsx("textarea",{value:Ee,onChange:P=>Te(P.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Short summary (Overview)"}),y.jsx("textarea",{value:Le,onChange:P=>yt(P.target.value),rows:3,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Full theory"}),y.jsx("input",{value:rt,onChange:P=>Yn(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"YouTube URL"}),y.jsx("input",{value:oi,onChange:P=>En(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"PDF URL"}),y.jsx("textarea",{value:Tn,onChange:P=>lt(P.target.value),rows:2,style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Image URLs (comma separated)"}),y.jsx("input",{value:li,onChange:P=>Sn(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},placeholder:"Duration in minutes"}),y.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:mn,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save lesson"})]}),y.jsx("h4",{style:{margin:"16px 0 8px",fontSize:14,fontWeight:700,color:"#111827"},children:"Quiz questions"}),y.jsxs("form",{onSubmit:fi,children:[y.jsx("input",{placeholder:"Quiz question",value:st,onChange:P=>at(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),Mn.map((P,Ce)=>y.jsx("input",{placeholder:`Option ${Ce+1}`,value:P,onChange:Be=>{const Xe=[...Mn];Xe[Ce]=Be.target.value,X(Xe)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},Ce)),y.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),y.jsxs("select",{value:Re,onChange:P=>_e(Number(P.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[y.jsx("option",{value:0,children:"Option 1"}),y.jsx("option",{value:1,children:"Option 2"}),y.jsx("option",{value:2,children:"Option 3"}),y.jsx("option",{value:3,children:"Option 4"})]}),y.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:"#16a34a",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Add question"})]}),ui.map((P,Ce)=>y.jsxs("div",{style:{marginTop:10,paddingTop:8,borderTop:"1px solid #e5e7eb",fontSize:13},children:[y.jsxs("b",{children:["Q",Ce+1,": ",P.question]}),P.options?.map((Be,Xe)=>y.jsxs("div",{style:{fontSize:12},children:[Xe+1,". ",Be," ",P.correctIndex===Xe&&y.jsx("strong",{children:"(correct)"})]},Xe)),y.jsxs("div",{style:{marginTop:4,display:"flex",gap:6},children:[y.jsx("button",{onClick:()=>as(P),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#e5e7eb",cursor:"pointer"},children:"Edit"}),y.jsx("button",{onClick:()=>Ln(P.id),style:{padding:"3px 8px",borderRadius:999,border:"none",fontSize:11,background:"#fee2e2",color:"#b91c1c",cursor:"pointer"},children:"Delete"})]})]},P.id)),je&&y.jsxs("form",{onSubmit:pi,style:{marginTop:14,padding:10,background:"#f3f4f6",borderRadius:10},children:[y.jsx("h5",{style:{margin:"0 0 6px",fontSize:13,fontWeight:600,color:"#111827"},children:"Edit quiz question"}),y.jsx("input",{value:pn,onChange:P=>$e(P.target.value),style:{display:"block",marginBottom:8,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}}),wn.map((P,Ce)=>y.jsx("input",{value:P,onChange:Be=>{const Xe=[...wn];Xe[Ce]=Be.target.value,tn(Xe)},style:{display:"block",marginBottom:6,width:"100%",padding:"7px 9px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13}},Ce)),y.jsx("label",{style:{fontSize:12,color:"#4b5563"},children:"Correct option:"}),y.jsxs("select",{value:aa,onChange:P=>es(Number(P.target.value)),style:{display:"block",marginBottom:8,marginTop:2,padding:"6px 8px",borderRadius:10,border:"1px solid #e5e7eb",fontSize:13},children:[y.jsx("option",{value:0,children:"Option 1"}),y.jsx("option",{value:1,children:"Option 2"}),y.jsx("option",{value:2,children:"Option 3"}),y.jsx("option",{value:3,children:"Option 4"})]}),y.jsx("button",{type:"submit",style:{padding:"6px 11px",borderRadius:999,border:"none",background:mn,color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Save quiz"})]})]})]}):y.jsx("div",{style:{background:"white",borderRadius:18,padding:16,border:"1px solid #e5e7eb",boxShadow:"0 8px 20px rgba(15,23,42,0.04)",fontSize:13,color:"#6b7280"},children:"Select a course on the left to manage lessons and quizzes."})})]})]})})}const Gp={light:{background:"#f3f4f6",surface:"#ffffff",surfaceSoft:"#f9fafb",primary:"#2563eb",primarySoft:"#dbeafe",accent:"#10b981",textMain:"#111827",textMuted:"#6b7280",border:"#e5e7eb"},dark:{background:"#020617",surface:"#020617",surfaceSoft:"#0f172a",primary:"#38bdf8",primarySoft:"#082f49",accent:"#22c55e",textMain:"#e5e7eb",textMuted:"#9ca3af",border:"#1f2937"},green:{background:"#ecfdf5",surface:"#ffffff",surfaceSoft:"#f0fdf4",primary:"#16a34a",primarySoft:"#dcfce7",accent:"#0ea5e9",textMain:"#022c22",textMuted:"#047857",border:"#bbf7d0"},orange:{background:"#fff7ed",surface:"#ffffff",surfaceSoft:"#fff7ed",primary:"#f97316",primarySoft:"#ffedd5",accent:"#22c55e",textMain:"#7c2d12",textMuted:"#9a3412",border:"#fed7aa"}};function $O(r){if(!r)return null;try{const e=new URL(r),n=e.searchParams.get("v");if(n)return n;if(e.hostname==="youtu.be")return e.pathname.replace("/","")||null}catch{}return null}function WO({user:r}){const{courseId:e}=u1(),[n,s]=I.useState(null),[o,u]=I.useState([]),[h,p]=I.useState(null),[m,g]=I.useState("overview"),[E,T]=I.useState("light"),[R,V]=I.useState([]),[B,Q]=I.useState(!1),[z,q]=I.useState(!1);I.useEffect(()=>{const A=localStorage.getItem("makerworks-theme");A&&Gp[A]&&T(A)},[]),I.useEffect(()=>{const A=setTimeout(()=>q(!0),10);return()=>clearTimeout(A)},[]);const Y=Gp[E]||Gp.light;I.useEffect(()=>{async function A(){const C=_t(xe,"courses",e),w=await Yr(C);w.exists()&&s({id:w.id,...w.data()})}A()},[e]),I.useEffect(()=>{async function A(){const C=Pt(xe,"courses",e,"lessons"),w=Ii(C,Di("createdAt","asc")),L=(await bm(w)).docs.map(N=>({id:N.id,...N.data()}));u(L),L.length>0&&p(N=>N||L[0])}A()},[e]),I.useEffect(()=>{if(!r)return;async function A(){const C=_t(xe,"users",r.uid,"progress",e);await ja(C,{startedAt:Hi()},{merge:!0})}A()},[r,e]),I.useEffect(()=>{if(!r)return;async function A(){try{const C=_t(xe,"users",r.uid,"progress",e),w=await Yr(C);if(w.exists()){const M=w.data(),L=Array.isArray(M.completedLessons)?M.completedLessons:[];V(L)}}catch(C){console.error("Error loading progress for course page:",C)}}A()},[r,e]);const ee=async A=>{if(p(A),g("overview"),r)try{const C=_t(xe,"users",r.uid,"progress",e);await ja(C,{lastOpenedLessonId:A.id,lastOpenedAt:Hi()},{merge:!0})}catch(C){console.error("Error updating lesson progress:",C)}},le=async()=>{if(!(!r||!h))try{const A=_t(xe,"users",r.uid,"progress",e),C=await Yr(A);let w=[];if(C.exists()){const L=C.data();w=Array.isArray(L.completedLessons)?[...L.completedLessons]:[]}const M=w.indexOf(h.id);M===-1?w.push(h.id):w.splice(M,1),await ja(A,{completedLessons:w,lastOpenedLessonId:h.id,lastOpenedAt:Hi()},{merge:!0}),V(w)}catch(A){console.error("Error toggling completed lesson:",A)}};I.useEffect(()=>{if(Q(!1),!h)return;const A=$O(h.youtubeUrl);if(!A){Q(!0);return}if(typeof window>"u")return;let C=null,w=!1;function M(){w||(C=new window.YT.Player("yt-player",{height:"100%",width:"100%",videoId:A,playerVars:{rel:0,modestbranding:1},events:{onStateChange:L=>{L.data===window.YT.PlayerState.ENDED&&Q(!0)}}}))}if(window.YT&&window.YT.Player)M();else{if(!document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const N=document.createElement("script");N.src="https://www.youtube.com/iframe_api",document.body.appendChild(N)}const L=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{typeof L=="function"&&L(),M()}}return()=>{w=!0,C&&C.destroy&&C.destroy()}},[h?.id,h?.youtubeUrl]);const ae=h?.description||n?.description||"This lesson description will appear here.",oe=h?R.includes(h.id):!1,D=(A=0)=>({opacity:z?1:0,transform:z?"translateY(0)":"translateY(8px)",transition:`opacity 0.25s ease ${A}ms, transform 0.25s ease ${A}ms`});return y.jsxs("div",{className:"cp-root",style:{display:"flex",height:"calc(100vh - 56px)",background:Y.background,color:Y.textMain,transition:"background 0.3s ease, color 0.3s ease"},children:[y.jsxs("div",{className:"cp-left",style:{flex:1,display:"flex",flexDirection:"column",background:Y.surfaceSoft,borderRight:`1px solid ${Y.border}`,...D(40)},children:[y.jsxs("div",{style:{padding:"10px 16px",background:Y.surface,borderBottom:`1px solid ${Y.border}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:14,fontWeight:700,color:Y.textMain,marginBottom:2},children:n?.title||"Course"}),y.jsx("div",{style:{fontSize:12,color:Y.textMuted},children:h?`Now playing: ${h.title||"Lesson"}`:"Select a lesson on the right"})]}),o.length>0&&y.jsxs("div",{style:{fontSize:11,color:Y.textMuted},children:[R.length,"/",o.length," lessons complete"]})]}),y.jsx("div",{style:{position:"relative",width:"100%",height:"55vh",minHeight:320,background:"#020617",overflow:"hidden"},children:h?h.youtubeUrl?y.jsx("div",{id:"yt-player",style:{position:"absolute",inset:0}}):y.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#f9fafb"},children:[y.jsx("div",{style:{marginBottom:12,fontSize:18,fontWeight:600},children:h.title||"Lesson"}),y.jsx("button",{style:{width:82,height:82,borderRadius:"999px",border:"none",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",boxShadow:"0 12px 30px rgba(0,0,0,0.5)"},children:y.jsx("div",{style:{marginLeft:5,width:0,height:0,borderTop:"14px solid transparent",borderBottom:"14px solid transparent",borderLeft:"24px solid #111827"}})}),y.jsx("div",{style:{marginTop:8,fontSize:12,color:"#e5e7eb"},children:"No YouTube link set for this lesson."})]}):y.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:13},children:"Select a lesson on the right"})}),y.jsxs("div",{style:{padding:"8px 16px",background:Y.surface,borderBottom:`1px solid ${Y.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12},children:[y.jsx("div",{style:{color:Y.textMuted},children:h?y.jsxs(y.Fragment,{children:["Lesson:"," ",y.jsx("span",{style:{fontWeight:600,color:Y.textMain},children:h.title||"Untitled"})]}):"No lesson selected"}),h&&y.jsx("button",{onClick:le,disabled:!B,style:{border:"none",borderRadius:999,padding:"6px 12px",fontSize:12,fontWeight:600,cursor:B?"pointer":"not-allowed",opacity:B?1:.6,background:oe?Y.accent:Y.primary,color:"#ffffff",boxShadow:E==="dark"?"0 4px 10px rgba(0,0,0,0.8)":"0 4px 10px rgba(15,23,42,0.18)",transition:"transform 0.15s ease, box-shadow 0.15s ease"},onMouseEnter:A=>{B&&(A.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)"},children:oe?"Mark as not done":"Mark as complete"})]}),y.jsxs("div",{style:{background:Y.surfaceSoft,color:Y.textMain,flex:1,overflowY:"auto"},children:[y.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${Y.border}`,background:Y.surface,padding:"0 16px"},children:[{id:"overview",label:"Overview"},{id:"theory",label:"Theory"},{id:"resources",label:"Resources"}].map(A=>{const C=m===A.id;return y.jsx("button",{onClick:()=>g(A.id),style:{border:"none",background:"transparent",padding:"12px 14px",cursor:"pointer",fontSize:14,borderBottom:C?`2px solid ${Y.primary}`:"2px solid transparent",color:C?Y.primary:Y.textMuted,fontWeight:C?600:500,transition:"color 0.2s ease, border-bottom 0.2s ease"},children:A.label},A.id)})}),y.jsxs("div",{style:{padding:"16px 20px 20px",fontSize:14,...D(120)},children:[m==="overview"&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{style:{margin:"0 0 6px",fontSize:20,fontWeight:700,color:Y.textMain},children:h?.title||n?.title||"Lesson overview"}),y.jsx("p",{style:{margin:"0 0 10px",color:Y.textMuted},children:ae}),y.jsxs("p",{style:{margin:"12px 0 0",fontSize:13,color:Y.textMuted},children:["Course:"," ",y.jsx("span",{style:{fontWeight:600,color:Y.textMain},children:n?.title||"Course"})]}),h?.duration&&y.jsxs("p",{style:{margin:"4px 0 0",fontSize:13,color:Y.textMuted},children:["Duration: ",h.duration," min"]})]}),m==="theory"&&y.jsx("div",{style:{fontSize:14,color:Y.textMain,lineHeight:1.6,whiteSpace:"pre-wrap"},children:h?.content||"Detailed theory/content for this lesson will go here."}),m==="resources"&&y.jsxs("div",{style:{fontSize:14,color:Y.textMuted,display:"flex",flexDirection:"column",gap:16},children:[h?.pdfUrl?y.jsxs("div",{children:[y.jsx("p",{style:{marginBottom:6,color:Y.textMain},children:"PDF resource for this lesson:"}),y.jsx("a",{href:h.pdfUrl,target:"_blank",rel:"noreferrer",style:{fontSize:14,color:Y.primary,fontWeight:600},children:" Open PDF in new tab"}),y.jsx("div",{style:{marginTop:10,border:`1px solid ${Y.border}`,borderRadius:8,overflow:"hidden",height:400,background:Y.surface},children:y.jsx("iframe",{src:h.pdfUrl,title:"Lesson PDF",style:{width:"100%",height:"100%",border:"none"}})})]}):y.jsx("p",{style:{margin:0},children:"No PDF attached for this lesson."}),h?.imageUrls&&Array.isArray(h.imageUrls)&&h.imageUrls.length>0&&y.jsxs("div",{children:[y.jsx("p",{style:{marginBottom:6,color:Y.textMain},children:"Images for this lesson:"}),y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:h.imageUrls.map((A,C)=>y.jsx("div",{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${Y.border}`,background:Y.surface},children:y.jsx("img",{src:A,alt:`Resource ${C+1}`,style:{width:"100%",height:120,objectFit:"cover",display:"block",transition:"transform 0.25s ease"},onMouseEnter:w=>{w.currentTarget.style.transform="scale(1.03)"},onMouseLeave:w=>{w.currentTarget.style.transform="scale(1)"}})},C))})]})]})]})]})]}),y.jsxs("aside",{className:"cp-right",style:{width:320,background:Y.surface,borderLeft:`1px solid ${Y.border}`,display:"flex",flexDirection:"column",...D(80)},children:[y.jsxs("div",{style:{padding:"12px 16px",borderBottom:`1px solid ${Y.border}`,background:Y.surface},children:[y.jsx("div",{style:{fontSize:14,fontWeight:600,color:Y.textMain},children:n?.title||"Course content"}),y.jsxs("div",{style:{fontSize:12,color:Y.textMuted,marginTop:4},children:[o.length," lesson",o.length===1?"":"s"]})]}),y.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[o.map((A,C)=>{const w=h?.id===A.id,M=R.includes(A.id),L=C===0||M||R.includes(o[C-1]?.id);return y.jsxs("button",{onClick:()=>L&&ee(A),disabled:!L,style:{width:"100%",textAlign:"left",border:"none",background:w?Y.surfaceSoft:"transparent",padding:"10px 14px",cursor:L?"pointer":"not-allowed",opacity:L?1:.6,borderBottom:`1px solid ${Y.border}`,display:"flex",alignItems:"flex-start",gap:10,fontSize:13,transition:"background 0.15s ease, opacity 0.15s ease"},onMouseEnter:N=>{!w&&L&&(N.currentTarget.style.background=Y.surfaceSoft)},onMouseLeave:N=>{w||(N.currentTarget.style.background="transparent")},children:[y.jsxs("span",{style:{marginTop:2,fontSize:11,color:Y.textMuted,minWidth:20},children:[C+1,"."]}),y.jsxs("div",{style:{flex:1},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:2},children:[y.jsx("div",{style:{fontWeight:600,color:Y.textMain,marginRight:6},children:A.title||"Lesson"}),M&&y.jsx("span",{style:{fontSize:11,padding:"2px 8px",borderRadius:999,background:Y.accent,color:"#ffffff"},children:" Done"})]}),A.duration&&y.jsxs("div",{style:{fontSize:11,color:Y.textMuted},children:[A.duration," min"]}),!L&&C>0&&y.jsx("div",{style:{marginTop:2,fontSize:11,color:Y.textMuted},children:"Complete the previous lesson to unlock."})]})]},A.id)}),o.length===0&&y.jsx("div",{style:{padding:14,fontSize:13,color:Y.textMuted},children:"No lessons created for this course yet."})]})]})]})}function XO({user:r}){const{courseId:e,lessonId:n}=u1(),[s,o]=I.useState(null),[u,h]=I.useState([]),[p,m]=I.useState({}),[g,E]=I.useState(!1);I.useEffect(()=>{Yr(_t(xe,"courses",e,"lessons",n)).then(V=>{V.exists()&&o(V.data())})},[e,n]),I.useEffect(()=>{const V=Ii(Pt(xe,"courses",e,"lessons",n,"quizzes"),Di("createdAt","asc"));return Ni(V,B=>{h(B.docs.map(Q=>({id:Q.id,...Q.data()})))})},[]);const T=async()=>{const V=_t(xe,"users",r.uid,"progress",e),B=await Yr(V),Q=B.exists()?B.data():{completedLessons:[]};await ja(V,{...Q,completedLessons:[...Q.completedLessons,n]})},R=()=>{E(!0)};return y.jsx("div",{style:{padding:20},children:s&&y.jsxs(y.Fragment,{children:[y.jsx("h2",{children:s.title}),y.jsx("p",{children:s.content}),s.fileUrl&&y.jsxs("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[" ",s.fileName]}),y.jsx("h3",{style:{marginTop:20},children:"Quiz"}),u.map((V,B)=>y.jsxs("div",{style:{marginBottom:12},children:[y.jsxs("b",{children:["Q",B+1,". ",V.question]}),V.options.map((Q,z)=>y.jsx("div",{children:y.jsxs("label",{children:[y.jsx("input",{type:"radio",name:V.id,disabled:g,onChange:()=>m({...p,[V.id]:z})})," ",Q]})},z))]},V.id)),!g&&u.length>0&&y.jsx("button",{onClick:R,style:{padding:"6px 10px",background:"#16a34a",color:"white",border:"none",borderRadius:6},children:"Submit Quiz"}),g&&y.jsx("button",{onClick:T,style:{marginTop:10,padding:"6px 10px",background:"#2563eb",color:"white",border:"none",borderRadius:6},children:"Mark Lesson Complete"})]})})}const JO=["light","dark","green","orange"],Wb={light:{background:"#f3f4f6",surface:"#ffffff",surfaceSoft:"#f9fafb",primary:"#2563eb",primarySoft:"#dbeafe",textMain:"#111827",textMuted:"#6b7280",border:"#e5e7eb"},dark:{background:"#020617",surface:"#020617",surfaceSoft:"#0f172a",primary:"#38bdf8",primarySoft:"#082f49",textMain:"#e5e7eb",textMuted:"#9ca3af",border:"#1f2937"},green:{background:"#ecfdf5",surface:"#ffffff",surfaceSoft:"#f0fdf4",primary:"#16a34a",primarySoft:"#dcfce7",textMain:"#022c22",textMuted:"#047857",border:"#bbf7d0"},orange:{background:"#fff7ed",surface:"#ffffff",surfaceSoft:"#fff7ed",primary:"#f97316",primarySoft:"#ffedd5",textMain:"#7c2d12",textMuted:"#9a3412",border:"#fed7aa"}};function si({children:r}){const e=Jr(),n=Mu(),[s,o]=I.useState(!1),[u,h]=I.useState("light"),p=e.pathname.startsWith("/instructor"),m=p?"/instructor":"/student";I.useEffect(()=>{const q=localStorage.getItem("makerworks-theme");q&&JO.includes(q)&&h(q)},[]);const g=Wb[u]||Wb.light,E=async()=>{try{await ka.signOut(),n("/login")}catch(q){console.error(q)}},T={display:"flex",alignItems:"center",gap:10,padding:"10px 16px",fontSize:14,cursor:"pointer"},R={width:18,textAlign:"center",fontSize:16},V={whiteSpace:"nowrap"},B=()=>o(!1),Q=q=>q===m?e.pathname===m||e.pathname===`${m}/`:e.pathname===q||e.pathname.startsWith(q+"/"),z=[{key:"dashboard",label:"Dashboard",icon:"",path:m},{key:"profile",label:"My Profile",icon:"",path:`${m}/profile`},{key:"change-password",label:"Change Password",icon:"",path:`${m}/change-password`},{key:"messages",label:"Messages",icon:"",path:`${m}/messages`},{key:"notifications",label:"Notifications",icon:"",path:`${m}/notifications`}];return y.jsxs("div",{className:"layout-root",style:{position:"fixed",inset:0,display:"flex",background:g.background,fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif",overflow:"hidden"},children:[s&&y.jsx("div",{className:"layout-backdrop",onClick:B,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.35)",zIndex:15}}),y.jsxs("aside",{className:`layout-sidebar ${s?"sidebar-open":"sidebar-closed"}`,style:{width:220,background:g.primary,color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",zIndex:20},children:[y.jsxs("div",{children:[y.jsx("div",{className:"sidebar-logo",style:{padding:"18px 12px 14px",display:"flex",justifyContent:"center",borderBottom:"1px solid rgba(255,255,255,0.12)"},children:y.jsx("div",{style:{width:72,height:72,borderRadius:"999px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18,color:g.primary,boxShadow:"0 4px 10px rgba(0,0,0,0.18)"},children:"LOGO"})}),y.jsx("nav",{className:"sidebar-nav",style:{marginTop:10},children:z.map(q=>{const Y=Q(q.path);return y.jsxs("div",{style:{...T,backgroundColor:Y?"white":"transparent",color:Y?g.primary:"white",borderRadius:"0 20px 20px 0",marginRight:8},onClick:()=>{n(q.path),B()},children:[y.jsx("span",{style:R,children:q.icon}),y.jsx("span",{style:V,children:q.label})]},q.key)})})]}),y.jsx("div",{className:"sidebar-help",style:{padding:12,borderTop:"1px solid rgba(255,255,255,0.18)"},children:y.jsxs("div",{style:{...T,padding:"8px 10px",justifyContent:"center",borderRadius:999,border:"1px solid rgba(255,255,255,0.7)",fontSize:13},children:[y.jsx("span",{style:{fontSize:16},children:""}),y.jsx("span",{children:"Help & Support"})]})})]}),y.jsxs("div",{className:"layout-main",style:{flex:1,display:"flex",flexDirection:"column",background:g.background},children:[y.jsxs("header",{className:"layout-topbar",style:{height:56,background:g.surface,borderBottom:`1px solid ${g.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",flexShrink:0},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[y.jsx("button",{className:"hamburger-btn",onClick:()=>o(q=>!q),"aria-label":"Toggle menu",style:{width:34,height:34,borderRadius:999,border:`1px solid ${g.border}`,background:g.surface,display:"none",alignItems:"center",justifyContent:"center",padding:0,cursor:"pointer"},children:y.jsx("span",{style:{width:16,height:2,background:g.textMain,display:"block",boxShadow:`0 5px 0 ${g.textMain}, 0 -5px 0 ${g.textMain}`}})}),y.jsx("div",{style:{fontSize:16,fontWeight:600,color:g.textMain},children:p?"Instructor Panel":"Student Panel"})]}),y.jsx("button",{onClick:E,style:{padding:"6px 12px",fontSize:13,borderRadius:999,border:`1px solid ${g.border}`,background:g.surfaceSoft,color:g.textMain,cursor:"pointer"},children:"Logout"})]}),y.jsx("main",{className:"layout-content",style:{flex:1,padding:16,overflow:"auto",background:g.background},children:r})]})]})}function Xb({user:r}){const[e,n]=I.useState([]),[s,o]=I.useState(""),[u,h]=I.useState(!1),p=I.useRef(null);I.useEffect(()=>{const g=Ii(Pt(xe,"messages"),Di("createdAt","asc"),lO(200)),E=Ni(g,T=>{const R=T.docs.map(V=>({id:V.id,...V.data()}));n(R)});return()=>E()},[]),I.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth"})},[e]);const m=async g=>{if(g.preventDefault(),!!s.trim()&&r){h(!0);try{await fu(Pt(xe,"messages"),{text:s.trim(),userId:r.uid,userName:r.displayName||r.email||"User",createdAt:Hi()}),o("")}catch(E){console.error("Error sending message:",E)}finally{h(!1)}}};return y.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx("h2",{style:{marginTop:0,marginBottom:8},children:"Messages"}),y.jsx("p",{style:{fontSize:13,color:"#6b7280",marginTop:0},children:"Global chat room for all users. (v1)"}),y.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"8px 4px",borderRadius:12,background:"#f9fafb",border:"1px solid #e5e7eb",marginBottom:12},children:[e.length===0?y.jsx("p",{style:{fontSize:13,color:"#9ca3af",textAlign:"center",marginTop:40},children:"No messages yet. Start the conversation!"}):e.map(g=>{const E=g.userId===r.uid;return y.jsx("div",{style:{display:"flex",justifyContent:E?"flex-end":"flex-start",marginBottom:6},children:y.jsxs("div",{style:{maxWidth:"70%",padding:"6px 10px",borderRadius:12,background:E?"#5b21b6":"#e5e7eb",color:E?"white":"#111827",fontSize:13},children:[y.jsx("div",{style:{fontSize:11,fontWeight:600,marginBottom:2,opacity:.9},children:E?"You":g.userName||"User"}),y.jsx("div",{children:g.text})]})},g.id)}),y.jsx("div",{ref:p})]}),y.jsxs("form",{onSubmit:m,style:{display:"flex",gap:8},children:[y.jsx("input",{type:"text",value:s,onChange:g=>o(g.target.value),placeholder:"Type a message...",style:{flex:1,padding:"8px 10px",borderRadius:999,border:"1px solid #d1d5db",fontSize:14}}),y.jsx("button",{type:"submit",disabled:u||!s.trim(),style:{padding:"8px 16px",borderRadius:999,border:"none",background:u?"#9ca3af":"#5b21b6",color:"white",fontSize:14,fontWeight:600,cursor:u?"not-allowed":"pointer"},children:"Send"})]})]})}function Jb({user:r}){const[e,n]=I.useState({name:"",email:"",phone:"",dob:"",photoURL:""}),[s,o]=I.useState(null),[u,h]=I.useState(!0),[p,m]=I.useState(!1),[g,E]=I.useState(!1),[T,R]=I.useState(""),[V,B]=I.useState("");I.useEffect(()=>{if(!r)return;(async()=>{try{const le=_t(xe,"users",r.uid),ae=await Yr(le);if(ae.exists()){const oe=ae.data(),D={name:oe.name||"",email:oe.email||r.email||"",phone:oe.phone||"",dob:oe.dob||"",photoURL:oe.photoURL||""};n(D),o(D)}else{const oe={name:"",email:r.email||"",phone:"",dob:"",photoURL:""};n(oe),o(oe)}}catch(le){console.error(le),R("Failed to load profile.")}finally{h(!1)}})()},[r]);const Q=ee=>{const{name:le,value:ae}=ee.target;n(oe=>({...oe,[le]:ae}))},z=()=>{R(""),B(""),m(!0)},q=()=>{s&&n(s),m(!1),R(""),B("")},Y=async ee=>{if(ee.preventDefault(),!!r){E(!0),R(""),B("");try{const le=_t(xe,"users",r.uid);await ja(le,{name:e.name,email:e.email||r.email||"",phone:e.phone,dob:e.dob},{merge:!0}),o({...e}),B("Profile updated successfully."),m(!1)}catch(le){console.error(le),R("Failed to save profile.")}finally{E(!1)}}};return u?y.jsx("div",{style:{padding:16},children:"Loading profile..."}):y.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",maxWidth:480},children:[y.jsx("h2",{style:{marginTop:0,marginBottom:12},children:"My Profile"}),T&&y.jsx("div",{style:{background:"#fee2e2",color:"#b91c1c",padding:8,borderRadius:8,marginBottom:8,fontSize:13},children:T}),V&&y.jsx("div",{style:{background:"#dcfce7",color:"#166534",padding:8,borderRadius:8,marginBottom:8,fontSize:13},children:V}),y.jsxs("form",{onSubmit:Y,children:[y.jsxs("div",{style:{marginBottom:16},children:[y.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:6},children:"Profile Photo"}),y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[y.jsx("div",{style:{width:80,height:80,borderRadius:"50%",background:"#f3f4f6",border:"1px solid #e5e7eb",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,color:"#6b7280"},children:e.photoURL?y.jsx("img",{src:e.photoURL,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):"No photo"}),y.jsx("p",{style:{fontSize:11,color:"#9ca3af",margin:0},children:"Your photo is set by the admin."})]})]}),y.jsxs("div",{style:{marginBottom:12},children:[y.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Name"}),y.jsx("input",{type:"text",name:"name",value:e.name,onChange:Q,disabled:!p,placeholder:"Enter your full name",style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),y.jsxs("div",{style:{marginBottom:12},children:[y.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Email"}),y.jsx("input",{type:"email",name:"email",value:e.email,disabled:!0,style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #e5e7eb",background:"#f9fafb",fontSize:14,color:"#6b7280"}}),y.jsx("p",{style:{fontSize:11,color:"#9ca3af",marginTop:4},children:"Email is linked to your login."})]}),y.jsxs("div",{style:{marginBottom:12},children:[y.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:Q,disabled:!p,placeholder:"Enter your phone number",style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),y.jsxs("div",{style:{marginBottom:16},children:[y.jsx("label",{style:{fontSize:14,fontWeight:500,display:"block",marginBottom:4},children:"Date of Birth"}),y.jsx("input",{type:"date",name:"dob",value:e.dob,onChange:Q,disabled:!p,style:{width:"100%",padding:8,borderRadius:8,border:"1px solid #d1d5db",fontSize:14,background:p?"white":"#f9fafb"}})]}),y.jsxs("p",{style:{fontSize:12,color:"#9ca3af",marginBottom:16},children:["UID: ",r?.uid]}),p?y.jsxs("div",{style:{display:"flex",gap:8},children:[y.jsx("button",{type:"submit",disabled:g,style:{padding:"8px 16px",borderRadius:999,border:"none",fontSize:14,fontWeight:500,cursor:g?"not-allowed":"pointer",background:g?"#9ca3af":"#16a34a",color:"white"},children:g?"Saving...":"Save"}),y.jsx("button",{type:"button",onClick:q,disabled:g,style:{padding:"8px 16px",borderRadius:999,border:"1px solid #d1d5db",fontSize:14,fontWeight:500,cursor:g?"not-allowed":"pointer",background:"white",color:"#374151"},children:"Cancel"})]}):y.jsx("button",{type:"button",onClick:z,style:{padding:"8px 16px",borderRadius:999,border:"none",fontSize:14,fontWeight:500,cursor:"pointer",background:"#2563eb",color:"white"},children:"Edit Profile"})]})]})}function Zb({user:r}){const[e,n]=I.useState(""),[s,o]=I.useState(""),[u,h]=I.useState(""),[p,m]=I.useState(null),[g,E]=I.useState(!1),[T,R]=I.useState(null),[V,B]=I.useState(!1),Q=async()=>{if(m(null),!e||!s||!u){m("missing");return}if(s!==u){m("mismatch");return}if(!ka.currentUser){m("noUser");return}E(!0);try{const q=Ya.credential(r.email,e);await UC(ka.currentUser,q),await HC(ka.currentUser,s),m("success"),n(""),o(""),h("")}catch(q){console.error("Password change error:",q),q.code==="auth/wrong-password"?m("wrongpass"):m("error")}E(!1)},z=async()=>{if(R(null),!r?.email){R("noEmail");return}B(!0);try{await BC(ka,r.email),R("sent")}catch(q){console.error("Reset email error:",q),R("error")}B(!1)};return y.jsxs("div",{style:{background:"white",borderRadius:16,padding:20,border:"1px solid #e5e7eb",maxWidth:480},children:[y.jsx("h2",{style:{marginTop:0,marginBottom:16,fontSize:20,fontWeight:700,color:"#111827"},children:"Change Password"}),y.jsxs("div",{style:{marginBottom:24},children:[y.jsx("h3",{style:{fontSize:15,fontWeight:600,margin:0,marginBottom:10,color:"#111827"},children:"Change using old password"}),y.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"Old Password"}),y.jsx("input",{type:"password",value:e,onChange:q=>n(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:10,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),y.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"New Password"}),y.jsx("input",{type:"password",value:s,onChange:q=>o(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:10,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),y.jsx("label",{style:{fontSize:13,color:"#4b5563",display:"block",marginBottom:4},children:"Confirm New Password"}),y.jsx("input",{type:"password",value:u,onChange:q=>h(q.target.value),style:{width:"100%",padding:"8px 12px",marginBottom:14,borderRadius:8,border:"1px solid #d1d5db",fontSize:14}}),y.jsx("button",{onClick:Q,disabled:g,style:{width:"100%",padding:"10px",borderRadius:999,border:"none",background:"#5b21b6",color:"white",fontSize:15,fontWeight:600,cursor:"pointer",opacity:g?.7:1},children:g?"Updating...":"Update Password"}),p==="missing"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Please fill all fields."}),p==="mismatch"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"New passwords do not match."}),p==="wrongpass"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Old password is incorrect."}),p==="noUser"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"You are not logged in."}),p==="success"&&y.jsx("p",{style:{color:"#16a34a",marginTop:8,fontSize:13},children:"Password updated successfully!"}),p==="error"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Something went wrong. Please try again."})]}),y.jsx("hr",{style:{border:"none",borderTop:"1px solid #e5e7eb",marginBottom:16}}),y.jsxs("div",{children:[y.jsx("h3",{style:{fontSize:15,fontWeight:600,margin:0,marginBottom:8,color:"#111827"},children:"Forgot your password?"}),y.jsxs("p",{style:{fontSize:13,color:"#4b5563",marginBottom:10},children:["We can send a password reset link to"," ",y.jsx("strong",{children:r?.email}),"."]}),y.jsx("button",{onClick:z,disabled:V,style:{padding:"8px 14px",borderRadius:999,border:"1px solid #5b21b6",background:"white",color:"#5b21b6",fontSize:14,fontWeight:600,cursor:"pointer",opacity:V?.7:1},children:V?"Sending...":"Send reset email"}),T==="sent"&&y.jsx("p",{style:{color:"#16a34a",marginTop:8,fontSize:13},children:"Reset email sent. Please check your inbox."}),T==="noEmail"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"No email found for this account."}),T==="error"&&y.jsx("p",{style:{color:"#b91c1c",marginTop:8,fontSize:13},children:"Could not send reset email. Try again later."})]})]})}function e1({user:r}){const[e,n]=I.useState([]);I.useEffect(()=>{if(!r)return;const h=Pt(xe,"users",r.uid,"notifications"),p=Ii(h,Di("createdAt","desc")),m=Ni(p,g=>{const E=g.docs.map(T=>({id:T.id,...T.data()}));n(E)});return()=>m()},[r]);const s=async h=>{if(!(!r||!h))try{const p=_t(xe,"users",r.uid,"notifications",h);await Oa(p,{read:!0})}catch(p){console.error("Error marking notification as read:",p)}},o=async()=>{if(!(!r||e.length===0))try{const h=qT(xe);e.forEach(p=>{if(!p.read){const m=_t(xe,"users",r.uid,"notifications",p.id);h.update(m,{read:!0})}}),await h.commit()}catch(h){console.error("Error marking all as read:",h)}},u=e.filter(h=>!h.read).length;return y.jsxs("div",{style:{background:"white",borderRadius:16,padding:16,border:"1px solid #e5e7eb",height:"100%",display:"flex",flexDirection:"column"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[y.jsxs("div",{children:[y.jsx("h2",{style:{margin:0},children:"Notifications"}),y.jsx("p",{style:{fontSize:13,color:"#6b7280",margin:0},children:u>0?`${u} unread notification${u===1?"":"s"}`:"You are all caught up "})]}),e.length>0&&u>0&&y.jsx("button",{onClick:o,style:{padding:"6px 12px",borderRadius:999,border:"1px solid #e5e7eb",background:"white",fontSize:12,fontWeight:500,cursor:"pointer"},children:"Mark all as read"})]}),y.jsx("div",{style:{flex:1,overflowY:"auto",borderRadius:12,border:"1px solid #e5e7eb",background:"#f9fafb",padding:8},children:e.length===0?y.jsx("p",{style:{fontSize:13,color:"#9ca3af",textAlign:"center",marginTop:40},children:"No notifications yet. New lessons, announcements, and results will appear here."}):e.map(h=>{const p=h.createdAt?.toDate?.().toLocaleString()??"Just now";return y.jsxs("div",{onClick:()=>!h.read&&s(h.id),style:{padding:"10px 12px",marginBottom:6,borderRadius:10,background:h.read?"white":"#eef2ff",border:h.read?"1px solid #e5e7eb":"1px solid #6366f1",cursor:h.read?"default":"pointer"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:4,gap:6},children:[!h.read&&y.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#4f46e5",display:"inline-block"}}),y.jsx("span",{style:{fontSize:14,fontWeight:600,color:"#111827"},children:h.title||"Notification"})]}),h.body&&y.jsx("p",{style:{margin:0,fontSize:13,color:"#4b5563",marginBottom:4},children:h.body}),y.jsx("div",{style:{fontSize:11,color:"#9ca3af"},children:p})]},h.id)})})]})}function ZO(){const[r,e]=I.useState(null),[n,s]=I.useState(null),[o,u]=I.useState(!0);return I.useEffect(()=>{const h=ka.onAuthStateChanged(async p=>{try{if(p){e(p);const m=_t(xe,"users",p.uid),g=await Yr(m);let E="student";if(!g.exists())await ja(m,{email:p.email||"",role:E,name:"",avatarPath:null,createdAt:new Date},{merge:!0});else{const T=g.data();T.role&&(E=T.role)}s(E)}else e(null),s(null)}catch(m){console.error("Error in auth state listener:",m),e(null),s(null)}finally{u(!1)}});return()=>h()},[]),o?y.jsx("div",{style:{padding:20},children:"Loading..."}):y.jsxs(AA,{children:[y.jsx(Zt,{path:"/news",element:y.jsx(FO,{})}),y.jsx(Zt,{path:"/test",element:y.jsx("div",{children:"PUBLIC TEST"})}),y.jsx(Zt,{path:"/",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n==="instructor"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/admin",element:r?n!=="admin"?y.jsx(Ne,{to:"/",replace:!0}):y.jsx(si,{children:y.jsx(qO,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/login",element:r?y.jsx(Ne,{to:"/",replace:!0}):y.jsx(HO,{})}),y.jsx(Zt,{path:"/student",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(QO,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/student/profile",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(Jb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/student/change-password",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(Zb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/student/messages",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(Xb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/student/notifications",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(e1,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/courses/:courseId",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(WO,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/courses/:courseId/lessons/:lessonId",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="student"?y.jsx(Ne,{to:"/instructor",replace:!0}):y.jsx(si,{children:y.jsx(XO,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/instructor",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="instructor"?y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(si,{children:y.jsx(KO,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/instructor/profile",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="instructor"?y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(si,{children:y.jsx(Jb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/instructor/change-password",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="instructor"?y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(si,{children:y.jsx(Zb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/instructor/messages",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="instructor"?y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(si,{children:y.jsx(Xb,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"/instructor/notifications",element:r?n==="admin"?y.jsx(Ne,{to:"/admin",replace:!0}):n!=="instructor"?y.jsx(Ne,{to:"/student",replace:!0}):y.jsx(si,{children:y.jsx(e1,{user:r})}):y.jsx(Ne,{to:"/login",replace:!0})}),y.jsx(Zt,{path:"*",element:y.jsx(Ne,{to:"/",replace:!0})})]})}Mw.createRoot(document.getElementById("root")).render(y.jsx(Aw.StrictMode,{children:y.jsx(KA,{basename:"/learn",children:y.jsx(ZO,{})})}));
